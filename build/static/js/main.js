/*! For license information please see main.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://graphql.bitquery.io/test/",n(n.s=175)}([function(e,t,n){"use strict";e.exports=n(176)},function(e,t,n){"use strict";n.d(t,"S",(function(){return O})),n.d(t,"x",(function(){return k})),n.d(t,"R",(function(){return E})),n.d(t,"w",(function(){return S})),n.d(t,"N",(function(){return T})),n.d(t,"u",(function(){return C})),n.d(t,"H",(function(){return D})),n.d(t,"o",(function(){return A})),n.d(t,"T",(function(){return j})),n.d(t,"y",(function(){return N})),n.d(t,"E",(function(){return M})),n.d(t,"l",(function(){return I})),n.d(t,"F",(function(){return P})),n.d(t,"m",(function(){return L})),n.d(t,"J",(function(){return F})),n.d(t,"q",(function(){return R})),n.d(t,"L",(function(){return B})),n.d(t,"s",(function(){return z})),n.d(t,"G",(function(){return U})),n.d(t,"n",(function(){return H})),n.d(t,"O",(function(){return V})),n.d(t,"v",(function(){return W})),n.d(t,"I",(function(){return q})),n.d(t,"p",(function(){return G})),n.d(t,"D",(function(){return Y})),n.d(t,"k",(function(){return Q})),n.d(t,"C",(function(){return K})),n.d(t,"j",(function(){return X})),n.d(t,"d",(function(){return J})),n.d(t,"e",(function(){return $})),n.d(t,"U",(function(){return Z})),n.d(t,"z",(function(){return ee})),n.d(t,"M",(function(){return te})),n.d(t,"t",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"K",(function(){return ie})),n.d(t,"r",(function(){return oe})),n.d(t,"A",(function(){return ae})),n.d(t,"g",(function(){return le})),n.d(t,"f",(function(){return ce})),n.d(t,"i",(function(){return ve})),n.d(t,"P",(function(){return me})),n.d(t,"c",(function(){return ge})),n.d(t,"h",(function(){return ye})),n.d(t,"a",(function(){return _e})),n.d(t,"b",(function(){return xe})),n.d(t,"Q",(function(){return ke}));var r=n(46),i=n(22),o=n(4),a=n(31),s=n(49),u=n(35),l=n(9),c=n(44),f=n(42),d=n(34),h=n(27);function p(e){return e}var v=n(40),m=n(36),g=n(3),y=n(2),b=n(17),_=n(142);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function O(e){return E(e)||T(e)||D(e)||j(e)||M(e)||P(e)||F(e)||B(e)}function k(e){if(!O(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL type."));return e}function E(e){return Object(f.a)(e,le)}function S(e){if(!E(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Scalar type."));return e}function T(e){return Object(f.a)(e,ce)}function C(e){if(!T(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Object type."));return e}function D(e){return Object(f.a)(e,ge)}function A(e){if(!D(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Interface type."));return e}function j(e){return Object(f.a)(e,ye)}function N(e){if(!j(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Union type."));return e}function M(e){return Object(f.a)(e,_e)}function I(e){if(!M(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Enum type."));return e}function P(e){return Object(f.a)(e,xe)}function L(e){if(!P(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Input Object type."));return e}function F(e){return Object(f.a)(e,J)}function R(e){if(!F(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL List type."));return e}function B(e){return Object(f.a)(e,$)}function z(e){if(!B(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL Non-Null type."));return e}function U(e){return E(e)||M(e)||P(e)||Z(e)&&U(e.ofType)}function H(e){if(!U(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL input type."));return e}function V(e){return E(e)||T(e)||D(e)||j(e)||M(e)||Z(e)&&V(e.ofType)}function W(e){if(!V(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL output type."));return e}function q(e){return E(e)||M(e)}function G(e){if(!q(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL leaf type."));return e}function Y(e){return T(e)||D(e)||j(e)}function Q(e){if(!Y(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL composite type."));return e}function K(e){return D(e)||j(e)}function X(e){if(!K(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL abstract type."));return e}function J(e){if(!(this instanceof J))return new J(e);this.ofType=k(e)}function $(e){if(!(this instanceof $))return new $(e);this.ofType=ne(e)}function Z(e){return F(e)||B(e)}function ee(e){if(!Z(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL wrapping type."));return e}function te(e){return O(e)&&!B(e)}function ne(e){if(!te(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL nullable type."));return e}function re(e){if(e)return B(e)?e.ofType:e}function ie(e){return E(e)||T(e)||D(e)||j(e)||M(e)||P(e)}function oe(e){if(!ie(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL named type."));return e}function ae(e){if(e){for(var t=e;Z(t);)t=t.ofType;return t}}function se(e){return"function"===typeof e?e():e}function ue(e){return e&&e.length>0?e:void 0}J.prototype.toString=function(){return"["+String(this.ofType)+"]"},J.prototype.toJSON=function(){return this.toString()},Object.defineProperty(J.prototype,i.c,{get:function(){return"GraphQLList"}}),Object(v.a)(J),$.prototype.toString=function(){return String(this.ofType)+"!"},$.prototype.toJSON=function(){return this.toString()},Object.defineProperty($.prototype,i.c,{get:function(){return"GraphQLNonNull"}}),Object(v.a)($);var le=function(){function e(e){var t,n,r,i=null!==(t=e.parseValue)&&void 0!==t?t:p;this.name=e.name,this.description=e.description,this.specifiedByUrl=e.specifiedByUrl,this.serialize=null!==(n=e.serialize)&&void 0!==n?n:p,this.parseValue=i,this.parseLiteral=null!==(r=e.parseLiteral)&&void 0!==r?r:function(e){return i(Object(_.a)(e))},this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=ue(e.extensionASTNodes),"string"===typeof e.name||Object(l.a)(0,"Must provide name."),null==e.specifiedByUrl||"string"===typeof e.specifiedByUrl||Object(l.a)(0,"".concat(this.name,' must provide "specifiedByUrl" as a string, ')+"but got: ".concat(Object(o.a)(e.specifiedByUrl),".")),null==e.serialize||"function"===typeof e.serialize||Object(l.a)(0,"".concat(this.name,' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.')),e.parseLiteral&&("function"===typeof e.parseValue&&"function"===typeof e.parseLiteral||Object(l.a)(0,"".concat(this.name,' must provide both "parseValue" and "parseLiteral" functions.')))}var t=e.prototype;return t.toConfig=function(){var e;return{name:this.name,description:this.description,specifiedByUrl:this.specifiedByUrl,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:null!==(e=this.extensionASTNodes)&&void 0!==e?e:[]}},t.toString=function(){return this.name},t.toJSON=function(){return this.toString()},x(e,[{key:i.c,get:function(){return"GraphQLScalarType"}}]),e}();Object(v.a)(le);var ce=function(){function e(e){this.name=e.name,this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=ue(e.extensionASTNodes),this._fields=de.bind(void 0,e),this._interfaces=fe.bind(void 0,e),"string"===typeof e.name||Object(l.a)(0,"Must provide name."),null==e.isTypeOf||"function"===typeof e.isTypeOf||Object(l.a)(0,"".concat(this.name,' must provide "isTypeOf" as a function, ')+"but got: ".concat(Object(o.a)(e.isTypeOf),"."))}var t=e.prototype;return t.getFields=function(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields},t.getInterfaces=function(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces},t.toConfig=function(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:pe(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},t.toJSON=function(){return this.toString()},x(e,[{key:i.c,get:function(){return"GraphQLObjectType"}}]),e}();function fe(e){var t,n=null!==(t=se(e.interfaces))&&void 0!==t?t:[];return Array.isArray(n)||Object(l.a)(0,"".concat(e.name," interfaces must be an Array or a function which returns an Array.")),n}function de(e){var t=se(e.fields);return he(t)||Object(l.a)(0,"".concat(e.name," fields must be an object with field names as keys or a function which returns such an object.")),Object(s.a)(t,(function(t,n){var i;he(t)||Object(l.a)(0,"".concat(e.name,".").concat(n," field config must be an object.")),!("isDeprecated"in t)||Object(l.a)(0,"".concat(e.name,".").concat(n,' should provide "deprecationReason" instead of "isDeprecated".')),null==t.resolve||"function"===typeof t.resolve||Object(l.a)(0,"".concat(e.name,".").concat(n," field resolver must be a function if ")+"provided, but got: ".concat(Object(o.a)(t.resolve),"."));var a=null!==(i=t.args)&&void 0!==i?i:{};he(a)||Object(l.a)(0,"".concat(e.name,".").concat(n," args must be an object with argument names as keys."));var s=Object(r.a)(a).map((function(e){var t=e[0],n=e[1];return{name:t,description:n.description,type:n.type,defaultValue:n.defaultValue,extensions:n.extensions&&Object(u.a)(n.extensions),astNode:n.astNode}}));return{name:n,description:t.description,type:t.type,args:s,resolve:t.resolve,subscribe:t.subscribe,isDeprecated:null!=t.deprecationReason,deprecationReason:t.deprecationReason,extensions:t.extensions&&Object(u.a)(t.extensions),astNode:t.astNode}}))}function he(e){return Object(h.a)(e)&&!Array.isArray(e)}function pe(e){return Object(s.a)(e,(function(e){return{description:e.description,type:e.type,args:ve(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}}))}function ve(e){return Object(c.a)(e,(function(e){return e.name}),(function(e){return{description:e.description,type:e.type,defaultValue:e.defaultValue,extensions:e.extensions,astNode:e.astNode}}))}function me(e){return B(e.type)&&void 0===e.defaultValue}Object(v.a)(ce);var ge=function(){function e(e){this.name=e.name,this.description=e.description,this.resolveType=e.resolveType,this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=ue(e.extensionASTNodes),this._fields=de.bind(void 0,e),this._interfaces=fe.bind(void 0,e),"string"===typeof e.name||Object(l.a)(0,"Must provide name."),null==e.resolveType||"function"===typeof e.resolveType||Object(l.a)(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(Object(o.a)(e.resolveType),"."))}var t=e.prototype;return t.getFields=function(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields},t.getInterfaces=function(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces},t.toConfig=function(){var e;return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:pe(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:null!==(e=this.extensionASTNodes)&&void 0!==e?e:[]}},t.toString=function(){return this.name},t.toJSON=function(){return this.toString()},x(e,[{key:i.c,get:function(){return"GraphQLInterfaceType"}}]),e}();Object(v.a)(ge);var ye=function(){function e(e){this.name=e.name,this.description=e.description,this.resolveType=e.resolveType,this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=ue(e.extensionASTNodes),this._types=be.bind(void 0,e),"string"===typeof e.name||Object(l.a)(0,"Must provide name."),null==e.resolveType||"function"===typeof e.resolveType||Object(l.a)(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(Object(o.a)(e.resolveType),"."))}var t=e.prototype;return t.getTypes=function(){return"function"===typeof this._types&&(this._types=this._types()),this._types},t.toConfig=function(){var e;return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:null!==(e=this.extensionASTNodes)&&void 0!==e?e:[]}},t.toString=function(){return this.name},t.toJSON=function(){return this.toString()},x(e,[{key:i.c,get:function(){return"GraphQLUnionType"}}]),e}();function be(e){var t=se(e.types);return Array.isArray(t)||Object(l.a)(0,"Must provide Array of types or a function which returns such an array for Union ".concat(e.name,".")),t}Object(v.a)(ye);var _e=function(){function e(e){var t,n;this.name=e.name,this.description=e.description,this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=ue(e.extensionASTNodes),this._values=(t=this.name,he(n=e.values)||Object(l.a)(0,"".concat(t," values must be an object with value names as keys.")),Object(r.a)(n).map((function(e){var n=e[0],r=e[1];return he(r)||Object(l.a)(0,"".concat(t,".").concat(n,' must refer to an object with a "value" key ')+"representing an internal value but got: ".concat(Object(o.a)(r),".")),!("isDeprecated"in r)||Object(l.a)(0,"".concat(t,".").concat(n,' should provide "deprecationReason" instead of "isDeprecated".')),{name:n,description:r.description,value:void 0!==r.value?r.value:n,isDeprecated:null!=r.deprecationReason,deprecationReason:r.deprecationReason,extensions:r.extensions&&Object(u.a)(r.extensions),astNode:r.astNode}}))),this._valueLookup=new Map(this._values.map((function(e){return[e.value,e]}))),this._nameLookup=Object(a.a)(this._values,(function(e){return e.name})),"string"===typeof e.name||Object(l.a)(0,"Must provide name.")}var t=e.prototype;return t.getValues=function(){return this._values},t.getValue=function(e){return this._nameLookup[e]},t.serialize=function(e){var t=this._valueLookup.get(e);if(void 0===t)throw new g.a('Enum "'.concat(this.name,'" cannot represent value: ').concat(Object(o.a)(e)));return t.name},t.parseValue=function(e){if("string"!==typeof e){var t=Object(o.a)(e);throw new g.a('Enum "'.concat(this.name,'" cannot represent non-string value: ').concat(t,".")+we(this,t))}var n=this.getValue(e);if(null==n)throw new g.a('Value "'.concat(e,'" does not exist in "').concat(this.name,'" enum.')+we(this,e));return n.value},t.parseLiteral=function(e,t){if(e.kind!==y.a.ENUM){var n=Object(b.a)(e);throw new g.a('Enum "'.concat(this.name,'" cannot represent non-enum value: ').concat(n,".")+we(this,n),e)}var r=this.getValue(e.value);if(null==r){var i=Object(b.a)(e);throw new g.a('Value "'.concat(i,'" does not exist in "').concat(this.name,'" enum.')+we(this,i),e)}return r.value},t.toConfig=function(){var e,t=Object(c.a)(this.getValues(),(function(e){return e.name}),(function(e){return{description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}}));return{name:this.name,description:this.description,values:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:null!==(e=this.extensionASTNodes)&&void 0!==e?e:[]}},t.toString=function(){return this.name},t.toJSON=function(){return this.toString()},x(e,[{key:i.c,get:function(){return"GraphQLEnumType"}}]),e}();function we(e,t){var n=e.getValues().map((function(e){return e.name})),r=Object(m.a)(t,n);return Object(d.a)("the enum value",r)}Object(v.a)(_e);var xe=function(){function e(e){this.name=e.name,this.description=e.description,this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=ue(e.extensionASTNodes),this._fields=Oe.bind(void 0,e),"string"===typeof e.name||Object(l.a)(0,"Must provide name.")}var t=e.prototype;return t.getFields=function(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields},t.toConfig=function(){var e,t=Object(s.a)(this.getFields(),(function(e){return{description:e.description,type:e.type,defaultValue:e.defaultValue,extensions:e.extensions,astNode:e.astNode}}));return{name:this.name,description:this.description,fields:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:null!==(e=this.extensionASTNodes)&&void 0!==e?e:[]}},t.toString=function(){return this.name},t.toJSON=function(){return this.toString()},x(e,[{key:i.c,get:function(){return"GraphQLInputObjectType"}}]),e}();function Oe(e){var t=se(e.fields);return he(t)||Object(l.a)(0,"".concat(e.name," fields must be an object with field names as keys or a function which returns such an object.")),Object(s.a)(t,(function(t,n){return!("resolve"in t)||Object(l.a)(0,"".concat(e.name,".").concat(n," field has a resolve property, but Input Types cannot define resolvers.")),{name:n,description:t.description,type:t.type,defaultValue:t.defaultValue,extensions:t.extensions&&Object(u.a)(t.extensions),astNode:t.astNode}}))}function ke(e){return B(e.type)&&void 0===e.defaultValue}Object(v.a)(xe)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var r=n(27),i=n(22),o=n(68),a=n(86);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t="function"===typeof Map?new Map:void 0;return(f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function d(e,t,n){return(d=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i}).apply(null,arguments)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(f,e);var t,n,a,s=function(e){var t=h();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}(f);function f(e,t,n,i,a,u,d){var h,p,v,m,g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),g=s.call(this,e);var y,b=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,_=n;!_&&b&&(_=null===(y=b[0].loc)||void 0===y?void 0:y.source);var w,x=i;!x&&b&&(x=b.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),x&&0===x.length&&(x=void 0),i&&n?w=i.map((function(e){return Object(o.a)(n,e)})):b&&(w=b.reduce((function(e,t){return t.loc&&e.push(Object(o.a)(t.loc.source,t.loc.start)),e}),[]));var O=d;if(null==O&&null!=u){var k=u.extensions;Object(r.a)(k)&&(O=k)}return Object.defineProperties(c(g),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(h=w)&&void 0!==h?h:void 0,enumerable:null!=w},path:{value:null!==a&&void 0!==a?a:void 0,enumerable:null!=a},nodes:{value:null!==b&&void 0!==b?b:void 0},source:{value:null!==(p=_)&&void 0!==p?p:void 0},positions:{value:null!==(v=x)&&void 0!==v?v:void 0},originalError:{value:u},extensions:{value:null!==(m=O)&&void 0!==m?m:void 0,enumerable:null!=O}}),(null===u||void 0===u?void 0:u.stack)?(Object.defineProperty(c(g),"stack",{value:u.stack,writable:!0,configurable:!0}),l(g)):(Error.captureStackTrace?Error.captureStackTrace(c(g),f):Object.defineProperty(c(g),"stack",{value:Error().stack,writable:!0,configurable:!0}),g)}return t=f,(n=[{key:"toString",value:function(){return g(this)}},{key:i.c,get:function(){return"Object"}}])&&u(t.prototype,n),a&&u(t,a),f}(f(Error));function g(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+Object(a.a)(i.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var u=s[o];t+="\n\n"+Object(a.b)(e.source,u)}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(67);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return a(e,[])}function a(e,t){switch(i(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(r.a)];if("function"===typeof t)return t;if("function"===typeof e.inspect)return e.inspect}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"===typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"})},function(e,t,n){"use strict";n.r(t),n.d(t,"CharacterStream",(function(){return o})),n.d(t,"LexRules",(function(){return h})),n.d(t,"ParseRules",(function(){return p})),n.d(t,"isIgnored",(function(){return d})),n.d(t,"butNot",(function(){return u})),n.d(t,"list",(function(){return s})),n.d(t,"opt",(function(){return a})),n.d(t,"p",(function(){return c})),n.d(t,"t",(function(){return l})),n.d(t,"onlineParser",(function(){return g})),n.d(t,"AdditionalRuleKinds",(function(){return T})),n.d(t,"RuleKinds",(function(){return C}));var r=n(28),i=n(33),o=function(){function e(t){var n=this;Object(r.a)(this,e),this.getStartOfToken=function(){return n._start},this.getCurrentPosition=function(){return n._pos},this.eol=function(){return n._sourceText.length===n._pos},this.sol=function(){return 0===n._pos},this.peek=function(){return n._sourceText.charAt(n._pos)?n._sourceText.charAt(n._pos):null},this.next=function(){var e=n._sourceText.charAt(n._pos);return n._pos++,e},this.eat=function(e){if(n._testNextCharacter(e))return n._start=n._pos,n._pos++,n._sourceText.charAt(n._pos-1)},this.eatWhile=function(e){var t=n._testNextCharacter(e),r=!1;for(t&&(r=t,n._start=n._pos);t;)n._pos++,t=n._testNextCharacter(e),r=!0;return r},this.eatSpace=function(){return n.eatWhile(/[\s\u00a0]/)},this.skipToEnd=function(){n._pos=n._sourceText.length},this.skipTo=function(e){n._pos=e},this.match=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null,o=null;if("string"===typeof e){var a=new RegExp(e,r?"i":"g");o=a.test(n._sourceText.substr(n._pos,e.length)),i=e}else e instanceof RegExp&&(i=(o=n._sourceText.slice(n._pos).match(e))&&o[0]);return!(null==o||!("string"===typeof e||o instanceof Array&&n._sourceText.startsWith(o[0],n._pos)))&&(t&&(n._start=n._pos,i&&i.length&&(n._pos+=i.length)),o)},this.backUp=function(e){n._pos-=e},this.column=function(){return n._pos},this.indentation=function(){var e=n._sourceText.match(/\s*/),t=0;if(e&&0===e.length)for(var r=e[0],i=0;r.length>i;)9===r.charCodeAt(i)?t+=2:t++,i++;return t},this.current=function(){return n._sourceText.slice(n._start,n._pos)},this._start=0,this._pos=0,this._sourceText=t}return Object(i.a)(e,[{key:"_testNextCharacter",value:function(e){var t=this._sourceText.charAt(this._pos);return"string"===typeof e?t===e:e instanceof RegExp?e.test(t):e(t)}}]),e}();function a(e){return{ofRule:e}}function s(e,t){return{ofRule:e,isList:!0,separator:t}}function u(e,t){var n=e.match;return e.match=function(e){var r=!1;return n&&(r=n(e)),r&&t.every((function(t){return t.match&&!t.match(e)}))},e}function l(e,t){return{style:t,match:function(t){return t.kind===e}}}function c(e,t){return{style:t||"punctuation",match:function(t){return"Punctuation"===t.kind&&t.value===e}}}var f,d=function(e){return" "===e||"\t"===e||","===e||"\n"===e||"\r"===e||"\ufeff"===e||"\xa0"===e},h={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^(?:"""(?:\\"""|[^"]|"[^"]|""[^"])*(?:""")?|"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?)/,Comment:/^#.*/},p={Document:[s("Definition")],Definition:function(e){switch(e.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return"FragmentDefinition";case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[v("query"),a(m("def")),a("VariableDefinitions"),s("Directive"),"SelectionSet"],Mutation:[v("mutation"),a(m("def")),a("VariableDefinitions"),s("Directive"),"SelectionSet"],Subscription:[v("subscription"),a(m("def")),a("VariableDefinitions"),s("Directive"),"SelectionSet"],VariableDefinitions:[c("("),s("VariableDefinition"),c(")")],VariableDefinition:["Variable",c(":"),"Type",a("DefaultValue")],Variable:[c("$","variable"),m("variable")],DefaultValue:[c("="),"Value"],SelectionSet:[c("{"),s("Selection"),c("}")],Selection:function(e,t){return"..."===e.value?t.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":t.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[m("property"),c(":"),m("qualifier"),a("Arguments"),s("Directive"),a("SelectionSet")],Field:[m("property"),a("Arguments"),s("Directive"),a("SelectionSet")],Arguments:[c("("),s("Argument"),c(")")],Argument:[m("attribute"),c(":"),"Value"],FragmentSpread:[c("..."),m("def"),s("Directive")],InlineFragment:[c("..."),a("TypeCondition"),s("Directive"),"SelectionSet"],FragmentDefinition:[v("fragment"),a(u(m("def"),[v("on")])),"TypeCondition",s("Directive"),"SelectionSet"],TypeCondition:[v("on"),"NamedType"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable"}return null;case"Name":switch(e.value){case"true":case"false":return"BooleanValue"}return"null"===e.value?"NullValue":"EnumValue"}},NumberValue:[l("Number","number")],StringValue:[l("String","string")],BooleanValue:[l("Name","builtin")],NullValue:[l("Name","keyword")],EnumValue:[m("string-2")],ListValue:[c("["),s("Value"),c("]")],ObjectValue:[c("{"),s("ObjectField"),c("}")],ObjectField:[m("attribute"),c(":"),"Value"],Type:function(e){return"["===e.value?"ListType":"NonNullType"},ListType:[c("["),"Type",c("]"),a(c("!"))],NonNullType:["NamedType",a(c("!"))],NamedType:[(f="atom",{style:f,match:function(e){return"Name"===e.kind},update:function(e,t){e.prevState&&e.prevState.prevState&&(e.name=t.value,e.prevState.prevState.type=t.value)}})],Directive:[c("@","meta"),m("meta"),a("Arguments")],SchemaDef:[v("schema"),s("Directive"),c("{"),s("OperationTypeDef"),c("}")],OperationTypeDef:[m("keyword"),c(":"),m("atom")],ScalarDef:[v("scalar"),m("atom"),s("Directive")],ObjectTypeDef:[v("type"),m("atom"),a("Implements"),s("Directive"),c("{"),s("FieldDef"),c("}")],Implements:[v("implements"),s("NamedType")],FieldDef:[m("property"),a("ArgumentsDef"),c(":"),"Type",s("Directive")],ArgumentsDef:[c("("),s("InputValueDef"),c(")")],InputValueDef:[m("attribute"),c(":"),"Type",a("DefaultValue"),s("Directive")],InterfaceDef:[v("interface"),m("atom"),s("Directive"),c("{"),s("FieldDef"),c("}")],UnionDef:[v("union"),m("atom"),s("Directive"),c("="),s("UnionMember",c("|"))],UnionMember:["NamedType"],EnumDef:[v("enum"),m("atom"),s("Directive"),c("{"),s("EnumValueDef"),c("}")],EnumValueDef:[m("string-2"),s("Directive")],InputDef:[v("input"),m("atom"),s("Directive"),c("{"),s("InputValueDef"),c("}")],ExtendDef:[v("extend"),"ObjectTypeDef"],DirectiveDef:[v("directive"),c("@","meta"),m("meta"),a("ArgumentsDef"),v("on"),s("DirectiveLocation",c("|"))],DirectiveLocation:[m("string-2")]};function v(e){return{style:"keyword",match:function(t){return"Name"===t.kind&&t.value===e}}}function m(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,t){e.name=t.value}}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eatWhitespace:function(e){return e.eatWhile(d)},lexRules:h,parseRules:p,editorConfig:{}};return{startState:function(){var t={level:0,step:0,name:null,kind:null,type:null,rule:null,needsSeperator:!1,prevState:null};return w(e.parseRules,t,"Document"),t},token:function(t,n){return y(t,n,e)}}}function y(e,t,n){var r=n.lexRules,i=n.parseRules,o=n.eatWhitespace,a=n.editorConfig;if(t.rule&&0===t.rule.length?x(t):t.needsAdvance&&(t.needsAdvance=!1,O(t,!0)),e.sol()){var s=a&&a.tabSize||2;t.indentLevel=Math.floor(e.indentation()/s)}if(o(e))return"ws";var u=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=t.match(e[n[r]]);if(i&&i instanceof Array)return{kind:n[r],value:i[0]}}}(r,e);if(!u)return e.match(/\S+/)||e.match(/\s/),w(_,t,"Invalid"),"invalidchar";if("Comment"===u.kind)return w(_,t,"Comment"),"comment";var l=b({},t);if("Punctuation"===u.kind)if(/^[{([]/.test(u.value))void 0!==t.indentLevel&&(t.levels=(t.levels||[]).concat(t.indentLevel+1));else if(/^[})\]]/.test(u.value)){var c=t.levels=(t.levels||[]).slice(0,-1);t.indentLevel&&c.length>0&&c[c.length-1]<t.indentLevel&&(t.indentLevel=c[c.length-1])}for(;t.rule;){var f="function"===typeof t.rule?0===t.step?t.rule(u,e):null:t.rule[t.step];if(t.needsSeperator&&(f=f&&f.separator),f){if(f.ofRule&&(f=f.ofRule),"string"===typeof f){w(i,t,f);continue}if(f.match&&f.match(u))return f.update&&f.update(t,u),"Punctuation"===u.kind?O(t,!0):t.needsAdvance=!0,f.style}E(t)}return b(t,l),w(_,t,"Invalid"),"invalidchar"}function b(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}var _={Invalid:[],Comment:[]};function w(e,t,n){if(!e[n])throw new TypeError("Unknown rule: "+n);t.prevState=Object.assign({},t),t.kind=n,t.name=null,t.type=null,t.rule=e[n],t.step=0,t.needsSeperator=!1}function x(e){e.prevState&&(e.kind=e.prevState.kind,e.name=e.prevState.name,e.type=e.prevState.type,e.rule=e.prevState.rule,e.step=e.prevState.step,e.needsSeperator=e.prevState.needsSeperator,e.prevState=e.prevState.prevState)}function O(e,t){if(k(e)&&e.rule){var n=e.rule[e.step];if(n.separator){var r=n.separator;if(e.needsSeperator=!e.needsSeperator,!e.needsSeperator&&r.ofRule)return}if(t)return}for(e.needsSeperator=!1,e.step++;e.rule&&!(Array.isArray(e.rule)&&e.step<e.rule.length);)x(e),e.rule&&(k(e)?e.rule&&e.rule[e.step].separator&&(e.needsSeperator=!e.needsSeperator):(e.needsSeperator=!1,e.step++))}function k(e){var t=Array.isArray(e.rule)&&"string"!==typeof e.rule[e.step]&&e.rule[e.step];return t&&t.isList}function E(e){for(;e.rule&&(!Array.isArray(e.rule)||!e.rule[e.step].ofRule);)x(e);e.rule&&O(e,!1)}var S=n(2),T={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",DIRECTIVE_DEF:"DirectiveDef"},C=Object.assign(Object.assign({},S.a),T)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Qe})),n.d(t,"b",(function(){return et})),n.d(t,"c",(function(){return ne})),n.d(t,"d",(function(){return lt})),n.d(t,"e",(function(){return ct})),n.d(t,"f",(function(){return It})),n.d(t,"g",(function(){return te})),n.d(t,"h",(function(){return nt})),n.d(t,"i",(function(){return _t}));function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/mobx6/src/errors.ts":"[MobX] "+e)}function i(){return"undefined"!==typeof e?e:window}var o=Object.assign,a=Object.getOwnPropertyDescriptor,s=Object.defineProperty,u=Object.prototype,l=[];Object.freeze(l);var c={};Object.freeze(c);var f="undefined"!==typeof Proxy,d=Object.toString();function h(){f||r("Proxy not available")}function p(){return++Ue.mobxGuid}function v(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var m=function(){};function g(e){return"function"===typeof e}function y(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function b(e){return null!==e&&"object"===typeof e}function _(e){var t;if(!b(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===d}function w(e){var t=null===e||void 0===e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function x(e,t,n){s(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function O(e,t,n){s(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function k(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return b(e)&&!0===e[n]}}function E(e){return e instanceof Map}function S(e){return e instanceof Set}var T="undefined"!==typeof Object.getOwnPropertySymbols;function C(e){var t=Object.keys(e);if(!T)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return u.propertyIsEnumerable.call(e,t)}))):t}var D="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:T?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function A(e){return"string"===typeof e?e:"symbol"===typeof e?e.toString():new String(e).toString()}function j(e){return null===e?null:"object"===typeof e?""+e:e}function N(e,t){return u.hasOwnProperty.call(e,t)}var M=Object.getOwnPropertyDescriptors||function(e){var t={};return D(e).forEach((function(n){t[n]=a(e,n)})),t},I=Symbol("mobx-decorators"),P=Symbol("mobx-applied-decorators");function L(e){return o((function(t,n){void 0===n?F(e,t):R(t,n,e)}),{annotationType_:e})}function F(e,t){return o((function(n,r){R(n,r,e,t)}),{annotationType_:e,arg_:t})}function R(e,t,n,r){var i,o=a(e,I);o?i=o.value:x(e,I,i={}),i[t]={annotationType_:n,arg_:r}}var B=Symbol("mobx administration"),z=function(){function e(e){void 0===e&&(e="Atom@"+p()),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=xe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Ye(this)},t.reportChanged=function(){qe(),function(e){if(e.lowestObserverState_===xe.STALE_)return;e.lowestObserverState_=xe.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===xe.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=xe.STALE_}))}(this),Ge()},t.toString=function(){return this.name_},e}(),U=k("Atom",z);function H(e,t,n){void 0===t&&(t=m),void 0===n&&(n=m);var r,i=new z(e);return t!==m&&ut("onBO",i,t,r),n!==m&&st(i,n),i}var V,W={identity:function(e,t){return e===t},structural:function(e,t){return xn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return xn(e,t,1)}};function q(e,t,n){return gt(e)?e:Array.isArray(e)?te.array(e,{name:n}):_(e)?te.object(e,void 0,{name:n}):E(e)?te.map(e,{name:n}):S(e)?te.set(e,{name:n}):e}function G(e){return e}var Y={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Q(e){return e||Y}function K(e){return!0===e.deep?q:!1===e.deep?G:J(e.defaultDecorator)}Object.freeze(Y);var X=((V={}).observable=q,V["observable.ref"]=G,V["observable.shallow"]=function(e,t,n){return void 0===e||null===e||ln(e)||Yt(e)||Zt(e)||nn(e)?e:Array.isArray(e)?te.array(e,{name:n,deep:!1}):_(e)?te.object(e,void 0,{name:n,deep:!1}):E(e)?te.map(e,{name:n,deep:!1}):S(e)?te.set(e,{name:n,deep:!1}):void 0},V["observable.struct"]=function(e,t){return xn(e,t)?t:e},V);function J(e){var t;return e?null!==(t=X[e.annotationType_])&&void 0!==t?t:r(12):q}function $(e,t,n){if(!y(t)){if(gt(e))return e;var r=_(e)?te.object(e,t,n):Array.isArray(e)?te.array(e,t):E(e)?te.map(e,t):S(e)?te.set(e,t):e;return r!==e?r:te.box(e)}R(e,t,"observable")}$.annotationType_="observable";var Z,ee,te=o($,{box:function(e,t){var n=Q(t);return new _e(e,K(n),n.name,!0,n.equals)},array:function(e,t){var n=Q(t);return(!1===Ue.useProxies||!1===n.proxy?gn:Rt)(e,K(n),n.name)},map:function(e,t){var n=Q(t);return new $t(e,K(n),n.name)},set:function(e,t){var n=Q(t);return new tn(e,K(n),n.name)},object:function(e,t,n){var r=Q(n),i={};return on(i,null===n||void 0===n?void 0:n.name,K(r)),function(e,t,n,r){0;var i=Q(r),o=on(e,i.name,K(i));qe();try{var a=M(t);C(a).forEach((function(t){Mt(o,e,t,a[t],!n||(!(t in n)||n[t]),!0,!!(null===r||void 0===r?void 0:r.autoBind))}))}finally{Ge()}return e}(!1===Ue.useProxies||!1===r.proxy?i:function(e){h();var t=new Proxy(e,kt);return e[B].proxy_=t,t}(i),e,t,n)},ref:L("observable.ref"),shallow:L("observable.shallow"),deep:L("observable"),struct:L("observable.struct")}),ne=function(e,t,n){if(y(t))return R(e,t,"computed");if(_(e))return F("computed",e);var r=_(t)?t:{};return r.get=e,r.name=r.name||e.name||"",new ke(r)};ne.annotationType_="computed",ne.struct=o((function(e,t){R(e,t,"computed.struct")}),{annotationType_:"computed.struct"});var re,ie=0,oe=1,ae=null!==(Z=null===(ee=a((function(){}),"name"))||void 0===ee?void 0:ee.configurable)&&void 0!==Z&&Z,se={value:"action",configurable:!0,writable:!1,enumerable:!1};function ue(e,t,n,r){function i(){return le(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,ae&&(se.value=e,Object.defineProperty(i,"name",se)),i}function le(e,t,n,i,o){var a=function(e,t,n,r){0;var i=Ue.trackingDerivation,o=!t||!i;qe();var a=Ue.allowStateChanges;o&&(Me(),a=ce(!0));var s=Pe(!0),u={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:!1,startTime_:0,actionId_:oe++,parentActionId_:ie};return ie=u.actionId_,u}(0,t);try{return n.apply(i,o)}catch(s){throw a.error_=s,s}finally{!function(e){ie!==e.actionId_&&r(30);ie=e.parentActionId_,void 0!==e.error_&&(Ue.suppressReactionErrors=!0);fe(e.prevAllowStateChanges_),Le(e.prevAllowStateReads_),Ge(),e.runAsAction_&&Ie(e.prevDerivation_);0;Ue.suppressReactionErrors=!1}(a)}}function ce(e){var t=Ue.allowStateChanges;return Ue.allowStateChanges=e,t}function fe(e){Ue.allowStateChanges=e}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),e}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}re=Symbol.toPrimitive;var be,_e=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue@"+p()),void 0===i&&(i=!0),void 0===o&&(o=W.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}ve(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Ue.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(De(this),Et(this)){var t=Tt(this,{object:this,type:Pt,newValue:e});if(!t)return Ue.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Ue.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Ct(this)&&At(this,{type:Pt,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return St(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Pt,newValue:this.value_,oldValue:void 0}),Dt(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return j(this.get())},n[re]=function(){return this.valueOf()},t}(z),we=k("ObservableValue",_e);be=Symbol.toPrimitive;var xe,Oe,ke=function(){function e(e){this.dependenciesState_=xe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=xe.UP_TO_DATE_,this.unboundDepsCount_=0,this.mapid_="#"+p(),this.value_=new Se(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Oe.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue@"+p(),e.set&&(this.setter_=ue(this.name_+"-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?W.structural:W.default),this.scope_=e.context,this.requiresReaction_=!!e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==xe.UP_TO_DATE_)return;e.lowestObserverState_=xe.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===xe.UP_TO_DATE_&&(e.dependenciesState_=xe.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==Ue.inBatch||0!==this.observers_.size||this.keepAlive_){if(Ye(this),Ce(this)){var e=Ue.trackingContext;this.keepAlive_&&!e&&(Ue.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===xe.STALE_)return;e.lowestObserverState_=xe.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===xe.POSSIBLY_STALE_?t.dependenciesState_=xe.STALE_:t.dependenciesState_===xe.UP_TO_DATE_&&(e.lowestObserverState_=xe.UP_TO_DATE_)}))}(this),Ue.trackingContext=e}}else Ce(this)&&(this.warnAboutUntrackedRead_(),qe(),this.value_=this.computeValue_(!1),Ge());var t=this.value_;if(Te(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===xe.NOT_TRACKING_,n=this.computeValue_(!0);var r=t||Te(e)||Te(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=ce(!1);if(e)t=Ae(this,this.derivation,this.scope_);else if(!0===Ue.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(r){t=new Se(r)}return fe(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(je(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return it((function(){var o=n.get();if(!r||t){var a=Me();e({observableKind:"computed",debugObjectName:n.name_,type:Pt,object:n,newValue:o,oldValue:i}),Ie(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return j(this.get())},t[be]=function(){return this.valueOf()},e}(),Ee=k("ComputedValue",ke);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(xe||(xe={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Oe||(Oe={}));var Se=function(e){this.cause=void 0,this.cause=e};function Te(e){return e instanceof Se}function Ce(e){switch(e.dependenciesState_){case xe.UP_TO_DATE_:return!1;case xe.NOT_TRACKING_:case xe.STALE_:return!0;case xe.POSSIBLY_STALE_:for(var t=Pe(!0),n=Me(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(Ee(a)){if(Ue.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Ie(n),Le(t),!0}if(e.dependenciesState_===xe.STALE_)return Ie(n),Le(t),!0}}return Fe(e),Ie(n),Le(t),!1}}function De(e){}function Ae(e,t,n){var r=Pe(!0);Fe(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Ue.runId;var i,o=Ue.trackingDerivation;if(Ue.trackingDerivation=e,Ue.inBatch++,!0===Ue.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(a){i=new Se(a)}return Ue.inBatch--,Ue.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=xe.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var u=t[o];0===u.diffValue_&&Ve(u,e),u.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,He(l,e))}r!==xe.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),Le(r),i}function je(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Ve(t[n],e);e.dependenciesState_=xe.NOT_TRACKING_}function Ne(e){var t=Me();try{return e()}finally{Ie(t)}}function Me(){var e=Ue.trackingDerivation;return Ue.trackingDerivation=null,e}function Ie(e){Ue.trackingDerivation=e}function Pe(e){var t=Ue.allowStateReads;return Ue.allowStateReads=e,t}function Le(e){Ue.allowStateReads=e}function Fe(e){if(e.dependenciesState_!==xe.UP_TO_DATE_){e.dependenciesState_=xe.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=xe.UP_TO_DATE_}}var Re=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1},Be=!0,ze=!1,Ue=function(){var e=i();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Be=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Re).version&&(Be=!1),Be?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Re):(setTimeout((function(){ze||r(35)}),1),new Re)}();function He(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Ve(e,t){e.observers_.delete(t),0===e.observers_.size&&We(e)}function We(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Ue.pendingUnobservations.push(e))}function qe(){Ue.inBatch++}function Ge(){if(0===--Ue.inBatch){Xe();for(var e=Ue.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ke&&n.suspend_())}Ue.pendingUnobservations=[]}}function Ye(e){var t=Ue.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Ue.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&Ue.inBatch>0&&We(e),!1)}var Qe=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+p()),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=xe.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.mapid_="#"+p(),this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Oe.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ue.pendingReactions.push(this),Xe())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){if(qe(),this.isScheduled_=!1,Ce(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ge()}},t.track=function(e){if(!this.isDisposed_){qe();0,this.isRunning_=!0;var t=Ue.trackingContext;Ue.trackingContext=this;var n=Ae(this,e,void 0);Ue.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&je(this),Te(n)&&this.reportExceptionInDerivation_(n.cause),Ge()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Ue.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Ue.suppressReactionErrors||console.error(n,e),Ue.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(qe(),je(this),Ge()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[B]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){r("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"boolean"===typeof n[n.length-1]&&(e=n.pop());var o=wt(n);if(!o)return r("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Oe.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled");o.isTracing_=e?Oe.BREAK:Oe.LOG}(this,e)},e}();var Ke=function(e){return e()};function Xe(){Ue.inBatch>0||Ue.isRunningReactions||Ke(Je)}function Je(){Ue.isRunningReactions=!0;for(var e=Ue.pendingReactions,t=0;e.length>0;){100===++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ue.isRunningReactions=!1}var $e=k("Reaction",Qe);function Ze(e,t){var n=function(n,r){return g(n)?ue(n.name||"<unnamed action>",n,e):g(r)?ue(n,r,e):y(r)?R(n,r,t):y(n)?F(t,n):void 0};return n.annotationType_=t,n}var et=Ze(!1,"action"),tt=Ze(!0,"autoAction");function nt(e){return le(e.name,!1,e,this,void 0)}function rt(e){return g(e)&&!0===e.isMobxAction}function it(e,t){void 0===t&&(t=c);var n,r=t&&t.name||e.name||"Autorun@"+p();if(!t.scheduler&&!t.delay)n=new Qe(r,(function(){this.track(a)}),t.onError,t.requiresObservable);else{var i=at(t),o=!1;n=new Qe(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed_||n.track(a)})))}),t.onError,t.requiresObservable)}function a(){e(n)}return n.schedule_(),n.getDisposer_()}et.bound=L("action.bound"),tt.bound=L("autoAction.bound");var ot=function(e){return e()};function at(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ot}function st(e,t,n){return ut("onBUO",e,t,n)}function ut(e,t,n,r){var i="function"===typeof r?yn(t,n):yn(t),o=g(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}function lt(e){!0===e.isolateGlobalState&&function(){if((Ue.pendingReactions.length||Ue.inBatch||Ue.isRunningReactions)&&r(36),ze=!0,Be){var e=i();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ue=new Re}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Ue.useProxies="always"===t||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(Ue.verifyProxies=!0),void 0!==n){var o="always"===n?"always":"observed"===n;Ue.enforceActions=o,Ue.allowStateChanges=!0!==o&&"always"!==o}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries"].forEach((function(t){t in e&&(Ue[t]=!!e[t])})),Ue.allowStateReads=!Ue.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Ke;Ke=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function ct(e,t){return ft(yn(e,t))}function ft(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(ft)),n}var dt=0;function ht(){this.message="FLOW_CANCELLED"}ht.prototype=Object.create(Error.prototype);var pt=Object.assign((function(e,t){if(y(t))return R(e,t,"flow");var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++dt,a=et(r+" - runid: "+o+" - init",n).apply(t,i),s=void 0,u=new Promise((function(t,n){var i=0;function u(e){var t;s=void 0;try{t=et(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(u){return n(u)}c(t)}function l(e){var t;s=void 0;try{t=et(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(u){return n(u)}c(t)}function c(e){if(!g(null===e||void 0===e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(u,l);e.then(c,n)}e=n,u(void 0)}));return u.cancel=et(r+" - runid: "+o+" - cancel",(function(){try{s&&vt(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(m,m),vt(n),e(new ht)}catch(r){e(r)}})),u};return i.isMobXFlow=!0,i}),{annotationType_:"flow"});function vt(e){g(e.cancel)&&e.cancel()}function mt(e,t){return!!e&&(void 0!==t?!!ln(e)&&e[B].values_.has(t):ln(e)||!!e[B]||U(e)||$e(e)||Ee(e))}function gt(e){return mt(e)}function yt(e){return ln(e)?e[B].getKeys_():Zt(e)||nn(e)?Array.from(e.keys()):Yt(e)?e.map((function(e,t){return t})):void r(5)}function bt(e,t,n){return e.set(t,n),n}function _t(e,t){return function e(t,n){if(null==t||"object"!==typeof t||t instanceof Date||!gt(t))return t;if(we(t))return e(t.get(),n);if(n.has(t))return n.get(t);if(Yt(t)){var r=bt(n,t,new Array(t.length));return t.forEach((function(t,i){r[i]=e(t,n)})),r}if(nn(t)){var i=bt(n,t,new Set);return t.forEach((function(t){i.add(e(t,n))})),i}if(Zt(t)){var o=bt(n,t,new Map);return t.forEach((function(t,r){o.set(r,e(t,n))})),o}yt(t);var a=bt(n,t,{});return C(t).forEach((function(r){a[r]=e(t[r],n)})),a}(e,new Map)}function wt(e){switch(e.length){case 0:return Ue.trackingDerivation;case 1:return yn(e[0]);case 2:return yn(e[0],e[1])}}function xt(e,t){void 0===t&&(t=void 0),qe();try{return e.apply(t)}finally{Ge()}}function Ot(e){return e[B]}var kt={has:function(e,t){if(t===B||"constructor"===t)return!0;var n=Ot(e);return y(t)?n.has_(t):t in e},get:function(e,t){if(t===B||"constructor"===t)return e[t];var n=Ot(e),r=n.values_.get(t);if(r instanceof z){var i=r.get();return void 0===i&&n.has_(t),i}return y(t)&&n.has_(t),e[t]},set:function(e,t,n){return!!y(t)&&(function e(t,n,i){if(2!==arguments.length||nn(t))if(ln(t)){var o=t[B],a=o.values_.get(n);a?o.write_(n,i):o.addObservableProp_(n,i,o.defaultEnhancer_)}else Zt(t)?t.set(n,i):nn(t)?t.add(n):Yt(t)?("number"!==typeof n&&(n=parseInt(n,10)),n<0&&r("Invalid index: '"+n+"'"),qe(),n>=t.length&&(t.length=n+1),t[n]=i,Ge()):r(8);else{qe();var s=n;try{for(var u in s)e(t,u,s[u])}finally{Ge()}}}(e,t,n),!0)},deleteProperty:function(e,t){return!!y(t)&&(Ot(e).remove_(t),!0)},ownKeys:function(e){return Ot(e).keysAtom_.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){r(13)}};function Et(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function St(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),v((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Tt(e,t){var n=Me();try{for(var i=[].concat(e.interceptors_||[]),o=0,a=i.length;o<a&&((t=i[o](t))&&!t.type&&r(14),t);o++);return t}finally{Ie(n)}}function Ct(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Dt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),v((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function At(e,t){var n=Me(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);Ie(n)}}function jt(e,t,n,r,i){x(e,t,i?tt(n||t,r):et(n||t,r))}function Nt(e,t,n){return e.get?ne:!e.set&&(g(e.value)?w(e.value)?pt:!rt(e.value)&&(n?tt.bound:tt):null!==t&&void 0!==t?t:te.deep)}function Mt(e,t,n,i,o,a,u){var l=e.target_,c=o;if(!0===o&&(o=Nt(i,te,u)),!1!==o){if(!o||!0===o||!o.annotationType_)return r(2,n);var f=o.annotationType_;switch(f){case"autoAction":case"action":var d=i.value;g(d)||r(3,n),t===l||a?jt(l,n,o.arg_,d,"autoAction"===f):rt(t[n])||jt(t,n,o.arg_,d,"autoAction"===f);break;case"autoAction.bound":case"action.bound":var h=i.value;g(h)||r(3,n),jt(l,n,o.arg_,h.bind(e.proxy_||l),"autoAction.bound"===f);break;case"flow":t===l||a?x(l,n,pt(i.value)):function(e){return!0===(null===e||void 0===e?void 0:e.isMobXFlow)}(t[n])||x(t,n,pt(i.value));break;case"computed":case"computed.struct":i.get||r(4,n),e.addComputedProp_(l,n,pe({get:i.get,set:i.set,compareStructural:"computed.struct"===o.annotationType_},o.arg_));break;case"observable":case"observable.ref":case"observable.shallow":case"observable.struct":0;var p=!0===c?e.defaultEnhancer_:J(o);e.addObservableProp_(n,i.value,p);break;default:0}}else a&&s(l,n,i)}function It(e,t,n){var i=!!(null===n||void 0===n?void 0:n.autoBind),o=on(e,null===n||void 0===n?void 0:n.name,J(null===n||void 0===n?void 0:n.defaultDecorator));qe();try{if(!t){(function(e){if(e[P])return!0;for(var t=e,n=[];t&&t!==u;){var r=a(t,I);if(r){if(!n.length)for(var i in r.value)if(!N(e,i)&&!N(t,i))return!0;n.unshift(r.value)}t=Object.getPrototypeOf(t)}n.forEach((function(t){It(e,t)})),x(e,P,!0),n.length})(e);return e}D(t).forEach((function(n){var s=t[n],l=function(e,t){for(var n=e;n&&n!==u;){var i=a(n,t);if(i)return[i,n];n=Object.getPrototypeOf(n)}r(1,t)}(e,n),c=l[0],f=l[1];Mt(o,f,n,c,s,!1,i)}))}finally{Ge()}return e}var Pt="update",Lt={get:function(e,t){var n=e[B];return t===B?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?N(Bt,t)?Bt[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[B];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},Ft=function(){function e(e,t,n,r){this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new z(e||"ObservableArray@"+p()),this.enhancer_=function(n,r){return t(n,r,e+"[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return St(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Dt(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&mn(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=l),Et(this)){var o=Tt(this,{object:this.proxy_,type:"splice",index:e,removedCount:t,added:n});if(!o)return l;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length=e+n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Ct(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Pt,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&At(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Ct(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&At(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var i=n[e];if(Et(this)){var o=Tt(this,{type:Pt,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else e===n.length?this.spliceWithArray_(e,0,[t]):r(17,e,n.length)},e}();function Rt(e,t,n,r){void 0===n&&(n="ObservableArray@"+p()),void 0===r&&(r=!1),h();var i=new Ft(n,t,r,!1);O(i.values_,B,i);var o=new Proxy(i.values_,Lt);if(i.proxy_=o,e&&e.length){var a=ce(!0);i.spliceWithArray_(0,0,e),fe(a)}return o}var Bt={clear:function(){return this.splice(0)},replace:function(e){var t=this[B];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[B];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[B].spliceWithArray_(e,t,n)},push:function(){for(var e=this[B],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[B].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[B],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Ue.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ue.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[B],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function zt(e,t){"function"===typeof Array.prototype[e]&&(Bt[e]=t(e))}function Ut(e){return function(){var t=this[B];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Ht(e){return function(t,n){var r=this,i=this[B];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Vt(e){return function(){var t=this,n=this[B];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}zt("concat",Ut),zt("flat",Ut),zt("includes",Ut),zt("indexOf",Ut),zt("join",Ut),zt("lastIndexOf",Ut),zt("slice",Ut),zt("toString",Ut),zt("toLocaleString",Ut),zt("every",Ht),zt("filter",Ht),zt("find",Ht),zt("findIndex",Ht),zt("flatMap",Ht),zt("forEach",Ht),zt("map",Ht),zt("some",Ht),zt("reduce",Vt),zt("reduceRight",Vt);var Wt,qt,Gt=k("ObservableArrayAdministration",Ft);function Yt(e){return b(e)&&Gt(e[B])}var Qt={},Kt="add";Wt=Symbol.iterator,qt=Symbol.toStringTag;var Xt,Jt,$t=function(){function e(e,t,n){void 0===t&&(t=q),void 0===n&&(n="ObservableMap@"+p()),this.enhancer_=void 0,this.name_=void 0,this[B]=Qt,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,g(Map)||r(18),this.keysAtom_=H(this.name_+".keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(e)}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Ue.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new _e(this.has_(e),G,this.name_+"."+A(e)+"?",!1);this.hasMap_.set(e,r),st(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Et(this)){var r=Tt(this,{type:n?Pt:Kt,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Et(this))&&!Tt(this,{type:"delete",object:this,name:e}))return!1;if(this.has_(e)){var n=Ct(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(e).value_,name:e}:null;return xt((function(){t.keysAtom_.reportChanged(),t.updateHasMapEntry_(e,!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&At(this,r),!0}return!1},t.updateHasMapEntry_=function(e,t){var n=this.hasMap_.get(e);n&&n.setNewValue_(t)},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Ue.UNCHANGED){var r=Ct(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Pt,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&At(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,xt((function(){var r=new _e(t,n.enhancer_,n.name_+"."+A(e),!1);n.data_.set(e,r),t=r.value_,n.updateHasMapEntry_(e,!0),n.keysAtom_.reportChanged()}));var r=Ct(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Kt,object:this,name:e,newValue:t}:null;r&&At(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return kn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return kn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Wt]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=ye(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return Zt(e)&&(e=new Map(e)),xt((function(){_(e)?C(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):E(e)?(e.constructor!==Map&&r(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&r(20,e)})),this},t.clear=function(){var e=this;xt((function(){Ne((function(){for(var t,n=ye(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return xt((function(){for(var n,i=function(e){if(E(e)||Zt(e))return e;if(Array.isArray(e))return new Map(e);if(_(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),o=new Map,a=!1,s=ye(t.data_.keys());!(n=s()).done;){var u=n.value;if(!i.has(u))if(t.delete(u))a=!0;else{var l=t.data_.get(u);o.set(u,l)}}for(var c,f=ye(i.entries());!(c=f()).done;){var d=c.value,h=d[0],p=d[1],v=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var m=t.data_.get(h);o.set(h,m),v||(a=!0)}}if(!a)if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),y=o.keys(),b=g.next(),w=y.next();!b.done;){if(b.value!==w.value){t.keysAtom_.reportChanged();break}b=g.next(),w=y.next()}t.data_=o})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Dt(this,e)},t.intercept_=function(e){return St(this,e)},he(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:qt,get:function(){return"Map"}}]),e}(),Zt=k("ObservableMap",$t);var en={};Xt=Symbol.iterator,Jt=Symbol.toStringTag;var tn=function(){function e(e,t,n){void 0===t&&(t=q),void 0===n&&(n="ObservableSet@"+p()),this.name_=void 0,this[B]=en,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,g(Set)||r(22),this.atom_=H(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;xt((function(){Ne((function(){for(var t,n=ye(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=ye(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,Et(this))&&!Tt(this,{type:Kt,object:this,newValue:e}))return this;if(!this.has(e)){xt((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=Ct(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Kt,object:this,newValue:e}:null;0,n&&At(this,r)}return this},t.delete=function(e){var t=this;if(Et(this)&&!Tt(this,{type:"delete",object:this,oldValue:e}))return!1;if(this.has(e)){var n=Ct(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:e}:null;return xt((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&At(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return kn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return kn({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return nn(e)&&(e=new Set(e)),xt((function(){Array.isArray(e)||S(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Dt(this,e)},t.intercept_=function(e){return St(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Xt]=function(){return this.values()},he(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Jt,get:function(){return"Set"}}]),e}(),nn=k("ObservableSet",tn),rn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultEnhancer_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.pendingKeys_=void 0,this.keysValue_=[],this.isStaledKeysValue_=!0,this.target_=e,this.values_=t,this.name_=n,this.defaultEnhancer_=r,this.keysAtom_=new z(n+".keys")}var t=e.prototype;return t.read_=function(e){return this.values_.get(e).get()},t.write_=function(e,t){var n=this.target_,r=this.values_.get(e);if(r instanceof ke)r.set(t);else{if(Et(this)){var i=Tt(this,{type:Pt,object:this.proxy_||n,name:e,newValue:t});if(!i)return;t=i.newValue}if((t=r.prepareNewValue_(t))!==Ue.UNCHANGED){var o=Ct(this),a=o?{type:Pt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||n,oldValue:r.value_,name:e,newValue:t}:null;0,r.setNewValue_(t),o&&At(this,a)}}},t.has_=function(e){var t=this.pendingKeys_||(this.pendingKeys_=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values_.get(e);return n=new _e(r,G,this.name_+"."+A(e)+"?",!1),t.set(e,n),n.get()},t.addObservableProp_=function(e,t,n){void 0===n&&(n=this.defaultEnhancer_);var r=this.target_;if(Et(this)){var i=Tt(this,{object:this.proxy_||r,name:e,type:Kt,newValue:t});if(!i)return;t=i.newValue}var o=new _e(t,n,this.name_+"."+A(e),!1);this.values_.set(e,o),t=o.value_,s(r,e,function(e){return an[e]||(an[e]={configurable:!0,enumerable:!0,get:function(){return this[B].read_(e)},set:function(t){this[B].write_(e,t)}})}(e)),this.notifyPropertyAddition_(e,t)},t.addComputedProp_=function(e,t,n){var r=this.target_;n.name=n.name||this.name_+"."+A(t),n.context=this.proxy_||r,this.values_.set(t,new ke(n)),s(e,t,function(e){return sn[e]||(sn[e]={configurable:!0,enumerable:!1,get:function(){return this[B].read_(e)},set:function(t){this[B].write_(e,t)}})}(t))},t.remove_=function(e){if(this.values_.has(e)){var t=this.target_;if(Et(this))if(!Tt(this,{object:this.proxy_||t,name:e,type:"remove"}))return;try{qe();var n=Ct(this),r=this.values_.get(e),i=r&&r.get();if(r&&r.set(void 0),this.reportKeysChanged(),this.values_.delete(e),this.pendingKeys_){var o=this.pendingKeys_.get(e);o&&o.set(!1)}delete this.target_[e];var a=n?{type:"remove",observableKind:"object",object:this.proxy_||t,debugObjectName:this.name_,oldValue:i,name:e}:null;0,n&&At(this,a)}finally{Ge()}}},t.observe_=function(e,t){return Dt(this,e)},t.intercept_=function(e){return St(this,e)},t.notifyPropertyAddition_=function(e,t){var n=Ct(this),r=n?{type:Kt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;if(n&&At(this,r),this.pendingKeys_){var i=this.pendingKeys_.get(e);i&&i.set(!0)}this.reportKeysChanged()},t.getKeys_=function(){if(this.keysAtom_.reportObserved(),!this.isStaledKeysValue_)return this.keysValue_;this.keysValue_=[];for(var e,t=ye(this.values_);!(e=t()).done;){var n=e.value,r=n[0];n[1]instanceof _e&&this.keysValue_.push(r)}return this.isStaledKeysValue_=!1,this.keysValue_},t.reportKeysChanged=function(){this.isStaledKeysValue_=!0,this.keysAtom_.reportChanged()},e}();function on(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=q),N(e,B))return e[B];_(e)||(t=(e.constructor.name||"ObservableObject")+"@"+p()),t||(t="ObservableObject@"+p());var r=new rn(e,new Map,A(t),n);return x(e,B,r),r}var an=Object.create(null),sn=Object.create(null);var un=k("ObservableObjectAdministration",rn);function ln(e){return!!b(e)&&un(e[B])}var cn,fn,dn=0,hn=function(){};cn=hn,fn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(cn.prototype,fn):void 0!==cn.prototype.__proto__?cn.prototype.__proto__=fn:cn.prototype=fn;var pn=function(e){function t(t,n,r,i){var o;void 0===r&&(r="ObservableArray@"+p()),void 0===i&&(i=!1),o=e.call(this)||this;var a=new Ft(r,n,i,!0);if(a.proxy_=me(o),O(me(o),B,a),t&&t.length){var s=ce(!0);o.spliceWithArray(0,0,t),fe(s)}return o}ve(t,e);var n=t.prototype;return n.concat=function(){this[B].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Yt(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return kn({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},he(t,[{key:"length",get:function(){return this[B].getArrayLength_()},set:function(e){this[B].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(hn);function vn(e){s(pn.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[B].get_(e)},set:function(t){this[B].set_(e,t)}}}(e))}function mn(e){if(e>dn){for(var t=dn;t<e+100;t++)vn(t);dn=e}}function gn(e,t,n){return new pn(e,t,n)}function yn(e,t){if("object"===typeof e&&null!==e){if(Yt(e))return void 0!==t&&r(23),e[B].atom_;if(nn(e))return e[B];if(Zt(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,_n(e)),n}if(ln(e)){if(!t)return r(26);var i=e[B].values_.get(t);return i||r(27,t,_n(e)),i}if(U(e)||Ee(e)||$e(e))return e}else if(g(e)&&$e(e[B]))return e[B];r(28)}function bn(e,t){return e||r(29),void 0!==t?bn(yn(e,t)):U(e)||Ee(e)||$e(e)||Zt(e)||nn(e)?e:e[B]?e[B]:void r(24,e)}function _n(e,t){return(void 0!==t?yn(e,t):ln(e)||Zt(e)||nn(e)?bn(e):yn(e)).name_}Object.entries(Bt).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&x(pn.prototype,t,n)})),mn(1e3);var wn=u.toString;function xn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return!1;if(t!==t)return n!==n;var a=typeof t;if(!g(a)&&"object"!==a&&"object"!=typeof n)return!1;var s=wn.call(t);if(s!==wn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t===""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=On(t),n=On(n);var u="[object Array]"===s;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var l=t.constructor,c=n.constructor;if(l!==c&&!(g(l)&&l instanceof l&&g(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var f=(i=i||[]).length;for(;f--;)if(i[f]===t)return o[f]===n;if(i.push(t),o.push(n),u){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],r-1,i,o))return!1}else{var d,h=Object.keys(t);if(f=h.length,Object.keys(n).length!==f)return!1;for(;f--;)if(d=h[f],!N(n,d)||!e(t[d],n[d],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function On(e){return Yt(e)?e.slice():E(e)||Zt(e)||S(e)||nn(e)?Array.from(e.entries()):e}function kn(e){return e[Symbol.iterator]=En,e}function En(){return this}["Symbol","Map","Set","Symbol"].forEach((function(e){"undefined"===typeof i()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:_n},$mobx:B})}).call(this,n(78))},function(e,t,n){e.exports=n(191)},function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(72);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.r(t),n.d(t,"__Schema",(function(){return f})),n.d(t,"__Directive",(function(){return d})),n.d(t,"__DirectiveLocation",(function(){return h})),n.d(t,"__Type",(function(){return p})),n.d(t,"__Field",(function(){return v})),n.d(t,"__InputValue",(function(){return m})),n.d(t,"__EnumValue",(function(){return g})),n.d(t,"TypeKind",(function(){return y})),n.d(t,"__TypeKind",(function(){return b})),n.d(t,"SchemaMetaFieldDef",(function(){return _})),n.d(t,"TypeMetaFieldDef",(function(){return w})),n.d(t,"TypeNameMetaFieldDef",(function(){return x})),n.d(t,"introspectionTypes",(function(){return O})),n.d(t,"isIntrospectionType",(function(){return k}));var r=n(15),i=n(4),o=n(16),a=n(17),s=n(10),u=n(56),l=n(14),c=n(1),f=new c.f({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{description:{type:l.e,resolve:function(e){return e.description}},types:{description:"A list of all types supported by this server.",type:Object(c.e)(Object(c.d)(Object(c.e)(p))),resolve:function(e){return Object(r.a)(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:Object(c.e)(p),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:p,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:p,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:Object(c.e)(Object(c.d)(Object(c.e)(d))),resolve:function(e){return e.getDirectives()}}}}}),d=new c.f({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:Object(c.e)(l.e),resolve:function(e){return e.name}},description:{type:l.e,resolve:function(e){return e.description}},isRepeatable:{type:Object(c.e)(l.a),resolve:function(e){return e.isRepeatable}},locations:{type:Object(c.e)(Object(c.d)(Object(c.e)(h))),resolve:function(e){return e.locations}},args:{type:Object(c.e)(Object(c.d)(Object(c.e)(m))),resolve:function(e){return e.args}}}}}),h=new c.a({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:s.a.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:s.a.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:s.a.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:s.a.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:s.a.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:s.a.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:s.a.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:s.a.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:s.a.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:s.a.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:s.a.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:s.a.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:s.a.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:s.a.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:s.a.UNION,description:"Location adjacent to a union definition."},ENUM:{value:s.a.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:s.a.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:s.a.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:s.a.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),p=new c.f({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByUrl`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:Object(c.e)(b),resolve:function(e){return Object(c.R)(e)?y.SCALAR:Object(c.N)(e)?y.OBJECT:Object(c.H)(e)?y.INTERFACE:Object(c.T)(e)?y.UNION:Object(c.E)(e)?y.ENUM:Object(c.F)(e)?y.INPUT_OBJECT:Object(c.J)(e)?y.LIST:Object(c.L)(e)?y.NON_NULL:void Object(o.a)(0,'Unexpected type: "'.concat(Object(i.a)(e),'".'))}},name:{type:l.e,resolve:function(e){return void 0!==e.name?e.name:void 0}},description:{type:l.e,resolve:function(e){return void 0!==e.description?e.description:void 0}},specifiedByUrl:{type:l.e,resolve:function(e){return void 0!==e.specifiedByUrl?e.specifiedByUrl:void 0}},fields:{type:Object(c.d)(Object(c.e)(v)),args:{includeDeprecated:{type:l.a,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if(Object(c.N)(e)||Object(c.H)(e)){var i=Object(r.a)(e.getFields());return n||(i=i.filter((function(e){return!e.isDeprecated}))),i}return null}},interfaces:{type:Object(c.d)(Object(c.e)(p)),resolve:function(e){if(Object(c.N)(e)||Object(c.H)(e))return e.getInterfaces()}},possibleTypes:{type:Object(c.d)(Object(c.e)(p)),resolve:function(e,t,n,r){var i=r.schema;if(Object(c.C)(e))return i.getPossibleTypes(e)}},enumValues:{type:Object(c.d)(Object(c.e)(g)),args:{includeDeprecated:{type:l.a,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if(Object(c.E)(e)){var r=e.getValues();return n||(r=r.filter((function(e){return!e.isDeprecated}))),r}}},inputFields:{type:Object(c.d)(Object(c.e)(m)),resolve:function(e){if(Object(c.F)(e))return Object(r.a)(e.getFields())}},ofType:{type:p,resolve:function(e){return void 0!==e.ofType?e.ofType:void 0}}}}}),v=new c.f({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:Object(c.e)(l.e),resolve:function(e){return e.name}},description:{type:l.e,resolve:function(e){return e.description}},args:{type:Object(c.e)(Object(c.d)(Object(c.e)(m))),resolve:function(e){return e.args}},type:{type:Object(c.e)(p),resolve:function(e){return e.type}},isDeprecated:{type:Object(c.e)(l.a),resolve:function(e){return e.isDeprecated}},deprecationReason:{type:l.e,resolve:function(e){return e.deprecationReason}}}}}),m=new c.f({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:Object(c.e)(l.e),resolve:function(e){return e.name}},description:{type:l.e,resolve:function(e){return e.description}},type:{type:Object(c.e)(p),resolve:function(e){return e.type}},defaultValue:{type:l.e,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){var t=e.type,n=e.defaultValue,r=Object(u.a)(n,t);return r?Object(a.a)(r):null}}}}}),g=new c.f({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:Object(c.e)(l.e),resolve:function(e){return e.name}},description:{type:l.e,resolve:function(e){return e.description}},isDeprecated:{type:Object(c.e)(l.a),resolve:function(e){return e.isDeprecated}},deprecationReason:{type:l.e,resolve:function(e){return e.deprecationReason}}}}}),y=Object.freeze({SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"}),b=new c.a({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:y.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:y.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:y.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:y.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:y.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:y.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:y.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:y.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),_={name:"__schema",type:Object(c.e)(f),description:"Access the current type schema of this server.",args:[],resolve:function(e,t,n,r){return r.schema},isDeprecated:!1,deprecationReason:void 0,extensions:void 0,astNode:void 0},w={name:"__type",type:p,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:Object(c.e)(l.e),defaultValue:void 0,extensions:void 0,astNode:void 0}],resolve:function(e,t,n,r){var i=t.name;return r.schema.getType(i)},isDeprecated:!1,deprecationReason:void 0,extensions:void 0,astNode:void 0},x={name:"__typename",type:Object(c.e)(l.e),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,t,n,r){return r.parentType.name},isDeprecated:!1,deprecationReason:void 0,extensions:void 0,astNode:void 0},O=Object.freeze([f,d,h,p,v,m,g,b]);function k(e){return O.some((function(t){var n=t.name;return e.name===n}))}},function(e,t,n){e.exports=n(181)()},function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return y}));var r=n(58),i=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},o=n(4),a=n(27),s=n(2),u=n(17),l=n(3),c=n(1);var f=new c.g({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize:function(e){var t=h(e);if("boolean"===typeof t)return t?1:0;var n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),!i(n))throw new l.a("Int cannot represent non-integer value: ".concat(Object(o.a)(t)));if(n>2147483647||n<-2147483648)throw new l.a("Int cannot represent non 32-bit signed integer value: "+Object(o.a)(t));return n},parseValue:function(e){if(!i(e))throw new l.a("Int cannot represent non-integer value: ".concat(Object(o.a)(e)));if(e>2147483647||e<-2147483648)throw new l.a("Int cannot represent non 32-bit signed integer value: ".concat(e));return e},parseLiteral:function(e){if(e.kind!==s.a.INT)throw new l.a("Int cannot represent non-integer value: ".concat(Object(u.a)(e)),e);var t=parseInt(e.value,10);if(t>2147483647||t<-2147483648)throw new l.a("Int cannot represent non 32-bit signed integer value: ".concat(e.value),e);return t}});var d=new c.g({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize:function(e){var t=h(e);if("boolean"===typeof t)return t?1:0;var n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),!Object(r.a)(n))throw new l.a("Float cannot represent non numeric value: ".concat(Object(o.a)(t)));return n},parseValue:function(e){if(!Object(r.a)(e))throw new l.a("Float cannot represent non numeric value: ".concat(Object(o.a)(e)));return e},parseLiteral:function(e){if(e.kind!==s.a.FLOAT&&e.kind!==s.a.INT)throw new l.a("Float cannot represent non numeric value: ".concat(Object(u.a)(e)),e);return parseFloat(e.value)}});function h(e){if(Object(a.a)(e)){if("function"===typeof e.valueOf){var t=e.valueOf();if(!Object(a.a)(t))return t}if("function"===typeof e.toJSON)return e.toJSON()}return e}var p=new c.g({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:function(e){var t=h(e);if("string"===typeof t)return t;if("boolean"===typeof t)return t?"true":"false";if(Object(r.a)(t))return t.toString();throw new l.a("String cannot represent value: ".concat(Object(o.a)(e)))},parseValue:function(e){if("string"!==typeof e)throw new l.a("String cannot represent a non string value: ".concat(Object(o.a)(e)));return e},parseLiteral:function(e){if(e.kind!==s.a.STRING)throw new l.a("String cannot represent a non string value: ".concat(Object(u.a)(e)),e);return e.value}});var v=new c.g({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:function(e){var t=h(e);if("boolean"===typeof t)return t;if(Object(r.a)(t))return 0!==t;throw new l.a("Boolean cannot represent a non boolean value: ".concat(Object(o.a)(t)))},parseValue:function(e){if("boolean"!==typeof e)throw new l.a("Boolean cannot represent a non boolean value: ".concat(Object(o.a)(e)));return e},parseLiteral:function(e){if(e.kind!==s.a.BOOLEAN)throw new l.a("Boolean cannot represent a non boolean value: ".concat(Object(u.a)(e)),e);return e.value}});var m=new c.g({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:function(e){var t=h(e);if("string"===typeof t)return t;if(i(t))return String(t);throw new l.a("ID cannot represent value: ".concat(Object(o.a)(e)))},parseValue:function(e){if("string"===typeof e)return e;if(i(e))return e.toString();throw new l.a("ID cannot represent value: ".concat(Object(o.a)(e)))},parseLiteral:function(e){if(e.kind!==s.a.STRING&&e.kind!==s.a.INT)throw new l.a("ID cannot represent a non-string and non-integer value: "+Object(u.a)(e),e);return e.value}}),g=Object.freeze([p,f,d,v,m]);function y(e){return g.some((function(t){var n=t.name;return e.name===n}))}},function(e,t,n){"use strict";var r=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))};t.a=r},function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(47);function o(e){return Object(r.c)(e,{leave:a})}var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return u(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=c("(",u(e.variableDefinitions,", "),")"),i=u(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?u([t,u([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+c(" = ",r)+c(" ",u(i," "))},SelectionSet:function(e){return l(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return u([c("",t,": ")+n+c("(",u(r,", "),")"),u(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+c(" ",u(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return u(["...",c("on ",t),u(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(c("(",u(r,", "),")")," ")+"on ".concat(n," ").concat(c("",u(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?Object(i.c)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+u(e.values,", ")+"]"},ObjectValue:function(e){return"{"+u(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+c("(",u(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:s((function(e){var t=e.directives,n=e.operationTypes;return u(["schema",u(t," "),l(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:s((function(e){return u(["scalar",e.name,u(e.directives," ")]," ")})),ObjectTypeDefinition:s((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return u(["type",t,c("implements ",u(n," & ")),u(r," "),l(i)]," ")})),FieldDefinition:s((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(h(n)?c("(\n",f(u(n,"\n")),"\n)"):c("(",u(n,", "),")"))+": "+r+c(" ",u(i," "))})),InputValueDefinition:s((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return u([t+": "+n,c("= ",r),u(i," ")]," ")})),InterfaceTypeDefinition:s((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return u(["interface",t,c("implements ",u(n," & ")),u(r," "),l(i)]," ")})),UnionTypeDefinition:s((function(e){var t=e.name,n=e.directives,r=e.types;return u(["union",t,u(n," "),r&&0!==r.length?"= "+u(r," | "):""]," ")})),EnumTypeDefinition:s((function(e){var t=e.name,n=e.directives,r=e.values;return u(["enum",t,u(n," "),l(r)]," ")})),EnumValueDefinition:s((function(e){return u([e.name,u(e.directives," ")]," ")})),InputObjectTypeDefinition:s((function(e){var t=e.name,n=e.directives,r=e.fields;return u(["input",t,u(n," "),l(r)]," ")})),DirectiveDefinition:s((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(h(n)?c("(\n",f(u(n,"\n")),"\n)"):c("(",u(n,", "),")"))+(r?" repeatable":"")+" on "+u(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return u(["extend schema",u(t," "),l(n)]," ")},ScalarTypeExtension:function(e){return u(["extend scalar",e.name,u(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return u(["extend type",t,c("implements ",u(n," & ")),u(r," "),l(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return u(["extend interface",t,c("implements ",u(n," & ")),u(r," "),l(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return u(["extend union",t,u(n," "),r&&0!==r.length?"= "+u(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return u(["extend enum",t,u(n," "),l(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return u(["extend input",t,u(n," "),l(r)]," ")}};function s(e){return function(t){return u([t.description,e(t)],"\n")}}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function l(e){return e&&0!==e.length?"{\n"+f(u(e,"\n"))+"\n}":""}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?e+t+n:""}function f(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function d(e){return-1!==e.indexOf("\n")}function h(e){return e&&e.some(d)}},function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return k}));var r=n(46),i=n(22),o=n(4),a=n(35),s=n(9),u=n(42),l=n(27),c=n(40),f=n(10),d=n(14),h=n(1);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return Object(u.a)(e,g)}function m(e){if(!v(e))throw new Error("Expected ".concat(Object(o.a)(e)," to be a GraphQL directive."));return e}var g=function(){function e(e){var t,n;this.name=e.name,this.description=e.description,this.locations=e.locations,this.isRepeatable=null!==(t=e.isRepeatable)&&void 0!==t&&t,this.extensions=e.extensions&&Object(a.a)(e.extensions),this.astNode=e.astNode,e.name||Object(s.a)(0,"Directive must be named."),Array.isArray(e.locations)||Object(s.a)(0,"@".concat(e.name," locations must be an Array."));var i=null!==(n=e.args)&&void 0!==n?n:{};Object(l.a)(i)&&!Array.isArray(i)||Object(s.a)(0,"@".concat(e.name," args must be an object with argument names as keys.")),this.args=Object(r.a)(i).map((function(e){var t=e[0],n=e[1];return{name:t,description:n.description,type:n.type,defaultValue:n.defaultValue,extensions:n.extensions&&Object(a.a)(n.extensions),astNode:n.astNode}}))}var t,n,o,u=e.prototype;return u.toConfig=function(){return{name:this.name,description:this.description,locations:this.locations,args:Object(h.i)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}},u.toString=function(){return"@"+this.name},u.toJSON=function(){return this.toString()},t=e,(n=[{key:i.c,get:function(){return"GraphQLDirective"}}])&&p(t.prototype,n),o&&p(t,o),e}();Object(c.a)(g);var y=new g({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[f.a.FIELD,f.a.FRAGMENT_SPREAD,f.a.INLINE_FRAGMENT],args:{if:{type:Object(h.e)(d.a),description:"Included when true."}}}),b=new g({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[f.a.FIELD,f.a.FRAGMENT_SPREAD,f.a.INLINE_FRAGMENT],args:{if:{type:Object(h.e)(d.a),description:"Skipped when true."}}}),_="No longer supported",w=new g({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[f.a.FIELD_DEFINITION,f.a.ENUM_VALUE],args:{reason:{type:d.e,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:_}}}),x=new g({name:"specifiedBy",description:"Exposes a URL that specifies the behaviour of this scalar.",locations:[f.a.SCALAR],args:{url:{type:Object(h.e)(d.e),description:"The URL that specifies the behaviour of this scalar."}}}),O=Object.freeze([y,b,w,x]);function k(e){return O.some((function(t){return t.name===e.name}))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(40),i=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Object(r.a)(i);var o=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function a(e){return null!=e&&"string"===typeof e.kind}Object(r.a)(o)},function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(e),l=u&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),v=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),g=v||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=v||/Mac/.test(t),b=/\bCrOS\b/.test(e),_=/win/i.test(t),w=f&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(f=!1,u=!0);var x=y&&(l||f&&(null==w||w<12.11)),O=n||a&&s>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var E,S=function(e,t){var n=e.className,r=k(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function C(e,t){return T(e).appendChild(t)}function D(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=D(e,t,n,r);return i.setAttribute("role","presentation"),i}function j(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function M(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function I(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!k(n[r]).test(t)&&(t+=" "+n[r]);return t}E=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var P=function(e){e.select()};function L(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function R(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}v?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(t){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=L(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var U={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},V={origin:"*mouse"},W={origin:"+move"};function q(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var G=[""];function Y(e){for(;G.length<=e;)G.push(Q(G)+" ");return G[e]}function Q(e){return e[e.length-1]}function K(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function X(){}function J(e,t){var n;return Object.create?n=Object.create(e):(X.prototype=e,n=new X),t&&F(t,n),n}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Z(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||$.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Z(e))||t.test(e):Z(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}var ae=null;function se(e,t,n){var r;ae=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ae=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ae=i)}return null!=r?r:ae}var ue=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(a,s){var u="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var l,c=a.length,f=[],d=0;d<c;++d)f.push((l=a.charCodeAt(d))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var h=0,p=u;h<c;++h){var v=f[h];"m"==v?f[h]=p:p=v}for(var m=0,g=u;m<c;++m){var y=f[m];"1"==y&&"r"==g?f[m]="n":n.test(y)&&(g=y,"r"==y&&(f[m]="R"))}for(var b=1,_=f[0];b<c-1;++b){var w=f[b];"+"==w&&"1"==_&&"1"==f[b+1]?f[b]="1":","!=w||_!=f[b+1]||"1"!=_&&"n"!=_||(f[b]=_),_=w}for(var x=0;x<c;++x){var O=f[x];if(","==O)f[x]="N";else if("%"==O){var k=void 0;for(k=x+1;k<c&&"%"==f[k];++k);for(var E=x&&"!"==f[x-1]||k<c&&"1"==f[k]?"1":"N",S=x;S<k;++S)f[S]=E;x=k-1}}for(var T=0,C=u;T<c;++T){var D=f[T];"L"==C&&"1"==D?f[T]="L":n.test(D)&&(C=D)}for(var A=0;A<c;++A)if(t.test(f[A])){var j=void 0;for(j=A+1;j<c&&t.test(f[j]);++j);for(var N="L"==(A?f[A-1]:u),M=N==("L"==(j<c?f[j]:u))?N?"L":"R":u,I=A;I<j;++I)f[I]=M;A=j-1}for(var P,L=[],F=0;F<c;)if(r.test(f[F])){var R=F;for(++F;F<c&&r.test(f[F]);++F);L.push(new o(0,R,F))}else{var B=F,z=L.length,U="rtl"==s?1:0;for(++F;F<c&&"L"!=f[F];++F);for(var H=B;H<F;)if(i.test(f[H])){B<H&&(L.splice(z,0,new o(1,B,H)),z+=U);var V=H;for(++H;H<F&&i.test(f[H]);++H);L.splice(z,0,new o(2,V,H)),z+=U,B=H}else++H;B<F&&L.splice(z,0,new o(1,B,F))}return"ltr"==s&&(1==L[0].level&&(P=a.match(/^\s+/))&&(L[0].from=P[0].length,L.unshift(new o(0,0,P[0].length))),1==Q(L).level&&(P=a.match(/\s+$/))&&(Q(L).to-=P[0].length,L.push(new o(0,c-P[0].length,c)))),"rtl"==s?L.reverse():L}}();function le(e,t){var n=e.order;return null==n&&(n=e.order=ue(e.text,t)),n}var ce=[],fe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ce).concat(n)}};function de(e,t){return e._handlers&&e._handlers[t]||ce}function he(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=z(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function pe(e,t){var n=de(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ve(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),pe(e,n||t.type,e,t),we(t)||t.codemirrorIgnore}function me(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function ge(e,t){return de(e,t).length>0}function ye(e){e.prototype.on=function(e,t){fe(this,e,t)},e.prototype.off=function(e,t){he(this,e,t)}}function be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _e(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function we(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xe(e){be(e),_e(e)}function Oe(e){return e.target||e.srcElement}function ke(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ee,Se,Te=function(){if(a&&s<9)return!1;var e=D("div");return"draggable"in e||"dragDrop"in e}();function Ce(e){if(null==Ee){var t=D("span","\u200b");C(e,D("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Ee?D("span","\u200b"):D("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function De(e){if(null!=Se)return Se;var t=C(e,document.createTextNode("A\u062eA")),n=E(t,0,1).getBoundingClientRect(),r=E(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(Se=r.right-n.right<3)}var Ae=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},je=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ne=function(){var e=D("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Me=null,Ie={},Pe={};function Le(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ie[e]=t}function Fe(e){if("string"==typeof e&&Pe.hasOwnProperty(e))e=Pe[e];else if(e&&"string"==typeof e.name&&Pe.hasOwnProperty(e.name)){var t=Pe[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Fe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Fe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Re(e,t){t=Fe(t);var n=Ie[t.name];if(!n)return Re(e,"text/plain");var r=n(e,t);if(Be.hasOwnProperty(t.name)){var i=Be[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Be={};function ze(e,t){F(t,Be.hasOwnProperty(e)?Be[e]:Be[e]={})}function Ue(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function He(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ve(e,t,n){return!e.startState||e.startState(t,n)}var We=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ge(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ye(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ke(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Xe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function Je(e,t){return t>=e.first&&t<e.first+e.size}function $e(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Ze(e,t,n){if(void 0===n&&(n=null),!(this instanceof Ze))return new Ze(e,t,n);this.line=e,this.ch=t,this.sticky=n}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function nt(e){return Ze(e.line,e.ch)}function rt(e,t){return et(e,t)<0?t:e}function it(e,t){return et(e,t)<0?e:t}function ot(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return Ze(e.first,0);var n=e.first+e.size-1;return t.line>n?Ze(n,qe(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?Ze(e.line,t):n<0?Ze(e.line,0):e}(t,qe(e,t.line).text.length)}function st(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}We.prototype.eol=function(){return this.pos>=this.string.length},We.prototype.sol=function(){return this.pos==this.lineStart},We.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},We.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},We.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},We.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},We.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},We.prototype.skipToEnd=function(){this.pos=this.string.length},We.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},We.prototype.backUp=function(e){this.pos-=e},We.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},We.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},We.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},We.prototype.current=function(){return this.string.slice(this.start,this.pos)},We.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},We.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},We.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ut=function(e,t){this.state=e,this.lookAhead=t},lt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ct(e,t,n,r){var i=[e.state.modeGen],o={};bt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],u=1,l=0;n.state=!0,bt(e,t.text,s.mode,n,(function(e,t){for(var n=u;l<e;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,u-n,e,"overlay "+t),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)s(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ft(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=dt(e,Ke(t)),i=t.text.length>e.options.maxHighlightLength&&Ue(e.doc.mode,r.state),o=ct(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function dt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new lt(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=qe(o,s-1),l=u.stateAfter;if(l&&(!n||s+(l instanceof ut?l.lookAhead:0)<=o.modeFrontier))return s;var c=R(u.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}(e,t,n),a=o>r.first&&qe(r,o-1).stateAfter,s=a?lt.fromSaved(r,a,o):new lt(r,Ve(r.mode),o);return r.iter(o,t,(function(n){ht(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function ht(e,t,n,r){var i=e.doc.mode,o=new We(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&pt(i,n.state);!o.eol();)vt(i,o,n.state),o.start=o.pos}function pt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=He(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function vt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=He(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}lt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},lt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},lt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},lt.fromSaved=function(e,t,n){return t instanceof ut?new lt(e,Ue(e.mode,t.state),n,t.lookAhead):new lt(e,Ue(e.mode,t),n)},lt.prototype.save=function(e){var t=!1!==e?Ue(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ut(t,this.maxLookAhead):t};var mt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function gt(e,t,n,r){var i,o,a=e.doc,s=a.mode,u=qe(a,(t=at(a,t)).line),l=dt(e,t.line,n),c=new We(u.text,e.options.tabSize,l);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=vt(s,c,l.state),r&&o.push(new mt(c,i,Ue(a.mode,l.state)));return r?o:new mt(c,i,l.state)}function yt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function bt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,f=new We(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&yt(pt(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&ht(e,t,r,f.pos),f.pos=t.length,u=null):u=yt(vt(n,f,r.state,d),o),d){var h=d[0].name;h&&(u="m-"+(u?h+" "+u:h))}if(!s||c!=u){for(;l<f.start;)i(l=Math.min(f.start,l+5e3),c);c=u}f.start=f.pos}for(;l<f.pos;){var p=Math.min(f.pos,l+5e3);i(p,c),l=p}}var _t=!1,wt=!1;function xt(e,t,n){this.marker=e,this.from=t,this.to=n}function Ot(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function kt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Et(e,t){if(t.full)return null;var n=Je(e,t.from.line)&&qe(e,t.from.line).markedSpans,r=Je(e,t.to.line)&&qe(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==et(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new xt(a,o.from,s?null:o.to))}}return r}(n,i,a),u=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new xt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),l=1==t.text.length,c=Q(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var h=Ot(u,d.marker);h?l&&(d.to=null==h.to?null:h.to+c):d.to=i}}if(u)for(var p=0;p<u.length;++p){var v=u[p];null!=v.to&&(v.to+=c),null==v.from?Ot(s,v.marker)||(v.from=c,l&&(s||(s=[])).push(v)):(v.from+=c,l&&(s||(s=[])).push(v))}s&&(s=St(s)),u&&u!=s&&(u=St(u));var m=[s];if(!l){var g,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(g||(g=[])).push(new xt(s[b].marker,null,null));for(var _=0;_<y;++_)m.push(g);m.push(u)}return m}function St(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ct(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Dt(e){return e.inclusiveLeft?-1:0}function At(e){return e.inclusiveRight?1:0}function jt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=et(r.from,i.from)||Dt(e)-Dt(t);if(o)return-o;var a=et(r.to,i.to)||At(e)-At(t);return a||t.id-e.id}function Nt(e,t){var n,r=wt&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||jt(n,i.marker)<0)&&(n=i.marker);return n}function Mt(e){return Nt(e,!0)}function It(e){return Nt(e,!1)}function Pt(e,t){var n,r=wt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||jt(n,o.marker)<0)&&(n=o.marker)}return n}function Lt(e,t,n,r,i){var o=qe(e,t),a=wt&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=et(l.from,n)||Dt(u.marker)-Dt(i),f=et(l.to,r)||At(u.marker)-At(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?et(l.to,n)>=0:et(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?et(l.from,r)<=0:et(l.from,r)<0)))return!0}}}function Ft(e){for(var t;t=Mt(e);)e=t.find(-1,!0).line;return e}function Rt(e,t){var n=qe(e,t),r=Ft(n);return n==r?t:Ke(r)}function Bt(e,t){if(t>e.lastLine())return t;var n,r=qe(e,t);if(!zt(e,r))return t;for(;n=It(r);)r=n.find(1,!0).line;return Ke(r)+1}function zt(e,t){var n=wt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ut(e,t,r))return!0}}function Ut(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Ut(e,r.line,Ot(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ut(e,t,i))return!0}function Ht(e){for(var t=0,n=(e=Ft(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Vt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Mt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=It(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Wt(e){var t=e.display,n=e.doc;t.maxLine=qe(n,n.first),t.maxLineLength=Vt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Vt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var qt=function(e,t,n){this.text=e,Ct(this,t),this.height=n?n(this):1};function Gt(e){e.parent=null,Tt(e)}qt.prototype.lineNo=function(){return Ke(this)},ye(qt);var Yt={},Qt={};function Kt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Qt:Yt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var n=A("span",null,null,u?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=$t,De(e.display.measure)&&(a=le(o,e.doc.direction))&&(r.addToken=Zt(r.addToken,a)),r.map=[],tn(o,r,ft(e,o,t!=e.display.externalMeasured&&Ke(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ce(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return pe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function Jt(e){var t=D("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function $t(e,t,n,r,i,o,u){if(t){var l,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,f=e.cm.state.specialChars,d=!1;if(f.test(t)){l=document.createDocumentFragment();for(var h=0;;){f.lastIndex=h;var p=f.exec(t),v=p?p.index-h:t.length-h;if(v){var m=document.createTextNode(c.slice(h,h+v));a&&s<9?l.appendChild(D("span",[m])):l.appendChild(m),e.map.push(e.pos,e.pos+v,m),e.col+=v,e.pos+=v}if(!p)break;h+=v+1;var g=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(g=l.appendChild(D("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((g=l.appendChild(D("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((g=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?l.appendChild(D("span",[g])):l.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||d||o||u){var _=n||"";r&&(_+=r),i&&(_+=i);var w=D("span",[l],_,o);if(u)for(var x in u)u.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,u[x]);return e.content.appendChild(w)}e.content.appendChild(l)}}function Zt(e,t){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var f=void 0,d=0;d<t.length&&!((f=t[d]).to>l&&f.from<=l);d++);if(f.to>=c)return e(n,r,i,o,a,s,u);e(n,r.slice(0,f.to-l),i,o,null,s,u),o=null,r=r.slice(f.to-l),l=f.to}}}function en(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,u,l,c,f,d,h=i.length,p=0,v=1,m="",g=0;;){if(g==p){u=l=c=s="",d=null,f=null,g=1/0;for(var y=[],b=void 0,_=0;_<r.length;++_){var w=r[_],x=w.marker;if("bookmark"==x.type&&w.from==p&&x.widgetNode)y.push(x);else if(w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&g>w.to&&(g=w.to,l=""),x.className&&(u+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==p&&(c+=" "+x.startStyle),x.endStyle&&w.to==g&&(b||(b=[])).push(x.endStyle,w.to),x.title&&((d||(d={})).title=x.title),x.attributes)for(var O in x.attributes)(d||(d={}))[O]=x.attributes[O];x.collapsed&&(!f||jt(f.marker,x)<0)&&(f=w)}else w.from>p&&g>w.from&&(g=w.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==g&&(l+=" "+b[k]);if(!f||f.from==p)for(var E=0;E<y.length;++E)en(t,0,y[E]);if(f&&(f.from||0)==p){if(en(t,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var S=Math.min(h,g);;){if(m){var T=p+m.length;if(!f){var C=T>S?m.slice(0,S-p):m;t.addToken(t,C,a?a+u:u,c,p+C.length==g?l:"",s,d)}if(T>=S){m=m.slice(S-p),p=S;break}p=T,c=""}m=i.slice(o,o=n[v++]),a=Kt(n[v++],t.cm.options)}}else for(var D=1;D<n.length;D+=2)t.addToken(t,i.slice(o,o=n[D]),Kt(n[D+1],t.cm.options))}function nn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=It(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ke(Q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=zt(e,t)}function rn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new nn(e.doc,qe(e.doc,o),o);r=o+a.size,i.push(a)}return i}var on=null,an=null;function sn(e,t){var n=de(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);on?r=on.delayedCallbacks:an?r=an:(r=an=[],setTimeout(un,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function un(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function ln(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?dn(e,t):"gutter"==o?pn(e,t,n,r):"class"==o?hn(e,t):"widget"==o&&vn(e,t,r)}t.changes=null}function cn(e){return e.node==e.text&&(e.node=D("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function fn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Xt(e,t)}function dn(e,t){var n=t.text.className,r=fn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,hn(e,t)):n&&(t.text.className=n)}function hn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=cn(t);t.background=r.insertBefore(D("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?cn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function pn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=cn(t);t.gutterBackground=D("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=cn(t),s=t.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(D("div",$e(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.display.gutterSpecs.length;++u){var l=e.display.gutterSpecs[u].className,c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(D("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function vn(e,t,n){t.alignable&&(t.alignable=null);for(var r=k("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);gn(e,t,n)}function mn(e,t,n,r){var i=fn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),hn(e,t),pn(e,t,n,r),gn(e,t,r),t.node}function gn(e,t,n){if(yn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)yn(e,t.rest[r],t,n,!1)}function yn(e,t,n,r,i){if(t.widgets)for(var o=cn(n),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=D("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),bn(u,l,n,r),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,n.gutter||n.text):o.appendChild(l),sn(u,"redraw")}}function bn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function _n(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!j(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),C(t.display.measure,D("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function wn(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function xn(e){return e.lineSpace.offsetTop}function On(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function kn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=C(e.measure,D("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function En(e){return 50-e.display.nativeBarWidth}function Sn(e){return e.display.scroller.clientWidth-En(e)-e.display.barWidth}function Tn(e){return e.display.scroller.clientHeight-En(e)-e.display.barHeight}function Cn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ke(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Dn(e,t,n,r){return Nn(e,jn(e,t),n,r)}function An(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[lr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function jn(e,t){var n=Ke(t),r=An(e,n);r&&!r.text?r=null:r&&r.changes&&(ln(e,r,n,ir(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Ke(t=Ft(t)),r=e.display.externalMeasured=new nn(e.doc,t,n);r.lineN=n;var i=r.built=Xt(e,r);return r.text=i.pre,C(e.display.lineMeasure,i.pre),r}(e,t));var i=Cn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Nn(e,t,n,r,i){t.before&&(n=-1);var o,u=n+(r||"");return t.cache.hasOwnProperty(u)?o=t.cache[u]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&Sn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Pn(t.map,n,r),u=o.node,l=o.start,c=o.end,f=o.collapse;if(3==u.nodeType){for(var d=0;d<4;d++){for(;l&&re(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+c<o.coverEnd&&re(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==l&&c==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Ln(E(u,l,c).getClientRects(),r)).left||i.right||0==l)break;c=l,l-=1,f="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Me)return Me;var t=C(e,D("span","x")),n=t.getBoundingClientRect(),r=E(t,0,1).getBoundingClientRect();return Me=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var h;l>0&&(f=r="right"),i=e.options.lineWrapping&&(h=u.getClientRects()).length>1?h["right"==r?h.length-1:0]:u.getBoundingClientRect()}if(a&&s<9&&!l&&(!i||!i.left&&!i.right)){var p=u.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+rr(e.display),top:p.top,bottom:p.bottom}:In}for(var v=i.top-t.rect.top,m=i.bottom-t.rect.top,g=(v+m)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(g<y[b]);b++);var _=b?y[b-1]:0,w=y[b],x={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:_,bottom:w};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=v,x.rbottom=m),x}(e,t,n,r)).bogus||(t.cache[u]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Mn,In={left:0,right:0,top:0,bottom:0};function Pn(e,t,n){for(var r,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?o=1+(i=t-s):(l==e.length-3||t==u&&e[l+3]>t)&&(i=(o=u-s)-1,t>=u&&(a="right")),null!=i){if(r=e[l+2],s==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[2+(l-=3)],a="left";if("right"==n&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Ln(e,t){var n=In;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Fn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Rn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fn(e.display.view[t])}function Bn(e){Rn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function zn(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Un(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=_n(e.widgets[n]));return t}function Vn(e,t,n,r,i){if(!i){var o=Hn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ht(t);if("local"==r?a+=xn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Un());var u=s.left+("window"==r?0:zn());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function Wn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=zn(),i-=Un();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function qn(e,t,n,r,i){return r||(r=qe(e.doc,t.line)),Vn(e,r,Dn(e,r,t.ch,i),n)}function Gn(e,t,n,r,i,o){function a(t,a){var s=Nn(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Vn(e,r,s,n)}r=r||qe(e.doc,t.line),i||(i=jn(e,r));var s=le(r,e.doc.direction),u=t.ch,l=t.sticky;if(u>=r.text.length?(u=r.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function c(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var f=se(s,u,l),d=ae,h=c(u,f,"before"==l);return null!=d&&(h.other=c(u,d,"before"!=l)),h}function Yn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=rr(e.display)*t.ch);var r=qe(e.doc,t.line),i=Ht(r)+xn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Qn(e,t,n,r,i){var o=Ze(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Kn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Qn(r.first,0,null,-1,-1);var i=Xe(r,n),o=r.first+r.size-1;if(i>o)return Qn(r.first+r.size-1,qe(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=qe(r,i);;){var s=Zn(e,a,i,t,n),u=Pt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!u)return s;var l=u.find(1);if(l.line==i)return l;a=qe(r,i=l.line)}}function Xn(e,t,n,r){r-=Hn(t);var i=t.text.length,o=oe((function(t){return Nn(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=oe((function(t){return Nn(e,n,t).top>r}),o,i)}}function Jn(e,t,n,r){return n||(n=jn(e,t)),Xn(e,t,n,Vn(e,t,Nn(e,n,r),"line").top)}function $n(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Zn(e,t,n,r,i){i-=Ht(t);var o=jn(e,t),a=Hn(t),s=0,u=t.text.length,l=!0,c=le(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?tr:er)(e,t,n,o,c,r,i);s=(l=1!=f.level)?f.from:f.to-1,u=l?f.to:f.from-1}var d,h,p=null,v=null,m=oe((function(t){var n=Nn(e,o,t);return n.top+=a,n.bottom+=a,!!$n(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,v=n),!0)}),s,u),g=!1;if(v){var y=r-v.left<v.right-r,b=y==l;m=p+(b?0:1),h=b?"after":"before",d=y?v.left:v.right}else{l||m!=u&&m!=s||m++,h=0==m?"after":m==t.text.length?"before":Nn(e,o,m-(l?1:0)).bottom+a<=i==l?"after":"before";var _=Gn(e,Ze(n,m,h),"line",t,o);d=_.left,g=i<_.top?-1:i>=_.bottom?1:0}return Qn(n,m=ie(t.text,m,1),h,g,r-d)}function er(e,t,n,r,i,o,a){var s=oe((function(s){var u=i[s],l=1!=u.level;return $n(Gn(e,Ze(n,l?u.to:u.from,l?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=Gn(e,Ze(n,l?u.from:u.to,l?"after":"before"),"line",t,r);$n(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u}function tr(e,t,n,r,i,o,a){var s=Xn(e,t,r,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,f=null,d=0;d<i.length;d++){var h=i[d];if(!(h.from>=l||h.to<=u)){var p=Nn(e,r,1!=h.level?Math.min(l,h.to)-1:Math.max(u,h.from)).right,v=p<o?o-p+1e9:p-o;(!c||f>v)&&(c=h,f=v)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function nr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Mn){Mn=D("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Mn.appendChild(document.createTextNode("x")),Mn.appendChild(D("br"));Mn.appendChild(document.createTextNode("x"))}C(e.measure,Mn);var n=Mn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function rr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=D("span","xxxxxxxxxx"),n=D("pre",[t],"CodeMirror-line-like");C(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function ir(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:or(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function or(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ar(e){var t=nr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/rr(e.display)-3);return function(i){if(zt(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function sr(e){var t=e.doc,n=ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function ur(e,t,n,r){var i=e.display;if(!n&&"true"==Oe(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(f){return null}var u,l=Kn(e,o,a);if(r&&l.xRel>0&&(u=qe(e.doc,l.line).text).length==l.ch){var c=R(u,u.length,e.options.tabSize)-u.length;l=Ze(l.line,Math.max(0,Math.round((o-kn(e.display).left)/rr(e.display))-c))}return l}function lr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function cr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)wt&&Rt(e.doc,t)<i.viewTo&&dr(e);else if(n<=i.viewFrom)wt&&Bt(e.doc,n+r)>i.viewFrom?dr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)dr(e);else if(t<=i.viewFrom){var o=hr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):dr(e)}else if(n>=i.viewTo){var a=hr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):dr(e)}else{var s=hr(e,t,t,-1),u=hr(e,n,n+r,1);s&&u?(i.view=i.view.slice(0,s.index).concat(rn(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):dr(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[lr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==z(a,n)&&a.push(n)}}}function dr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function hr(e,t,n,r){var i,o=lr(e,t),a=e.display.view;if(!wt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Rt(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function pr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&gr(e,s.head,i),u||br(e,s,o)}}return r}function gr(e,t,n){var r=Gn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(D("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(D("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function yr(e,t){return e.top-t.top||e.left-t.left}function br(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=kn(e.display),s=a.left,u=Math.max(r.sizerWidth,Sn(e)-r.sizer.offsetLeft)-a.right,l="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?u-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var o,a,f=qe(i,t),d=f.text.length;function h(n,r){return qn(e,Ze(t,n),"div",f,r)}function p(t,n,r){var i=Jn(e,f,null,t),o="ltr"==n==("after"==r)?"left":"right";return h("after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var v=le(f,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(v,n||0,null==r?d:r,(function(e,t,i,f){var m="ltr"==i,g=h(e,m?"left":"right"),y=h(t-1,m?"right":"left"),b=null==n&&0==e,_=null==r&&t==d,w=0==f,x=!v||f==v.length-1;if(y.top-g.top<=3){var O=(l?_:b)&&x,k=(l?b:_)&&w?s:(m?g:y).left,E=O?u:(m?y:g).right;c(k,g.top,E-k,g.bottom)}else{var S,T,C,D;m?(S=l&&b&&w?s:g.left,T=l?u:p(e,i,"before"),C=l?s:p(t,i,"after"),D=l&&_&&x?u:y.right):(S=l?p(e,i,"before"):s,T=!l&&b&&w?u:g.right,C=!l&&_&&x?s:y.left,D=l?p(t,i,"after"):u),c(S,g.top,T-S,g.bottom),g.bottom<y.top&&c(s,g.bottom,null,y.top),c(C,y.top,D-C,y.bottom)}(!o||yr(g,o)<0)&&(o=g),yr(y,o)<0&&(o=y),(!a||yr(g,a)<0)&&(a=g),yr(y,a)<0&&(a=y)})),{start:o,end:a}}var d=t.from(),h=t.to();if(d.line==h.line)f(d.line,d.ch,h.ch);else{var p=qe(i,d.line),v=qe(i,h.line),m=Ft(p)==Ft(v),g=f(d.line,d.ch,m?p.text.length+1:null).end,y=f(h.line,m?0:null,h.ch).start;m&&(g.top<y.top-2?(c(g.right,g.top,null,g.bottom),c(s,y.top,y.left,y.bottom)):c(g.right,g.top,y.left-g.right,g.bottom)),g.bottom<y.top&&c(s,g.bottom,null,y.top)}n.appendChild(o)}function _r(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||kr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function wr(e){e.state.focused||(e.display.input.focus(),Or(e))}function xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,kr(e))}),100)}function Or(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(pe(e,"focus",e,t),e.state.focused=!0,M(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),u&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),_r(e))}function kr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(pe(e,"blur",e,t),e.state.focused=!1,S(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Er(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,u=void 0,l=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;u=c-n,n=c}else{var f=i.node.getBoundingClientRect();u=f.bottom-f.top,!o&&i.text.firstChild&&(l=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=i.line.height-u;if((d>.005||d<-.005)&&(Qe(i.line,u),Sr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Sr(i.rest[h]);if(l>e.display.sizerWidth){var p=Math.ceil(l/rr(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Sr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Tr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-xn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Xe(t,r),a=Xe(t,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<o?(o=s,a=Xe(t,Ht(qe(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=Xe(t,Ht(qe(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function Cr(e,t){var n=e.display,r=nr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Tn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+On(n),u=t.top<r,l=t.bottom>s-r;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=Sn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>d;return h&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>d+f-3&&(a.scrollLeft=t.right+(h?0:10)-d),a}function Dr(e,t){null!=t&&(Nr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ar(e){Nr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function jr(e,t,n){null==t&&null==n||Nr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Nr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Mr(e,Yn(e,t.from),Yn(e,t.to),t.margin))}function Mr(e,t,n,r){var i=Cr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});jr(e,i.scrollLeft,i.scrollTop)}function Ir(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||si(e,{top:t}),Pr(e,t,!0),n&&si(e),ni(e,100))}function Pr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Lr(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,ci(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Fr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+On(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+En(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Rr=function(e,t,n){this.cm=n;var r=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),fe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),fe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Rr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Rr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rr.prototype.zeroWidthHack=function(){var e=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Rr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}))},Rr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Br=function(){};function zr(e,t){t||(t=Fr(e));var n=e.display.barWidth,r=e.display.barHeight;Ur(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Er(e),Ur(e,Fr(e)),n=e.display.barWidth,r=e.display.barHeight}function Ur(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Br.prototype.update=function(){return{bottom:0,right:0}},Br.prototype.setScrollLeft=function(){},Br.prototype.setScrollTop=function(){},Br.prototype.clear=function(){};var Hr={native:Rr,null:Br};function Vr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&S(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Hr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),fe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Lr(e,t):Ir(e,t)}),e),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)}var Wr=0;function qr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wr},t=e.curOp,on?on.ops.push(t):t.ownsGroup=on={ops:[t],delayedCallbacks:[]}}function Gr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{on=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Yr(t[n]);for(var r=0;r<t.length;r++)Qr(t[r]);for(var i=0;i<t.length;i++)Kr(t[i]);for(var o=0;o<t.length;o++)Xr(t[o]);for(var a=0;a<t.length;a++)Jr(t[a])}(e)}))}function Yr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=En(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=En(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Wt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Qr(e){e.updatedDisplay=e.mustUpdate&&oi(e.cm,e.update)}function Kr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Er(t),e.barMeasure=Fr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Dn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+En(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Sn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Xr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Lr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&zr(t,e.barMeasure),e.updatedDisplay&&li(t,e.barMeasure),e.selectionChanged&&_r(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&wr(e.cm)}function Jr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Pr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Lr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ve(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=D("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-xn(e.display))+"px;\n                         height: "+(t.bottom-t.top+En(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?Ze(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Ze(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Gn(e,t),u=n&&n!=t?Gn(e,n):s,l=Cr(e,i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-r,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+r}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=l.scrollTop&&(Ir(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Lr(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||pe(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&pe(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&pe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function $r(e,t){if(e.curOp)return t();qr(e);try{return t()}finally{Gr(e)}}function Zr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);qr(e);try{return t.apply(e,arguments)}finally{Gr(e)}}}function ei(e){return function(){if(this.curOp)return e.apply(this,arguments);qr(this);try{return e.apply(this,arguments)}finally{Gr(this)}}}function ti(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);qr(t);try{return e.apply(this,arguments)}finally{Gr(t)}}}function ni(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,L(ri,e))}function ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=dt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ue(t.mode,r.state):null,u=ct(e,o,r,!0);s&&(r.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&ht(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ni(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&$r(e,(function(){for(var t=0;t<i.length;t++)fr(e,i[t],"text")}))}}var ii=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Tr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Sn(e),this.force=n,this.dims=ir(e),this.events=[]};function oi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return dr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==pr(e))return!1;fi(e)&&(dr(e),t.dims=ir(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),wt&&(o=Rt(e.doc,o),a=Bt(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=rn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=rn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(lr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(rn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,lr(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=Ht(qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=pr(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=N();if(!t||!j(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&j(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return l>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return u&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var l=r.view,c=r.viewFrom,f=0;f<l.length;f++){var d=l[f];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var h=i&&null!=t&&t<=c&&d.lineNumber;d.changes&&(z(d.changes,"gutter")>-1&&(h=!1),ln(e,d,c,n)),h&&(T(d.lineNumber),d.lineNumber.appendChild(document.createTextNode($e(e.options,c)))),a=d.node.nextSibling}else{var p=mn(e,d,c,n);o.insertBefore(p,a)}c+=d.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&j(document.body,e.anchorNode)&&j(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ni(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Sn(e))r&&(t.visible=Tr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+On(e.display)-Tn(e),n.top)}),t.visible=Tr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!oi(e,t))break;Er(e);var i=Fr(e);vr(e),zr(e,i),li(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var n=new ii(e,t);if(oi(e,n)){Er(e),ai(e,n);var r=Fr(e);vr(e),zr(e,r),li(e,r),n.finish()}}function ui(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function li(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+En(e)+"px"}function ci(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=or(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function fi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=$e(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(D("div",[D("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ui(e.display),!0}return!1}function di(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function hi(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(D("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ui(e)}function pi(e){hi(e.display),cr(e),ci(e)}function vi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=D("div",null,"CodeMirror-cursors"),o.measure=D("div",null,"CodeMirror-measure"),o.lineMeasure=D("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=D("div",[l],null,"position: relative"),o.sizer=D("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=D("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=D("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=D("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=D("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),u||n&&g||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=di(i.gutters,i.lineNumbers),hi(o),r.init(o)}ii.prototype.signal=function(e,t){ge(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)pe.apply(null,this.events[e])};var mi=0,gi=null;function yi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function bi(e){var t=yi(e);return t.x*=gi,t.y*=gi,t}function _i(e,t){var r=yi(t),i=r.x,o=r.y,a=e.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&l||o&&c){if(o&&y&&u)e:for(var d=t.target,h=a.view;d!=s;d=d.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==d){e.display.currentWheelTarget=d;break e}if(i&&!n&&!f&&null!=gi)return o&&c&&Ir(e,Math.max(0,s.scrollTop+o*gi)),Lr(e,Math.max(0,s.scrollLeft+i*gi)),(!o||o&&c)&&be(t),void(a.wheelStartX=null);if(o&&null!=gi){var v=o*gi,m=e.doc.scrollTop,g=m+a.wrapper.clientHeight;v<0?m=Math.max(0,m+v-50):g=Math.min(e.doc.height,g+v+50),si(e,{top:m,bottom:g})}mi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(gi=(gi*mi+n)/(mi+1),++mi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?gi=-.53:n?gi=15:c?gi=-.7:d&&(gi=-1/3);var wi=function(e,t){this.ranges=e,this.primIndex=t};wi.prototype.primary=function(){return this.ranges[this.primIndex]},wi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!tt(n.anchor,r.anchor)||!tt(n.head,r.head))return!1}return!0},wi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new xi(nt(this.ranges[t].anchor),nt(this.ranges[t].head));return new wi(e,this.primIndex)},wi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(et(t,r.from())>=0&&et(e,r.to())<=0)return n}return-1};var xi=function(e,t){this.anchor=e,this.head=t};function Oi(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return et(e.from(),t.from())})),n=z(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],u=et(s.to(),a.from());if(r&&!a.empty()?u>0:u>=0){var l=it(s.from(),a.from()),c=rt(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new xi(f?c:l,f?l:c))}}return new wi(t,n)}function ki(e,t){return new wi([new xi(e,t||e)],0)}function Ei(e){return e.text?Ze(e.from.line+e.text.length-1,Q(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Si(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return Ei(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Ei(t).ch-t.to.ch),Ze(n,r)}function Ti(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new xi(Si(i.anchor,t),Si(i.head,t)))}return Oi(e.cm,n,e.sel.primIndex)}function Ci(e,t,n){return e.line==t.line?Ze(n.line,e.ch-t.ch+n.ch):Ze(n.line+(e.line-t.line),e.ch)}function Di(e){e.doc.mode=Re(e.options,e.doc.modeOption),Ai(e)}function Ai(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ni(e,100),e.state.modeGen++,e.curOp&&cr(e)}function ji(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Q(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ni(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),Ct(e,n);var i=r?r(e):1;i!=e.height&&Qe(e,i)}(e,n,i,r),sn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new qt(l[o],i(o),r));return n}var s=t.from,u=t.to,l=t.text,c=qe(e,s.line),f=qe(e,u.line),d=Q(l),h=i(l.length-1),p=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(ji(e,t)){var v=a(0,l.length-1);o(f,f.text,h),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==l.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(u.ch),h);else{var m=a(1,l.length-1);m.push(new qt(d+c.text.slice(u.ch),h,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(f,d+f.text.slice(u.ch),h);var g=a(1,l.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,g)}sn(e,"change",e,t)}function Mi(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(t(s.doc,u),e(s.doc,r,u))}}}(e,null,!0)}function Ii(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sr(e),Di(e),Pi(e),e.options.lineWrapping||Wt(e),e.options.mode=t.modeOption,cr(e)}function Pi(e){("rtl"==e.doc.direction?M:S)(e.display.lineDiv,"CodeMirror-rtl")}function Li(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Fi(e,t){var n={from:nt(t.from),to:Ei(t),text:Ge(e,t.from,t.to)};return Hi(e,n,t.from.line,t.to.line+1),Mi(e,(function(e){return Hi(e,n,t.from.line,t.to.line+1)}),!0),n}function Ri(e){for(;e.length&&Q(e).ranges;)e.pop()}function Bi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Ri(e.done),Q(e.done)):e.done.length&&!Q(e.done).ranges?Q(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Q(e.done)):void 0}(i,i.lastOp==r)))a=Q(o.changes),0==et(t.from,t.to)&&0==et(t.from,a.to)?a.to=Ei(t):o.changes.push(Fi(e,t));else{var u=Q(i.done);for(u&&u.ranges||Ui(e.sel,i.done),o={changes:[Fi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||pe(e,"historyAdded")}function zi(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Q(i.done),t))?i.done[i.done.length-1]=t:Ui(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Ri(i.undone)}function Ui(e,t){var n=Q(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Hi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Vi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Wi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Vi(n[i]));return r}(e,t),r=Et(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(n[i]=a)}return n}function qi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?wi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&(Q(s)[f]=l[f],delete l[f])}}}return r}function Gi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=et(t,i)<0;o!=et(n,i)<0?(i=t,t=n):o!=et(t,n)<0&&(t=n)}return new xi(i,t)}return new xi(n||t,t)}function Yi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),$i(e,new wi([Gi(e.sel.primary(),t,n,i)],0),r)}function Qi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Gi(e.sel.ranges[o],t[o],null,i);$i(e,Oi(e.cm,r,e.sel.primIndex),n)}function Ki(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,$i(e,Oi(e.cm,i,e.sel.primIndex),r)}function Xi(e,t,n,r){$i(e,ki(t,n),r)}function Ji(e,t,n){var r=e.history.done,i=Q(r);i&&i.ranges?(r[r.length-1]=t,Zi(e,t,n)):$i(e,t,n)}function $i(e,t,n){Zi(e,t,n),zi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Zi(e,t,n){(ge(e,"beforeSelectionChange")||e.cm&&ge(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new xi(at(e,t[n].anchor),at(e,t[n].head))},origin:n&&n.origin};return pe(e,"beforeSelectionChange",e,r),e.cm&&pe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Oi(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);eo(e,no(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Ar(e.cm)}function eo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,me(e.cm)),sn(e,"cursorActivity",e))}function to(e){eo(e,no(e,e.sel,null,!1))}function no(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=io(e,a.anchor,s&&s.anchor,n,r),l=io(e,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new xi(u,l))}return i?Oi(e.cm,i,t.primIndex):t}function ro(e,t,n,r,i){var o=qe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker,l="selectLeft"in u?!u.selectLeft:u.inclusiveLeft,c="selectRight"in u?!u.selectRight:u.inclusiveRight;if((null==s.from||(l?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(pe(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var f=u.find(r<0?1:-1),d=void 0;if((r<0?c:l)&&(f=oo(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(d=et(f,n))&&(r<0?d<0:d>0))return ro(e,f,t,r,i)}var h=u.find(r<0?-1:1);return(r<0?l:c)&&(h=oo(e,h,r,h.line==t.line?o:null)),h?ro(e,h,t,r,i):null}}return t}function io(e,t,n,r,i){var o=r||1,a=ro(e,t,n,o,i)||!i&&ro(e,t,n,o,!0)||ro(e,t,n,-o,i)||!i&&ro(e,t,n,-o,!0);return a||(e.cantEdit=!0,Ze(e.first,0))}function oo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,Ze(t.line-1)):null:n>0&&t.ch==(r||qe(e,t.line)).text.length?t.line<e.first+e.size-1?Ze(t.line+1,0):null:new Ze(t.line,t.ch+n)}function ao(e){e.setSelection(Ze(e.firstLine(),0),Ze(e.lastLine()),H)}function so(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),pe(e,"beforeChange",e,r),e.cm&&pe(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function uo(e,t,n){if(e.cm){if(!e.cm.curOp)return Zr(e.cm,uo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ge(e,"beforeChange")||e.cm&&ge(e.cm,"beforeChange"))||(t=so(e,t,!0))){var r=_t&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(et(l.to,s.from)<0||et(l.from,s.to)>0)){var c=[u,1],f=et(l.from,s.from),d=et(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)lo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else lo(e,t)}}function lo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var n=Ti(e,t);Bi(e,t,n,e.cm?e.cm.curOp.id:NaN),ho(e,t,n,Et(e,t));var r=[];Mi(e,(function(e,n){n||-1!=z(r,e.history)||(go(e.history,t),r.push(e.history)),ho(e,t,null,Et(e,t))}))}}function co(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,u="undo"==t?o.undone:o.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(Ui(i,u),n&&!i.equals(e.sel))return void $i(e,i,{clearRedo:!1});a=i}var c=[];Ui(a,u),u.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=ge(e,"beforeChange")||e.cm&&ge(e.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=t,f&&!so(e,r,!1))return s.length=0,{};c.push(Fi(e,r));var o=n?Ti(e,r):Q(s);ho(e,r,o,Wi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Ei(r)});var a=[];Mi(e,(function(e,t){t||-1!=z(a,e.history)||(go(e.history,r),a.push(e.history)),ho(e,r,null,Wi(e,r))}))},h=i.changes.length-1;h>=0;--h){var p=d(h);if(p)return p.v}}}}function fo(e,t){if(0!=t&&(e.first+=t,e.sel=new wi(K(e.sel.ranges,(function(e){return new xi(Ze(e.anchor.line+t,e.anchor.ch),Ze(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){cr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)fr(e.cm,r,"gutter")}}function ho(e,t,n,r){if(e.cm&&!e.cm.curOp)return Zr(e.cm,ho)(e,t,n,r);if(t.to.line<e.first)fo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);fo(e,i),t={from:Ze(e.first,0),to:Ze(t.to.line+i,t.to.ch),text:[Q(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Ze(o,qe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ge(e,t.from,t.to),n||(n=Ti(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=Ke(Ft(qe(r,o.line))),r.iter(u,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&me(e),Ni(r,t,n,ar(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,(function(e){var t=Vt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=qe(e,r).stateAfter;if(i&&(!(i instanceof ut)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),ni(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?cr(e):o.line!=a.line||1!=t.text.length||ji(e.doc,t)?cr(e,o.line,a.line+1,l):fr(e,o.line,"text");var c=ge(e,"changes"),f=ge(e,"change");if(f||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&sn(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,r):Ni(e,t,r),Zi(e,n,H),e.cantEdit&&io(e,Ze(e.firstLine(),0))&&(e.cantEdit=!1)}}function po(e,t,n,r,i){var o;r||(r=n),et(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),uo(e,{from:n,to:r,text:t,origin:i})}function vo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function mo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)vo(o.ranges[s].anchor,t,n,r),vo(o.ranges[s].head,t,n,r)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=Ze(l.from.line+r,l.from.ch),l.to=Ze(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function go(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;mo(e.done,n,r,i),mo(e.undone,n,r,i)}function yo(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=qe(e,ot(e,t)):i=Ke(t),null==i?null:(r(o,i)&&e.cm&&fr(e.cm,i,n),o)}function bo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function _o(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}xi.prototype.from=function(){return it(this.anchor,this.head)},xi.prototype.to=function(){return rt(this.anchor,this.head)},xi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},bo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Gt(i),sn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},_o.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof bo))){var s=[];this.collapse(s),this.children=[new bo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new bo(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++r,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new _o(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=z(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new _o(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var wo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function xo(e,t,n){Ht(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Dr(e,n)}wo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ke(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=_n(this);Qe(n,Math.max(0,n.height-o)),e&&($r(e,(function(){xo(e,n,-o),fr(e,r,"widget")})),sn(e,"lineWidgetCleared",e,this,r))}},wo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=_n(this)-t;i&&(zt(this.doc,r)||Qe(r,r.height+i),n&&$r(n,(function(){n.curOp.forceUpdate=!0,xo(n,r,i),sn(n,"lineWidgetChanged",n,e,Ke(r))})))},ye(wo);var Oo=0,ko=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Oo};function Eo(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=F(r)).shared=!1;var o=[Eo(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Mi(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Eo(e,at(e,t),at(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=Q(o)})),new So(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Zr(e.cm,Eo)(e,t,n,r,i);var o=new ko(e,i),a=et(t,n);if(r&&F(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Lt(e,t.line,t,n,o)||t.line!=n.line&&Lt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");wt=!0}o.addToHistory&&Bi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,u=t.line,l=e.cm;if(e.iter(u,n.line+1,(function(e){l&&o.collapsed&&!l.options.lineWrapping&&Ft(e)==l.display.maxLine&&(s=!0),o.collapsed&&u!=t.line&&Qe(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new xt(o,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){zt(e,t)&&Qe(t,0)})),o.clearOnEnter&&fe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(_t=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Oo,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)cr(l,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)fr(l,c,"text");o.atomic&&to(l.doc),sn(l,"markerAdded",l,o)}return o}ko.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&qr(e),ge(this,"clear")){var n=this.find();n&&sn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Ot(a.markedSpans,this);e&&!this.collapsed?fr(e,Ke(a),"text"):e&&(null!=s.to&&(i=Ke(a)),null!=s.from&&(r=Ke(a))),a.markedSpans=kt(a.markedSpans,s),null==s.from&&this.collapsed&&!zt(this.doc,a)&&e&&Qe(a,nr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=Ft(this.lines[u]),c=Vt(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&cr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&to(e.doc)),e&&sn(e,"markerCleared",e,this,r,i),t&&Gr(e),this.parent&&this.parent.clear()}},ko.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ot(o.markedSpans,this);if(null!=a.from&&(n=Ze(t?o:Ke(o),a.from),-1==e))return n;if(null!=a.to&&(r=Ze(t?o:Ke(o),a.to),1==e))return r}return n&&{from:n,to:r}},ko.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&$r(r,(function(){var i=t.line,o=Ke(t.line),a=An(r,o);if(a&&(Fn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!zt(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var u=_n(n)-s;u&&Qe(i,i.height+u)}sn(r,"markerChanged",r,e)}))},ko.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ko.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ye(ko);var So=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function To(e){return e.findMarks(Ze(e.first,0),e.clipPos(Ze(e.lastLine())),(function(e){return e.parent}))}function Co(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Mi(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}So.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sn(this,"clear")}},So.prototype.find=function(e,t){return this.primary.find(e,t)},ye(So);var Do=0,Ao=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),_o.call(this,[new bo([new qt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=Ze(r,0);this.sel=ki(a),this.history=new Li(null),this.id=++Do,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ni(this,{from:a,to:a,text:t}),$i(this,ki(a),H)};(Ao.prototype=J(_o.prototype,{constructor:Ao,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ye(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ti((function(e){var t=Ze(this.first,0),n=this.first+this.size-1;uo(this,{from:t,to:Ze(n,qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&jr(this.cm,0,0),$i(this,ki(t),H)})),replaceRange:function(e,t,n,r){po(this,e,t=at(this,t),n=n?at(this,n):t,r)},getRange:function(e,t,n){var r=Ge(this,at(this,e),at(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Je(this,e))return qe(this,e)},getLineNumber:function(e){return Ke(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=qe(this,e)),Ft(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ti((function(e,t,n){Xi(this,at(this,"number"==typeof e?Ze(e,t||0):e),null,n)})),setSelection:ti((function(e,t,n){Xi(this,at(this,e),at(this,t||e),n)})),extendSelection:ti((function(e,t,n){Yi(this,at(this,e),t&&at(this,t),n)})),extendSelections:ti((function(e,t){Qi(this,st(this,e),t)})),extendSelectionsBy:ti((function(e,t){Qi(this,st(this,K(this.sel.ranges,e)),t)})),setSelections:ti((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new xi(at(this,e[i].anchor),at(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),$i(this,Oi(this.cm,r,t),n)}})),addSelection:ti((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new xi(at(this,e),at(this,t||e))),$i(this,Oi(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ti((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=Ze(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=Ci(s.from,i,o),l=Ci(Ei(s),i,o);if(i=s.to,o=l,"around"==n){var c=e.sel.ranges[a],f=et(c.head,c.anchor)<0;r[a]=new xi(f?l:u,f?u:l)}else r[a]=new xi(u,u)}return new wi(r,e.sel.primIndex)}(this,r,t),u=r.length-1;u>=0;u--)uo(this,r[u]);s?Ji(this,s):this.cm&&Ar(this.cm)})),undo:ti((function(){co(this,"undo")})),redo:ti((function(){co(this,"redo")})),undoSelection:ti((function(){co(this,"undo",!0)})),redoSelection:ti((function(){co(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Li(this.history.maxGeneration),Mi(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:qi(this.history.done),undone:qi(this.history.undone)}},setHistory:function(e){var t=this.history=new Li(this.history.maxGeneration);t.done=qi(e.done.slice(0),null,!0),t.undone=qi(e.undone.slice(0),null,!0)},setGutterMarker:ti((function(e,t,n){return yo(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&te(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ti((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&yo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Je(this,e))return null;if(t=e,!(e=qe(this,e)))return null}else if(null==(t=Ke(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ti((function(e,t,n){return yo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(k(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:ti((function(e,t,n){return yo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(k(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:ti((function(e,t,n){return function(e,t,n,r){var i=new wo(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),yo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!zt(e,t)){var r=Ht(t)<e.scrollTop;Qe(t,t.height+_n(i)),r&&Dr(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&sn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Ke(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Eo(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Eo(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=qe(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),at(this,Ze(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Ao(Ye(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ao(Ye(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(et(o,a)){var s=Eo(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,To(this)),r},unlinkDoc:function(e){if(e instanceof Sa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Co(To(this));break}if(e.history==this.history){var n=[e.id];Mi(e,(function(e){return n.push(e.id)}),!0),e.history=new Li(null),e.history.done=qi(this.history.done,n),e.history.undone=qi(this.history.undone,n)}},iterLinkedDocs:function(e){Mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ae(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ti((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&$r(t=this.cm,(function(){Pi(t),cr(t)})))}))})).eachLine=Ao.prototype.iter;var jo=0;function No(e){var t=this;if(Mo(t),!ve(t,e)&&!wn(t.display,e)){be(e),a&&(jo=+new Date);var n=ur(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,u=function(){++s==i&&Zr(t,(function(){var e={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};uo(t.doc,e),Ji(t.doc,ki(at(t.doc,n),at(t.doc,Ei(e))))}))()},l=function(e,n){if(t.options.allowDropFileTypes&&-1==z(t.options.allowDropFileTypes,e.type))u();else{var r=new FileReader;r.onerror=function(){return u()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),u()},r.readAsText(e)}},c=0;c<r.length;c++)l(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Zi(t.doc,ki(n,n)),d)for(var h=0;h<d.length;++h)po(t.doc,"",d[h].anchor,d[h].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(p){}}}}function Mo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Io(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Po=!1;function Lo(){Po||(function(){var e;fe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Io(Fo)}),100))})),fe(window,"blur",(function(){return Io(kr)}))}(),Po=!0)}function Fo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bo=0;Bo<10;Bo++)Ro[Bo+48]=Ro[Bo+96]=String(Bo);for(var zo=65;zo<=90;zo++)Ro[zo]=String.fromCharCode(zo);for(var Uo=1;Uo<=12;Uo++)Ro[Uo+111]=Ro[Uo+63235]="F"+Uo;var Ho={};function Vo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Wo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=K(n.split(" "),Vo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e}function qo(e,t,n,r){var i=(t=Ko(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return qo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=qo(e,t.fallthrough[o],n,r);if(a)return a}}}function Go(e){var t="string"==typeof e?e:Ro[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Yo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Qo(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Ro[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Yo(n,e,t))}function Ko(e){return"string"==typeof e?Ho[e]:e}function Xo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&et(o.from,Q(r).to)<=0;){var a=r.pop();if(et(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}$r(e,(function(){for(var t=r.length-1;t>=0;t--)po(e.doc,"",r[t].from,r[t].to,"+delete");Ar(e)}))}function Jo(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function $o(e,t,n){var r=Jo(e,t.ch,n);return null==r?null:new Ze(t.line,r,n<0?"after":"before")}function Zo(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=le(n,t.doc.direction);if(o){var a,s=i<0?Q(o):o[0],u=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var l=jn(t,n);a=i<0?n.text.length-1:0;var c=Nn(t,l,a).top;a=oe((function(e){return Nn(t,l,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Jo(n,a,1))}else a=i<0?s.to:s.from;return new Ze(r,a,u)}}return new Ze(r,i<0?n.text.length:0,i<0?"before":"after")}Ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ho.default=y?Ho.macDefault:Ho.pcDefault;var ea={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return Xo(e,(function(t){if(t.empty()){var n=qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Ze(t.head.line+1,0)}:{from:t.head,to:Ze(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xo(e,(function(t){return{from:Ze(t.from().line,0),to:at(e.doc,Ze(t.to().line+1,0))}}))},delLineLeft:function(e){return Xo(e,(function(e){return{from:Ze(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Ze(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Ze(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ta(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return na(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=qe(e.doc,t),r=function(e){for(var t;t=It(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Ke(r)),Zo(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?na(e,t.head):r}),W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=R(e.getLine(o.line),o.ch,r);t.push(Y(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return $r(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=qe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Ze(i.line,i.ch-1)),i.ch>0)i=new Ze(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Ze(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=qe(e.doc,i.line-1).text;a&&(i=new Ze(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Ze(i.line-1,a.length-1),i,"+transpose"))}n.push(new xi(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return $r(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Ar(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ta(e,t){var n=qe(e.doc,t),r=Ft(n);return r!=n&&(t=Ke(r)),Zo(!0,e,r,t,1)}function na(e,t){var n=ta(e,t.line),r=qe(e.doc,n.line),i=le(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Ze(n.line,a?0:o,n.sticky)}return n}function ra(e,t,n){if("string"==typeof t&&!(t=ea[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=U}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var ia=new B;function oa(e,t,n,r){var i=e.state.keySeq;if(i){if(Go(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ia.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),aa(e,i+" "+t,n,r))return!0}return aa(e,t,n,r)}function aa(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=qo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&qo(t,e.options.extraKeys,n,e)||qo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&sn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(be(n),_r(e)),!!i}function sa(e,t){var n=Qo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?oa(e,"Shift-"+n,t,(function(t){return ra(e,t,!0)}))||oa(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ra(e,t)})):oa(e,n,t,(function(t){return ra(e,t)})))}var ua=null;function la(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=N(),!ve(t,e))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=sa(t,e);f&&(ua=i?r:null,i||88!=r||Ne||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(S(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n))}M(t,"CodeMirror-crosshair"),fe(document,"keyup",n),fe(document,"mouseover",n)}(t)}}function ca(e){16==e.keyCode&&(this.doc.sel.shift=!1),ve(this,e)}function fa(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(wn(t.display,e)||ve(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==ua)return ua=null,void be(e);if(!f||e.which&&!(e.which<10)||!sa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return oa(e,"'"+n+"'",t,(function(t){return ra(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var da,ha,pa=function(e,t,n){this.time=e,this.pos=t,this.button=n};function va(e){var t=this,n=t.display;if(!(ve(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,wn(n,e))u||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!ya(t,e)){var r=ur(t,e),i=ke(e),o=r?function(e,t){var n=+new Date;return ha&&ha.compare(n,e,t)?(da=ha=null,"triple"):da&&da.compare(n,e,t)?(ha=new pa(n,e,t),da=null,"double"):(da=new pa(n,e,t),ha=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),oa(e,Yo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=ea[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=U}finally{e.state.suppressEdits=!1}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){a?setTimeout(L(wr,e),0):e.curOp.focus=N();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(e,n,r),l=e.doc.sel;e.options.dragDrop&&Te&&!e.isReadOnly()&&"single"==n&&(i=l.contains(t))>-1&&(et((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(et(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,l=Zr(e,(function(t){u&&(i.scroller.draggable=!1),e.state.draggingText=!1,he(i.wrapper.ownerDocument,"mouseup",l),he(i.wrapper.ownerDocument,"mousemove",c),he(i.scroller,"dragstart",f),he(i.scroller,"drop",l),o||(be(t),r.addNew||Yi(e.doc,n,null,null,r.extend),u&&!d||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};u&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),fe(i.wrapper.ownerDocument,"mouseup",l),fe(i.wrapper.ownerDocument,"mousemove",c),fe(i.scroller,"dragstart",f),fe(i.scroller,"drop",l),xr(e),setTimeout((function(){return i.input.focus()}),20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;be(t);var a,s,u=o.sel,l=u.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?l[s]:new xi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new xi(n,n)),n=ur(e,t,!0,!0),s=-1;else{var c=ma(e,n,r.unit);a=r.extend?Gi(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=l.length,$i(o,Oi(e,l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==r.unit&&!r.extend?($i(o,Oi(e,l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Ki(o,s,a,V):(s=0,$i(o,new wi([a],0),V),u=o.sel);var f=n;function d(t){if(0!=et(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],l=e.options.tabSize,c=R(qe(o,n.line).text,n.ch,l),d=R(qe(o,t.line).text,t.ch,l),h=Math.min(c,d),p=Math.max(c,d),v=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=m;v++){var g=qe(o,v).text,y=q(g,h,l);h==p?i.push(new xi(Ze(v,y),Ze(v,y))):g.length>y&&i.push(new xi(Ze(v,y),Ze(v,q(g,p,l))))}i.length||i.push(new xi(n,n)),$i(o,Oi(e,u.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,_=a,w=ma(e,t,r.unit),x=_.anchor;et(w.anchor,x)>0?(b=w.head,x=it(_.from(),w.anchor)):(b=w.anchor,x=rt(_.to(),w.head));var O=u.ranges.slice(0);O[s]=function(e,t){var n=t.anchor,r=t.head,i=qe(e.doc,n.line);if(0==et(n,r)&&n.sticky==r.sticky)return t;var o=le(i);if(!o)return t;var a=se(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var u,l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=se(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var d=o[l+(u?-1:0)],h=u==(1==d.level),p=h?d.from:d.to,v=h?"after":"before";return n.ch==p&&n.sticky==v?t:new xi(new Ze(n.line,p,v),r)}(e,new xi(at(o,x),b)),$i(o,Oi(e,O,s),V)}}var h=i.wrapper.getBoundingClientRect(),p=0;function v(t){e.state.selectingText=!1,p=1/0,t&&(be(t),i.input.focus()),he(i.wrapper.ownerDocument,"mousemove",m),he(i.wrapper.ownerDocument,"mouseup",g),o.history.lastSelOrigin=null}var m=Zr(e,(function(t){0!==t.buttons&&ke(t)?function t(n){var a=++p,s=ur(e,n,!0,"rectangle"==r.unit);if(s)if(0!=et(s,f)){e.curOp.focus=N(),d(s);var u=Tr(i,o);(s.line>=u.to||s.line<u.from)&&setTimeout(Zr(e,(function(){p==a&&t(n)})),150)}else{var l=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;l&&setTimeout(Zr(e,(function(){p==a&&(i.scroller.scrollTop+=l,t(n))})),50)}}(t):v(t)})),g=Zr(e,v);e.state.selectingText=g,fe(i.wrapper.ownerDocument,"mousemove",m),fe(i.wrapper.ownerDocument,"mouseup",g)}(e,r,t,o)}(t,r,o,e):Oe(e)==n.scroller&&be(e):2==i?(r&&Yi(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(O?t.display.input.onContextMenu(e):xr(t)))}}function ma(e,t,n){if("char"==n)return new xi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new xi(Ze(t.line,0),at(e.doc,Ze(t.line+1,0)));var r=n(e,t);return new xi(r.from,r.to)}function ga(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(c){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&be(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ge(e,n))return we(t);o-=s.top-a.viewOffset;for(var u=0;u<e.display.gutterSpecs.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i)return pe(e,n,e,Xe(e.doc,o),e.display.gutterSpecs[u].className,t),we(t)}}function ya(e,t){return ga(e,t,"gutterClick",!0)}function ba(e,t){wn(e.display,t)||function(e,t){return!!ge(e,"gutterContextMenu")&&ga(e,t,"gutterContextMenu",!1)}(e,t)||ve(e,t,"contextmenu")||O||e.display.input.onContextMenu(t)}function _a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(e)}pa.prototype.compare=function(e,t,n){return this.time+400>e&&0==et(t,this.pos)&&n==this.button};var wa={toString:function(){return"CodeMirror.Init"}},xa={},Oa={};function ka(e,t,n){if(!t!=!(n&&n!=wa)){var r=e.display.dragFunctions,i=t?fe:he;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Ea(e){e.options.lineWrapping?(M(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(S(e.display.wrapper,"CodeMirror-wrap"),Wt(e)),sr(e),cr(e),Bn(e),setTimeout((function(){return zr(e)}),100)}function Sa(e,t){var n=this;if(!(this instanceof Sa))return new Sa(e,t);this.options=t=t?F(t):{},F(xa,t,!1);var r=t.value;"string"==typeof r?r=new Ao(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Sa.inputStyles[t.inputStyle](this),o=this.display=new vi(e,r,i,t);for(var l in o.wrapper.CodeMirror=this,_a(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!g&&o.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;fe(t.scroller,"mousedown",Zr(e,va)),fe(t.scroller,"dblclick",a&&s<11?Zr(e,(function(t){if(!ve(e,t)){var n=ur(e,t);if(n&&!ya(e,t)&&!wn(e.display,t)){be(t);var r=e.findWordAt(n);Yi(e.doc,r.anchor,r.head)}}})):function(t){return ve(e,t)||be(t)}),fe(t.scroller,"contextmenu",(function(t){return ba(e,t)})),fe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||ba(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}fe(t.scroller,"touchstart",(function(i){if(!ve(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!ya(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),fe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),fe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!wn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new xi(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new xi(Ze(s.line,0),at(e.doc,Ze(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),be(n)}i()})),fe(t.scroller,"touchcancel",i),fe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Ir(e,t.scroller.scrollTop),Lr(e,t.scroller.scrollLeft,!0),pe(e,"scroll",e))})),fe(t.scroller,"mousewheel",(function(t){return _i(e,t)})),fe(t.scroller,"DOMMouseScroll",(function(t){return _i(e,t)})),fe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ve(e,t)||xe(t)},over:function(t){ve(e,t)||(function(e,t){var n=ur(e,t);if(n){var r=document.createDocumentFragment();gr(e,n,r),e.display.dragCursor||(e.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),C(e.display.dragCursor,r)}}(e,t),xe(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-jo<100))xe(t);else if(!ve(e,t)&&!wn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=D("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(e,t)},drop:Zr(e,No),leave:function(t){ve(e,t)||Mo(e)}};var u=t.input.getField();fe(u,"keyup",(function(t){return ca.call(e,t)})),fe(u,"keydown",Zr(e,la)),fe(u,"keypress",Zr(e,fa)),fe(u,"focus",(function(t){return Or(e,t)})),fe(u,"blur",(function(t){return kr(e,t)}))}(this),Lo(),qr(this),this.curOp.forceUpdate=!0,Ii(this,r),t.autofocus&&!g||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Or(n)}),20):kr(this),Oa)Oa.hasOwnProperty(l)&&Oa[l](this,t[l],wa);fi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Ta.length;++c)Ta[c](this);Gr(this),u&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Sa.defaults=xa,Sa.optionHandlers=Oa;var Ta=[];function Ca(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=dt(e,t).state:n="prev");var a=e.options.tabSize,s=qe(o,t),u=R(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((l=o.mode.indent(i,s.text.slice(c.length),s.text))==U||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>o.first?R(qe(o,t-1).text,null,a):0:"add"==n?l=u+e.options.indentUnit:"subtract"==n?l=u-e.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var f="",d=0;if(e.options.indentWithTabs)for(var h=Math.floor(l/a);h;--h)d+=a,f+="\t";if(d<l&&(f+=Y(l-d)),f!=c)return po(o,f,Ze(t,0),Ze(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var v=o.sel.ranges[p];if(v.head.line==t&&v.head.ch<c.length){var m=Ze(t,c.length);Ki(o,p,new xi(m,m));break}}}Sa.defineInitHook=function(e){return Ta.push(e)};var Da=null;function Aa(e){Da=e}function ja(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,u=Ae(t),l=null;if(s&&r.ranges.length>1)if(Da&&Da.text.join("\n")==t){if(r.ranges.length%Da.text.length==0){l=[];for(var c=0;c<Da.text.length;c++)l.push(o.splitLines(Da.text[c]))}}else u.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(l=K(u,(function(e){return[e]})));for(var f=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var h=r.ranges[d],p=h.from(),v=h.to();h.empty()&&(n&&n>0?p=Ze(p.line,p.ch-n):e.state.overwrite&&!s?v=Ze(v.line,Math.min(qe(o,v.line).text.length,v.ch+Q(u).length)):s&&Da&&Da.lineWise&&Da.text.join("\n")==u.join("\n")&&(p=v=Ze(p.line,0)));var m={from:p,to:v,text:l?l[d%l.length]:u,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};uo(e.doc,m),sn(e,"inputRead",e,m)}t&&!s&&Ma(e,t),Ar(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Na(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||$r(t,(function(){return ja(t,n,0,null,"paste")})),!0}function Ma(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Ca(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(qe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ca(e,i.head.line,"smart"));a&&sn(e,"electricInput",e,i.head.line)}}}function Ia(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Ze(i,0),head:Ze(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Pa(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function La(){var e=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=D("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),v&&(e.style.border="1px solid black"),Pa(e),t}function Fa(e,t,n,r,i){var o=t,a=n,s=qe(e,t.line),u=i&&"rtl"==e.direction?-n:n;function l(o){var a;if("codepoint"==r){var l=s.text.charCodeAt(t.ch+(r>0?0:-1));a=isNaN(l)?null:new Ze(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(l>=55296&&l<56320?2:1))),-n)}else a=i?function(e,t,n,r){var i=le(t,e.doc.direction);if(!i)return $o(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=se(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return $o(t,n,r);var s,u=function(e,n){return Jo(t,e instanceof Ze?e.ch:e,n)},l=function(n){return e.options.lineWrapping?(s=s||jn(e,t),Jn(e,t,s,n)):{begin:0,end:t.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,d=u(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var h=f?"before":"after";return new Ze(n.line,d,h)}}var p=function(e,t,r){for(var o=function(e,t){return t?new Ze(n.line,u(e,1),"before"):new Ze(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),l=s?r.begin:u(r.end,-1);if(a.from<=l&&l<a.to)return o(l,s);if(l=s?a.from:u(a.to,-1),r.begin<=l&&l<r.end)return o(l,s)}},v=p(o+r,r,c);if(v)return v;var m=r>0?c.end:u(c.begin,-1);return null==m||r>0&&m==t.text.length||!(v=p(r>0?0:i.length-1,r,l(m)))?null:v}(e.cm,s,t,n):$o(s,t,n);if(null==a){if(o||!function(){var n=t.line+u;return!(n<e.first||n>=e.first+e.size)&&(t=new Ze(n,t.ch,t.sticky),s=qe(e,n))}())return!1;t=Zo(i,e.cm,s,t.line,u)}else t=a;return!0}if("char"==r||"codepoint"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||l(!h);h=!1){var p=s.text.charAt(t.ch)||"\n",v=ee(p,d)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||h||v||(v="s"),c&&c!=v){n<0&&(n=1,l(),t.sticky="after");break}if(v&&(c=v),n>0&&!l(!h))break}var m=io(e,t,o,a,!0);return tt(o,m)&&(m.hitSide=!0),m}function Ra(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*nr(e.display),3);i=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Kn(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ba=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function za(e,t){var n=An(e,t.line);if(!n||n.hidden)return null;var r=qe(e.doc,t.line),i=Cn(n,r,t.line),o=le(r,e.doc.direction),a="left";o&&(a=se(o,t.ch)%2?"right":"left");var s=Pn(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Ua(e,t){return t&&(e.bad=!0),e}function Ha(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Ua(e.clipPos(Ze(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Va(o,t,n)}}function Va(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!j(r,t))return Ua(Ze(Ke(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Q(e.rest):e.line;return Ua(Ze(Ke(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var u=e.measure,l=u.maps;function c(t,n,r){for(var i=-1;i<(l?l.length:0);i++)for(var o=i<0?u.map:l[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=Ke(i<0?e.line:e.rest[i]),f=o[a]+r;return(r<0||s!=t)&&(f=o[a+(r?1:0)]),Ze(c,f)}}}var f=c(a,s,n);if(f)return Ua(f,i);for(var d=s.nextSibling,h=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=c(d,d.firstChild,0))return Ua(Ze(f.line,f.ch-h),i);h+=d.textContent.length}for(var p=s.previousSibling,v=n;p;p=p.previousSibling){if(f=c(p,p.firstChild,-1))return Ua(Ze(f.line,f.ch+v),i);v+=p.textContent.length}}Ba.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ve(r,e)){if(r.somethingSelected())Aa({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ia(r);Aa({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,H),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Da.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=La(),u=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),u.value=Da.text.join("\n");var l=document.activeElement;P(u),setTimeout((function(){r.display.lineSpace.removeChild(s),l.focus(),l==i&&n.showPrimarySelection()}),50)}}Pa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),fe(i,"paste",(function(e){!o(e)||ve(r,e)||Na(e,r)||s<=11&&setTimeout(Zr(r,(function(){return t.updateFromDOM()})),20)})),fe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),fe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),fe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),fe(i,"touchstart",(function(){return n.forceCompositionEnd()})),fe(i,"input",(function(){t.composing||t.readFromDOMSoon()})),fe(i,"copy",a),fe(i,"cut",a)},Ba.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ba.prototype.prepareSelection=function(){var e=mr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Ba.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ba.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ba.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Ha(t,e.anchorNode,e.anchorOffset),s=Ha(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=et(it(a,s),i)||0!=et(rt(a,s),o)){var u=t.display.view,l=i.line>=t.display.viewFrom&&za(t,i)||{node:u[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&za(t,o);if(!c){var f=u[u.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(l&&c){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=E(l.node,l.offset,c.offset,c.node)}catch(v){}h&&(!n&&t.state.focused?(e.collapse(l.node,l.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ba.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ba.prototype.showMultipleSelections=function(e){C(this.cm.display.cursorDiv,e.cursors),C(this.cm.display.selectionDiv,e.selection)},Ba.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ba.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return j(this.div,t)},Ba.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ba.prototype.blur=function(){this.div.blur()},Ba.prototype.getField=function(){return this.div},Ba.prototype.supportsTouch=function(){return!0},Ba.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():$r(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Ba.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ba.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ha(t,e.anchorNode,e.anchorOffset),r=Ha(t,e.focusNode,e.focusOffset);n&&r&&$r(t,(function(){$i(t.doc,ki(n,r),H),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ba.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=Ze(a.line-1,qe(r.doc,a.line-1).length)),s.ch==qe(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=Ze(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=lr(r,a.line))?(t=Ke(i.view[0].line),n=i.view[0].node):(t=Ke(i.view[e].line),n=i.view[e-1].node.nextSibling);var u,l,c=lr(r,s.line);if(c==i.view.length-1?(u=i.viewTo-1,l=i.lineDiv.lastChild):(u=Ke(i.view[c+1].line)-1,l=i.view[c+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),u=!1;function l(){a&&(o+=s,u&&(o+=s),a=u=!1)}function c(e){e&&(l(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void c(n);var o,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(Ze(r,0),Ze(i+1,0),(m=+d,function(e){return e.id==m}));return void(h.length&&(o=h[0].find(0))&&c(Ge(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&l();for(var v=0;v<t.childNodes.length;v++)f(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(u=!0),p&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;f(t),t!=n;)t=t.nextSibling,u=!1;return o}(r,n,l,t,u)),d=Ge(r.doc,Ze(t,0),Ze(u,qe(r.doc,u).text.length));f.length>1&&d.length>1;)if(Q(f)==Q(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),t++}for(var h=0,p=0,v=f[0],m=d[0],g=Math.min(v.length,m.length);h<g&&v.charCodeAt(h)==m.charCodeAt(h);)++h;for(var y=Q(f),b=Q(d),_=Math.min(y.length-(1==f.length?h:0),b.length-(1==d.length?h:0));p<_&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==d.length&&t==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)h--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var w=Ze(t,h),x=Ze(u,d.length?Q(d).length-p:0);return f.length>1||f[0]||et(w,x)?(po(r.doc,f,w,x,"+input"),!0):void 0},Ba.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ba.prototype.reset=function(){this.forceCompositionEnd()},Ba.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ba.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ba.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||$r(this.cm,(function(){return cr(e.cm)}))},Ba.prototype.setUneditable=function(e){e.contentEditable="false"},Ba.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Zr(this.cm,ja)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ba.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ba.prototype.onContextMenu=function(){},Ba.prototype.resetPosition=function(){},Ba.prototype.needsContentAttribute=!0;var Wa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};Wa.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ve(r,e)){if(r.somethingSelected())Aa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ia(r);Aa({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,H):(n.prevInput="",i.value=t.text.join("\n"),P(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),v&&(i.style.width="0px"),fe(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),fe(i,"paste",(function(e){ve(r,e)||Na(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),fe(i,"cut",o),fe(i,"copy",o),fe(e.scroller,"paste",(function(t){if(!wn(e,t)&&!ve(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),fe(e.lineSpace,"selectstart",(function(t){wn(e,t)||be(t)})),fe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),fe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Wa.prototype.createField=function(e){this.wrapper=La(),this.textarea=this.wrapper.firstChild},Wa.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Wa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=mr(e);if(e.options.moveInputWithCursor){var i=Gn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Wa.prototype.showSelection=function(e){var t=this.cm.display;C(t.cursorDiv,e.cursors),C(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Wa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Wa.prototype.getField=function(){return this.textarea},Wa.prototype.supportsTouch=function(){return!1},Wa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},Wa.prototype.blur=function(){this.textarea.blur()},Wa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wa.prototype.receivedFocus=function(){this.slowPoll()},Wa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Wa.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Wa.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||je(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(r.length,i.length);u<l&&r.charCodeAt(u)==i.charCodeAt(u);)++u;return $r(t,(function(){ja(t,i.slice(u),r.length-u,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Wa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Wa.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=ur(n,e),l=r.scroller.scrollTop;if(o&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Zr(n,$i)(n.doc,ki(o),H);var c,d=i.style.cssText,h=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(c=window.scrollY),r.input.focus(),u&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=m,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&v(),O?(xe(e),fe(window,"mouseup",(function e(){he(window,"mouseup",e),setTimeout(m,20)}))):setTimeout(m,50)}function v(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,i.style.cssText=d,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=i.selectionStart)){(!a||a&&s<9)&&v();var e=0;r.detectingSelectAll=setTimeout((function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Zr(n,ao)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())}),200)}}},Wa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Wa.prototype.setUneditable=function(){},Wa.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=wa&&i(e,t,n)}:i)}e.defineOption=n,e.Init=wa,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Di(e)}),!0),n("indentUnit",2,Di,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Ai(e),Bn(e),cr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Ze(r,o))}r++}));for(var i=n.length-1;i>=0;i--)po(e.doc,t,n[i],Ze(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=wa&&e.refresh()})),n("specialCharPlaceholder",Jt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){_a(e),pi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Ko(t),i=n!=wa&&Ko(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ea,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=di(t,e.options.lineNumbers),pi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?or(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return zr(e)}),!0),n("scrollbarStyle","native",(function(e){Vr(e),zr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=di(e.options.gutters,t),pi(e)}),!0),n("firstLineNumber",1,pi,!0),n("lineNumberFormatter",(function(e){return e}),pi,!0),n("showCursorWhenSelecting",!1,vr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(kr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,ka),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,vr,!0),n("singleCursorHeightPerLine",!0,vr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ai,!0),n("addModeClass",!1,Ai,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Ai,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(Sa),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Zr(this,t[e])(this,n,i),pe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ko(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ei((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,cr(this)})),removeOverlay:ei((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void cr(this)}})),indentLine:ei((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Je(this.doc,e)&&Ca(this,e,t,n)})),indentSelection:ei((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ca(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Ar(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<n;++u)Ca(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[r].from().ch>0&&Ki(this.doc,r,new xi(o,l[r].to()),H)}}})),getTokenAt:function(e,t){return gt(this,e,t)},getLineTokens:function(e,t){return gt(this,Ze(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=ft(this,qe(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var u=0;u<i._global.length;u++){var l=i._global[u];l.pred(o,this)&&-1==z(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(e,t){var n=this.doc;return dt(this,(e=ot(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return qn(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Kn(this,(e=Wn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Wn(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=qe(this.doc,e)}else r=e;return Vn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Ht(r):0)},defaultTextHeight:function(){return nr(this.display)},defaultCharWidth:function(){return rr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=Gn(this,at(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(a=e.bottom),s+t.offsetWidth>l&&(s=l-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&function(e,t){var n=Cr(e,t);null!=n.scrollTop&&Ir(e,n.scrollTop),null!=n.scrollLeft&&Lr(e,n.scrollLeft)}(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:ei(la),triggerOnKeyPress:ei(fa),triggerOnKeyUp:ca,triggerOnMouseDown:ei(va),execCommand:function(e){if(ea.hasOwnProperty(e))return ea[e].call(null,this)},triggerElectric:ei((function(e){Ma(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),a=0;a<t&&!(o=Fa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:ei((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Fa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),W)})),deleteH:ei((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Xo(this,(function(n){var i=Fa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=at(this.doc,e),s=0;s<t;++s){var u=Gn(this,a,"div");if(null==o?o=u.left:u.left=o,(a=Ra(this,u,i,n)).hitSide)break}return a},moveV:ei((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=Gn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=Ra(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Dr(n,qn(n,u,"div").top-s.top),u}),W),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=qe(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ee(o,i)?function(e){return ee(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new xi(Ze(e.line,n),Ze(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(e,t){jr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-En(this)-this.display.barHeight,width:e.scrollWidth-En(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:Sn(this)}},scrollIntoView:ei((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Ze(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Nr(e),e.curOp.scrollToPos=t}(this,e):Mr(this,e.from,e.to,e.margin)})),setSize:ei((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Rn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){fr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,pe(this,"refresh",this)})),operation:function(e){return $r(this,e)},startOperation:function(){return qr(this)},endOperation:function(){return Gr(this)},refresh:ei((function(){var e=this.display.cachedTextHeight;cr(this),this.curOp.forceUpdate=!0,Bn(this),jr(this,this.doc.scrollLeft,this.doc.scrollTop),ui(this.display),(null==e||Math.abs(e-nr(this.display))>.5||this.options.lineWrapping)&&sr(this),pe(this,"refresh",this)})),swapDoc:ei((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ii(this,e),Bn(this),this.display.input.reset(),jr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Sa);var qa="iter insert remove copy getEditor constructor".split(" ");for(var Ga in Ao.prototype)Ao.prototype.hasOwnProperty(Ga)&&z(qa,Ga)<0&&(Sa.prototype[Ga]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ao.prototype[Ga]));return ye(Ao),Sa.inputStyles={textarea:Wa,contenteditable:Ba},Sa.defineMode=function(e){Sa.defaults.mode||"null"==e||(Sa.defaults.mode=e),Le.apply(this,arguments)},Sa.defineMIME=function(e,t){Pe[e]=t},Sa.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Sa.defineMIME("text/plain","null"),Sa.defineExtension=function(e,t){Sa.prototype[e]=t},Sa.defineDocExtension=function(e,t){Ao.prototype[e]=t},Sa.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=N();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(fe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(u){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(he(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Sa((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=he,e.on=fe,e.wheelEventPixels=bi,e.Doc=Ao,e.splitLines=Ae,e.countColumn=R,e.findColumn=q,e.isWordChar=Z,e.Pass=U,e.signal=pe,e.Line=qt,e.changeEnd=Ei,e.scrollbarModel=Hr,e.Pos=Ze,e.cmpPos=et,e.modes=Ie,e.mimeModes=Pe,e.resolveMode=Fe,e.getMode=Re,e.modeExtensions=Be,e.extendMode=ze,e.copyState=Ue,e.startState=Ve,e.innerMode=He,e.commands=ea,e.keyMap=Ho,e.keyName=Qo,e.isModifierKey=Go,e.lookupKey=qo,e.normalizeKeyMap=Wo,e.StringStream=We,e.SharedTextMarker=So,e.TextMarker=ko,e.LineWidget=wo,e.e_preventDefault=be,e.e_stopPropagation=_e,e.e_stop=xe,e.addClass=M,e.contains=j,e.rmClass=S,e.keyNames=Ro}(Sa),Sa.version="5.58.1",Sa}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r="function"===typeof Symbol?Symbol.iterator:"@@iterator",i="function"===typeof Symbol?Symbol.asyncIterator:"@@asyncIterator",o="function"===typeof Symbol?Symbol.toStringTag:"@@toStringTag"},function(e,t,n){e.exports=n(192)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109);Object.defineProperty(t,"DefaultToastContainer",{enumerable:!0,get:function(){return r.ToastContainer}});var i=n(79);Object.defineProperty(t,"DefaultToast",{enumerable:!0,get:function(){return i.DefaultToast}});var o=n(210);Object.defineProperty(t,"ToastConsumer",{enumerable:!0,get:function(){return o.ToastConsumer}}),Object.defineProperty(t,"ToastProvider",{enumerable:!0,get:function(){return o.ToastProvider}}),Object.defineProperty(t,"withToastManager",{enumerable:!0,get:function(){return o.withToastManager}}),Object.defineProperty(t,"useToasts",{enumerable:!0,get:function(){return o.useToasts}})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"object"==r(e)&&null!==e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n(16),o=n(2),a=n(1);function s(e,t){var n;return t.kind===o.a.LIST_TYPE?(n=s(e,t.type))&&Object(a.d)(n):t.kind===o.a.NON_NULL_TYPE?(n=s(e,t.type))&&Object(a.e)(n):t.kind===o.a.NAMED_TYPE?e.getType(t.name.value):void Object(i.a)(0,"Unexpected type node: "+Object(r.a)(t))}},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return r})),n.d(t,"versionInfo",(function(){return i})),n.d(t,"graphql",(function(){return ce})),n.d(t,"graphqlSync",(function(){return fe})),n.d(t,"GraphQLSchema",(function(){return he.a})),n.d(t,"GraphQLDirective",(function(){return w.c})),n.d(t,"GraphQLScalarType",(function(){return x.g})),n.d(t,"GraphQLObjectType",(function(){return x.f})),n.d(t,"GraphQLInterfaceType",(function(){return x.c})),n.d(t,"GraphQLUnionType",(function(){return x.h})),n.d(t,"GraphQLEnumType",(function(){return x.a})),n.d(t,"GraphQLInputObjectType",(function(){return x.b})),n.d(t,"GraphQLList",(function(){return x.d})),n.d(t,"GraphQLNonNull",(function(){return x.e})),n.d(t,"specifiedScalarTypes",(function(){return pe.g})),n.d(t,"GraphQLInt",(function(){return pe.d})),n.d(t,"GraphQLFloat",(function(){return pe.b})),n.d(t,"GraphQLString",(function(){return pe.e})),n.d(t,"GraphQLBoolean",(function(){return pe.a})),n.d(t,"GraphQLID",(function(){return pe.c})),n.d(t,"specifiedDirectives",(function(){return w.j})),n.d(t,"GraphQLIncludeDirective",(function(){return w.d})),n.d(t,"GraphQLSkipDirective",(function(){return w.e})),n.d(t,"GraphQLDeprecatedDirective",(function(){return w.b})),n.d(t,"GraphQLSpecifiedByDirective",(function(){return w.f})),n.d(t,"TypeKind",(function(){return _.TypeKind})),n.d(t,"DEFAULT_DEPRECATION_REASON",(function(){return w.a})),n.d(t,"introspectionTypes",(function(){return _.introspectionTypes})),n.d(t,"__Schema",(function(){return _.__Schema})),n.d(t,"__Directive",(function(){return _.__Directive})),n.d(t,"__DirectiveLocation",(function(){return _.__DirectiveLocation})),n.d(t,"__Type",(function(){return _.__Type})),n.d(t,"__Field",(function(){return _.__Field})),n.d(t,"__InputValue",(function(){return _.__InputValue})),n.d(t,"__EnumValue",(function(){return _.__EnumValue})),n.d(t,"__TypeKind",(function(){return _.__TypeKind})),n.d(t,"SchemaMetaFieldDef",(function(){return _.SchemaMetaFieldDef})),n.d(t,"TypeMetaFieldDef",(function(){return _.TypeMetaFieldDef})),n.d(t,"TypeNameMetaFieldDef",(function(){return _.TypeNameMetaFieldDef})),n.d(t,"isSchema",(function(){return he.c})),n.d(t,"isDirective",(function(){return w.h})),n.d(t,"isType",(function(){return x.S})),n.d(t,"isScalarType",(function(){return x.R})),n.d(t,"isObjectType",(function(){return x.N})),n.d(t,"isInterfaceType",(function(){return x.H})),n.d(t,"isUnionType",(function(){return x.T})),n.d(t,"isEnumType",(function(){return x.E})),n.d(t,"isInputObjectType",(function(){return x.F})),n.d(t,"isListType",(function(){return x.J})),n.d(t,"isNonNullType",(function(){return x.L})),n.d(t,"isInputType",(function(){return x.G})),n.d(t,"isOutputType",(function(){return x.O})),n.d(t,"isLeafType",(function(){return x.I})),n.d(t,"isCompositeType",(function(){return x.D})),n.d(t,"isAbstractType",(function(){return x.C})),n.d(t,"isWrappingType",(function(){return x.U})),n.d(t,"isNullableType",(function(){return x.M})),n.d(t,"isNamedType",(function(){return x.K})),n.d(t,"isRequiredArgument",(function(){return x.P})),n.d(t,"isRequiredInputField",(function(){return x.Q})),n.d(t,"isSpecifiedScalarType",(function(){return pe.f})),n.d(t,"isIntrospectionType",(function(){return _.isIntrospectionType})),n.d(t,"isSpecifiedDirective",(function(){return w.i})),n.d(t,"assertSchema",(function(){return he.b})),n.d(t,"assertDirective",(function(){return w.g})),n.d(t,"assertType",(function(){return x.x})),n.d(t,"assertScalarType",(function(){return x.w})),n.d(t,"assertObjectType",(function(){return x.u})),n.d(t,"assertInterfaceType",(function(){return x.o})),n.d(t,"assertUnionType",(function(){return x.y})),n.d(t,"assertEnumType",(function(){return x.l})),n.d(t,"assertInputObjectType",(function(){return x.m})),n.d(t,"assertListType",(function(){return x.q})),n.d(t,"assertNonNullType",(function(){return x.s})),n.d(t,"assertInputType",(function(){return x.n})),n.d(t,"assertOutputType",(function(){return x.v})),n.d(t,"assertLeafType",(function(){return x.p})),n.d(t,"assertCompositeType",(function(){return x.k})),n.d(t,"assertAbstractType",(function(){return x.j})),n.d(t,"assertWrappingType",(function(){return x.z})),n.d(t,"assertNullableType",(function(){return x.t})),n.d(t,"assertNamedType",(function(){return x.r})),n.d(t,"getNullableType",(function(){return x.B})),n.d(t,"getNamedType",(function(){return x.A})),n.d(t,"validateSchema",(function(){return u.b})),n.d(t,"assertValidSchema",(function(){return u.a})),n.d(t,"Token",(function(){return ve.b})),n.d(t,"Source",(function(){return me.a})),n.d(t,"Location",(function(){return ve.a})),n.d(t,"getLocation",(function(){return ge.a})),n.d(t,"printLocation",(function(){return ye.a})),n.d(t,"printSourceLocation",(function(){return ye.b})),n.d(t,"Lexer",(function(){return be.a})),n.d(t,"TokenKind",(function(){return _e.a})),n.d(t,"parse",(function(){return a.a})),n.d(t,"parseValue",(function(){return a.c})),n.d(t,"parseType",(function(){return a.b})),n.d(t,"print",(function(){return C.a})),n.d(t,"visit",(function(){return we.c})),n.d(t,"visitInParallel",(function(){return we.d})),n.d(t,"getVisitFn",(function(){return we.b})),n.d(t,"BREAK",(function(){return we.a})),n.d(t,"Kind",(function(){return b.a})),n.d(t,"DirectiveLocation",(function(){return xe.a})),n.d(t,"isDefinitionNode",(function(){return Oe.a})),n.d(t,"isExecutableDefinitionNode",(function(){return Oe.b})),n.d(t,"isSelectionNode",(function(){return Oe.c})),n.d(t,"isValueNode",(function(){return Oe.i})),n.d(t,"isTypeNode",(function(){return Oe.f})),n.d(t,"isTypeSystemDefinitionNode",(function(){return Oe.g})),n.d(t,"isTypeDefinitionNode",(function(){return Oe.d})),n.d(t,"isTypeSystemExtensionNode",(function(){return Oe.h})),n.d(t,"isTypeExtensionNode",(function(){return Oe.e})),n.d(t,"execute",(function(){return z})),n.d(t,"executeSync",(function(){return U})),n.d(t,"defaultFieldResolver",(function(){return ue})),n.d(t,"defaultTypeResolver",(function(){return se})),n.d(t,"responsePathAsArray",(function(){return m})),n.d(t,"getDirectiveValues",(function(){return R})),n.d(t,"subscribe",(function(){return De})),n.d(t,"createSourceEventStream",(function(){return Ne})),n.d(t,"validate",(function(){return s.c})),n.d(t,"ValidationContext",(function(){return Ie.b})),n.d(t,"specifiedRules",(function(){return Pe.a})),n.d(t,"ExecutableDefinitionsRule",(function(){return Le.a})),n.d(t,"FieldsOnCorrectTypeRule",(function(){return Fe.a})),n.d(t,"FragmentsOnCompositeTypesRule",(function(){return Re.a})),n.d(t,"KnownArgumentNamesRule",(function(){return Be.b})),n.d(t,"KnownDirectivesRule",(function(){return ze.a})),n.d(t,"KnownFragmentNamesRule",(function(){return Ue.a})),n.d(t,"KnownTypeNamesRule",(function(){return He.a})),n.d(t,"LoneAnonymousOperationRule",(function(){return Ve.a})),n.d(t,"NoFragmentCyclesRule",(function(){return We.a})),n.d(t,"NoUndefinedVariablesRule",(function(){return qe.a})),n.d(t,"NoUnusedFragmentsRule",(function(){return Ge.a})),n.d(t,"NoUnusedVariablesRule",(function(){return Ye.a})),n.d(t,"OverlappingFieldsCanBeMergedRule",(function(){return Qe.a})),n.d(t,"PossibleFragmentSpreadsRule",(function(){return Ke.a})),n.d(t,"ProvidedRequiredArgumentsRule",(function(){return Xe.b})),n.d(t,"ScalarLeafsRule",(function(){return Je.a})),n.d(t,"SingleFieldSubscriptionsRule",(function(){return $e.a})),n.d(t,"UniqueArgumentNamesRule",(function(){return Ze.a})),n.d(t,"UniqueDirectivesPerLocationRule",(function(){return et.a})),n.d(t,"UniqueFragmentNamesRule",(function(){return tt.a})),n.d(t,"UniqueInputFieldNamesRule",(function(){return nt.a})),n.d(t,"UniqueOperationNamesRule",(function(){return rt.a})),n.d(t,"UniqueVariableNamesRule",(function(){return it.a})),n.d(t,"ValuesOfCorrectTypeRule",(function(){return ot.a})),n.d(t,"VariablesAreInputTypesRule",(function(){return at.a})),n.d(t,"VariablesInAllowedPositionRule",(function(){return st.a})),n.d(t,"LoneSchemaDefinitionRule",(function(){return ut.a})),n.d(t,"UniqueOperationTypesRule",(function(){return lt.a})),n.d(t,"UniqueTypeNamesRule",(function(){return ct.a})),n.d(t,"UniqueEnumValueNamesRule",(function(){return ft.a})),n.d(t,"UniqueFieldDefinitionNamesRule",(function(){return dt.a})),n.d(t,"UniqueDirectiveNamesRule",(function(){return ht.a})),n.d(t,"PossibleTypeExtensionsRule",(function(){return pt.a})),n.d(t,"NoDeprecatedCustomRule",(function(){return vt.a})),n.d(t,"NoSchemaIntrospectionCustomRule",(function(){return mt})),n.d(t,"GraphQLError",(function(){return g.a})),n.d(t,"syntaxError",(function(){return gt.a})),n.d(t,"locatedError",(function(){return y.a})),n.d(t,"printError",(function(){return g.b})),n.d(t,"formatError",(function(){return yt})),n.d(t,"getIntrospectionQuery",(function(){return bt.a})),n.d(t,"getOperationAST",(function(){return _t})),n.d(t,"getOperationRootType",(function(){return k})),n.d(t,"introspectionFromSchema",(function(){return Ot})),n.d(t,"buildClientSchema",(function(){return kt.a})),n.d(t,"buildASTSchema",(function(){return Lt})),n.d(t,"buildSchema",(function(){return Ft})),n.d(t,"getDescription",(function(){return Pt})),n.d(t,"extendSchema",(function(){return At})),n.d(t,"lexicographicSortSchema",(function(){return Ht})),n.d(t,"printSchema",(function(){return Yt})),n.d(t,"printType",(function(){return $t})),n.d(t,"printIntrospectionSchema",(function(){return Qt})),n.d(t,"typeFromAST",(function(){return O.a})),n.d(t,"valueFromAST",(function(){return D.a})),n.d(t,"valueFromASTUntyped",(function(){return un.a})),n.d(t,"astFromValue",(function(){return Gt.a})),n.d(t,"TypeInfo",(function(){return ln.a})),n.d(t,"visitWithTypeInfo",(function(){return ln.b})),n.d(t,"coerceInputValue",(function(){return M})),n.d(t,"concatAST",(function(){return fn})),n.d(t,"separateOperations",(function(){return dn})),n.d(t,"stripIgnoredCharacters",(function(){return pn})),n.d(t,"isEqualType",(function(){return mn.b})),n.d(t,"isTypeSubTypeOf",(function(){return mn.c})),n.d(t,"doTypesOverlap",(function(){return mn.a})),n.d(t,"assertValidName",(function(){return gn.a})),n.d(t,"isValidNameError",(function(){return gn.b})),n.d(t,"BreakingChangeType",(function(){return wn})),n.d(t,"DangerousChangeType",(function(){return xn})),n.d(t,"findBreakingChanges",(function(){return On})),n.d(t,"findDangerousChanges",(function(){return kn})),n.d(t,"findDeprecatedUsages",(function(){return Fn.a}));var r="15.3.0",i=Object.freeze({major:15,minor:3,patch:0,preReleaseTag:null});function o(e){return"function"===typeof(null===e||void 0===e?void 0:e.then)}var a=n(54),s=n(55),u=n(59),l=n(50),c=n(4);var f=n(16),d=n(9),h=n(27),p=n(60);function v(e,t,n){return{prev:e,key:t,typename:n}}function m(e){for(var t=[],n=e;n;)t.push(n.key),n=n.prev;return t.reverse()}var g=n(3),y=n(61),b=n(2),_=n(12),w=n(18),x=n(1),O=n(29);function k(e,t){if("query"===t.operation){var n=e.getQueryType();if(!n)throw new g.a("Schema does not define the required query root type.",t);return n}if("mutation"===t.operation){var r=e.getMutationType();if(!r)throw new g.a("Schema is not configured for mutations.",t);return r}if("subscription"===t.operation){var i=e.getSubscriptionType();if(!i)throw new g.a("Schema is not configured for subscriptions.",t);return i}throw new g.a("Can only have query, mutation and subscription operations.",t)}var E=n(48),S=n(31);function T(e){return e.map((function(e){return"number"===typeof e?"["+e.toString()+"]":"."+e})).join("")}var C=n(17),D=n(57),A=n(15),j=n(34),N=n(36);function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;return P(e,t,n)}function I(e,t,n){var r="Invalid value "+Object(c.a)(t);throw e.length>0&&(r+=' at "value'.concat(T(e),'"')),n.message=r+": "+n.message,n}function P(e,t,n,r){if(Object(x.L)(t))return null!=e?P(e,t.ofType,n,r):void n(m(r),e,new g.a('Expected non-nullable type "'.concat(Object(c.a)(t),'" not to be null.')));if(null==e)return null;if(Object(x.J)(t)){var i=t.ofType;return Object(p.a)(e)?Object(l.a)(e,(function(e,t){var o=v(r,t,void 0);return P(e,i,n,o)})):[P(e,i,n,r)]}if(Object(x.F)(t)){if(!Object(h.a)(e))return void n(m(r),e,new g.a('Expected type "'.concat(t.name,'" to be an object.')));for(var o={},a=t.getFields(),s=0,u=Object(A.a)(a);s<u.length;s++){var d=u[s],y=e[d.name];if(void 0!==y)o[d.name]=P(y,d.type,n,v(r,d.name,t.name));else if(void 0!==d.defaultValue)o[d.name]=d.defaultValue;else if(Object(x.L)(d.type)){var b=Object(c.a)(d.type);n(m(r),e,new g.a('Field "'.concat(d.name,'" of required type "').concat(b,'" was not provided.')))}}for(var _=0,w=Object.keys(e);_<w.length;_++){var O=w[_];if(!a[O]){var k=Object(N.a)(O,Object.keys(t.getFields()));n(m(r),e,new g.a('Field "'.concat(O,'" is not defined by type "').concat(t.name,'".')+Object(j.a)(k)))}}return o}if(Object(x.I)(t)){var E;try{E=t.parseValue(e)}catch(S){return void(S instanceof g.a?n(m(r),e,S):n(m(r),e,new g.a('Expected type "'.concat(t.name,'". ')+S.message,void 0,void 0,void 0,void 0,S)))}return void 0===E&&n(m(r),e,new g.a('Expected type "'.concat(t.name,'".'))),E}Object(f.a)(0,"Unexpected input type: "+Object(c.a)(t))}function L(e,t,n,r){var i=[],o=null===r||void 0===r?void 0:r.maxErrors;try{var a=function(e,t,n,r){for(var i={},o=function(o){var a=t[o],s=a.variable.name.value,u=Object(O.a)(e,a.type);if(!Object(x.G)(u)){var l=Object(C.a)(a.type);return r(new g.a('Variable "$'.concat(s,'" expected value of type "').concat(l,'" which cannot be used as an input type.'),a.type)),"continue"}if(!B(n,s)){if(a.defaultValue)i[s]=Object(D.a)(a.defaultValue,u);else if(Object(x.L)(u)){var f=Object(c.a)(u);r(new g.a('Variable "$'.concat(s,'" of required type "').concat(f,'" was not provided.'),a))}return"continue"}var d=n[s];if(null===d&&Object(x.L)(u)){var h=Object(c.a)(u);return r(new g.a('Variable "$'.concat(s,'" of non-null type "').concat(h,'" must not be null.'),a)),"continue"}i[s]=M(d,u,(function(e,t,n){var i='Variable "$'.concat(s,'" got invalid value ')+Object(c.a)(t);e.length>0&&(i+=' at "'.concat(s).concat(T(e),'"')),r(new g.a(i+"; "+n.message,a,void 0,void 0,void 0,n.originalError))}))},a=0;a<t.length;a++)o(a);return i}(e,t,n,(function(e){if(null!=o&&i.length>=o)throw new g.a("Too many errors processing variables, error limit reached. Execution aborted.");i.push(e)}));if(0===i.length)return{coerced:a}}catch(s){i.push(s)}return{errors:i}}function F(e,t,n){for(var r,i={},o=null!==(r=t.arguments)&&void 0!==r?r:[],a=Object(S.a)(o,(function(e){return e.name.value})),s=0,u=e.args;s<u.length;s++){var l=u[s],f=l.name,d=l.type,h=a[f];if(h){var p=h.value,v=p.kind===b.a.NULL;if(p.kind===b.a.VARIABLE){var m=p.name.value;if(null==n||!B(n,m)){if(void 0!==l.defaultValue)i[f]=l.defaultValue;else if(Object(x.L)(d))throw new g.a('Argument "'.concat(f,'" of required type "').concat(Object(c.a)(d),'" ')+'was provided the variable "$'.concat(m,'" which was not provided a runtime value.'),p);continue}v=null==n[m]}if(v&&Object(x.L)(d))throw new g.a('Argument "'.concat(f,'" of non-null type "').concat(Object(c.a)(d),'" ')+"must not be null.",p);var y=Object(D.a)(p,d,n);if(void 0===y)throw new g.a('Argument "'.concat(f,'" has invalid value ').concat(Object(C.a)(p),"."),p);i[f]=y}else if(void 0!==l.defaultValue)i[f]=l.defaultValue;else if(Object(x.L)(d))throw new g.a('Argument "'.concat(f,'" of required type "').concat(Object(c.a)(d),'" ')+"was not provided.",t)}return i}function R(e,t,n){var r=t.directives&&Object(E.a)(t.directives,(function(t){return t.name.value===e.name}));if(r)return F(e,r,n)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t,n,r,i,o,a,s){return H(1===arguments.length?e:{schema:e,document:t,rootValue:n,contextValue:r,variableValues:i,operationName:o,fieldResolver:a,typeResolver:s})}function U(e){var t=H(e);if(o(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function H(e){var t=e.schema,n=e.document,r=e.rootValue,i=e.contextValue,a=e.variableValues,s=e.operationName,u=e.fieldResolver,l=e.typeResolver;V(t,n,a);var c=W(t,n,r,i,a,s,u,l);if(Array.isArray(c))return{errors:c};var f=function(e,t,n){var r=k(e.schema,t),i=G(e,r,t.selectionSet,Object.create(null),Object.create(null));try{var a="mutation"===t.operation?function(e,t,n,r,i){return a=Object.keys(i),s=function(a,s){var u=i[s],l=v(r,s,t.name),c=K(e,t,n,u,l);return void 0===c?a:o(c)?c.then((function(e){return a[s]=e,a})):(a[s]=c,a)},u=Object.create(null),a.reduce((function(e,t){return o(e)?e.then((function(e){return s(e,t)})):s(e,t)}),u);var a,s,u}(e,r,n,void 0,i):q(e,r,n,void 0,i);return o(a)?a.then(void 0,(function(t){return e.errors.push(t),Promise.resolve(null)})):a}catch(s){return e.errors.push(s),null}}(c,c.operation,r);return function e(t,n){if(o(n))return n.then((function(n){return e(t,n)}));return 0===t.errors.length?{data:n}:{errors:t.errors,data:n}}(c,f)}function V(e,t,n){t||Object(d.a)(0,"Must provide document."),Object(u.a)(e),null==n||Object(h.a)(n)||Object(d.a)(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function W(e,t,n,r,i,o,a,s){for(var u,l,c,f=Object.create(null),d=0,h=t.definitions;d<h.length;d++){var p=h[d];switch(p.kind){case b.a.OPERATION_DEFINITION:if(null==o){if(void 0!==c)return[new g.a("Must provide operation name if query contains multiple operations.")];c=p}else(null===(u=p.name)||void 0===u?void 0:u.value)===o&&(c=p);break;case b.a.FRAGMENT_DEFINITION:f[p.name.value]=p}}if(!c)return null!=o?[new g.a('Unknown operation named "'.concat(o,'".'))]:[new g.a("Must provide an operation.")];var v=L(e,null!==(l=c.variableDefinitions)&&void 0!==l?l:[],null!==i&&void 0!==i?i:{},{maxErrors:50});return v.errors?v.errors:{schema:e,fragments:f,rootValue:n,contextValue:r,operation:c,variableValues:v.coerced,fieldResolver:null!==a&&void 0!==a?a:ue,typeResolver:null!==s&&void 0!==s?s:se,errors:[]}}function q(e,t,n,r,i){for(var a=Object.create(null),s=!1,u=0,l=Object.keys(i);u<l.length;u++){var c=l[u],f=K(e,t,n,i[c],v(r,c,t.name));void 0!==f&&(a[c]=f,!s&&o(f)&&(s=!0))}return s?function(e){var t=Object.keys(e),n=t.map((function(t){return e[t]}));return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return e[t[r]]=n,e}),Object.create(null))}))}(a):a}function G(e,t,n,r,i){for(var o=0,a=n.selections;o<a.length;o++){var s=a[o];switch(s.kind){case b.a.FIELD:if(!Y(e,s))continue;var u=(f=s).alias?f.alias.value:f.name.value;r[u]||(r[u]=[]),r[u].push(s);break;case b.a.INLINE_FRAGMENT:if(!Y(e,s)||!Q(e,s,t))continue;G(e,t,s.selectionSet,r,i);break;case b.a.FRAGMENT_SPREAD:var l=s.name.value;if(i[l]||!Y(e,s))continue;i[l]=!0;var c=e.fragments[l];if(!c||!Q(e,c,t))continue;G(e,t,c.selectionSet,r,i)}}var f;return r}function Y(e,t){var n=R(w.e,t,e.variableValues);if(!0===(null===n||void 0===n?void 0:n.if))return!1;var r=R(w.d,t,e.variableValues);return!1!==(null===r||void 0===r?void 0:r.if)}function Q(e,t,n){var r=t.typeCondition;if(!r)return!0;var i=Object(O.a)(e.schema,r);return i===n||!!Object(x.C)(i)&&e.schema.isSubType(i,n)}function K(e,t,n,r,i){var o,a=r[0].name.value,s=le(e.schema,t,a);if(s){var u=null!==(o=s.resolve)&&void 0!==o?o:e.fieldResolver,l=X(e,s,r,t,i),c=J(e,s,r,u,n,l);return Z(e,s.type,r,l,i,c)}}function X(e,t,n,r,i){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function J(e,t,n,r,i,a){try{var s=r(i,F(t,n[0],e.variableValues),e.contextValue,a);return o(s)?s.then(void 0,$):s}catch(u){return $(u)}}function $(e){return e instanceof Error?e:new Error("Unexpected error value: "+Object(c.a)(e))}function Z(e,t,n,r,i,a){try{var s;return s=o(a)?a.then((function(o){return te(e,t,n,r,i,o)})):te(e,t,n,r,i,a),o(s)?s.then(void 0,(function(r){return ee(r,n,i,t,e)})):s}catch(u){return ee(u,n,i,t,e)}}function ee(e,t,n,r,i){var o=Object(y.a)($(e),t,m(n));if(Object(x.L)(r))throw o;return i.errors.push(o),null}function te(e,t,n,r,i,a){if(a instanceof Error)throw a;if(Object(x.L)(t)){var s=te(e,t.ofType,n,r,i,a);if(null===s)throw new Error("Cannot return null for non-nullable field ".concat(r.parentType.name,".").concat(r.fieldName,"."));return s}return null==a?null:Object(x.J)(t)?function(e,t,n,r,i,a){if(!Object(p.a)(a))throw new g.a('Expected Iterable, but did not find one for field "'.concat(r.parentType.name,".").concat(r.fieldName,'".'));var s=t.ofType,u=!1,c=Object(l.a)(a,(function(t,a){var l=v(i,a,void 0),c=Z(e,s,n,r,l,t);return!u&&o(c)&&(u=!0),c}));return u?Promise.all(c):c}(e,t,n,r,i,a):Object(x.I)(t)?function(e,t){var n=e.serialize(t);if(void 0===n)throw new Error('Expected a value of type "'.concat(Object(c.a)(e),'" but ')+"received: ".concat(Object(c.a)(t)));return n}(t,a):Object(x.C)(t)?function(e,t,n,r,i,a){var s,u=null!==(s=t.resolveType)&&void 0!==s?s:e.typeResolver,l=e.contextValue,c=u(a,l,r,t);if(o(c))return c.then((function(o){return re(e,ne(o,e,t,n,r,a),n,r,i,a)}));return re(e,ne(c,e,t,n,r,a),n,r,i,a)}(e,t,n,r,i,a):Object(x.N)(t)?re(e,t,n,r,i,a):void Object(f.a)(0,"Cannot complete value of unexpected output type: "+Object(c.a)(t))}function ne(e,t,n,r,i,o){var a="string"===typeof e?t.schema.getType(e):e;if(!Object(x.N)(a))throw new g.a('Abstract type "'.concat(n.name,'" must resolve to an Object type at runtime for field "').concat(i.parentType.name,".").concat(i.fieldName,'" with ')+"value ".concat(Object(c.a)(o),', received "').concat(Object(c.a)(a),'". ')+'Either the "'.concat(n.name,'" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.'),r);if(!t.schema.isSubType(n,a))throw new g.a('Runtime Object type "'.concat(a.name,'" is not a possible type for "').concat(n.name,'".'),r);return a}function re(e,t,n,r,i,a){if(t.isTypeOf){var s=t.isTypeOf(a,e.contextValue,r);if(o(s))return s.then((function(r){if(!r)throw ie(t,a,n);return oe(e,t,n,i,a)}));if(!s)throw ie(t,a,n)}return oe(e,t,n,i,a)}function ie(e,t,n){return new g.a('Expected value of type "'.concat(e.name,'" but got: ').concat(Object(c.a)(t),"."),n)}function oe(e,t,n,r,i){return q(e,t,i,r,ae(e,t,n))}var ae=function(e){var t;return function(n,r,i){t||(t=new WeakMap);var o,a=t.get(n);if(a){if(o=a.get(r)){var s=o.get(i);if(void 0!==s)return s}}else a=new WeakMap,t.set(n,a);o||(o=new WeakMap,a.set(r,o));var u=e(n,r,i);return o.set(i,u),u}}((function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=0;o<n.length;o++){var a=n[o];a.selectionSet&&(r=G(e,t,a.selectionSet,r,i))}return r}));var se=function(e,t,n,r){if(Object(h.a)(e)&&"string"===typeof e.__typename)return e.__typename;for(var i=n.schema.getPossibleTypes(r),a=[],s=0;s<i.length;s++){var u=i[s];if(u.isTypeOf){var l=u.isTypeOf(e,t,n);if(o(l))a[s]=l;else if(l)return u}}return a.length?Promise.all(a).then((function(e){for(var t=0;t<e.length;t++)if(e[t])return i[t]})):void 0},ue=function(e,t,n,r){if(Object(h.a)(e)||"function"===typeof e){var i=e[r.fieldName];return"function"===typeof i?e[r.fieldName](t,n,r):i}};function le(e,t,n){return n===_.SchemaMetaFieldDef.name&&e.getQueryType()===t?_.SchemaMetaFieldDef:n===_.TypeMetaFieldDef.name&&e.getQueryType()===t?_.TypeMetaFieldDef:n===_.TypeNameMetaFieldDef.name?_.TypeNameMetaFieldDef:t.getFields()[n]}function ce(e,t,n,r,i,o,a,s){var u=arguments;return new Promise((function(l){return l(1===u.length?de(e):de({schema:e,source:t,rootValue:n,contextValue:r,variableValues:i,operationName:o,fieldResolver:a,typeResolver:s}))}))}function fe(e,t,n,r,i,a,s,u){var l=de(1===arguments.length?e:{schema:e,source:t,rootValue:n,contextValue:r,variableValues:i,operationName:a,fieldResolver:s,typeResolver:u});if(o(l))throw new Error("GraphQL execution failed to complete synchronously.");return l}function de(e){var t,n=e.schema,r=e.source,i=e.rootValue,o=e.contextValue,l=e.variableValues,c=e.operationName,f=e.fieldResolver,d=e.typeResolver,h=Object(u.b)(n);if(h.length>0)return{errors:h};try{t=Object(a.a)(r)}catch(gt){return{errors:[gt]}}var p=Object(s.c)(n,t);return p.length>0?{errors:p}:z({schema:n,document:t,rootValue:i,contextValue:o,variableValues:l,operationName:c,fieldResolver:f,typeResolver:d})}var he=n(45),pe=n(14),ve=n(20),me=n(63),ge=n(68),ye=n(86),be=n(64),_e=n(5),we=n(32),xe=n(10),Oe=n(39),ke=n(22);function Ee(e,t,n){var r,i,o,a,s,u,l=e[ke.a].call(e);function c(e){return e.done?e:Se(e.value,t).then(Te,i)}if("function"===typeof l.return&&(r=l.return,i=function(e){var t=function(){return Promise.reject(e)};return r.call(l).then(t,t)}),n){var f=n;o=function(e){return Se(e,f).then(Te,i)}}return a={next:function(){return l.next().then(c,o)},return:function(){return r?r.call(l).then(c,o):Promise.resolve({value:void 0,done:!0})},throw:function(e){return"function"===typeof l.throw?l.throw(e).then(c,o):Promise.reject(e).catch(i)}},s=ke.a,u=function(){return this},s in a?Object.defineProperty(a,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[s]=u,a}function Se(e,t){return new Promise((function(n){return n(t(e))}))}function Te(e){return{value:e,done:!1}}function Ce(e){return(Ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,i,o,a,s){return je(1===arguments.length?e:{schema:e,document:t,rootValue:n,contextValue:r,variableValues:i,operationName:o,fieldResolver:a,subscribeFieldResolver:s})}function Ae(e){if(e instanceof g.a)return{errors:[e]};throw e}function je(e){var t=e.schema,n=e.document,r=e.rootValue,i=e.contextValue,o=e.variableValues,a=e.operationName,s=e.fieldResolver,u=e.subscribeFieldResolver,l=Ne(t,n,r,i,o,a,u),c=function(e){return z({schema:t,document:n,rootValue:e,contextValue:i,variableValues:o,operationName:a,fieldResolver:s})};return l.then((function(e){return Me(e)?Ee(e,c,Ae):e}))}function Ne(e,t,n,r,i,o,a){V(e,t,i);try{var s,u=W(e,t,n,r,i,o,a);if(Array.isArray(u))return Promise.resolve({errors:u});var l=k(e,u.operation),f=G(u,l,u.operation.selectionSet,Object.create(null),Object.create(null)),d=Object.keys(f)[0],h=f[d],p=h[0].name.value,b=le(e,l,p);if(!b)throw new g.a('The subscription field "'.concat(p,'" is not defined.'),h);var _=null!==(s=b.subscribe)&&void 0!==s?s:u.fieldResolver,w=v(void 0,d,l.name),x=X(u,b,h,l,w),O=J(u,b,h,_,n,x);return Promise.resolve(O).then((function(e){if(e instanceof Error)return{errors:[Object(y.a)(e,h,m(w))]};if(Me(e))return e;throw new Error("Subscription field must return Async Iterable. "+"Received: ".concat(Object(c.a)(e),"."))}))}catch(E){return E instanceof g.a?Promise.resolve({errors:[E]}):Promise.reject(E)}}function Me(e){return null!=e&&"object"===Ce(e)&&"function"===typeof e[ke.a]}var Ie=n(95),Pe=n(87),Le=n(144),Fe=n(151),Re=n(148),Be=n(91),ze=n(89),Ue=n(153),He=n(88),Ve=n(146),We=n(156),qe=n(158),Ge=n(154),Ye=n(159),Qe=n(162),Ke=n(155),Xe=n(93),Je=n(150),$e=n(147),Ze=n(92),et=n(90),tt=n(152),nt=n(94),rt=n(145),it=n(157),ot=n(160),at=n(149),st=n(161),ut=n(163),lt=n(164),ct=n(165),ft=n(166),dt=n(167),ht=n(168),pt=n(169),vt=n(170);function mt(e){return{Field:function(t){var n=Object(x.A)(e.getType());n&&Object(_.isIntrospectionType)(n)&&e.reportError(new g.a('GraphQL introspection has been disabled, but the requested query contained the field "'.concat(t.name.value,'".'),t))}}}var gt=n(38);function yt(e){var t;e||Object(d.a)(0,"Received null or undefined error.");var n=null!==(t=e.message)&&void 0!==t?t:"An unknown error occurred.",r=e.locations,i=e.path,o=e.extensions;return o?{message:n,locations:r,path:i,extensions:o}:{message:n,locations:r,path:i}}var bt=n(171);function _t(e,t){for(var n=null,r=0,i=e.definitions;r<i.length;r++){var o,a=i[r];if(a.kind===b.a.OPERATION_DEFINITION)if(null==t){if(n)return null;n=a}else if((null===(o=a.name)||void 0===o?void 0:o.value)===t)return a}return n}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({directiveIsRepeatable:!0,schemaDescription:!0},t),r=U({schema:e,document:Object(a.a)(Object(bt.a)(n))});return!r.errors&&r.data||Object(f.a)(0),r.data}var kt=n(259),Et=n(49),St=n(47);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t,n){Object(he.b)(e),null!=t&&t.kind===b.a.DOCUMENT||Object(d.a)(0,"Must provide valid Document AST."),!0!==(null===n||void 0===n?void 0:n.assumeValid)&&!0!==(null===n||void 0===n?void 0:n.assumeValidSDL)&&Object(s.b)(t,e);var r=e.toConfig(),i=jt(r,t,n);return r===i?e:new he.a(i)}function jt(e,t,n){for(var r,i,o,a,s,u=[],l=Object.create(null),d=[],h=[],p=0,v=t.definitions;p<v.length;p++){var m=v[p];if(m.kind===b.a.SCHEMA_DEFINITION)s=m;else if(m.kind===b.a.SCHEMA_EXTENSION)h.push(m);else if(Object(Oe.d)(m))u.push(m);else if(Object(Oe.e)(m)){var g=m.name.value,y=l[g];l[g]=y?y.concat([m]):[m]}else m.kind===b.a.DIRECTIVE_DEFINITION&&d.push(m)}if(0===Object.keys(l).length&&0===u.length&&0===d.length&&0===h.length&&null==s)return e;for(var O=Object.create(null),k=0,E=e.types;k<E.length;k++){var S=E[k];O[S.name]=L(S)}for(var T=0;T<u.length;T++){var C,j=u[T],N=j.name.value;O[N]=null!==(C=Nt[N])&&void 0!==C?C:Q(j)}var M=Ct(Ct({query:e.query&&P(e.query),mutation:e.mutation&&P(e.mutation),subscription:e.subscription&&P(e.subscription)},s&&B([s])),B(h));return Ct(Ct({description:null===(r=s)||void 0===r||null===(i=r.description)||void 0===i?void 0:i.value},M),{},{types:Object(A.a)(O),directives:[].concat(e.directives.map((function(e){var t=e.toConfig();return new w.c(Ct(Ct({},t),{},{args:Object(Et.a)(t.args,R)}))})),d.map((function(e){var t=e.locations.map((function(e){return e.value}));return new w.c({name:e.name.value,description:Pt(e,n),locations:t,isRepeatable:e.repeatable,args:V(e.arguments),astNode:e})}))),extensions:void 0,astNode:null!==(o=s)&&void 0!==o?o:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(h),assumeValid:null!==(a=null===n||void 0===n?void 0:n.assumeValid)&&void 0!==a&&a});function I(e){return Object(x.J)(e)?new x.d(I(e.ofType)):Object(x.L)(e)?new x.e(I(e.ofType)):P(e)}function P(e){return O[e.name]}function L(e){return Object(_.isIntrospectionType)(e)||Object(pe.f)(e)?e:Object(x.R)(e)?function(e){for(var t,n=e.toConfig(),r=null!==(t=l[n.name])&&void 0!==t?t:[],i=n.specifiedByUrl,o=0;o<r.length;o++){var a,s=r[o];i=null!==(a=It(s))&&void 0!==a?a:i}return new x.g(Ct(Ct({},n),{},{specifiedByUrl:i,extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):Object(x.N)(e)?function(e){var t,n=e.toConfig(),r=null!==(t=l[n.name])&&void 0!==t?t:[];return new x.f(Ct(Ct({},n),{},{interfaces:function(){return[].concat(e.getInterfaces().map(P),G(r))},fields:function(){return Ct(Ct({},Object(Et.a)(n.fields,F)),H(r))},extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):Object(x.H)(e)?function(e){var t,n=e.toConfig(),r=null!==(t=l[n.name])&&void 0!==t?t:[];return new x.c(Ct(Ct({},n),{},{interfaces:function(){return[].concat(e.getInterfaces().map(P),G(r))},fields:function(){return Ct(Ct({},Object(Et.a)(n.fields,F)),H(r))},extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):Object(x.T)(e)?function(e){var t,n=e.toConfig(),r=null!==(t=l[n.name])&&void 0!==t?t:[];return new x.h(Ct(Ct({},n),{},{types:function(){return[].concat(e.getTypes().map(P),Y(r))},extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):Object(x.E)(e)?function(e){var t,n=e.toConfig(),r=null!==(t=l[e.name])&&void 0!==t?t:[];return new x.a(Ct(Ct({},n),{},{values:Ct(Ct({},n.values),q(r)),extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):Object(x.F)(e)?function(e){var t,n=e.toConfig(),r=null!==(t=l[n.name])&&void 0!==t?t:[];return new x.b(Ct(Ct({},n),{},{fields:function(){return Ct(Ct({},Object(Et.a)(n.fields,(function(e){return Ct(Ct({},e),{},{type:I(e.type)})}))),W(r))},extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):void Object(f.a)(0,"Unexpected type: "+Object(c.a)(e))}function F(e){return Ct(Ct({},e),{},{type:I(e.type),args:Object(Et.a)(e.args,R)})}function R(e){return Ct(Ct({},e),{},{type:I(e.type)})}function B(e){for(var t={},n=0;n<e.length;n++)for(var r,i=null!==(r=e[n].operationTypes)&&void 0!==r?r:[],o=0;o<i.length;o++){var a=i[o];t[a.operation]=z(a.type)}return t}function z(e){var t,n=e.name.value,r=null!==(t=Nt[n])&&void 0!==t?t:O[n];if(void 0===r)throw new Error('Unknown type: "'.concat(n,'".'));return r}function U(e){return e.kind===b.a.LIST_TYPE?new x.d(U(e.type)):e.kind===b.a.NON_NULL_TYPE?new x.e(U(e.type)):z(e)}function H(e){for(var t=Object.create(null),r=0;r<e.length;r++)for(var i,o=null!==(i=e[r].fields)&&void 0!==i?i:[],a=0;a<o.length;a++){var s=o[a];t[s.name.value]={type:U(s.type),description:Pt(s,n),args:V(s.arguments),deprecationReason:Mt(s),astNode:s}}return t}function V(e){for(var t=null!==e&&void 0!==e?e:[],r=Object.create(null),i=0;i<t.length;i++){var o=t[i],a=U(o.type);r[o.name.value]={type:a,description:Pt(o,n),defaultValue:Object(D.a)(o.defaultValue,a),astNode:o}}return r}function W(e){for(var t=Object.create(null),r=0;r<e.length;r++)for(var i,o=null!==(i=e[r].fields)&&void 0!==i?i:[],a=0;a<o.length;a++){var s=o[a],u=U(s.type);t[s.name.value]={type:u,description:Pt(s,n),defaultValue:Object(D.a)(s.defaultValue,u),astNode:s}}return t}function q(e){for(var t=Object.create(null),r=0;r<e.length;r++)for(var i,o=null!==(i=e[r].values)&&void 0!==i?i:[],a=0;a<o.length;a++){var s=o[a];t[s.name.value]={description:Pt(s,n),deprecationReason:Mt(s),astNode:s}}return t}function G(e){for(var t=[],n=0;n<e.length;n++)for(var r,i=null!==(r=e[n].interfaces)&&void 0!==r?r:[],o=0;o<i.length;o++){var a=i[o];t.push(z(a))}return t}function Y(e){for(var t=[],n=0;n<e.length;n++)for(var r,i=null!==(r=e[n].types)&&void 0!==r?r:[],o=0;o<i.length;o++){var a=i[o];t.push(z(a))}return t}function Q(e){var t,r=e.name.value,i=Pt(e,n),o=null!==(t=l[r])&&void 0!==t?t:[];switch(e.kind){case b.a.OBJECT_TYPE_DEFINITION:var a=o,s=[e].concat(a);return new x.f({name:r,description:i,interfaces:function(){return G(s)},fields:function(){return H(s)},astNode:e,extensionASTNodes:a});case b.a.INTERFACE_TYPE_DEFINITION:var u=o,d=[e].concat(u);return new x.c({name:r,description:i,interfaces:function(){return G(d)},fields:function(){return H(d)},astNode:e,extensionASTNodes:u});case b.a.ENUM_TYPE_DEFINITION:var h=o,p=[e].concat(h);return new x.a({name:r,description:i,values:q(p),astNode:e,extensionASTNodes:h});case b.a.UNION_TYPE_DEFINITION:var v=o,m=[e].concat(v);return new x.h({name:r,description:i,types:function(){return Y(m)},astNode:e,extensionASTNodes:v});case b.a.SCALAR_TYPE_DEFINITION:var g=o;return new x.g({name:r,description:i,specifiedByUrl:It(e),astNode:e,extensionASTNodes:g});case b.a.INPUT_OBJECT_TYPE_DEFINITION:var y=o,_=[e].concat(y);return new x.b({name:r,description:i,fields:function(){return W(_)},astNode:e,extensionASTNodes:y})}Object(f.a)(0,"Unexpected type definition node: "+Object(c.a)(e))}}var Nt=Object(S.a)(pe.g.concat(_.introspectionTypes),(function(e){return e.name}));function Mt(e){var t=R(w.b,e);return null===t||void 0===t?void 0:t.reason}function It(e){var t=R(w.f,e);return null===t||void 0===t?void 0:t.url}function Pt(e,t){if(e.description)return e.description.value;if(!0===(null===t||void 0===t?void 0:t.commentDescriptions)){var n=function(e){var t=e.loc;if(!t)return;var n=[],r=t.startToken.prev;for(;null!=r&&r.kind===_e.a.COMMENT&&r.next&&r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){var i=String(r.value);n.push(i),r=r.prev}return n.length>0?n.reverse().join("\n"):void 0}(e);if(void 0!==n)return Object(St.a)("\n"+n)}}function Lt(e,t){null!=e&&e.kind===b.a.DOCUMENT||Object(d.a)(0,"Must provide valid Document AST."),!0!==(null===t||void 0===t?void 0:t.assumeValid)&&!0!==(null===t||void 0===t?void 0:t.assumeValidSDL)&&Object(s.a)(e);var n=jt({description:void 0,types:[],directives:[],extensions:void 0,extensionASTNodes:[],assumeValid:!1},e,t);if(null==n.astNode)for(var r=0,i=n.types;r<i.length;r++){var o=i[r];switch(o.name){case"Query":n.query=o;break;case"Mutation":n.mutation=o;break;case"Subscription":n.subscription=o}}var a=n.directives;return a.some((function(e){return"skip"===e.name}))||a.push(w.e),a.some((function(e){return"include"===e.name}))||a.push(w.d),a.some((function(e){return"deprecated"===e.name}))||a.push(w.b),a.some((function(e){return"specifiedBy"===e.name}))||a.push(w.f),new he.a(n)}function Ft(e,t){return Lt(Object(a.a)(e,{noLocation:null===t||void 0===t?void 0:t.noLocation,allowLegacySDLEmptyFields:null===t||void 0===t?void 0:t.allowLegacySDLEmptyFields,allowLegacySDLImplementsInterfaces:null===t||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces,experimentalFragmentVariables:null===t||void 0===t?void 0:t.experimentalFragmentVariables}),{commentDescriptions:null===t||void 0===t?void 0:t.commentDescriptions,assumeValidSDL:null===t||void 0===t?void 0:t.assumeValidSDL,assumeValid:null===t||void 0===t?void 0:t.assumeValid})}var Rt=n(44);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){var t=e.toConfig(),n=Object(Rt.a)(Wt(t.types),(function(e){return e.name}),(function(e){if(Object(x.R)(e)||Object(_.isIntrospectionType)(e))return e;if(Object(x.N)(e)){var t=e.toConfig();return new x.f(zt(zt({},t),{},{interfaces:function(){return u(t.interfaces)},fields:function(){return s(t.fields)}}))}if(Object(x.H)(e)){var n=e.toConfig();return new x.c(zt(zt({},n),{},{interfaces:function(){return u(n.interfaces)},fields:function(){return s(n.fields)}}))}if(Object(x.T)(e)){var i=e.toConfig();return new x.h(zt(zt({},i),{},{types:function(){return u(i.types)}}))}if(Object(x.E)(e)){var o=e.toConfig();return new x.a(zt(zt({},o),{},{values:Vt(o.values)}))}if(Object(x.F)(e)){var a=e.toConfig();return new x.b(zt(zt({},a),{},{fields:function(){return Vt(a.fields,(function(e){return zt(zt({},e),{},{type:r(e.type)})}))}}))}Object(f.a)(0,"Unexpected type: "+Object(c.a)(e))}));return new he.a(zt(zt({},t),{},{types:Object(A.a)(n),directives:Wt(t.directives).map((function(e){var t=e.toConfig();return new w.c(zt(zt({},t),{},{locations:qt(t.locations,(function(e){return e})),args:a(t.args)}))})),query:o(t.query),mutation:o(t.mutation),subscription:o(t.subscription)}));function r(e){return Object(x.J)(e)?new x.d(r(e.ofType)):Object(x.L)(e)?new x.e(r(e.ofType)):i(e)}function i(e){return n[e.name]}function o(e){return e&&i(e)}function a(e){return Vt(e,(function(e){return zt(zt({},e),{},{type:r(e.type)})}))}function s(e){return Vt(e,(function(e){return zt(zt({},e),{},{type:r(e.type),args:a(e.args)})}))}function u(e){return Wt(e).map(i)}}function Vt(e,t){for(var n=Object.create(null),r=qt(Object.keys(e),(function(e){return e})),i=0;i<r.length;i++){var o=r[i],a=e[o];n[o]=t?t(a):a}return n}function Wt(e){return qt(e,(function(e){return e.name}))}function qt(e,t){return e.slice().sort((function(e,n){var r=t(e),i=t(n);return r.localeCompare(i)}))}var Gt=n(56);function Yt(e,t){return Xt(e,(function(e){return!Object(w.i)(e)}),Kt,t)}function Qt(e,t){return Xt(e,w.i,_.isIntrospectionType,t)}function Kt(e){return!Object(pe.f)(e)&&!Object(_.isIntrospectionType)(e)}function Xt(e,t,n,r){var i=e.getDirectives().filter(t),o=Object(A.a)(e.getTypeMap()).filter(n);return[Jt(e)].concat(i.map((function(e){return function(e,t){return an(t,e)+"directive @"+e.name+nn(t,e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}(e,r)})),o.map((function(e){return $t(e,r)}))).filter(Boolean).join("\n\n")+"\n"}function Jt(e){if(null!=e.description||!function(e){var t=e.getQueryType();if(t&&"Query"!==t.name)return!1;var n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;var r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e)){var t=[],n=e.getQueryType();n&&t.push("  query: ".concat(n.name));var r=e.getMutationType();r&&t.push("  mutation: ".concat(r.name));var i=e.getSubscriptionType();return i&&t.push("  subscription: ".concat(i.name)),an({},e)+"schema {\n".concat(t.join("\n"),"\n}")}}function $t(e,t){return Object(x.R)(e)?function(e,t){return an(t,e)+"scalar ".concat(e.name)+function(e){if(null==e.specifiedByUrl)return"";var t=e.specifiedByUrl,n=Object(Gt.a)(t,pe.e);return n||Object(f.a)(0,"Unexpected null value returned from `astFromValue` for specifiedByUrl")," @specifiedBy(url: "+Object(C.a)(n)+")"}(e)}(e,t):Object(x.N)(e)?function(e,t){return an(t,e)+"type ".concat(e.name)+Zt(e)+en(t,e)}(e,t):Object(x.H)(e)?function(e,t){return an(t,e)+"interface ".concat(e.name)+Zt(e)+en(t,e)}(e,t):Object(x.T)(e)?function(e,t){var n=e.getTypes(),r=n.length?" = "+n.join(" | "):"";return an(t,e)+"union "+e.name+r}(e,t):Object(x.E)(e)?function(e,t){var n=e.getValues().map((function(e,n){return an(t,e,"  ",!n)+"  "+e.name+on(e)}));return an(t,e)+"enum ".concat(e.name)+tn(n)}(e,t):Object(x.F)(e)?function(e,t){var n=Object(A.a)(e.getFields()).map((function(e,n){return an(t,e,"  ",!n)+"  "+rn(e)}));return an(t,e)+"input ".concat(e.name)+tn(n)}(e,t):void Object(f.a)(0,"Unexpected type: "+Object(c.a)(e))}function Zt(e){var t=e.getInterfaces();return t.length?" implements "+t.map((function(e){return e.name})).join(" & "):""}function en(e,t){return tn(Object(A.a)(t.getFields()).map((function(t,n){return an(e,t,"  ",!n)+"  "+t.name+nn(e,t.args,"  ")+": "+String(t.type)+on(t)})))}function tn(e){return 0!==e.length?" {\n"+e.join("\n")+"\n}":""}function nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===t.length?"":t.every((function(e){return!e.description}))?"("+t.map(rn).join(", ")+")":"(\n"+t.map((function(t,r){return an(e,t,"  "+n,!r)+"  "+n+rn(t)})).join("\n")+"\n"+n+")"}function rn(e){var t=Object(Gt.a)(e.defaultValue,e.type),n=e.name+": "+String(e.type);return t&&(n+=" = ".concat(Object(C.a)(t))),n}function on(e){if(!e.isDeprecated)return"";var t=e.deprecationReason,n=Object(Gt.a)(t,pe.e);return n&&t!==w.a?" @deprecated(reason: "+Object(C.a)(n)+")":" @deprecated"}function an(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t.description;if(null==i)return"";if(!0===(null===e||void 0===e?void 0:e.commentDescriptions))return sn(i,n,r);var o=i.length>70,a=Object(St.c)(i,"",o),s=n&&!r?"\n"+n:n;return s+a.replace(/\n/g,"\n"+n)+"\n"}function sn(e,t,n){return(t&&!n?"\n":"")+e.split("\n").map((function(e){return t+(""!==e?"# "+e:"#")})).join("\n")+"\n"}var un=n(142),ln=n(65),cn=n(74);function fn(e){return{kind:"Document",definitions:Object(cn.a)(e,(function(e){return e.definitions}))}}function dn(e){var t,n=[],r=Object.create(null);Object(we.c)(e,{OperationDefinition:function(e){t=hn(e),n.push(e)},FragmentDefinition:function(e){t=e.name.value},FragmentSpread:function(e){var n=e.name.value,i=r[t];void 0===i&&(i=r[t]=Object.create(null)),i[n]=!0}});for(var i=Object.create(null),o=function(t){var o=n[t],a=hn(o),s=Object.create(null);!function e(t,n,r){var i=n[r];if(i)for(var o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];t[s]||(t[s]=!0,e(t,n,s))}}(s,r,a),i[a]={kind:b.a.DOCUMENT,definitions:e.definitions.filter((function(e){return e===o||e.kind===b.a.FRAGMENT_DEFINITION&&s[e.name.value]}))}},a=0;a<n.length;a++)o(a);return i}function hn(e){return e.name?e.name.value:""}function pn(e){var t="string"===typeof e?new me.a(e):e;if(!(t instanceof me.a))throw new TypeError("Must provide string or Source. Received: ".concat(Object(c.a)(t),"."));for(var n=t.body,r=new be.a(t),i="",o=!1;r.advance().kind!==_e.a.EOF;){var a=r.token,s=a.kind,u=!Object(be.b)(a.kind);o&&(u||a.kind===_e.a.SPREAD)&&(i+=" ");var l=n.slice(a.start,a.end);s===_e.a.BLOCK_STRING?i+=vn(l):i+=l,o=u}return i}function vn(e){var t=e.slice(3,-3),n=Object(St.a)(t),r=n.split(/\r\n|[\n\r]/g);Object(St.b)(r)>0&&(n="\n"+n);var i=n[n.length-1];return('"'===i&&'\\"""'!==n.slice(-4)||"\\"===i)&&(n+="\n"),'"""'+n+'"""'}var mn=n(52),gn=n(143);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn=Object.freeze({TYPE_REMOVED:"TYPE_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",REQUIRED_INPUT_FIELD_ADDED:"REQUIRED_INPUT_FIELD_ADDED",IMPLEMENTED_INTERFACE_REMOVED:"IMPLEMENTED_INTERFACE_REMOVED",FIELD_REMOVED:"FIELD_REMOVED",FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",REQUIRED_ARG_ADDED:"REQUIRED_ARG_ADDED",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",REQUIRED_DIRECTIVE_ARG_ADDED:"REQUIRED_DIRECTIVE_ARG_ADDED",DIRECTIVE_REPEATABLE_REMOVED:"DIRECTIVE_REPEATABLE_REMOVED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED"}),xn=Object.freeze({VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",OPTIONAL_INPUT_FIELD_ADDED:"OPTIONAL_INPUT_FIELD_ADDED",OPTIONAL_ARG_ADDED:"OPTIONAL_ARG_ADDED",IMPLEMENTED_INTERFACE_ADDED:"IMPLEMENTED_INTERFACE_ADDED",ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE"});function On(e,t){return En(e,t).filter((function(e){return e.type in wn}))}function kn(e,t){return En(e,t).filter((function(e){return e.type in xn}))}function En(e,t){return[].concat(function(e,t){for(var n=[],r=Ln(Object(A.a)(e.getTypeMap()),Object(A.a)(t.getTypeMap())),i=0,o=r.removed;i<o.length;i++){var a=o[i];n.push({type:wn.TYPE_REMOVED,description:Object(pe.f)(a)?"Standard scalar ".concat(a.name," was removed because it is not referenced anymore."):"".concat(a.name," was removed.")})}for(var s=0,u=r.persisted;s<u.length;s++){var l=u[s],c=l[0],f=l[1];Object(x.E)(c)&&Object(x.E)(f)?n.push.apply(n,Cn(c,f)):Object(x.T)(c)&&Object(x.T)(f)?n.push.apply(n,Tn(c,f)):Object(x.F)(c)&&Object(x.F)(f)?n.push.apply(n,Sn(c,f)):Object(x.N)(c)&&Object(x.N)(f)||Object(x.H)(c)&&Object(x.H)(f)?n.push.apply(n,An(c,f).concat(Dn(c,f))):c.constructor!==f.constructor&&n.push({type:wn.TYPE_CHANGED_KIND,description:"".concat(c.name," changed from ")+"".concat(In(c)," to ").concat(In(f),".")})}return n}(e,t),function(e,t){for(var n=[],r=Ln(e.getDirectives(),t.getDirectives()),i=0,o=r.removed;i<o.length;i++){var a=o[i];n.push({type:wn.DIRECTIVE_REMOVED,description:"".concat(a.name," was removed.")})}for(var s=0,u=r.persisted;s<u.length;s++){for(var l=u[s],c=l[0],f=l[1],d=Ln(c.args,f.args),h=0,p=d.added;h<p.length;h++){var v=p[h];Object(x.P)(v)&&n.push({type:wn.REQUIRED_DIRECTIVE_ARG_ADDED,description:"A required arg ".concat(v.name," on directive ").concat(c.name," was added.")})}for(var m=0,g=d.removed;m<g.length;m++){var y=g[m];n.push({type:wn.DIRECTIVE_ARG_REMOVED,description:"".concat(y.name," was removed from ").concat(c.name,".")})}c.isRepeatable&&!f.isRepeatable&&n.push({type:wn.DIRECTIVE_REPEATABLE_REMOVED,description:"Repeatable flag was removed from ".concat(c.name,".")});for(var b=0,_=c.locations;b<_.length;b++){var w=_[b];-1===f.locations.indexOf(w)&&n.push({type:wn.DIRECTIVE_LOCATION_REMOVED,description:"".concat(w," was removed from ").concat(c.name,".")})}}return n}(e,t))}function Sn(e,t){for(var n=[],r=Ln(Object(A.a)(e.getFields()),Object(A.a)(t.getFields())),i=0,o=r.added;i<o.length;i++){var a=o[i];Object(x.Q)(a)?n.push({type:wn.REQUIRED_INPUT_FIELD_ADDED,description:"A required field ".concat(a.name," on input type ").concat(e.name," was added.")}):n.push({type:xn.OPTIONAL_INPUT_FIELD_ADDED,description:"An optional field ".concat(a.name," on input type ").concat(e.name," was added.")})}for(var s=0,u=r.removed;s<u.length;s++){var l=u[s];n.push({type:wn.FIELD_REMOVED,description:"".concat(e.name,".").concat(l.name," was removed.")})}for(var c=0,f=r.persisted;c<f.length;c++){var d=f[c],h=d[0],p=d[1];Mn(h.type,p.type)||n.push({type:wn.FIELD_CHANGED_KIND,description:"".concat(e.name,".").concat(h.name," changed type from ")+"".concat(String(h.type)," to ").concat(String(p.type),".")})}return n}function Tn(e,t){for(var n=[],r=Ln(e.getTypes(),t.getTypes()),i=0,o=r.added;i<o.length;i++){var a=o[i];n.push({type:xn.TYPE_ADDED_TO_UNION,description:"".concat(a.name," was added to union type ").concat(e.name,".")})}for(var s=0,u=r.removed;s<u.length;s++){var l=u[s];n.push({type:wn.TYPE_REMOVED_FROM_UNION,description:"".concat(l.name," was removed from union type ").concat(e.name,".")})}return n}function Cn(e,t){for(var n=[],r=Ln(e.getValues(),t.getValues()),i=0,o=r.added;i<o.length;i++){var a=o[i];n.push({type:xn.VALUE_ADDED_TO_ENUM,description:"".concat(a.name," was added to enum type ").concat(e.name,".")})}for(var s=0,u=r.removed;s<u.length;s++){var l=u[s];n.push({type:wn.VALUE_REMOVED_FROM_ENUM,description:"".concat(l.name," was removed from enum type ").concat(e.name,".")})}return n}function Dn(e,t){for(var n=[],r=Ln(e.getInterfaces(),t.getInterfaces()),i=0,o=r.added;i<o.length;i++){var a=o[i];n.push({type:xn.IMPLEMENTED_INTERFACE_ADDED,description:"".concat(a.name," added to interfaces implemented by ").concat(e.name,".")})}for(var s=0,u=r.removed;s<u.length;s++){var l=u[s];n.push({type:wn.IMPLEMENTED_INTERFACE_REMOVED,description:"".concat(e.name," no longer implements interface ").concat(l.name,".")})}return n}function An(e,t){for(var n=[],r=Ln(Object(A.a)(e.getFields()),Object(A.a)(t.getFields())),i=0,o=r.removed;i<o.length;i++){var a=o[i];n.push({type:wn.FIELD_REMOVED,description:"".concat(e.name,".").concat(a.name," was removed.")})}for(var s=0,u=r.persisted;s<u.length;s++){var l=u[s],c=l[0],f=l[1];n.push.apply(n,jn(e,c,f)),Nn(c.type,f.type)||n.push({type:wn.FIELD_CHANGED_KIND,description:"".concat(e.name,".").concat(c.name," changed type from ")+"".concat(String(c.type)," to ").concat(String(f.type),".")})}return n}function jn(e,t,n){for(var r=[],i=Ln(t.args,n.args),o=0,a=i.removed;o<a.length;o++){var s=a[o];r.push({type:wn.ARG_REMOVED,description:"".concat(e.name,".").concat(t.name," arg ").concat(s.name," was removed.")})}for(var u=0,l=i.persisted;u<l.length;u++){var c=l[u],f=c[0],d=c[1];if(Mn(f.type,d.type)){if(void 0!==f.defaultValue)if(void 0===d.defaultValue)r.push({type:xn.ARG_DEFAULT_VALUE_CHANGE,description:"".concat(e.name,".").concat(t.name," arg ").concat(f.name," defaultValue was removed.")});else{var h=Pn(f.defaultValue,f.type),p=Pn(d.defaultValue,d.type);h!==p&&r.push({type:xn.ARG_DEFAULT_VALUE_CHANGE,description:"".concat(e.name,".").concat(t.name," arg ").concat(f.name," has changed defaultValue from ").concat(h," to ").concat(p,".")})}}else r.push({type:wn.ARG_CHANGED_KIND,description:"".concat(e.name,".").concat(t.name," arg ").concat(f.name," has changed type from ")+"".concat(String(f.type)," to ").concat(String(d.type),".")})}for(var v=0,m=i.added;v<m.length;v++){var g=m[v];Object(x.P)(g)?r.push({type:wn.REQUIRED_ARG_ADDED,description:"A required arg ".concat(g.name," on ").concat(e.name,".").concat(t.name," was added.")}):r.push({type:xn.OPTIONAL_ARG_ADDED,description:"An optional arg ".concat(g.name," on ").concat(e.name,".").concat(t.name," was added.")})}return r}function Nn(e,t){return Object(x.J)(e)?Object(x.J)(t)&&Nn(e.ofType,t.ofType)||Object(x.L)(t)&&Nn(e,t.ofType):Object(x.L)(e)?Object(x.L)(t)&&Nn(e.ofType,t.ofType):Object(x.K)(t)&&e.name===t.name||Object(x.L)(t)&&Nn(e,t.ofType)}function Mn(e,t){return Object(x.J)(e)?Object(x.J)(t)&&Mn(e.ofType,t.ofType):Object(x.L)(e)?Object(x.L)(t)&&Mn(e.ofType,t.ofType)||!Object(x.L)(t)&&Mn(e.ofType,t):Object(x.K)(t)&&e.name===t.name}function In(e){return Object(x.R)(e)?"a Scalar type":Object(x.N)(e)?"an Object type":Object(x.H)(e)?"an Interface type":Object(x.T)(e)?"a Union type":Object(x.E)(e)?"an Enum type":Object(x.F)(e)?"an Input type":void Object(f.a)(0,"Unexpected type: "+Object(c.a)(e))}function Pn(e,t){var n=Object(Gt.a)(e,t);null!=n||Object(f.a)(0);var r=Object(we.c)(n,{ObjectValue:function(e){var t=[].concat(e.fields).sort((function(e,t){return e.name.value.localeCompare(t.name.value)}));return bn(bn({},e),{},{fields:t})}});return Object(C.a)(r)}function Ln(e,t){for(var n=[],r=[],i=[],o=Object(S.a)(e,(function(e){return e.name})),a=Object(S.a)(t,(function(e){return e.name})),s=0;s<e.length;s++){var u=e[s],l=a[u.name];void 0===l?r.push(u):i.push([u,l])}for(var c=0;c<t.length;c++){var f=t[c];void 0===o[f.name]&&n.push(f)}return{added:n,persisted:i,removed:r}}var Fn=n(260)},function(e,t,n){"use strict";function r(e,t){return e.reduce((function(e,n){return e[t(n)]=n,e}),Object.create(null))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(4),i=n(20),o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a=Object.freeze({});function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=void 0,u=Array.isArray(e),c=[e],f=-1,d=[],h=void 0,p=void 0,v=void 0,m=[],g=[],y=e;do{var b=++f===c.length,_=b&&0!==d.length;if(b){if(p=0===g.length?void 0:m[m.length-1],h=v,v=g.pop(),_){if(u)h=h.slice();else{for(var w={},x=0,O=Object.keys(h);x<O.length;x++){var k=O[x];w[k]=h[k]}h=w}for(var E=0,S=0;S<d.length;S++){var T=d[S][0],C=d[S][1];u&&(T-=E),u&&null===C?(h.splice(T,1),E++):h[T]=C}}f=s.index,c=s.keys,d=s.edits,u=s.inArray,s=s.prev}else{if(p=v?u?f:c[f]:void 0,null===(h=v?v[p]:y)||void 0===h)continue;v&&m.push(p)}var D,A=void 0;if(!Array.isArray(h)){if(!Object(i.c)(h))throw new Error("Invalid AST Node: ".concat(Object(r.a)(h),"."));var j=l(t,h.kind,b);if(j){if((A=j.call(t,h,p,v,m,g))===a)break;if(!1===A){if(!b){m.pop();continue}}else if(void 0!==A&&(d.push([p,A]),!b)){if(!Object(i.c)(A)){m.pop();continue}h=A}}}if(void 0===A&&_&&d.push([p,h]),b)m.pop();else s={inArray:u,index:f,keys:c,edits:d,prev:s},c=(u=Array.isArray(h))?h:null!==(D=n[h.kind])&&void 0!==D?D:[],f=-1,d=[],v&&g.push(v),v=h}while(void 0!==s);return 0!==d.length&&(y=d[d.length-1][1]),y}function u(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=l(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===a)t[r]=a;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=l(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===a)t[r]=a;else if(void 0!==o&&!1!==o)return o}}else t[r]===n&&(t[r]=null)}}}function l(e,t,n){var r=e[t];if(r){if(!n&&"function"===typeof r)return r;var i=n?r.leave:r.enter;if("function"===typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"===typeof o)return o;var a=o[t];if("function"===typeof a)return a}}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){var n="string"===typeof e?[e,t]:[void 0,e],r=n[0],i=" Did you mean ";r&&(i+=r+" ");var o=n[1].map((function(e){return'"'.concat(e,'"')}));switch(o.length){case 0:return"";case 1:return i+o[0]+"?";case 2:return i+o[0]+" or "+o[1]+"?"}var a=o.slice(0,5),s=a.pop();return i+a.join(", ")+", or "+s+"?"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46);function i(e){if(null===Object.getPrototypeOf(e))return e;for(var t=Object.create(null),n=0,i=Object(r.a)(e);n<i.length;n++){var o=i[n],a=o[0],s=o[1];t[a]=s}return t}},function(e,t,n){"use strict";function r(e,t){for(var n=Object.create(null),r=new i(e),o=Math.floor(.4*e.length)+1,a=0;a<t.length;a++){var s=t[a],u=r.measure(s,o);void 0!==u&&(n[s]=u)}return Object.keys(n).sort((function(e,t){var r=n[e]-n[t];return 0!==r?r:e.localeCompare(t)}))}n.d(t,"a",(function(){return r}));var i=function(){function e(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=o(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}return e.prototype.measure=function(e,t){if(this._input===e)return 0;var n=e.toLowerCase();if(this._inputLowerCase===n)return 1;var r=o(n),i=this._inputArray;if(r.length<i.length){var a=r;r=i,i=a}var s=r.length,u=i.length;if(!(s-u>t)){for(var l=this._rows,c=0;c<=u;c++)l[0][c]=c;for(var f=1;f<=s;f++){for(var d=l[(f-1)%3],h=l[f%3],p=h[0]=f,v=1;v<=u;v++){var m=r[f-1]===i[v-1]?0:1,g=Math.min(d[v]+1,h[v-1]+1,d[v-1]+m);if(f>1&&v>1&&r[f-1]===i[v-2]&&r[f-2]===i[v-1]){var y=l[(f-2)%3][v-2];g=Math.min(g,y+1)}g<p&&(p=g),h[v]=g}if(p>t)return}var b=l[s%3][u];return b<=t?b:void 0}},e}();function o(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e,t,n){return new r.a("Syntax Error: ".concat(n),void 0,e,[t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return d}));var r=n(2);function i(e){return o(e)||l(e)||f(e)}function o(e){return e.kind===r.a.OPERATION_DEFINITION||e.kind===r.a.FRAGMENT_DEFINITION}function a(e){return e.kind===r.a.FIELD||e.kind===r.a.FRAGMENT_SPREAD||e.kind===r.a.INLINE_FRAGMENT}function s(e){return e.kind===r.a.VARIABLE||e.kind===r.a.INT||e.kind===r.a.FLOAT||e.kind===r.a.STRING||e.kind===r.a.BOOLEAN||e.kind===r.a.NULL||e.kind===r.a.ENUM||e.kind===r.a.LIST||e.kind===r.a.OBJECT}function u(e){return e.kind===r.a.NAMED_TYPE||e.kind===r.a.LIST_TYPE||e.kind===r.a.NON_NULL_TYPE}function l(e){return e.kind===r.a.SCHEMA_DEFINITION||c(e)||e.kind===r.a.DIRECTIVE_DEFINITION}function c(e){return e.kind===r.a.SCALAR_TYPE_DEFINITION||e.kind===r.a.OBJECT_TYPE_DEFINITION||e.kind===r.a.INTERFACE_TYPE_DEFINITION||e.kind===r.a.UNION_TYPE_DEFINITION||e.kind===r.a.ENUM_TYPE_DEFINITION||e.kind===r.a.INPUT_OBJECT_TYPE_DEFINITION}function f(e){return e.kind===r.a.SCHEMA_EXTENSION||d(e)}function d(e){return e.kind===r.a.SCALAR_TYPE_EXTENSION||e.kind===r.a.OBJECT_TYPE_EXTENSION||e.kind===r.a.INTERFACE_TYPE_EXTENSION||e.kind===r.a.UNION_TYPE_EXTENSION||e.kind===r.a.ENUM_TYPE_EXTENSION||e.kind===r.a.INPUT_OBJECT_TYPE_EXTENSION}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16),i=n(67);function o(e){var t=e.prototype.toJSON;"function"===typeof t||Object(r.a)(0),e.prototype.inspect=t,i.a&&(e.prototype[i.a]=t)}},function(e,t,n){"use strict";var r=n(100),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";t.a=function(e,t){return e instanceof t}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(177)},function(e,t,n){"use strict";function r(e,t,n){return e.reduce((function(e,r){return e[t(r)]=n(r),e}),Object.create(null))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(48),i=n(50),o=n(15),a=n(22),s=n(4),u=n(35),l=n(9),c=n(42),f=n(27),d=n(12),h=n(18),p=n(1);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return Object(c.a)(e,y)}function g(e){if(!m(e))throw new Error("Expected ".concat(Object(s.a)(e)," to be a GraphQL schema."));return e}var y=function(){function e(e){var t;this.__validationErrors=!0===e.assumeValid?[]:void 0,Object(f.a)(e)||Object(l.a)(0,"Must provide configuration object."),!e.types||Array.isArray(e.types)||Object(l.a)(0,'"types" must be Array if provided but got: '.concat(Object(s.a)(e.types),".")),!e.directives||Array.isArray(e.directives)||Object(l.a)(0,'"directives" must be Array if provided but got: '+"".concat(Object(s.a)(e.directives),".")),this.description=e.description,this.extensions=e.extensions&&Object(u.a)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!==(t=e.directives)&&void 0!==t?t:h.j;var n=new Set(e.types);if(null!=e.types)for(var r=0,o=e.types;r<o.length;r++){var a=o[r];n.delete(a),b(a,n)}null!=this._queryType&&b(this._queryType,n),null!=this._mutationType&&b(this._mutationType,n),null!=this._subscriptionType&&b(this._subscriptionType,n);for(var c=0,v=this._directives;c<v.length;c++){var m=v[c];if(Object(h.h)(m))for(var g=0,y=m.args;g<y.length;g++){b(y[g].type,n)}}b(d.__Schema,n),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(var _=0,w=Object(i.a)(n);_<w.length;_++){var x=w[_];if(null!=x){var O=x.name;if(O||Object(l.a)(0,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[O])throw new Error('Schema must contain uniquely named types but contains multiple types named "'.concat(O,'".'));if(this._typeMap[O]=x,Object(p.H)(x))for(var k=0,E=x.getInterfaces();k<E.length;k++){var S=E[k];if(Object(p.H)(S)){var T=this._implementationsMap[S.name];void 0===T&&(T=this._implementationsMap[S.name]={objects:[],interfaces:[]}),T.interfaces.push(x)}}else if(Object(p.N)(x))for(var C=0,D=x.getInterfaces();C<D.length;C++){var A=D[C];if(Object(p.H)(A)){var j=this._implementationsMap[A.name];void 0===j&&(j=this._implementationsMap[A.name]={objects:[],interfaces:[]}),j.objects.push(x)}}}}}var t,n,c,m=e.prototype;return m.getQueryType=function(){return this._queryType},m.getMutationType=function(){return this._mutationType},m.getSubscriptionType=function(){return this._subscriptionType},m.getTypeMap=function(){return this._typeMap},m.getType=function(e){return this.getTypeMap()[e]},m.getPossibleTypes=function(e){return Object(p.T)(e)?e.getTypes():this.getImplementations(e).objects},m.getImplementations=function(e){var t=this._implementationsMap[e.name];return null!==t&&void 0!==t?t:{objects:[],interfaces:[]}},m.isPossibleType=function(e,t){return this.isSubType(e,t)},m.isSubType=function(e,t){var n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),Object(p.T)(e))for(var r=0,i=e.getTypes();r<i.length;r++){n[i[r].name]=!0}else{for(var o=this.getImplementations(e),a=0,s=o.objects;a<s.length;a++){n[s[a].name]=!0}for(var u=0,l=o.interfaces;u<l.length;u++){n[l[u].name]=!0}}this._subTypeMap[e.name]=n}return void 0!==n[t.name]},m.getDirectives=function(){return this._directives},m.getDirective=function(e){return Object(r.a)(this.getDirectives(),(function(t){return t.name===e}))},m.toConfig=function(){var e;return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object(o.a)(this.getTypeMap()),directives:this.getDirectives().slice(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:null!==(e=this.extensionASTNodes)&&void 0!==e?e:[],assumeValid:void 0!==this.__validationErrors}},t=e,(n=[{key:a.c,get:function(){return"GraphQLSchema"}}])&&v(t.prototype,n),c&&v(t,c),e}();function b(e,t){var n=Object(p.A)(e);if(!t.has(n))if(t.add(n),Object(p.T)(n))for(var r=0,i=n.getTypes();r<i.length;r++){b(i[r],t)}else if(Object(p.N)(n)||Object(p.H)(n)){for(var a=0,s=n.getInterfaces();a<s.length;a++){b(s[a],t)}for(var u=0,l=Object(o.a)(n.getFields());u<l.length;u++){var c=l[u];b(c.type,t);for(var f=0,d=c.args;f<d.length;f++){b(d[f].type,t)}}}else if(Object(p.F)(n))for(var h=0,v=Object(o.a)(n.getFields());h<v.length;h++){b(v[h].type,t)}return t}},function(e,t,n){"use strict";var r=Object.entries||function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))};t.a=r},function(e,t,n){"use strict";function r(e){var t=e.split(/\r\n|[\n\r]/g),n=i(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&a(t[0]);)t.shift();for(;t.length>0&&a(t[t.length-1]);)t.pop();return t.join("\n")}function i(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],i=o(r);if(i!==r.length&&((null===t||i<t)&&0===(t=i)))break}return null===t?0:t}function o(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function a(e){return o(e)===e.length}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";return!s||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}))},function(e,t,n){"use strict";var r=Array.prototype.find?function(e,t){return Array.prototype.find.call(e,t)}:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}};t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46);function i(e,t){for(var n=Object.create(null),i=0,o=Object(r.a)(e);i<o.length;i++){var a=o[i],s=a[0],u=a[1];n[s]=t(u,s)}return n}},function(e,t,n){"use strict";var r=n(22),i=Array.from||function(e,t,n){if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i=e[r.b];if("function"===typeof i){for(var o,a=i.call(e),s=[],u=0;!(o=a.next()).done;++u)if(s.push(t.call(n,o.value,u)),u>9999999)throw new TypeError("Near-infinite iteration.");return s}var l=e.length;if("number"===typeof l&&l>=0&&l%1===0){for(var c=[],f=0;f<l;++f)Object.prototype.hasOwnProperty.call(e,f)&&c.push(t.call(n,e[f],f));return c}return[]};t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(66);var i=n(72);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(1);function i(e,t){return e===t||(Object(r.L)(e)&&Object(r.L)(t)||!(!Object(r.J)(e)||!Object(r.J)(t)))&&i(e.ofType,t.ofType)}function o(e,t,n){return t===n||(Object(r.L)(n)?!!Object(r.L)(t)&&o(e,t.ofType,n.ofType):Object(r.L)(t)?o(e,t.ofType,n):Object(r.J)(n)?!!Object(r.J)(t)&&o(e,t.ofType,n.ofType):!Object(r.J)(t)&&(Object(r.C)(n)&&(Object(r.H)(t)||Object(r.N)(t))&&e.isSubType(n,t)))}function a(e,t,n){return t===n||(Object(r.C)(t)?Object(r.C)(n)?e.getPossibleTypes(t).some((function(t){return e.isSubType(n,t)})):e.isSubType(t,n):!!Object(r.C)(n)&&e.isSubType(n,t))}},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(234),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=g,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(d);return t&&t[1]}}function p(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(u||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function g(e,t){e||m(e,!0,t,"==",f.ok)}function y(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(c(e)&&c(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),a=b(t);if(i&&!a||!i&&a)return!1;if(i)return e=s.call(e),t=s.call(t),y(e,t,n);var u,l,c=x(e),f=x(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(u=c[l],!y(e[u],t[u],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&m(i,n,"Missing expected exception"+r);var a="string"===typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&_(i,n)||s)&&m(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(v(e.actual),128)+" "+e.operator+" "+p(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=m,f.ok=g,f.equal=function(e,t,n){e!=t&&m(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){y(e,t,!1)||m(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){y(e,t,!0)||m(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){y(e,t,!1)&&m(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){w(!0,e,t,n)},f.doesNotThrow=function(e,t,n){w(!1,e,t,n)},f.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(78))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(4),i=n(9),o=n(38),a=n(2),s=n(20),u=n(63),l=n(5),c=n(10),f=n(64);function d(e,t){return new v(e,t).parseDocument()}function h(e,t){var n=new v(e,t);n.expectToken(l.a.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(l.a.EOF),r}function p(e,t){var n=new v(e,t);n.expectToken(l.a.SOF);var r=n.parseTypeReference();return n.expectToken(l.a.EOF),r}var v=function(){function e(e,t){var n="string"===typeof e?new u.a(e):e;n instanceof u.a||Object(i.a)(0,"Must provide Source. Received: ".concat(Object(r.a)(n),".")),this._lexer=new f.a(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(l.a.NAME);return{kind:a.a.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:a.a.DOCUMENT,definitions:this.many(l.a.SOF,this.parseDefinition,l.a.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(l.a.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(l.a.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(l.a.BRACE_L))return{kind:a.a.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(l.a.NAME)&&(t=this.parseName()),{kind:a.a.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(l.a.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(l.a.PAREN_L,this.parseVariableDefinition,l.a.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:a.a.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(l.a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(l.a.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(l.a.DOLLAR),{kind:a.a.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:a.a.SELECTION_SET,selections:this.many(l.a.BRACE_L,this.parseSelection,l.a.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(l.a.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(l.a.COLON)?(e=r,t=this.parseName()):t=r,{kind:a.a.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(l.a.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(l.a.PAREN_L,t,l.a.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(l.a.COLON),{kind:a.a.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:a.a.ARGUMENT,name:this.parseName(),value:(this.expectToken(l.a.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(l.a.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(l.a.NAME)?{kind:a.a.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:a.a.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:a.a.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:a.a.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case l.a.BRACKET_L:return this.parseList(e);case l.a.BRACE_L:return this.parseObject(e);case l.a.INT:return this._lexer.advance(),{kind:a.a.INT,value:t.value,loc:this.loc(t)};case l.a.FLOAT:return this._lexer.advance(),{kind:a.a.FLOAT,value:t.value,loc:this.loc(t)};case l.a.STRING:case l.a.BLOCK_STRING:return this.parseStringLiteral();case l.a.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:a.a.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:a.a.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:a.a.NULL,loc:this.loc(t)};default:return{kind:a.a.ENUM,value:t.value,loc:this.loc(t)}}case l.a.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:a.a.STRING,value:e.value,block:e.kind===l.a.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:a.a.LIST,values:this.any(l.a.BRACKET_L,(function(){return t.parseValueLiteral(e)}),l.a.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:a.a.OBJECT,fields:this.any(l.a.BRACE_L,(function(){return t.parseObjectField(e)}),l.a.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(l.a.COLON),{kind:a.a.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(l.a.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(l.a.AT),{kind:a.a.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(l.a.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(l.a.BRACKET_R),e={kind:a.a.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(l.a.BANG)?{kind:a.a.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:a.a.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===l.a.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(l.a.STRING)||this.peek(l.a.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(l.a.BRACE_L,this.parseOperationTypeDefinition,l.a.BRACE_R);return{kind:a.a.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(l.a.COLON);var n=this.parseNamedType();return{kind:a.a.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:a.a.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:a.a.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(l.a.AMP);do{var t;e.push(this.parseNamedType())}while(this.expectOptionalToken(l.a.AMP)||!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)&&this.peek(l.a.NAME))}return e},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(l.a.BRACE_L)&&this._lexer.lookahead().kind===l.a.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(l.a.BRACE_L,this.parseFieldDefinition,l.a.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(l.a.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:a.a.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(l.a.PAREN_L,this.parseInputValueDef,l.a.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(l.a.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(l.a.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:a.a.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:a.a.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:a.a.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(l.a.EQUALS)){this.expectOptionalToken(l.a.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(l.a.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:a.a.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(l.a.BRACE_L,this.parseEnumValueDefinition,l.a.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:a.a.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:a.a.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(l.a.BRACE_L,this.parseInputValueDef,l.a.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===l.a.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(l.a.BRACE_L,this.parseOperationTypeDefinition,l.a.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:a.a.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:a.a.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:a.a.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:a.a.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:a.a.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:a.a.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:a.a.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(l.a.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:a.a.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(l.a.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(l.a.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==c.a[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new s.a(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Object(o.a)(this._lexer.source,t.start,"Expected ".concat(g(e),", found ").concat(m(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==l.a.NAME||t.value!==e)throw Object(o.a)(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(m(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===l.a.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return Object(o.a)(this._lexer.source,t.start,"Unexpected ".concat(m(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},e}();function m(e){var t=e.value;return g(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function g(e){return Object(f.b)(e)?'"'.concat(e,'"'):e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(9),i=n(3),o=n(32),a=n(59),s=n(65),u=n(87),l=n(95);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new s.a(e),f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{maxErrors:void 0};t||Object(r.a)(0,"Must provide document."),Object(a.a)(e);var d=Object.freeze({}),h=[],p=new l.b(e,t,c,(function(e){if(null!=f.maxErrors&&h.length>=f.maxErrors)throw h.push(new i.a("Too many validation errors, error limit reached. Validation aborted.")),d;h.push(e)})),v=Object(o.d)(n.map((function(e){return e(p)})));try{Object(o.c)(t,Object(s.b)(c,v))}catch(m){if(m!==d)throw m}return h}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.b,r=[],i=new l.a(e,t,(function(e){r.push(e)})),a=n.map((function(e){return e(i)}));return Object(o.c)(e,Object(o.d)(a)),r}function d(e){var t=f(e);if(0!==t.length)throw new Error(t.map((function(e){return e.message})).join("\n\n"))}function h(e,t){var n=f(e,t);if(0!==n.length)throw new Error(n.map((function(e){return e.message})).join("\n\n"))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(58),i=n(50),o=n(15),a=n(4),s=n(16),u=n(27),l=n(60),c=n(2),f=n(14),d=n(1);function h(e,t){if(Object(d.L)(t)){var n=h(e,t.ofType);return(null===n||void 0===n?void 0:n.kind)===c.a.NULL?null:n}if(null===e)return{kind:c.a.NULL};if(void 0===e)return null;if(Object(d.J)(t)){var v=t.ofType;if(Object(l.a)(e)){for(var m=[],g=0,y=Object(i.a)(e);g<y.length;g++){var b=h(y[g],v);null!=b&&m.push(b)}return{kind:c.a.LIST,values:m}}return h(e,v)}if(Object(d.F)(t)){if(!Object(u.a)(e))return null;for(var _=[],w=0,x=Object(o.a)(t.getFields());w<x.length;w++){var O=x[w],k=h(e[O.name],O.type);k&&_.push({kind:c.a.OBJECT_FIELD,name:{kind:c.a.NAME,value:O.name},value:k})}return{kind:c.a.OBJECT,fields:_}}if(Object(d.I)(t)){var E=t.serialize(e);if(null==E)return null;if("boolean"===typeof E)return{kind:c.a.BOOLEAN,value:E};if("number"===typeof E&&Object(r.a)(E)){var S=String(E);return p.test(S)?{kind:c.a.INT,value:S}:{kind:c.a.FLOAT,value:S}}if("string"===typeof E)return Object(d.E)(t)?{kind:c.a.ENUM,value:E}:t===f.c&&p.test(E)?{kind:c.a.INT,value:E}:{kind:c.a.STRING,value:E};throw new TypeError("Cannot convert value to AST: ".concat(Object(a.a)(E),"."))}Object(s.a)(0,"Unexpected input type: "+Object(a.a)(t))}var p=/^-?(?:0|[1-9][0-9]*)$/},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(15),i=n(31),o=n(4),a=n(16),s=n(2),u=n(1);function l(e,t,n){if(e){if(e.kind===s.a.VARIABLE){var f=e.name.value;if(null==n||void 0===n[f])return;var d=n[f];if(null===d&&Object(u.L)(t))return;return d}if(Object(u.L)(t)){if(e.kind===s.a.NULL)return;return l(e,t.ofType,n)}if(e.kind===s.a.NULL)return null;if(Object(u.J)(t)){var h=t.ofType;if(e.kind===s.a.LIST){for(var p=[],v=0,m=e.values;v<m.length;v++){var g=m[v];if(c(g,n)){if(Object(u.L)(h))return;p.push(null)}else{var y=l(g,h,n);if(void 0===y)return;p.push(y)}}return p}var b=l(e,h,n);if(void 0===b)return;return[b]}if(Object(u.F)(t)){if(e.kind!==s.a.OBJECT)return;for(var _=Object.create(null),w=Object(i.a)(e.fields,(function(e){return e.name.value})),x=0,O=Object(r.a)(t.getFields());x<O.length;x++){var k=O[x],E=w[k.name];if(E&&!c(E.value,n)){var S=l(E.value,k.type,n);if(void 0===S)return;_[k.name]=S}else if(void 0!==k.defaultValue)_[k.name]=k.defaultValue;else if(Object(u.L)(k.type))return}return _}if(Object(u.I)(t)){var T;try{T=t.parseLiteral(e,n)}catch(C){return}if(void 0===T)return;return T}Object(a.a)(0,"Unexpected input type: "+Object(o.a)(t))}}function c(e,t){return e.kind===s.a.VARIABLE&&(null==t||void 0===t[e.name.value])}},function(e,t,n){"use strict";var r=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)};t.a=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return m}));var r=n(48),i=n(74),o=n(15),a=n(4),s=n(3),u=n(61),l=n(143),c=n(52),f=n(45),d=n(18),h=n(12),p=n(1);function v(e){if(Object(f.b)(e),e.__validationErrors)return e.__validationErrors;var t=new g(e);!function(e){var t=e.schema,n=t.getQueryType();if(n){if(!Object(p.N)(n)){var r;e.reportError("Query root type must be Object type, it cannot be ".concat(Object(a.a)(n),"."),null!==(r=y(t,"query"))&&void 0!==r?r:n.astNode)}}else e.reportError("Query root type must be provided.",t.astNode);var i,o=t.getMutationType();o&&!Object(p.N)(o)&&e.reportError("Mutation root type must be Object type if provided, it cannot be "+"".concat(Object(a.a)(o),"."),null!==(i=y(t,"mutation"))&&void 0!==i?i:o.astNode);var s,u=t.getSubscriptionType();u&&!Object(p.N)(u)&&e.reportError("Subscription root type must be Object type if provided, it cannot be "+"".concat(Object(a.a)(u),"."),null!==(s=y(t,"subscription"))&&void 0!==s?s:u.astNode)}(t),function(e){for(var t=0,n=e.schema.getDirectives();t<n.length;t++){var r=n[t];if(Object(d.h)(r)){b(e,r);for(var i=0,o=r.args;i<o.length;i++){var s=o[i];b(e,s),Object(p.G)(s.type)||e.reportError("The type of @".concat(r.name,"(").concat(s.name,":) must be Input Type ")+"but got: ".concat(Object(a.a)(s.type),"."),s.astNode)}}else e.reportError("Expected directive but got: ".concat(Object(a.a)(r),"."),null===r||void 0===r?void 0:r.astNode)}}(t),function(e){for(var t=function(e){var t=Object.create(null),n=[],r=Object.create(null);return function i(a){if(t[a.name])return;t[a.name]=!0,r[a.name]=n.length;for(var s=Object(o.a)(a.getFields()),u=0;u<s.length;u++){var l=s[u];if(Object(p.L)(l.type)&&Object(p.F)(l.type.ofType)){var c=l.type.ofType,f=r[c.name];if(n.push(l),void 0===f)i(c);else{var d=n.slice(f),h=d.map((function(e){return e.name})).join(".");e.reportError('Cannot reference Input Object "'.concat(c.name,'" within itself through a series of non-null fields: "').concat(h,'".'),d.map((function(e){return e.astNode})))}n.pop()}}r[a.name]=void 0}}(e),n=e.schema.getTypeMap(),r=0,i=Object(o.a)(n);r<i.length;r++){var s=i[r];Object(p.K)(s)?(Object(h.isIntrospectionType)(s)||b(e,s),Object(p.N)(s)||Object(p.H)(s)?(_(e,s),w(e,s)):Object(p.T)(s)?k(e,s):Object(p.E)(s)?E(e,s):Object(p.F)(s)&&(S(e,s),t(s))):e.reportError("Expected GraphQL named type but got: ".concat(Object(a.a)(s),"."),s.astNode)}}(t);var n=t.getErrors();return e.__validationErrors=n,n}function m(e){var t=v(e);if(0!==t.length)throw new Error(t.map((function(e){return e.message})).join("\n\n"))}var g=function(){function e(e){this._errors=[],this.schema=e}var t=e.prototype;return t.reportError=function(e,t){var n=Array.isArray(t)?t.filter(Boolean):t;this.addError(new s.a(e,n))},t.addError=function(e){this._errors.push(e)},t.getErrors=function(){return this._errors},e}();function y(e,t){for(var n=C(e,(function(e){return e.operationTypes})),r=0;r<n.length;r++){var i=n[r];if(i.operation===t)return i.type}}function b(e,t){var n=Object(l.b)(t.name);n&&e.addError(Object(u.a)(n,t.astNode))}function _(e,t){var n=Object(o.a)(t.getFields());0===n.length&&e.reportError("Type ".concat(t.name," must define one or more fields."),T(t));for(var r=0;r<n.length;r++){var i,s=n[r];if(b(e,s),!Object(p.O)(s.type))e.reportError("The type of ".concat(t.name,".").concat(s.name," must be Output Type ")+"but got: ".concat(Object(a.a)(s.type),"."),null===(i=s.astNode)||void 0===i?void 0:i.type);for(var u=0,l=s.args;u<l.length;u++){var c,f=l[u],d=f.name;if(b(e,f),!Object(p.G)(f.type))e.reportError("The type of ".concat(t.name,".").concat(s.name,"(").concat(d,":) must be Input ")+"Type but got: ".concat(Object(a.a)(f.type),"."),null===(c=f.astNode)||void 0===c?void 0:c.type)}}}function w(e,t){for(var n=Object.create(null),r=0,i=t.getInterfaces();r<i.length;r++){var o=i[r];Object(p.H)(o)?t!==o?n[o.name]?e.reportError("Type ".concat(t.name," can only implement ").concat(o.name," once."),D(t,o)):(n[o.name]=!0,O(e,t,o),x(e,t,o)):e.reportError("Type ".concat(t.name," cannot implement itself because it would create a circular reference."),D(t,o)):e.reportError("Type ".concat(Object(a.a)(t)," must only implement Interface types, ")+"it cannot implement ".concat(Object(a.a)(o),"."),D(t,o))}}function x(e,t,n){for(var i=t.getFields(),s=0,u=Object(o.a)(n.getFields());s<u.length;s++){var l=u[s],f=l.name,d=i[f];if(d){var h,v;if(!Object(c.c)(e.schema,d.type,l.type))e.reportError("Interface field ".concat(n.name,".").concat(f," expects type ")+"".concat(Object(a.a)(l.type)," but ").concat(t.name,".").concat(f," ")+"is type ".concat(Object(a.a)(d.type),"."),[null===(h=l.astNode)||void 0===h?void 0:h.type,null===(v=d.astNode)||void 0===v?void 0:v.type]);for(var m=function(i,o){var s,u,l=o[i],h=l.name,p=Object(r.a)(d.args,(function(e){return e.name===h}));if(!p)return e.reportError("Interface field argument ".concat(n.name,".").concat(f,"(").concat(h,":) expected but ").concat(t.name,".").concat(f," does not provide it."),[l.astNode,d.astNode]),"continue";Object(c.b)(l.type,p.type)||e.reportError("Interface field argument ".concat(n.name,".").concat(f,"(").concat(h,":) ")+"expects type ".concat(Object(a.a)(l.type)," but ")+"".concat(t.name,".").concat(f,"(").concat(h,":) is type ")+"".concat(Object(a.a)(p.type),"."),[null===(s=l.astNode)||void 0===s?void 0:s.type,null===(u=p.astNode)||void 0===u?void 0:u.type])},g=0,y=l.args;g<y.length;g++)m(g,y);for(var b=function(i,o){var a=o[i],s=a.name;!Object(r.a)(l.args,(function(e){return e.name===s}))&&Object(p.P)(a)&&e.reportError("Object field ".concat(t.name,".").concat(f," includes required argument ").concat(s," that is missing from the Interface field ").concat(n.name,".").concat(f,"."),[a.astNode,l.astNode])},_=0,w=d.args;_<w.length;_++)b(_,w)}else e.reportError("Interface field ".concat(n.name,".").concat(f," expected but ").concat(t.name," does not provide it."),[l.astNode].concat(T(t)))}}function O(e,t,n){for(var r=t.getInterfaces(),i=0,o=n.getInterfaces();i<o.length;i++){var a=o[i];-1===r.indexOf(a)&&e.reportError(a===t?"Type ".concat(t.name," cannot implement ").concat(n.name," because it would create a circular reference."):"Type ".concat(t.name," must implement ").concat(a.name," because it is implemented by ").concat(n.name,"."),[].concat(D(n,a),D(t,n)))}}function k(e,t){var n=t.getTypes();0===n.length&&e.reportError("Union type ".concat(t.name," must define one or more member types."),T(t));for(var r=Object.create(null),i=0;i<n.length;i++){var o=n[i];r[o.name]?e.reportError("Union type ".concat(t.name," can only include type ").concat(o.name," once."),A(t,o.name)):(r[o.name]=!0,Object(p.N)(o)||e.reportError("Union type ".concat(t.name," can only include Object types, ")+"it cannot include ".concat(Object(a.a)(o),"."),A(t,String(o))))}}function E(e,t){var n=t.getValues();0===n.length&&e.reportError("Enum type ".concat(t.name," must define one or more values."),T(t));for(var r=0;r<n.length;r++){var i=n[r],o=i.name;b(e,i),"true"!==o&&"false"!==o&&"null"!==o||e.reportError("Enum type ".concat(t.name," cannot include value: ").concat(o,"."),i.astNode)}}function S(e,t){var n=Object(o.a)(t.getFields());0===n.length&&e.reportError("Input Object type ".concat(t.name," must define one or more fields."),T(t));for(var r=0;r<n.length;r++){var i,s=n[r];if(b(e,s),!Object(p.G)(s.type))e.reportError("The type of ".concat(t.name,".").concat(s.name," must be Input Type ")+"but got: ".concat(Object(a.a)(s.type),"."),null===(i=s.astNode)||void 0===i?void 0:i.type)}}function T(e){var t=e.astNode,n=e.extensionASTNodes;return t?n?[t].concat(n):[t]:null!==n&&void 0!==n?n:[]}function C(e,t){return Object(i.a)(T(e),(function(e){var n;return null!==(n=t(e))&&void 0!==n?n:[]}))}function D(e,t){return C(e,(function(e){return e.interfaces})).filter((function(e){return e.name.value===t.name}))}function A(e,t){return C(e,(function(e){return e.types})).filter((function(e){return e.name.value===t}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(22);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(null==e||"object"!==i(e))return!1;var t=e.length;return"number"===typeof t&&t>=0&&t%1===0||"function"===typeof e[r.b]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e,t,n){var i;return Array.isArray(e.path)?e:new r.a(e.message,null!==(i=e.nodes)&&void 0!==i?i:t,e.source,e.positions,n,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(180),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(22),i=n(9);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Object(i.a)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Object(i.a)(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,a;return t=e,(n=[{key:r.c,get:function(){return"Source"}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(38),i=n(20),o=n(5),a=n(47),s=function(){function e(e){var t=new i.b(o.a.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==o.a.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=c(this,e)}while(e.kind===o.a.COMMENT);return e},e}();function u(e){return e===o.a.BANG||e===o.a.DOLLAR||e===o.a.AMP||e===o.a.PAREN_L||e===o.a.PAREN_R||e===o.a.SPREAD||e===o.a.COLON||e===o.a.EQUALS||e===o.a.AT||e===o.a.BRACKET_L||e===o.a.BRACKET_R||e===o.a.BRACE_L||e===o.a.PIPE||e===o.a.BRACE_R}function l(e){return isNaN(e)?o.a.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function c(e,t){var n=e.source,s=n.body,u=s.length,c=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(s,t.end,e),h=e.line,p=1+c-e.lineStart;if(c>=u)return new i.b(o.a.EOF,u,u,h,p,t);var v=s.charCodeAt(c);switch(v){case 33:return new i.b(o.a.BANG,c,c+1,h,p,t);case 35:return function(e,t,n,r,a){var s,u=e.body,l=t;do{s=u.charCodeAt(++l)}while(!isNaN(s)&&(s>31||9===s));return new i.b(o.a.COMMENT,t,l,n,r,a,u.slice(t+1,l))}(n,c,h,p,t);case 36:return new i.b(o.a.DOLLAR,c,c+1,h,p,t);case 38:return new i.b(o.a.AMP,c,c+1,h,p,t);case 40:return new i.b(o.a.PAREN_L,c,c+1,h,p,t);case 41:return new i.b(o.a.PAREN_R,c,c+1,h,p,t);case 46:if(46===s.charCodeAt(c+1)&&46===s.charCodeAt(c+2))return new i.b(o.a.SPREAD,c,c+3,h,p,t);break;case 58:return new i.b(o.a.COLON,c,c+1,h,p,t);case 61:return new i.b(o.a.EQUALS,c,c+1,h,p,t);case 64:return new i.b(o.a.AT,c,c+1,h,p,t);case 91:return new i.b(o.a.BRACKET_L,c,c+1,h,p,t);case 93:return new i.b(o.a.BRACKET_R,c,c+1,h,p,t);case 123:return new i.b(o.a.BRACE_L,c,c+1,h,p,t);case 124:return new i.b(o.a.PIPE,c,c+1,h,p,t);case 125:return new i.b(o.a.BRACE_R,c,c+1,h,p,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,a){var s=e.body,u=s.length,l=t+1,c=0;for(;l!==u&&!isNaN(c=s.charCodeAt(l))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++l;return new i.b(o.a.NAME,t,l,n,r,a,s.slice(t,l))}(n,c,h,p,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,a,s,u){var c=e.body,d=n,h=t,p=!1;45===d&&(d=c.charCodeAt(++h));if(48===d){if((d=c.charCodeAt(++h))>=48&&d<=57)throw Object(r.a)(e,h,"Invalid number, unexpected digit after 0: ".concat(l(d),"."))}else h=f(e,h,d),d=c.charCodeAt(h);46===d&&(p=!0,d=c.charCodeAt(++h),h=f(e,h,d),d=c.charCodeAt(h));69!==d&&101!==d||(p=!0,43!==(d=c.charCodeAt(++h))&&45!==d||(d=c.charCodeAt(++h)),h=f(e,h,d),d=c.charCodeAt(h));if(46===d||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(d))throw Object(r.a)(e,h,"Invalid number, expected digit but got: ".concat(l(d),"."));return new i.b(p?o.a.FLOAT:o.a.INT,t,h,a,s,u,c.slice(t,h))}(n,c,v,h,p,t);case 34:return 34===s.charCodeAt(c+1)&&34===s.charCodeAt(c+2)?function(e,t,n,s,u,c){var f=e.body,d=t+3,h=d,p=0,v="";for(;d<f.length&&!isNaN(p=f.charCodeAt(d));){if(34===p&&34===f.charCodeAt(d+1)&&34===f.charCodeAt(d+2))return v+=f.slice(h,d),new i.b(o.a.BLOCK_STRING,t,d+3,n,s,u,Object(a.a)(v));if(p<32&&9!==p&&10!==p&&13!==p)throw Object(r.a)(e,d,"Invalid character within String: ".concat(l(p),"."));10===p?(++d,++c.line,c.lineStart=d):13===p?(10===f.charCodeAt(d+1)?d+=2:++d,++c.line,c.lineStart=d):92===p&&34===f.charCodeAt(d+1)&&34===f.charCodeAt(d+2)&&34===f.charCodeAt(d+3)?(v+=f.slice(h,d)+'"""',h=d+=4):++d}throw Object(r.a)(e,d,"Unterminated string.")}(n,c,h,p,t,e):function(e,t,n,a,s){var u=e.body,c=t+1,f=c,h=0,p="";for(;c<u.length&&!isNaN(h=u.charCodeAt(c))&&10!==h&&13!==h;){if(34===h)return p+=u.slice(f,c),new i.b(o.a.STRING,t,c+1,n,a,s,p);if(h<32&&9!==h)throw Object(r.a)(e,c,"Invalid character within String: ".concat(l(h),"."));if(++c,92===h){switch(p+=u.slice(f,c-1),h=u.charCodeAt(c)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var v=(g=u.charCodeAt(c+1),y=u.charCodeAt(c+2),b=u.charCodeAt(c+3),_=u.charCodeAt(c+4),d(g)<<12|d(y)<<8|d(b)<<4|d(_));if(v<0){var m=u.slice(c+1,c+5);throw Object(r.a)(e,c,"Invalid character escape sequence: \\u".concat(m,"."))}p+=String.fromCharCode(v),c+=4;break;default:throw Object(r.a)(e,c,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}++c,f=c}}var g,y,b,_;throw Object(r.a)(e,c,"Unterminated string.")}(n,c,h,p,t)}throw Object(r.a)(n,c,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(l(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(l(e),".")}(v))}function f(e,t,n){var i=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=i.charCodeAt(++o)}while(a>=48&&a<=57);return o}throw Object(r.a)(e,o,"Invalid number, expected digit but got: ".concat(l(a),"."))}function d(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(48),i=n(2),o=n(20),a=n(32),s=n(1),u=n(12),l=n(29),c=function(){function e(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!==t&&void 0!==t?t:f,n&&(Object(s.G)(n)&&this._inputTypeStack.push(n),Object(s.D)(n)&&this._parentTypeStack.push(n),Object(s.O)(n)&&this._typeStack.push(n))}var t=e.prototype;return t.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},t.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},t.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},t.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},t.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},t.getDefaultValue=function(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]},t.getDirective=function(){return this._directive},t.getArgument=function(){return this._argument},t.getEnumValue=function(){return this._enumValue},t.enter=function(e){var t=this._schema;switch(e.kind){case i.a.SELECTION_SET:var n=Object(s.A)(this.getType());this._parentTypeStack.push(Object(s.D)(n)?n:void 0);break;case i.a.FIELD:var o,a,u=this.getParentType();u&&(o=this._getFieldDef(t,u,e))&&(a=o.type),this._fieldDefStack.push(o),this._typeStack.push(Object(s.O)(a)?a:void 0);break;case i.a.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case i.a.OPERATION_DEFINITION:var c;switch(e.operation){case"query":c=t.getQueryType();break;case"mutation":c=t.getMutationType();break;case"subscription":c=t.getSubscriptionType()}this._typeStack.push(Object(s.N)(c)?c:void 0);break;case i.a.INLINE_FRAGMENT:case i.a.FRAGMENT_DEFINITION:var f=e.typeCondition,d=f?Object(l.a)(t,f):Object(s.A)(this.getType());this._typeStack.push(Object(s.O)(d)?d:void 0);break;case i.a.VARIABLE_DEFINITION:var h=Object(l.a)(t,e.type);this._inputTypeStack.push(Object(s.G)(h)?h:void 0);break;case i.a.ARGUMENT:var p,v,m,g=null!==(p=this.getDirective())&&void 0!==p?p:this.getFieldDef();g&&(v=Object(r.a)(g.args,(function(t){return t.name===e.name.value})))&&(m=v.type),this._argument=v,this._defaultValueStack.push(v?v.defaultValue:void 0),this._inputTypeStack.push(Object(s.G)(m)?m:void 0);break;case i.a.LIST:var y=Object(s.B)(this.getInputType()),b=Object(s.J)(y)?y.ofType:y;this._defaultValueStack.push(void 0),this._inputTypeStack.push(Object(s.G)(b)?b:void 0);break;case i.a.OBJECT_FIELD:var _,w,x=Object(s.A)(this.getInputType());Object(s.F)(x)&&(w=x.getFields()[e.name.value])&&(_=w.type),this._defaultValueStack.push(w?w.defaultValue:void 0),this._inputTypeStack.push(Object(s.G)(_)?_:void 0);break;case i.a.ENUM:var O,k=Object(s.A)(this.getInputType());Object(s.E)(k)&&(O=k.getValue(e.value)),this._enumValue=O}},t.leave=function(e){switch(e.kind){case i.a.SELECTION_SET:this._parentTypeStack.pop();break;case i.a.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case i.a.DIRECTIVE:this._directive=null;break;case i.a.OPERATION_DEFINITION:case i.a.INLINE_FRAGMENT:case i.a.FRAGMENT_DEFINITION:this._typeStack.pop();break;case i.a.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case i.a.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case i.a.LIST:case i.a.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case i.a.ENUM:this._enumValue=null}},e}();function f(e,t,n){var r=n.name.value;return r===u.SchemaMetaFieldDef.name&&e.getQueryType()===t?u.SchemaMetaFieldDef:r===u.TypeMetaFieldDef.name&&e.getQueryType()===t?u.TypeMetaFieldDef:r===u.TypeNameMetaFieldDef.name&&Object(s.D)(t)?u.TypeNameMetaFieldDef:Object(s.N)(t)||Object(s.H)(t)?t.getFields()[r]:void 0}function d(e,t){return{enter:function(n){e.enter(n);var r=Object(a.b)(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),Object(o.c)(i)&&e.enter(i)),i}},leave:function(n){var r,i=Object(a.b)(t,n.kind,!0);return i&&(r=i.apply(t,arguments)),e.leave(n),r}}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.a=r},function(e,t,n){"use strict";function r(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(115);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function i(e,t){for(var n=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),r=n,i=0;i<t.length;i++)-1==r.indexOf(t.charAt(i))&&(r+=t.charAt(i));return n==r?e:new RegExp(e.source,r)}function o(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function a(e,t,n){t=i(t,"g");for(var o=n.line,a=n.ch,s=e.lastLine();o<=s;o++,a=0){t.lastIndex=a;var u=e.getLine(o),l=t.exec(u);if(l)return{from:r(o,l.index),to:r(o,l.index+l[0].length),match:l}}}function s(e,t,n){if(!o(t))return a(e,t,n);t=i(t,"gm");for(var s,u=1,l=n.line,c=e.lastLine();l<=c;){for(var f=0;f<u&&!(l>c);f++){var d=e.getLine(l++);s=null==s?d:s+"\n"+d}u*=2,t.lastIndex=n.ch;var h=t.exec(s);if(h){var p=s.slice(0,h.index).split("\n"),v=h[0].split("\n"),m=n.line+p.length-1,g=p[p.length-1].length;return{from:r(m,g),to:r(m+v.length-1,1==v.length?g+v[0].length:v[v.length-1].length),match:h}}}}function u(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-n)break;(!r||a>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function l(e,t,n){t=i(t,"g");for(var o=n.line,a=n.ch,s=e.firstLine();o>=s;o--,a=-1){var l=e.getLine(o),c=u(l,t,a<0?0:l.length-a);if(c)return{from:r(o,c.index),to:r(o,c.index+c[0].length),match:c}}}function c(e,t,n){if(!o(t))return l(e,t,n);t=i(t,"gm");for(var a,s=1,c=e.getLine(n.line).length-n.ch,f=n.line,d=e.firstLine();f>=d;){for(var h=0;h<s&&f>=d;h++){var p=e.getLine(f--);a=null==a?p:p+"\n"+a}s*=2;var v=u(a,t,c);if(v){var m=a.slice(0,v.index).split("\n"),g=v[0].split("\n"),y=f+m.length,b=m[m.length-1].length;return{from:r(y,b),to:r(y+g.length-1,1==g.length?b+g[0].length:g[g.length-1].length),match:v}}}}function f(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function d(e,i,o,a){if(!i.length)return null;var s=a?t:n,u=s(i).split(/\r|\n\r?/);e:for(var l=o.line,c=o.ch,d=e.lastLine()+1-u.length;l<=d;l++,c=0){var h=e.getLine(l).slice(c),p=s(h);if(1==u.length){var v=p.indexOf(u[0]);if(-1==v)continue e;return o=f(h,p,v,s)+c,{from:r(l,f(h,p,v,s)+c),to:r(l,f(h,p,v+u[0].length,s)+c)}}var m=p.length-u[0].length;if(p.slice(m)==u[0]){for(var g=1;g<u.length-1;g++)if(s(e.getLine(l+g))!=u[g])continue e;var y=e.getLine(l+u.length-1),b=s(y),_=u[u.length-1];if(b.slice(0,_.length)==_)return{from:r(l,f(h,p,m,s)+c),to:r(l+u.length-1,f(y,b,_.length,s))}}}}function h(e,i,o,a){if(!i.length)return null;var s=a?t:n,u=s(i).split(/\r|\n\r?/);e:for(var l=o.line,c=o.ch,d=e.firstLine()-1+u.length;l>=d;l--,c=-1){var h=e.getLine(l);c>-1&&(h=h.slice(0,c));var p=s(h);if(1==u.length){var v=p.lastIndexOf(u[0]);if(-1==v)continue e;return{from:r(l,f(h,p,v,s)),to:r(l,f(h,p,v+u[0].length,s))}}var m=u[u.length-1];if(p.slice(0,m.length)==m){var g=1;for(o=l-u.length+1;g<u.length-1;g++)if(s(e.getLine(o+g))!=u[g])continue e;var y=e.getLine(l+1-u.length),b=s(y);if(b.slice(b.length-u[0].length)==u[0])return{from:r(l+1-u.length,f(y,b,y.length-u[0].length,s)),to:r(l,f(h,p,m.length,s))}}}}function p(e,t,n,o){var u;this.atOccurrence=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof o?u=o.caseFold:(u=o,o=null),"string"==typeof t?(null==u&&(u=!1),this.matches=function(n,r){return(n?h:d)(e,t,r,u)}):(t=i(t,"gm"),o&&!1===o.multiline?this.matches=function(n,r){return(n?l:a)(e,t,r)}:this.matches=function(n,r){return(n?c:s)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),p.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new p(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new p(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n(21))},function(e,t,n){!function(e){function t(t,n,r){var i,o=t.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),e.addClass(o,"dialog-opened"),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",(function(r,i,o){o||(o={}),n(this,null);var a=t(this,r,o.bottom),s=!1,u=this;function l(t){if("string"==typeof t)f.value=t;else{if(s)return;s=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),u.focus(),o.onClose&&o.onClose(a)}}var c,f=a.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,!1!==o.selectValueOnOpen&&f.select()),o.onInput&&e.on(f,"input",(function(e){o.onInput(e,f.value,l)})),o.onKeyUp&&e.on(f,"keyup",(function(e){o.onKeyUp(e,f.value,l)})),e.on(f,"keydown",(function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,l)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(f.blur(),e.e_stop(t),l()),13==t.keyCode&&i(f.value,t))})),!1!==o.closeOnBlur&&e.on(a,"focusout",(function(e){null!==e.relatedTarget&&l()}))):(c=a.getElementsByTagName("button")[0])&&(e.on(c,"click",(function(){l(),u.focus()})),!1!==o.closeOnBlur&&e.on(c,"blur",l),c.focus()),l})),e.defineExtension("openConfirm",(function(r,i,o){n(this,null);var a=t(this,r,o&&o.bottom),s=a.getElementsByTagName("button"),u=!1,l=this,c=1;function f(){u||(u=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),l.focus())}s[0].focus();for(var d=0;d<s.length;++d){var h=s[d];!function(t){e.on(h,"click",(function(n){e.e_preventDefault(n),f(),t&&t(l)}))}(i[d]),e.on(h,"blur",(function(){--c,setTimeout((function(){c<=0&&f()}),200)})),e.on(h,"focus",(function(){++c}))}})),e.defineExtension("openNotification",(function(r,i){n(this,l);var o,a=t(this,r,i&&i.bottom),s=!1,u=i&&"undefined"!==typeof i.duration?i.duration:5e3;function l(){s||(s=!0,clearTimeout(o),e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a))}return e.on(a,"click",(function(t){e.e_preventDefault(t),l()})),u&&(o=setTimeout(l,u)),l}))}(n(21))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(66);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(212),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,u,l,c=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),u=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),l&&document.body.removeChild(l),a()}return c}},function(e,t,n){"use strict";var r=Array.prototype.flatMap,i=r?function(e,t){return r.call(e,t)}:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r]);Array.isArray(i)?n=n.concat(i):n.push(i)}return n};t.a=i},,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,i=n(187);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=a},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultToast=t.shrinkKeyframes=t.toastWidth=t.gutter=t.borderRadius=void 0;var r,i,o,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=(r=["from { height: 100%; } to { height: 0% }"],i=["from { height: 100%; } to { height: 0% }"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),l=n(0),c=((o=l)&&o.__esModule,n(136)),f=n(208),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(209)),h=n(80);function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var v=t.borderRadius=4,m=t.gutter=8,g=t.toastWidth=360,y=t.shrinkKeyframes=(0,c.keyframes)(u),b=function(e){var t=e.tag,n=p(e,["tag"]);return(0,c.jsx)(t,s({css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},n))};b.defaultProps={tag:"span"};var _={success:{icon:f.CheckIcon,text:d.G500,fg:d.G300,bg:d.G50},error:{icon:f.FlameIcon,text:d.R500,fg:d.R300,bg:d.R50},warning:{icon:f.AlertIcon,text:d.Y500,fg:d.Y300,bg:d.Y50},info:{icon:f.InfoIcon,text:d.N400,fg:d.B200,bg:"white"}},w=function(e){return(0,c.jsx)("div",s({role:"button",className:"react-toast-notifications__toast__dismiss-button",css:{cursor:"pointer",flexShrink:0,opacity:.5,padding:m+"px "+1.5*m+"px",transition:"opacity 150ms",":hover":{opacity:1}}},e))},x=function(e){return(0,c.jsx)("div",s({className:"react-toast-notifications__toast__content",css:{flexGrow:1,fontSize:14,lineHeight:1.4,minHeight:40,padding:m+"px "+1.5*m+"px"}},e))},O=function(e){var t=e.autoDismissTimeout,n=e.opacity,r=e.isRunning,i=p(e,["autoDismissTimeout","opacity","isRunning"]);return(0,c.jsx)("div",s({className:"react-toast-notifications__toast__countdown",css:{animation:y+" "+t+"ms linear",animationPlayState:r?"running":"paused",backgroundColor:"rgba(0,0,0,0.1)",bottom:0,height:0,left:0,opacity:n,position:"absolute",width:"100%"}},i))},k=function(e){var t=e.appearance,n=e.autoDismiss,r=e.autoDismissTimeout,i=e.isRunning,o=_[t],a=o.icon;return(0,c.jsx)("div",{className:"react-toast-notifications__toast__icon-wrapper",css:{backgroundColor:o.fg,borderTopLeftRadius:v,borderBottomLeftRadius:v,color:o.bg,flexShrink:0,paddingBottom:m,paddingTop:m,position:"relative",overflow:"hidden",textAlign:"center",width:30}},(0,c.jsx)(O,{opacity:n?1:0,autoDismissTimeout:r,isRunning:i}),(0,c.jsx)(a,{className:"react-toast-notifications__toast__icon",css:{position:"relative",zIndex:1}}))};function E(e){var t=e.split("-");return{right:"translate3d(120%, 0, 0)",left:"translate3d(-120%, 0, 0)",bottom:"translate3d(0, 120%, 0)",top:"translate3d(0, -120%, 0)"}["center"===t[1]?t[0]:t[1]]}var S=function(e){return{entering:{transform:E(e)},entered:{transform:"translate3d(0,0,0)"},exiting:{transform:"scale(0.66)",opacity:0},exited:{transform:"scale(0.66)",opacity:0}}},T=function(e){var t=e.appearance,n=e.placement,r=e.transitionDuration,i=e.transitionState,o=p(e,["appearance","placement","transitionDuration","transitionState"]),u=(0,l.useState)("auto"),f=a(u,2),d=f[0],h=f[1],y=(0,l.useRef)(null);return(0,l.useEffect)((function(){if("entered"===i){var e=y.current;h(e.offsetHeight+m)}"exiting"===i&&h(0)}),[i]),(0,c.jsx)("div",{ref:y,style:{height:d},css:{transition:"height "+(r-100)+"ms 100ms"}},(0,c.jsx)("div",s({className:"react-toast-notifications__toast react-toast-notifications__toast--"+t,css:s({backgroundColor:_[t].bg,borderRadius:v,boxShadow:"0 3px 8px rgba(0, 0, 0, 0.175)",color:_[t].text,display:"flex",marginBottom:m,transition:"transform "+r+"ms cubic-bezier(0.2, 0, 0, 1), opacity "+r+"ms",width:g},S(n)[i])},o)))},C=function(e){var t=e.appearance,n=e.autoDismiss,r=e.autoDismissTimeout,i=e.children,o=e.isRunning,a=e.onDismiss,u=e.placement,l=e.transitionDuration,d=e.transitionState,h=e.onMouseEnter,v=e.onMouseLeave,m=p(e,["appearance","autoDismiss","autoDismissTimeout","children","isRunning","onDismiss","placement","transitionDuration","transitionState","onMouseEnter","onMouseLeave"]);return(0,c.jsx)(T,s({appearance:t,placement:u,transitionState:d,transitionDuration:l,onMouseEnter:h,onMouseLeave:v},m),(0,c.jsx)(k,{appearance:t,autoDismiss:n,autoDismissTimeout:r,isRunning:o}),(0,c.jsx)(x,null,i),a?(0,c.jsx)(w,{onClick:a},(0,c.jsx)(f.CloseIcon,{className:"react-toast-notifications__toast__dismiss-icon"}),(0,c.jsx)(b,{className:"react-toast-notifications__toast__dismiss-text"},"Close")):null)};t.DefaultToast=C,C.defaultProps={onDismiss:h.NOOP}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUEID=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return e=("000"+e.toString(36)).slice(-3),t=("000"+t.toString(36)).slice(-3),e+t};t.NOOP=function(){}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var s=e.getLineHandle(t.line),u=t.ch-1,l=o&&o.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=i(o),f=!l&&u>=0&&c.test(s.text.charAt(u))&&r[s.text.charAt(u)]||c.test(s.text.charAt(u+1))&&r[s.text.charAt(++u)];if(!f)return null;var d=">"==f.charAt(1)?1:-1;if(o&&o.strict&&d>0!=(u==t.ch))return null;var h=e.getTokenTypeAt(n(t.line,u+1)),p=a(e,n(t.line,u+(d>0?1:0)),d,h||null,o);return null==p?null:{from:n(t.line,u),to:p&&p.pos,match:p&&p.ch==f.charAt(0),forward:d>0}}function a(e,t,o,a,s){for(var u=s&&s.maxScanLineLength||1e4,l=s&&s.maxScanLines||1e3,c=[],f=i(s),d=o>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=d;h+=o){var p=e.getLine(h);if(p){var v=o>0?0:p.length-1,m=o>0?p.length:-1;if(!(p.length>u))for(h==t.line&&(v=t.ch-(o<0?1:0));v!=m;v+=o){var g=p.charAt(v);if(f.test(g)&&(void 0===a||e.getTokenTypeAt(n(h,v+1))==a)){var y=r[g];if(y&&">"==y.charAt(1)==o>0)c.push(g);else{if(!c.length)return{pos:n(h,v),ch:g};c.pop()}}}}}return h-o!=(o>0?e.lastLine():e.firstLine())&&null}function s(e,r,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],u=e.listSelections(),l=0;l<u.length;l++){var c=u[l].empty()&&o(e,u[l].head,i);if(c&&e.getLine(c.from.line).length<=a){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:f})),c.to&&e.getLine(c.to.line).length<=a&&s.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:f}))}}if(s.length){t&&e.state.focused&&e.focus();var d=function(){e.operation((function(){for(var e=0;e<s.length;e++)s[e].clear()}))};if(!r)return d;setTimeout(d,800)}}function u(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)}))}e.defineOption("matchBrackets",!1,(function(t,n,r){function i(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}r&&r!=e.Init&&(t.off("cursorActivity",u),t.off("focus",u),t.off("blur",i),i(t)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",u),t.on("focus",u),t.on("blur",i))})),e.defineExtension("matchBrackets",(function(){s(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return a(this,e,t,n,r)}))}(n(21))},function(e,t,n){"use strict";n.r(t),n.d(t,"CSSTransition",(function(){return _})),n.d(t,"ReplaceTransition",(function(){return A})),n.d(t,"SwitchTransition",(function(){return F})),n.d(t,"TransitionGroup",(function(){return S})),n.d(t,"Transition",(function(){return g})),n.d(t,"config",(function(){return f}));var r=n(25),i=n(37),o=n(24);n(13);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(0),u=n.n(s),l=n(43),c=n.n(l),f={disabled:!1},d=u.a.createContext(null),h="entering",p="entered",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus=h):i=p:i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==p&&(t=h):n!==h&&n!==p||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[c.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||f.disabled?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:h},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.a.findDOMNode(this);t&&!f.disabled?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u.a.createElement(d.Provider,{value:null},"function"===typeof n?n(e,r):u.a.cloneElement(u.a.Children.only(n),r))},t}(u.a.Component);function m(){}v.contextType=d,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED="unmounted",v.EXITED="exited",v.ENTERING=h,v.ENTERED=p,v.EXITING="exiting";var g=v,y=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&y(e,r),i&&y(e,i),o&&y(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return u.a.createElement(g,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.a.Component);b.defaultProps={classNames:""},b.propTypes={};var _=b;function w(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function O(e,t,n){var r=w(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if(Object(s.isValidElement)(a)){var u=o in t,l=o in r,c=t[o],f=Object(s.isValidElement)(c)&&!c.props.in;!l||u&&!f?l||!u||f?l&&u&&Object(s.isValidElement)(c)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:x(a,"exit",e),enter:x(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:x(a,"exit",e),enter:x(a,"enter",e)})}})),i}var k=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},E=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,w(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:x(e,"appear",n),enter:x(e,"enter",n),exit:x(e,"exit",n)})}))):O(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=w(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(i.a)(e,["component","childFactory"]),o=this.state.contextValue,a=k(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(d.Provider,{value:o},a):u.a.createElement(d.Provider,{value:o},u.a.createElement(t,r,a))},t}(u.a.Component);E.propTypes={},E.defaultProps={component:"div",childFactory:function(e){return e}};var S=E,T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}Object(o.a)(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=u.a.Children.toArray(i)[t];if(o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]){var a=o.props.nodeRef?void 0:c.a.findDOMNode(this);this.props[e](a)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=Object(i.a)(e,["children","in"]),o=u.a.Children.toArray(t),a=o[0],s=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,u.a.createElement(S,r,n?u.a.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):u.a.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(u.a.Component);T.propTypes={};var C,D,A=T;var j="out-in",N="in-out",M=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},I=((C={})[j]=function(e){var t=e.current,n=e.changeState;return u.a.cloneElement(t,{in:!1,onExited:M(t,"onExited",(function(){n(h,null)}))})},C[N]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,u.a.cloneElement(r,{in:!0,onEntered:M(r,"onEntered",(function(){n(h)}))})]},C),P=((D={})[j]=function(e){var t=e.children,n=e.changeState;return u.a.cloneElement(t,{in:!0,onEntered:M(t,"onEntered",(function(){n(p,u.a.cloneElement(t,{in:!0}))}))})},D[N]=function(e){var t=e.current,n=e.children,r=e.changeState;return[u.a.cloneElement(t,{in:!1,onExited:M(t,"onExited",(function(){r(p,u.a.cloneElement(n,{in:!0}))}))}),u.a.cloneElement(n,{in:!0})]},D),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:p,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===h&&e.mode===N?{status:h}:!t.current||(n=t.current,r=e.children,n===r||u.a.isValidElement(n)&&u.a.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:u.a.cloneElement(e.children,{in:!0})}:{status:"exiting"};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,o=i.status,a=i.current,s={children:n,current:a,changeState:this.changeState,status:o};switch(o){case h:e=P[r](s);break;case"exiting":e=I[r](s);break;case p:e=a}return u.a.createElement(d.Provider,{value:{isMounting:!this.appeared}},e)},t}(u.a.Component);L.propTypes={},L.defaultProps={mode:j};var F=L},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),o=n(24),a=n(13),s=n.n(a),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var c=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}()+"__",c=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:c,Consumer:f}};t.a=c}).call(this,n(78))},function(e,t,n){var r=n(213);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,d)s+=d[1];else{var p=e[a],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,O="?"===b||"*"===b,k=n[2]||c,E=g||y;r.push({name:m||o++,prefix:v||"",delimiter:k,optional:O,repeat:x,partial:w,asterisk:!!_,pattern:E?l(E):_?".*":"[^"+u(k)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var f,d=s[c.name];if(null==d){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!n[l].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[l].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');o+=c.prefix+f}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)a+=u(l);else{var d=u(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+d+h+")*"),a+=h=l.optional?l.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",c(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(68);function i(e){return o(e.source,Object(r.a)(e.source,e.start))}function o(e,t){var n=e.locationOffset.column-1,r=s(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,u=t.line+o,l=1===t.line?n:0,c=t.column+l,f="".concat(e.name,":").concat(u,":").concat(c,"\n"),d=r.split(/\r\n|[\n\r]/g),h=d[i];if(h.length>120){for(var p=Math.floor(c/80),v=c%80,m=[],g=0;g<h.length;g+=80)m.push(h.slice(g,g+80));return f+a([["".concat(u),m[0]]].concat(m.slice(1,p+1).map((function(e){return["",e]})),[[" ",s(v-1)+"^"],["",m[p+1]]]))}return f+a([["".concat(u-1),d[i-1]],["".concat(u),h],["",s(c-1)+"^"],["".concat(u+1),d[i+1]]])}function a(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return s(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function s(e){return Array(e+1).join(" ")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return F}));var r=n(144),i=n(145),o=n(146),a=n(147),s=n(88),u=n(148),l=n(149),c=n(150),f=n(151),d=n(152),h=n(153),p=n(154),v=n(155),m=n(156),g=n(157),y=n(158),b=n(159),_=n(89),w=n(90),x=n(91),O=n(92),k=n(160),E=n(93),S=n(161),T=n(162),C=n(94),D=n(163),A=n(164),j=n(165),N=n(166),M=n(167),I=n(168),P=n(169),L=Object.freeze([r.a,i.a,o.a,a.a,s.a,u.a,l.a,c.a,f.a,d.a,h.a,p.a,v.a,m.a,g.a,y.a,b.a,_.a,w.a,x.b,O.a,k.a,E.b,S.a,T.a,C.a]),F=Object.freeze([D.a,A.a,j.a,N.a,M.a,I.a,s.a,_.a,w.a,P.a,x.a,O.a,C.a,E.a])},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(34),i=n(36),o=n(3),a=n(39),s=n(14),u=n(12);function l(e){for(var t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),s=Object.create(null),u=0,l=e.getDocument().definitions;u<l.length;u++){var f=l[u];Object(a.d)(f)&&(s[f.name.value]=!0)}var d=Object.keys(n).concat(Object.keys(s));return{NamedType:function(t,u,l,f,h){var p,v=t.name.value;if(!n[v]&&!s[v]){var m,g=null!==(m=h[2])&&void 0!==m?m:l,y=null!=g&&(p=g,!Array.isArray(p)&&(Object(a.g)(p)||Object(a.h)(p)));if(y&&function(e){return-1!==c.indexOf(e)}(v))return;var b=Object(i.a)(v,y?c.concat(d):d);e.reportError(new o.a('Unknown type "'.concat(v,'".')+Object(r.a)(b),t))}}}}var c=[].concat(s.g,u.introspectionTypes).map((function(e){return e.name}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),i=n(16),o=n(3),a=n(2),s=n(10),u=n(18);function l(e){for(var t=Object.create(null),n=e.getSchema(),l=n?n.getDirectives():u.j,c=0;c<l.length;c++){var f=l[c];t[f.name]=f.locations}for(var d=e.getDocument().definitions,h=0;h<d.length;h++){var p=d[h];p.kind===a.a.DIRECTIVE_DEFINITION&&(t[p.name.value]=p.locations.map((function(e){return e.value})))}return{Directive:function(n,u,l,c,f){var d=n.name.value,h=t[d];if(h){var p=function(e){var t=e[e.length-1];switch(!Array.isArray(t)||Object(i.a)(0),t.kind){case a.a.OPERATION_DEFINITION:return function(e){switch(e){case"query":return s.a.QUERY;case"mutation":return s.a.MUTATION;case"subscription":return s.a.SUBSCRIPTION}Object(i.a)(0,"Unexpected operation: "+Object(r.a)(e))}(t.operation);case a.a.FIELD:return s.a.FIELD;case a.a.FRAGMENT_SPREAD:return s.a.FRAGMENT_SPREAD;case a.a.INLINE_FRAGMENT:return s.a.INLINE_FRAGMENT;case a.a.FRAGMENT_DEFINITION:return s.a.FRAGMENT_DEFINITION;case a.a.VARIABLE_DEFINITION:return s.a.VARIABLE_DEFINITION;case a.a.SCHEMA_DEFINITION:case a.a.SCHEMA_EXTENSION:return s.a.SCHEMA;case a.a.SCALAR_TYPE_DEFINITION:case a.a.SCALAR_TYPE_EXTENSION:return s.a.SCALAR;case a.a.OBJECT_TYPE_DEFINITION:case a.a.OBJECT_TYPE_EXTENSION:return s.a.OBJECT;case a.a.FIELD_DEFINITION:return s.a.FIELD_DEFINITION;case a.a.INTERFACE_TYPE_DEFINITION:case a.a.INTERFACE_TYPE_EXTENSION:return s.a.INTERFACE;case a.a.UNION_TYPE_DEFINITION:case a.a.UNION_TYPE_EXTENSION:return s.a.UNION;case a.a.ENUM_TYPE_DEFINITION:case a.a.ENUM_TYPE_EXTENSION:return s.a.ENUM;case a.a.ENUM_VALUE_DEFINITION:return s.a.ENUM_VALUE;case a.a.INPUT_OBJECT_TYPE_DEFINITION:case a.a.INPUT_OBJECT_TYPE_EXTENSION:return s.a.INPUT_OBJECT;case a.a.INPUT_VALUE_DEFINITION:return e[e.length-3].kind===a.a.INPUT_OBJECT_TYPE_DEFINITION?s.a.INPUT_FIELD_DEFINITION:s.a.ARGUMENT_DEFINITION}}(f);p&&-1===h.indexOf(p)&&e.reportError(new o.a('Directive "@'.concat(d,'" may not be used on ').concat(p,"."),n))}else e.reportError(new o.a('Unknown directive "@'.concat(d,'".'),n))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),i=n(2),o=n(39),a=n(18);function s(e){for(var t=Object.create(null),n=e.getSchema(),s=n?n.getDirectives():a.j,u=0;u<s.length;u++){var l=s[u];t[l.name]=!l.isRepeatable}for(var c=e.getDocument().definitions,f=0;f<c.length;f++){var d=c[f];d.kind===i.a.DIRECTIVE_DEFINITION&&(t[d.name.value]=!d.repeatable)}var h=Object.create(null),p=Object.create(null);return{enter:function(n){if(null!=n.directives){var a;if(n.kind===i.a.SCHEMA_DEFINITION||n.kind===i.a.SCHEMA_EXTENSION)a=h;else if(Object(o.d)(n)||Object(o.e)(n)){var s=n.name.value;void 0===(a=p[s])&&(p[s]=a=Object.create(null))}else a=Object.create(null);for(var u=0,l=n.directives;u<l.length;u++){var c=l[u],f=c.name.value;t[f]&&(a[f]?e.reportError(new r.a('The directive "@'.concat(f,'" can only be used once at this location.'),[a[f],c])):a[f]=c)}}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(34),i=n(36),o=n(3),a=n(2),s=n(18);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return l(l({},d(e)),{},{Argument:function(t){var n=e.getArgument(),a=e.getFieldDef(),s=e.getParentType();if(!n&&a&&s){var u=t.name.value,l=a.args.map((function(e){return e.name})),c=Object(i.a)(u,l);e.reportError(new o.a('Unknown argument "'.concat(u,'" on field "').concat(s.name,".").concat(a.name,'".')+Object(r.a)(c),t))}}})}function d(e){for(var t=Object.create(null),n=e.getSchema(),u=n?n.getDirectives():s.j,l=0;l<u.length;l++){var c=u[l];t[c.name]=c.args.map((function(e){return e.name}))}for(var f=e.getDocument().definitions,d=0;d<f.length;d++){var h=f[d];if(h.kind===a.a.DIRECTIVE_DEFINITION){var p,v=null!==(p=h.arguments)&&void 0!==p?p:[];t[h.name.value]=v.map((function(e){return e.name.value}))}}return{Directive:function(n){var a=n.name.value,s=t[a];if(n.arguments&&s)for(var u=0,l=n.arguments;u<l.length;u++){var c=l[u],f=c.name.value;if(-1===s.indexOf(f)){var d=Object(i.a)(f,s);e.reportError(new o.a('Unknown argument "'.concat(f,'" on directive "@').concat(a,'".')+Object(r.a)(d),c))}}return!1}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null);return{Field:function(){t=Object.create(null)},Directive:function(){t=Object.create(null)},Argument:function(n){var i=n.name.value;return t[i]?e.reportError(new r.a('There can be only one argument named "'.concat(i,'".'),[t[i],n.name])):t[i]=n.name,!1}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var r=n(4),i=n(31),o=n(3),a=n(2),s=n(17),u=n(18),l=n(1);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return f(f({},p(e)),{},{Field:{leave:function(t){var n,a=e.getFieldDef();if(!a)return!1;for(var s=null!==(n=t.arguments)&&void 0!==n?n:[],u=Object(i.a)(s,(function(e){return e.name.value})),c=0,f=a.args;c<f.length;c++){var d=f[c];if(!u[d.name]&&Object(l.P)(d)){var h=Object(r.a)(d.type);e.reportError(new o.a('Field "'.concat(a.name,'" argument "').concat(d.name,'" of type "').concat(h,'" is required, but it was not provided.'),t))}}}}})}function p(e){for(var t=Object.create(null),n=e.getSchema(),c=n?n.getDirectives():u.j,f=0;f<c.length;f++){var d=c[f];t[d.name]=Object(i.a)(d.args.filter(l.P),(function(e){return e.name}))}for(var h=e.getDocument().definitions,p=0;p<h.length;p++){var m=h[p];if(m.kind===a.a.DIRECTIVE_DEFINITION){var g,y=null!==(g=m.arguments)&&void 0!==g?g:[];t[m.name.value]=Object(i.a)(y.filter(v),(function(e){return e.name.value}))}}return{Directive:{leave:function(n){var a=n.name.value,u=t[a];if(u)for(var c,f=null!==(c=n.arguments)&&void 0!==c?c:[],d=Object(i.a)(f,(function(e){return e.name.value})),h=0,p=Object.keys(u);h<p.length;h++){var v=p[h];if(!d[v]){var m=u[v].type,g=Object(l.S)(m)?Object(r.a)(m):Object(s.a)(m);e.reportError(new o.a('Directive "@'.concat(a,'" argument "').concat(v,'" of type "').concat(g,'" is required, but it was not provided.'),n))}}}}}}function v(e){return e.type.kind===a.a.NON_NULL_TYPE&&null==e.defaultValue}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=[],n=Object.create(null);return{ObjectValue:{enter:function(){t.push(n),n=Object.create(null)},leave:function(){n=t.pop()}},ObjectField:function(t){var i=t.name.value;n[i]?e.reportError(new r.a('There can be only one input field named "'.concat(i,'".'),[n[i],t.name])):n[i]=t.name}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(2),i=n(32),o=n(65);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(){function e(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}var t=e.prototype;return t.reportError=function(e){this._onError(e)},t.getDocument=function(){return this._ast},t.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce((function(e,t){return t.kind===r.a.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e}),Object.create(null))),t[e]},t.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var n=[e];0!==n.length;)for(var i=0,o=n.pop().selections;i<o.length;i++){var a=o[i];a.kind===r.a.FRAGMENT_SPREAD?t.push(a):a.selectionSet&&n.push(a.selectionSet)}this._fragmentSpreads.set(e,t)}return t},t.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var n=Object.create(null),r=[e.selectionSet];0!==r.length;)for(var i=r.pop(),o=0,a=this.getFragmentSpreads(i);o<a.length;o++){var s=a[o].name.value;if(!0!==n[s]){n[s]=!0;var u=this.getFragment(s);u&&(t.push(u),r.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e}(),u=function(e){function t(t,n,r){var i;return(i=e.call(this,t,r)||this)._schema=n,i}return a(t,e),t.prototype.getSchema=function(){return this._schema},t}(s),l=function(e){function t(t,n,r,i){var o;return(o=e.call(this,n,i)||this)._schema=t,o._typeInfo=r,o._variableUsages=new Map,o._recursiveVariableUsages=new Map,o}a(t,e);var n=t.prototype;return n.getSchema=function(){return this._schema},n.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var n=[],r=new o.a(this._schema);Object(i.c)(e,Object(o.b)(r,{VariableDefinition:function(){return!1},Variable:function(e){n.push({node:e,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=n,this._variableUsages.set(e,t)}return t},n.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var n=0,r=this.getRecursivelyReferencedFragments(e);n<r.length;n++){var i=r[n];t=t.concat(this.getVariableUsages(i))}this._recursiveVariableUsages.set(e,t)}return t},n.getType=function(){return this._typeInfo.getType()},n.getParentType=function(){return this._typeInfo.getParentType()},n.getInputType=function(){return this._typeInfo.getInputType()},n.getParentInputType=function(){return this._typeInfo.getParentInputType()},n.getFieldDef=function(){return this._typeInfo.getFieldDef()},n.getDirective=function(){return this._typeInfo.getDirective()},n.getArgument=function(){return this._typeInfo.getArgument()},n.getEnumValue=function(){return this._typeInfo.getEnumValue()},t}(s)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=l,t.hide=function(e){l(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,i=n(186),o=(r=i)&&r.__esModule?r:{default:r},a=n(77);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!s)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(41);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(41),i=n(197),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(105)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,n(104))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(41),i=n(198),o=n(200),a=n(101),s=n(201),u=n(204),l=n(205),c=n(106);e.exports=function(e){return new Promise((function(t,n){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"],(r.isBlob(f)||r.isFile(f))&&f.type&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=unescape(encodeURIComponent(e.auth.password))||"";d.Authorization="Basic "+btoa(p+":"+v)}var m=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};i(t,n,o),h=null}},h.onabort=function(){h&&(n(c("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||l(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(d,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),f||(f=null),h.send(f)}))}},function(e,t,n){"use strict";var r=n(199);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(41);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,l),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var c=i.concat(o).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(f,l),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastContainer=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(136),a=n(0),s=((r=a)&&r.__esModule,n(83),n(79));var u={"top-left":{top:0,left:0},"top-center":{top:0,left:"50%",transform:"translateX(-50%)"},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-center":{bottom:0,left:"50%",transform:"translateX(-50%)"},"bottom-right":{bottom:0,right:0}};t.ToastContainer=function(e){var t=e.hasToasts,n=e.placement,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["hasToasts","placement"]);return(0,o.jsx)("div",i({className:"react-toast-notifications__container",css:i({boxSizing:"border-box",maxHeight:"100%",overflowX:"hidden",overflowY:"auto",padding:s.gutter,pointerEvents:t?null:"none",position:"fixed",zIndex:1e3},u[n])},r))}},function(e,t,n){"use strict";e.exports=n(214)},function(e,t,n){var r=n(215),i=n(112);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(113),i=n(223),o=n(69),a=n(116);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){var r=n(69);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){!function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",(function(n){n=function(e,t,n){var r=e.options.hintOptions,i={};for(var o in u)i[o]=u[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,n);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var n=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||clearTimeout;function i(e){return"string"==typeof e?e:e.text}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,a=t.cm,s=a.getInputField().ownerDocument,u=s.defaultView||s.parentWindow,l=this.hints=s.createElement("ul"),c=t.cm.options.theme;l.className="CodeMirror-hints "+c,this.selectedHint=n.selectedHint||0;for(var f=n.list,d=0;d<f.length;++d){var h=l.appendChild(s.createElement("li")),p=f[d],v="CodeMirror-hint"+(d!=this.selectedHint?"":" CodeMirror-hint-active");null!=p.className&&(v=p.className+" "+v),h.className=v,p.render?p.render(h,n,p):h.appendChild(s.createTextNode(p.displayText||i(p))),h.hintId=d}var m=t.options.container||s.body,g=a.cursorCoords(t.options.alignWithWord?n.from:null),y=g.left,b=g.bottom,_=!0,w=0,x=0;if(m!==s.body){var O=-1!==["absolute","relative","fixed"].indexOf(u.getComputedStyle(m).position)?m:m.offsetParent,k=O.getBoundingClientRect(),E=s.body.getBoundingClientRect();w=k.left-E.left-O.scrollLeft,x=k.top-E.top-O.scrollTop}l.style.left=y-w+"px",l.style.top=b-x+"px";var S=u.innerWidth||Math.max(s.body.offsetWidth,s.documentElement.offsetWidth),T=u.innerHeight||Math.max(s.body.offsetHeight,s.documentElement.offsetHeight);m.appendChild(l);var C=l.getBoundingClientRect(),D=C.bottom-T,A=l.scrollHeight>l.clientHeight+1,j=a.getScrollInfo();if(D>0){var N=C.bottom-C.top;if(g.top-(g.bottom-C.top)-N>0)l.style.top=(b=g.top-N-x)+"px",_=!1;else if(N>T){l.style.height=T-5+"px",l.style.top=(b=g.bottom-C.top-x)+"px";var M=a.getCursor();n.from.ch!=M.ch&&(g=a.cursorCoords(M),l.style.left=(y=g.left-w)+"px",C=l.getBoundingClientRect())}}var I,P=C.right-S;if(P>0&&(C.right-C.left>S&&(l.style.width=S-5+"px",P-=C.right-C.left-S),l.style.left=(y=g.left-P-w)+"px"),A)for(var L=l.firstChild;L;L=L.nextSibling)L.style.paddingRight=a.display.nativeBarWidth+"px";return a.addKeyMap(this.keyMap=function(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:f.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){I=setTimeout((function(){t.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(I)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),n=a.getWrapperElement().getBoundingClientRect(),r=b+j.top-e.top,i=r-(u.pageYOffset||(s.documentElement||s.body).scrollTop);if(_||(i+=l.offsetHeight),i<=n.top||i>=n.bottom)return t.close();l.style.top=r+"px",l.style.left=y+j.left-e.left+"px"}),e.on(l,"dblclick",(function(e){var t=o(l,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())})),e.on(l,"click",(function(e){var n=o(l,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())})),e.on(l,"mousedown",(function(){setTimeout((function(){a.focus()}),20)})),this.scrollToActive(),e.signal(n,"select",f[this.selectedHint],l.childNodes[this.selectedHint]),!0}function s(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n],o=this;this.cm.operation((function(){r.hint?r.hint(o.cm,t,r):o.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),o.cm.scrollIntoView()})),this.close()},cursorActivity:function(){this.debounce&&(r(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var o=this;this.debounce=n((function(){o.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;s(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new a(this,t),e.signal(t,"shown")))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r&&(r.className=r.className.replace(" CodeMirror-hint-active","")),(r=this.hints.childNodes[this.selectedHint=t]).className+=" CodeMirror-hint-active",this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},scrollToActive:function(){var e=this.completion.options.scrollMargin||0,t=this.hints.childNodes[Math.max(0,this.selectedHint-e)],n=this.hints.childNodes[Math.min(this.data.list.length-1,this.selectedHint+e)],r=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-r.offsetTop:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+r.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:function(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=function(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}(e,i);!function i(o){if(o==r.length)return t(null);s(r[o],e,n,(function(e){e&&e.list.length>0?t(e):i(o+1)}))}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper("hint","fromList",(function(t,n){var r,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",a=i);for(var u=[],l=0;l<n.words.length;l++){var c=n.words[l];c.slice(0,r.length)==r&&u.push(c)}if(u.length)return{list:u,from:a,to:s}})),e.commands.autocomplete=e.showHint;var u={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}(n(21))},function(e,t,n){!function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=e.Pos;function r(e,n){return"pairs"==n&&"string"==typeof e?e:"object"==typeof e&&null!=e[n]?e[n]:t[n]}e.defineOption("autoCloseBrackets",!1,(function(t,n,a){a&&a!=e.Init&&(t.removeKeyMap(i),t.state.closeBrackets=null),n&&(o(r(n,"pairs")),t.state.closeBrackets=n,t.addKeyMap(i))}));var i={Backspace:function(t){var i=s(t);if(!i||t.getOption("disableInput"))return e.Pass;for(var o=r(i,"pairs"),a=t.listSelections(),u=0;u<a.length;u++){if(!a[u].empty())return e.Pass;var c=l(t,a[u].head);if(!c||o.indexOf(c)%2!=0)return e.Pass}for(u=a.length-1;u>=0;u--){var f=a[u].head;t.replaceRange("",n(f.line,f.ch-1),n(f.line,f.ch+1),"+delete")}},Enter:function(t){var n=s(t),i=n&&r(n,"explode");if(!i||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return e.Pass;var u=l(t,o[a].head);if(!u||i.indexOf(u)%2!=0)return e.Pass}t.operation((function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),t.execCommand("goCharLeft"),o=t.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;t.indentLine(r,null,!0),t.indentLine(r+1,null,!0)}}))}};function o(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r="'"+n+"'";i[r]||(i[r]=a(n))}}function a(t){return function(i){return function(t,i){var o=s(t);if(!o||t.getOption("disableInput"))return e.Pass;var a=r(o,"pairs"),l=a.indexOf(i);if(-1==l)return e.Pass;for(var f,d=r(o,"closeBefore"),h=r(o,"triples"),p=a.charAt(l+1)==i,v=t.listSelections(),m=l%2==0,g=0;g<v.length;g++){var y,b=v[g],_=b.head,w=t.getRange(_,n(_.line,_.ch+1));if(m&&!b.empty())y="surround";else if(!p&&m||w!=i)if(p&&_.ch>1&&h.indexOf(i)>=0&&t.getRange(n(_.line,_.ch-2),_)==i+i){if(_.ch>2&&/\bstring/.test(t.getTokenTypeAt(n(_.line,_.ch-2))))return e.Pass;y="addFour"}else if(p){var x=0==_.ch?" ":t.getRange(n(_.line,_.ch-1),_);if(e.isWordChar(w)||x==i||e.isWordChar(x))return e.Pass;y="both"}else{if(!m||!(0===w.length||/\s/.test(w)||d.indexOf(w)>-1))return e.Pass;y="both"}else y=p&&c(t,_)?"both":h.indexOf(i)>=0&&t.getRange(_,n(_.line,_.ch+3))==i+i+i?"skipThree":"skip";if(f){if(f!=y)return e.Pass}else f=y}var O=l%2?a.charAt(l-1):i,k=l%2?i:a.charAt(l+1);t.operation((function(){if("skip"==f)t.execCommand("goCharRight");else if("skipThree"==f)for(var e=0;e<3;e++)t.execCommand("goCharRight");else if("surround"==f){var n=t.getSelections();for(e=0;e<n.length;e++)n[e]=O+n[e]+k;for(t.replaceSelections(n,"around"),n=t.listSelections().slice(),e=0;e<n.length;e++)n[e]=u(n[e]);t.setSelections(n)}else"both"==f?(t.replaceSelection(O+k,null),t.triggerElectric(O+k),t.execCommand("goCharLeft")):"addFour"==f&&(t.replaceSelection(O+O+O+O,"before"),t.execCommand("goCharRight"))}))}(i,t)}}function s(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function u(t){var r=e.cmpPos(t.anchor,t.head)>0;return{anchor:new n(t.anchor.line,t.anchor.ch+(r?-1:1)),head:new n(t.head.line,t.head.ch+(r?1:-1))}}function l(e,t){var r=e.getRange(n(t.line,t.ch-1),n(t.line,t.ch+1));return 2==r.length?r:null}function c(e,t){var r=e.getTokenAt(n(t.line,t.ch+1));return/\bstring/.test(r.type)&&r.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}o(t.pairs+"`")}(n(21))},function(e,t,n){!function(e){"use strict";e.defineOption("foldGutter",!1,(function(t,r,i){var o;i&&i!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",u),t.off("changes",l),t.off("viewportChange",c),t.off("fold",f),t.off("unfold",f),t.off("swapDoc",l)),r&&(t.state.foldGutter=new n((!0===(o=r)&&(o={}),null==o.gutter&&(o.gutter="CodeMirror-foldgutter"),null==o.indicatorOpen&&(o.indicatorOpen="CodeMirror-foldgutter-open"),null==o.indicatorFolded&&(o.indicatorFolded="CodeMirror-foldgutter-folded"),o)),s(t),t.on("gutterClick",u),t.on("changes",l),t.on("viewportChange",c),t.on("fold",f),t.on("unfold",f),t.on("swapDoc",l))}));var t=e.Pos;function n(e){this.options=e,this.from=this.to=0}function r(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),i=0;i<r.length;++i)if(r[i].__isFold){var o=r[i].find(-1);if(o&&o.line===n)return r[i]}}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,n,o){var s=e.state.foldGutter.options,u=n-1,l=e.foldOption(s,"minFoldSize"),c=e.foldOption(s,"rangeFinder"),f="string"==typeof s.indicatorFolded&&a(s.indicatorFolded),d="string"==typeof s.indicatorOpen&&a(s.indicatorOpen);e.eachLine(n,o,(function(n){++u;var o=null,a=n.gutterMarkers;if(a&&(a=a[s.gutter]),r(e,u)){if(f&&a&&f.test(a.className))return;o=i(s.indicatorFolded)}else{var h=t(u,0),p=c&&c(e,h);if(p&&p.to.line-p.from.line>=l){if(d&&a&&d.test(a.className))return;o=i(s.indicatorOpen)}}(o||a)&&e.setGutterMarker(n,s.gutter,o)}))}function a(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation((function(){o(e,t.from,t.to)})),n.from=t.from,n.to=t.to)}function u(e,n,i){var o=e.state.foldGutter;if(o){var a=o.options;if(i==a.gutter){var s=r(e,n);s?s.clear():e.foldCode(t(n,0),a)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){s(e)}),n.foldOnChangeTimeSpan||600)}}function c(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation((function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)}))}),n.updateViewportTimeSpan||400)}}function f(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}}}(n(21),n(231))},function(e,t,n){!function(e){"use strict";e.registerHelper("fold","brace",(function(t,n){var r,i=n.line,o=t.getLine(i);function a(a){for(var s=n.ch,u=0;;){var l=s<=0?-1:o.lastIndexOf(a,s-1);if(-1!=l){if(1==u&&l<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(i,l+1)),!/^(comment|string)/.test(r))return l+1;s=l-1}else{if(1==u)break;u=1,s=o.length}}}var s="{",u="}",l=a("{");if(null==l&&(s="[",u="]",l=a("[")),null!=l){var c,f,d=1,h=t.lastLine();e:for(var p=i;p<=h;++p)for(var v=t.getLine(p),m=p==i?l:0;;){var g=v.indexOf(s,m),y=v.indexOf(u,m);if(g<0&&(g=v.length),y<0&&(y=v.length),(m=Math.min(g,y))==v.length)break;if(t.getTokenTypeAt(e.Pos(p,m+1))==r)if(m==g)++d;else if(!--d){c=p,f=m;break e}++m}if(null!=c&&i!=c)return{from:e.Pos(i,l),to:e.Pos(c,f)}}})),e.registerHelper("fold","import",(function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a=t.getLine(i).indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var i,o=n.line,a=r(o);if(!a||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var s=a.end;;){var u=r(s.line+1);if(null==u)break;s=u.end}return{from:t.clipPos(e.Pos(o,a.startCh+1)),to:s}})),e.registerHelper("fold","include",(function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var a=i;null!=r(a+1);)++a;return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(a))}}))}(n(21))},function(e,t,n){!function(e){"use strict";function t(e,t){var n=Number(t);return/^[-+]/.test(t)?e.getCursor().line+n:n-1}e.commands.jumpToLine=function(e){var n=e.getCursor();!function(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}(e,function(e){return e.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use line:column or scroll% syntax)")+"</span>"}(e),e.phrase("Jump to line:"),n.line+1+":"+n.ch,(function(r){var i;if(r)if(i=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(r))e.setCursor(t(e,i[1]),Number(i[2]));else if(i=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(r)){var o=Math.round(e.lineCount()*Number(i[1])/100);/^[-+]/.test(i[1])&&(o=n.line+o+1),e.setCursor(o-1,n.ch)}else(i=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(r))&&e.setCursor(t(e,i[1]),n.ch)}))},e.keyMap.default["Alt-G"]="jumpToLine"}(n(21),n(71))},function(e,t,n){!function(e){"use strict";var t="CodeMirror-lint-markers";function n(e){e.parentNode&&e.parentNode.removeChild(e)}function r(t,r,i,o){var a=function(t,n,r){var i=document.createElement("div");function o(t){if(!i.parentNode)return e.off(document,"mousemove",o);i.style.top=Math.max(0,t.clientY-i.offsetHeight-5)+"px",i.style.left=t.clientX+5+"px"}return i.className="CodeMirror-lint-tooltip cm-s-"+t.options.theme,i.appendChild(r.cloneNode(!0)),t.state.lint.options.selfContain?t.getWrapperElement().appendChild(i):document.body.appendChild(i),e.on(document,"mousemove",o),o(n),null!=i.style.opacity&&(i.style.opacity=1),i}(t,r,i);function s(){var t;e.off(o,"mouseout",s),a&&((t=a).parentNode&&(null==t.style.opacity&&n(t),t.style.opacity=0,setTimeout((function(){n(t)}),600)),a=null)}var u=setInterval((function(){if(a)for(var e=o;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){s();break}}if(!a)return clearInterval(u)}),400);e.on(o,"mouseout",s)}function i(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){!function(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var i=n.getBoundingClientRect(),o=(i.left+i.right)/2,a=(i.top+i.bottom)/2,u=e.findMarksAt(e.coordsChar({left:o,top:a},"client")),l=[],c=0;c<u.length;++c){var f=u[c].__annotation;f&&l.push(f)}l.length&&function(e,t,n){for(var i=n.target||n.srcElement,o=document.createDocumentFragment(),a=0;a<t.length;a++){var u=t[a];o.appendChild(s(u))}r(e,n,o,i)}(e,l,t)}}(e,t)},this.waitingFor=0}function o(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(t);for(var r=0;r<n.marked.length;++r)n.marked[r].clear();n.marked.length=0}function a(t,n,i,o,a){var s=document.createElement("div"),u=s;return s.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+i,o&&((u=s.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),0!=a&&e.on(u,"mouseover",(function(e){r(t,e,n,u)})),s}function s(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message CodeMirror-lint-message-"+t,"undefined"!=typeof e.messageHTML?n.innerHTML=e.messageHTML:n.appendChild(document.createTextNode(e.message)),n}function u(t){var n=t.state.lint.options,r=n.options||n,i=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(i)if(n.async||i.async)!function(t,n,r){var i=t.state.lint,o=++i.waitingFor;function a(){o=-1,t.off("change",a)}t.on("change",a),n(t.getValue(),(function(n,r){t.off("change",a),i.waitingFor==o&&(r&&n instanceof e&&(n=r),t.operation((function(){l(t,n)})))}),r,t)}(t,i,r);else{var o=i(t.getValue(),r,t);if(!o)return;o.then?o.then((function(e){t.operation((function(){l(t,e)}))})):t.operation((function(){l(t,o)}))}}function l(e,n){o(e);for(var r,i,u=e.state.lint,l=u.options,c=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=r.from.line;(t[i]||(t[i]=[])).push(r)}return t}(n),f=0;f<c.length;++f){var d=c[f];if(d){for(var h=null,p=u.hasGutter&&document.createDocumentFragment(),v=0;v<d.length;++v){var m=d[v],g=m.severity;g||(g="error"),i=g,h="error"==(r=h)?r:i,l.formatAnnotation&&(m=l.formatAnnotation(m)),u.hasGutter&&p.appendChild(s(m)),m.to&&u.marked.push(e.markText(m.from,m.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+g,__annotation:m}))}u.hasGutter&&e.setGutterMarker(f,t,a(e,p,h,d.length>1,u.options.tooltips))}}l.onUpdateLinting&&l.onUpdateLinting(n,c,e)}function c(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){u(e)}),t.options.delay||500))}e.defineOption("lint",!1,(function(n,r,a){if(a&&a!=e.Init&&(o(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",c),e.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),r){for(var s=n.getOption("gutters"),l=!1,f=0;f<s.length;++f)s[f]==t&&(l=!0);var d=n.state.lint=new i(n,(h=r)instanceof Function?{getAnnotations:h}:(h&&!0!==h||(h={}),h),l);!1!==d.options.lintOnChange&&n.on("change",c),0!=d.options.tooltips&&"gutter"!=d.options.tooltips&&e.on(n.getWrapperElement(),"mouseover",d.onMouseOver),u(n)}var h})),e.defineExtension("performLint",(function(){this.state.lint&&u(this)}))}(n(21))},function(e,t,n){!function(e){"use strict";var t=e.commands,n=e.Pos;function r(t,r){t.extendSelectionsBy((function(i){return t.display.shift||t.doc.extend||i.empty()?function(t,r,i){if(i<0&&0==r.ch)return t.clipPos(n(r.line-1));var o=t.getLine(r.line);if(i>0&&r.ch>=o.length)return t.clipPos(n(r.line+1,0));for(var a,s="start",u=r.ch,l=u,c=i<0?0:o.length,f=0;l!=c;l+=i,f++){var d=o.charAt(i<0?l-1:l),h="_"!=d&&e.isWordChar(d)?"w":"o";if("w"==h&&d.toUpperCase()==d&&(h="W"),"start"==s)"o"!=h?(s="in",a=h):u=l+i;else if("in"==s&&a!=h){if("w"==a&&"W"==h&&i<0&&l--,"W"==a&&"w"==h&&i>0){if(l==u+1){a="w";continue}l--}break}}return n(r.line,l)}(t.doc,i.head,r):r<0?i.from():i.to()}))}function i(t,r){if(t.isReadOnly())return e.Pass;t.operation((function(){for(var e=t.listSelections().length,i=[],o=-1,a=0;a<e;a++){var s=t.listSelections()[a].head;if(!(s.line<=o)){var u=n(s.line+(r?0:1),0);t.replaceRange("\n",u,null,"+insertLine"),t.indentLine(u.line,null,!0),i.push({head:u,anchor:u}),o=s.line+1}}t.setSelections(i)})),t.execCommand("indentAuto")}function o(t,r){for(var i=r.ch,o=i,a=t.getLine(r.line);i&&e.isWordChar(a.charAt(i-1));)--i;for(;o<a.length&&e.isWordChar(a.charAt(o));)++o;return{from:n(r.line,i),to:n(r.line,o),word:a.slice(i,o)}}function a(e,t){for(var n=e.listSelections(),r=[],i=0;i<n.length;i++){var o=n[i],a=e.findPosV(o.anchor,t,"line",o.anchor.goalColumn),s=e.findPosV(o.head,t,"line",o.head.goalColumn);a.goalColumn=null!=o.anchor.goalColumn?o.anchor.goalColumn:e.cursorCoords(o.anchor,"div").left,s.goalColumn=null!=o.head.goalColumn?o.head.goalColumn:e.cursorCoords(o.head,"div").left;var u={anchor:a,head:s};r.push(o),r.push(u)}e.setSelections(r)}function s(t){for(var r=t.listSelections(),i=[],o=0;o<r.length;o++){var a=r[o],s=a.head,u=t.scanForBracket(s,-1);if(!u)return!1;for(;;){var l=t.scanForBracket(s,1);if(!l)return!1;if(l.ch=="(){}[]".charAt("(){}[]".indexOf(u.ch)+1)){var c=n(u.pos.line,u.pos.ch+1);if(0!=e.cmpPos(c,a.from())||0!=e.cmpPos(l.pos,a.to())){i.push({anchor:c,head:l.pos});break}if(!(u=t.scanForBracket(u.pos,-1)))return!1}s=n(l.pos.line,l.pos.ch+1)}}return t.setSelections(i),!0}function u(e){return e?/\bpunctuation\b/.test(e)?e:void 0:null}function l(t,r){if(t.isReadOnly())return e.Pass;for(var i,o=t.listSelections(),a=[],s=0;s<o.length;s++){var u=o[s];if(!u.empty()){for(var l=u.from().line,c=u.to().line;s<o.length-1&&o[s+1].from().line==c;)c=o[++s].to().line;o[s].to().ch||c--,a.push(l,c)}}a.length?i=!0:a.push(t.firstLine(),t.lastLine()),t.operation((function(){for(var e=[],o=0;o<a.length;o+=2){var s=a[o],u=a[o+1],l=n(s,0),c=n(u),f=t.getRange(l,c,!1);r?f.sort():f.sort((function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1})),t.replaceRange(f,l,c),i&&e.push({anchor:l,head:n(u+1,0)})}i&&t.setSelections(e,0)}))}function c(t,n){t.operation((function(){for(var r=t.listSelections(),i=[],a=[],s=0;s<r.length;s++)(l=r[s]).empty()?(i.push(s),a.push("")):a.push(n(t.getRange(l.from(),l.to())));var u;for(t.replaceSelections(a,"around","case"),s=i.length-1;s>=0;s--){var l=r[i[s]];if(!(u&&e.cmpPos(l.head,u)>0)){var c=o(t,l.head);u=c.from,t.replaceRange(n(c.word),c.from,c.to)}}}))}function f(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=o(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function d(e,t){var r=f(e);if(r){var i=r.query,o=e.getSearchCursor(i,t?r.to:r.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(i,t?n(e.firstLine(),0):e.clipPos(n(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):r.word&&e.setSelection(r.from,r.to))}}t.goSubwordLeft=function(e){r(e,-1)},t.goSubwordRight=function(e){r(e,1)},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)for(var o=t[i].from(),a=t[i].to(),s=o.line;s<=a.line;++s)a.line>o.line&&s==a.line&&0==a.ch||r.push({anchor:s==o.line?o:n(s,0),head:s==a.line?a:n(s)});e.setSelections(r,0)},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},t.selectLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){var o=t[i];r.push({anchor:n(o.from().line,0),head:n(o.to().line+1,0)})}e.setSelections(r)},t.insertLineAfter=function(e){return i(e,!1)},t.insertLineBefore=function(e){return i(e,!0)},t.selectNextOccurrence=function(t){var r=t.getCursor("from"),i=t.getCursor("to"),a=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(r,i)){var s=o(t,r);if(!s.word)return;t.setSelection(s.from,s.to),a=!0}else{var u=t.getRange(r,i),l=a?new RegExp("\\b"+u+"\\b"):u,c=t.getSearchCursor(l,i),f=c.findNext();if(f||(f=(c=t.getSearchCursor(l,n(t.firstLine(),0))).findNext()),!f||function(t,n,r){for(var i=0;i<t.length;i++)if(0==e.cmpPos(t[i].from(),n)&&0==e.cmpPos(t[i].to(),r))return!0;return!1}(t.listSelections(),c.from(),c.to()))return;t.addSelection(c.from(),c.to())}a&&(t.state.sublimeFindFullWord=t.doc.sel)},t.skipAndSelectNextOccurrence=function(n){var r=n.getCursor("anchor"),i=n.getCursor("head");t.selectNextOccurrence(n),0!=e.cmpPos(r,i)&&n.doc.setSelections(n.doc.listSelections().filter((function(e){return e.anchor!=r||e.head!=i})))},t.addCursorToPrevLine=function(e){a(e,-1)},t.addCursorToNextLine=function(e){a(e,1)},t.selectScope=function(e){s(e)||e.execCommand("selectAll")},t.selectBetweenBrackets=function(t){if(!s(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy((function(r){var i=t.scanForBracket(r.head,1,u(t.getTokenTypeAt(r.head)));if(i&&0!=e.cmpPos(i.pos,r.head))return i.pos;var o=t.scanForBracket(r.head,-1,u(t.getTokenTypeAt(n(r.head.line,r.head.ch+1))));return o&&n(o.pos.line,o.pos.ch+1)||r.head}))},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.firstLine()-1,a=[],s=0;s<r.length;s++){var u=r[s],l=u.from().line-1,c=u.to().line;a.push({anchor:n(u.anchor.line-1,u.anchor.ch),head:n(u.head.line-1,u.head.ch)}),0!=u.to().ch||u.empty()||--c,l>o?i.push(l,c):i.length&&(i[i.length-1]=c),o=c}t.operation((function(){for(var e=0;e<i.length;e+=2){var r=i[e],o=i[e+1],s=t.getLine(r);t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+s,n(t.lastLine()),null,"+swapLine"):t.replaceRange(s+"\n",n(o,0),null,"+swapLine")}t.setSelections(a),t.scrollIntoView()}))},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.lastLine()+1,a=r.length-1;a>=0;a--){var s=r[a],u=s.to().line+1,l=s.from().line;0!=s.to().ch||s.empty()||u--,u<o?i.push(u,l):i.length&&(i[i.length-1]=l),o=l}t.operation((function(){for(var e=i.length-2;e>=0;e-=2){var r=i[e],o=i[e+1],a=t.getLine(r);r==t.lastLine()?t.replaceRange("",n(r-1),n(r),"+swapLine"):t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),t.replaceRange(a+"\n",n(o,0),null,"+swapLine")}t.scrollIntoView()}))},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},t.joinLines=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){for(var o=t[i],a=o.from(),s=a.line,u=o.to().line;i<t.length-1&&t[i+1].from().line==u;)u=t[++i].to().line;r.push({start:s,end:u,anchor:!o.empty()&&a})}e.operation((function(){for(var t=0,i=[],o=0;o<r.length;o++){for(var a,s=r[o],u=s.anchor&&n(s.anchor.line-t,s.anchor.ch),l=s.start;l<=s.end;l++){var c=l-t;l==s.end&&(a=n(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",n(c),n(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}i.push({anchor:u||a,head:a})}e.setSelections(i,0)}))},t.duplicateLine=function(e){e.operation((function(){for(var t=e.listSelections().length,r=0;r<t;r++){var i=e.listSelections()[r];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",n(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()}))},t.sortLines=function(e){l(e,!0)},t.sortLinesInsensitive=function(e){l(e,!1)},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},t.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),a=t[r].empty()?e.findMarksAt(i):e.findMarks(i,o),s=0;s<a.length;s++)if(a[s].sublimeBookmark){a[s].clear();for(var u=0;u<n.length;u++)n[u]==a[s]&&n.splice(u--,1);break}s==a.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation((function(){for(var r=t.listSelections(),i=t.getOption("indentUnit"),o=r.length-1;o>=0;o--){var a=r[o].head,s=t.getRange({line:a.line,ch:0},a),u=e.countColumn(s,null,t.getOption("tabSize")),l=t.findPosH(a,-1,"char",!1);if(s&&!/\S/.test(s)&&u%i==0){var c=new n(a.line,e.findColumn(s,u-i,i));c.ch!=a.ch&&(l=c)}t.replaceRange("",l,a,"+delete")}}))},t.delLineRight=function(e){e.operation((function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange("",t[r].anchor,n(t[r].to().line),"+delete");e.scrollIntoView()}))},t.upcaseAtCursor=function(e){c(e,(function(e){return e.toUpperCase()}))},t.downcaseAtCursor=function(e){c(e,(function(e){return e.toLowerCase()}))},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},t.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},t.findUnder=function(e){d(e,!0)},t.findUnderPrevious=function(e){d(e,!1)},t.findAllUnder=function(e){var t=f(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}};var h=e.keyMap;h.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Cmd-F5":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(h.macSublime),h.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Ctrl-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(h.pcSublime);var p=h.default==h.macDefault;h.sublime=p?h.macSublime:h.pcSublime}(n(21),n(70),n(82))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={schema:e,type:null,parentType:null,inputType:null,directiveDef:null,fieldDef:null,argDef:null,argDefs:null,objectFieldDefs:null};return(0,a.default)(t,(function(t){switch(t.kind){case"Query":case"ShortQuery":n.type=e.getQueryType();break;case"Mutation":n.type=e.getMutationType();break;case"Subscription":n.type=e.getSubscriptionType();break;case"InlineFragment":case"FragmentDefinition":t.type&&(n.type=e.getType(t.type));break;case"Field":case"AliasedField":n.fieldDef=n.type&&t.name?s(e,n.parentType,t.name):null,n.type=n.fieldDef&&n.fieldDef.type;break;case"SelectionSet":n.parentType=(0,i.getNamedType)(n.type);break;case"Directive":n.directiveDef=t.name&&e.getDirective(t.name);break;case"Arguments":var r="Field"===t.prevState.kind?n.fieldDef:"Directive"===t.prevState.kind?n.directiveDef:"AliasedField"===t.prevState.kind?t.prevState.name&&s(e,n.parentType,t.prevState.name):null;n.argDefs=r&&r.args;break;case"Argument":if(n.argDef=null,n.argDefs)for(var o=0;o<n.argDefs.length;o++)if(n.argDefs[o].name===t.name){n.argDef=n.argDefs[o];break}n.inputType=n.argDef&&n.argDef.type;break;case"EnumValue":var a=(0,i.getNamedType)(n.inputType);n.enumValue=a instanceof i.GraphQLEnumType?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(a.getValues(),(function(e){return e.value===t.name})):null;break;case"ListValue":var u=(0,i.getNullableType)(n.inputType);n.inputType=u instanceof i.GraphQLList?u.ofType:null;break;case"ObjectValue":var l=(0,i.getNamedType)(n.inputType);n.objectFieldDefs=l instanceof i.GraphQLInputObjectType?l.getFields():null;break;case"ObjectField":var c=t.name&&n.objectFieldDefs?n.objectFieldDefs[t.name]:null;n.inputType=c&&c.type;break;case"NamedType":n.type=e.getType(t.name)}})),n};var r,i=n(30),o=n(12),a=(r=n(133))&&r.__esModule?r:{default:r};function s(e,t,n){return n===o.SchemaMetaFieldDef.name&&e.getQueryType()===t?o.SchemaMetaFieldDef:n===o.TypeMetaFieldDef.name&&e.getQueryType()===t?o.TypeMetaFieldDef:n===o.TypeNameMetaFieldDef.name&&(0,i.isCompositeType)(t)?o.TypeNameMetaFieldDef:t.getFields?t.getFields()[n]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[],r=e;for(;r&&r.kind;)n.push(r),r=r.prevState;for(var i=n.length-1;i>=0;i--)t(n[i])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldReference=function(e){return{kind:"Field",schema:e.schema,field:e.fieldDef,type:i(e.fieldDef)?null:e.parentType}},t.getDirectiveReference=function(e){return{kind:"Directive",schema:e.schema,directive:e.directiveDef}},t.getArgumentReference=function(e){return e.directiveDef?{kind:"Argument",schema:e.schema,argument:e.argDef,directive:e.directiveDef}:{kind:"Argument",schema:e.schema,argument:e.argDef,field:e.fieldDef,type:i(e.fieldDef)?null:e.parentType}},t.getEnumValueReference=function(e){return{kind:"EnumValue",value:e.enumValue,type:(0,r.getNamedType)(e.inputType)}},t.getTypeReference=function(e,t){return{kind:"Type",schema:e.schema,type:t||e.type}};var r=n(30);function i(e){return"__"===e.name.slice(0,2)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getDefinitionState",(function(){return o})),n.d(t,"getFieldDef",(function(){return a})),n.d(t,"forEachState",(function(){return s})),n.d(t,"objectValues",(function(){return u})),n.d(t,"hintList",(function(){return l})),n.d(t,"getAutocompleteSuggestions",(function(){return ye})),n.d(t,"getFragmentDefinitions",(function(){return be})),n.d(t,"getTokenAtPosition",(function(){return _e})),n.d(t,"runOnlineParser",(function(){return we})),n.d(t,"canUseDirective",(function(){return xe})),n.d(t,"getTypeInfo",(function(){return Oe})),n.d(t,"LANGUAGE",(function(){return He})),n.d(t,"getDefinitionQueryResultForNamedType",(function(){return qe})),n.d(t,"getDefinitionQueryResultForFragmentSpread",(function(){return Ge})),n.d(t,"getDefinitionQueryResultForDefinitionNode",(function(){return Ye})),n.d(t,"SEVERITY",(function(){return Ze})),n.d(t,"DIAGNOSTIC_SEVERITY",(function(){return et})),n.d(t,"getDiagnostics",(function(){return tt})),n.d(t,"validateQuery",(function(){return nt})),n.d(t,"getRange",(function(){return ot})),n.d(t,"getOutline",(function(){return st})),n.d(t,"getHoverInformation",(function(){return lt})),n.d(t,"GraphQLLanguageService",(function(){return Bt}));var r=n(1),i=n(12);function o(e){var t;return s(e,(function(e){switch(e.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":t=e}})),t}function a(e,t,n){return n===i.SchemaMetaFieldDef.name&&e.getQueryType()===t?i.SchemaMetaFieldDef:n===i.TypeMetaFieldDef.name&&e.getQueryType()===t?i.TypeMetaFieldDef:n===i.TypeNameMetaFieldDef.name&&Object(r.D)(t)?i.TypeNameMetaFieldDef:"getFields"in t?t.getFields()[n]:null}function s(e,t){for(var n=[],r=e;r&&r.kind;)n.push(r),r=r.prevState;for(var i=n.length-1;i>=0;i--)t(n[i])}function u(e){for(var t=Object.keys(e),n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=e[t[i]];return r}function l(e,t){return function(e,t){if(!t)return c(e,(function(e){return!e.isDeprecated}));return c(c(e.map((function(e){return{proximity:d(f(e.label),t),entry:e}})),(function(e){return e.proximity<=2})),(function(e){return!e.entry.isDeprecated})).sort((function(e,t){return(e.entry.isDeprecated?1:0)-(t.entry.isDeprecated?1:0)||e.proximity-t.proximity||e.entry.label.length-t.entry.label.length})).map((function(e){return e.entry}))}(t,f(e.string))}function c(e,t){var n=e.filter(t);return 0===n.length?e:n}function f(e){return e.toLowerCase().replace(/\W/g,"")}function d(e,t){var n=function(e,t){var n,r,i=[],o=e.length,a=t.length;for(n=0;n<=o;n++)i[n]=[n];for(r=1;r<=a;r++)i[0][r]=r;for(n=1;n<=o;n++)for(r=1;r<=a;r++){var s=e[n-1]===t[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+s),n>1&&r>1&&e[n-1]===t[r-2]&&e[n-2]===t[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+s))}return i[o][a]}(t,e);return e.length>t.length&&(n-=e.length-t.length-1,n+=0===e.indexOf(t)?0:.5),n}var h,p,v,m,g,y,b,_,w,x,O,k,E,S,T,C,D,A,j,N,M,I,P=n(51);(p=h||(h={})).create=function(e,t){return{line:e,character:t}},p.is=function(e){var t=e;return fe.objectLiteral(t)&&fe.number(t.line)&&fe.number(t.character)},(m=v||(v={})).create=function(e,t,n,r){if(fe.number(e)&&fe.number(t)&&fe.number(n)&&fe.number(r))return{start:h.create(e,t),end:h.create(n,r)};if(h.is(e)&&h.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},m.is=function(e){var t=e;return fe.objectLiteral(t)&&h.is(t.start)&&h.is(t.end)},function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return fe.defined(t)&&v.is(t.range)&&(fe.string(t.uri)||fe.undefined(t.uri))}}(g||(g={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return fe.defined(t)&&v.is(t.targetRange)&&fe.string(t.targetUri)&&(v.is(t.targetSelectionRange)||fe.undefined(t.targetSelectionRange))&&(v.is(t.originSelectionRange)||fe.undefined(t.originSelectionRange))}}(y||(y={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return fe.number(t.red)&&fe.number(t.green)&&fe.number(t.blue)&&fe.number(t.alpha)}}(b||(b={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return v.is(t.range)&&b.is(t.color)}}(_||(_={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return fe.string(t.label)&&(fe.undefined(t.textEdit)||D.is(t))&&(fe.undefined(t.additionalTextEdits)||fe.typedArray(t.additionalTextEdits,D.is))}}(w||(w={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(x||(x={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return fe.defined(n)&&(o.startCharacter=n),fe.defined(r)&&(o.endCharacter=r),fe.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return fe.number(t.startLine)&&fe.number(t.startLine)&&(fe.undefined(t.startCharacter)||fe.number(t.startCharacter))&&(fe.undefined(t.endCharacter)||fe.number(t.endCharacter))&&(fe.undefined(t.kind)||fe.string(t.kind))}}(O||(O={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return fe.defined(t)&&g.is(t.location)&&fe.string(t.message)}}(k||(k={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(E||(E={})),function(e){e.Unnecessary=1,e.Deprecated=2}(S||(S={})),function(e){e.create=function(e,t,n,r,i,o){var a={range:e,message:t};return fe.defined(n)&&(a.severity=n),fe.defined(r)&&(a.code=r),fe.defined(i)&&(a.source=i),fe.defined(o)&&(a.relatedInformation=o),a},e.is=function(e){var t=e;return fe.defined(t)&&v.is(t.range)&&fe.string(t.message)&&(fe.number(t.severity)||fe.undefined(t.severity))&&(fe.number(t.code)||fe.string(t.code)||fe.undefined(t.code))&&(fe.string(t.source)||fe.undefined(t.source))&&(fe.undefined(t.relatedInformation)||fe.typedArray(t.relatedInformation,k.is))}}(T||(T={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return fe.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return fe.defined(t)&&fe.string(t.title)&&fe.string(t.command)}}(C||(C={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return fe.objectLiteral(t)&&fe.string(t.newText)&&v.is(t.range)}}(D||(D={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return fe.defined(t)&&F.is(t.textDocument)&&Array.isArray(t.edits)}}(A||(A={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&fe.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||fe.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||fe.boolean(t.options.ignoreIfExists)))}}(j||(j={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&fe.string(t.oldUri)&&fe.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||fe.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||fe.boolean(t.options.ignoreIfExists)))}}(N||(N={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&fe.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||fe.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||fe.boolean(t.options.ignoreIfNotExists)))}}(M||(M={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return fe.string(e.kind)?j.is(e)||N.is(e)||M.is(e):A.is(e)})))}}(I||(I={}));var L,F,R,B,z,U,H,V,W,q,G,Y,Q,K,X,J,$,Z,ee,te,ne,re,ie,oe,ae,se,ue,le=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(D.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(D.replace(e,t))},e.prototype.delete=function(e){this.edits.push(D.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}();!function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(A.is(e)){var n=new le(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new le(e.changes[n]);t._textEditChanges[n]=r})))}Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(F.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new le(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new le(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(j.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(N.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(M.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")}}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return fe.defined(t)&&fe.string(t.uri)}}(L||(L={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return fe.defined(t)&&fe.string(t.uri)&&(null===t.version||fe.number(t.version))}}(F||(F={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return fe.defined(t)&&fe.string(t.uri)&&fe.string(t.languageId)&&fe.number(t.version)&&fe.string(t.text)}}(R||(R={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(B||(B={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(B||(B={})),function(e){e.is=function(e){var t=e;return fe.objectLiteral(e)&&B.is(t.kind)&&fe.string(t.value)}}(z||(z={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(U||(U={})),function(e){e.PlainText=1,e.Snippet=2}(H||(H={})),function(e){e.Deprecated=1}(V||(V={})),function(e){e.create=function(e){return{label:e}}}(W||(W={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(q||(q={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return fe.string(t)||fe.objectLiteral(t)&&fe.string(t.language)&&fe.string(t.value)}}(G||(G={})),function(e){e.is=function(e){var t=e;return!!t&&fe.objectLiteral(t)&&(z.is(t.contents)||G.is(t.contents)||fe.typedArray(t.contents,G.is))&&(void 0===e.range||v.is(e.range))}}(Y||(Y={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(Q||(Q={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return fe.defined(t)&&(i.documentation=t),fe.defined(n)?i.parameters=n:i.parameters=[],i}}(K||(K={})),function(e){e.Text=1,e.Read=2,e.Write=3}(X||(X={})),function(e){e.create=function(e,t){var n={range:e};return fe.number(t)&&(n.kind=t),n}}(J||(J={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}($||($={})),function(e){e.Deprecated=1}(Z||(Z={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(ee||(ee={})),function(e){e.create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},e.is=function(e){var t=e;return t&&fe.string(t.name)&&fe.number(t.kind)&&v.is(t.range)&&v.is(t.selectionRange)&&(void 0===t.detail||fe.string(t.detail))&&(void 0===t.deprecated||fe.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.create=function(e,t){var n={diagnostics:e};return void 0!==t&&null!==t&&(n.only=t),n},e.is=function(e){var t=e;return fe.defined(t)&&fe.typedArray(t.diagnostics,T.is)&&(void 0===t.only||fe.typedArray(t.only,fe.string))}}(re||(re={})),function(e){e.create=function(e,t,n){var r={title:e};return C.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&fe.string(t.title)&&(void 0===t.diagnostics||fe.typedArray(t.diagnostics,T.is))&&(void 0===t.kind||fe.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||C.is(t.command))&&(void 0===t.isPreferred||fe.boolean(t.isPreferred))&&(void 0===t.edit||I.is(t.edit))}}(ie||(ie={})),function(e){e.create=function(e,t){var n={range:e};return fe.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return fe.defined(t)&&v.is(t.range)&&(fe.undefined(t.command)||C.is(t.command))}}(oe||(oe={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return fe.defined(t)&&fe.number(t.tabSize)&&fe.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return fe.defined(t)&&v.is(t.range)&&(fe.undefined(t.target)||fe.string(t.target))}}(se||(se={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&v.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={}));var ce;!function(e){e.create=function(e,t,n,r){return new de(e,t,n,r)},e.is=function(e){var t=e;return!!(fe.defined(t)&&fe.string(t.uri)&&(fe.undefined(t.languageId)||fe.string(t.languageId))&&fe.number(t.lineCount)&&fe.func(t.getText)&&fe.func(t.positionAt)&&fe.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),o=t.slice(r);e(i,n),e(o,n);var a=0,s=0,u=0;for(;a<i.length&&s<o.length;){var l=n(i[a],o[s]);t[u++]=l<=0?i[a++]:o[s++]}for(;a<i.length;)t[u++]=i[a++];for(;s<o.length;)t[u++]=o[s++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=n.length,o=r.length-1;o>=0;o--){var a=r[o],s=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=i))throw new Error("Overlapping edit");n=n.substring(0,s)+a.newText+n.substring(u,n.length),i=s}return n}}(ce||(ce={}));var fe,de=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return h.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return h.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return"undefined"!==typeof e},e.undefined=function(e){return"undefined"===typeof e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"===typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(fe||(fe={}));var he=n(32),pe=n(54),ve=n(14),me=n(52),ge=n(6);function ye(e,t,n,a,s){var c=a||_e(t,n),f="Invalid"===c.state.kind?c.state.prevState:c.state;if(!f)return[];var d=f.kind,h=f.step,p=Oe(e,c.state);if(d===ge.RuleKinds.DOCUMENT)return l(c,[{label:"query",kind:U.Function},{label:"mutation",kind:U.Function},{label:"subscription",kind:U.Function},{label:"fragment",kind:U.Function},{label:"{",kind:U.Constructor}]);if(d===ge.RuleKinds.SELECTION_SET||d===ge.RuleKinds.FIELD||d===ge.RuleKinds.ALIASED_FIELD)return function(e,t,n,o){if(t.parentType){var a=t.parentType,s=[];return"getFields"in a&&(s=u(a.getFields())),Object(r.D)(a)&&s.push(i.TypeNameMetaFieldDef),a===n.getQueryType()&&s.push(i.SchemaMetaFieldDef,i.TypeMetaFieldDef),l(e,s.map((function(e,t){var n;return{sortText:String(t)+e.name,label:e.name,detail:String(e.type),documentation:null!==(n=e.description)&&void 0!==n?n:void 0,deprecated:e.isDeprecated,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason,kind:U.Field}})))}return[]}(c,p,e);if(d===ge.RuleKinds.ARGUMENTS||d===ge.RuleKinds.ARGUMENT&&0===h){var v=p.argDefs;if(v)return l(c,v.map((function(e){var t;return{label:e.name,detail:String(e.type),documentation:null!==(t=e.description)&&void 0!==t?t:void 0,kind:U.Variable}})))}if((d===ge.RuleKinds.OBJECT_VALUE||d===ge.RuleKinds.OBJECT_FIELD&&0===h)&&p.objectFieldDefs){var m=u(p.objectFieldDefs),g=d===ge.RuleKinds.OBJECT_VALUE?U.Value:U.Field;return l(c,m.map((function(e){var t;return{label:e.name,detail:String(e.type),documentation:null!==(t=e.description)&&void 0!==t?t:void 0,kind:g}})))}if(d===ge.RuleKinds.ENUM_VALUE||d===ge.RuleKinds.LIST_VALUE&&1===h||d===ge.RuleKinds.OBJECT_FIELD&&2===h||d===ge.RuleKinds.ARGUMENT&&2===h)return function(e,t,n){var i=Object(r.A)(t.inputType);if(i instanceof r.a){var o=i.getValues();return l(e,o.map((function(e){var t;return{label:e.name,detail:String(i),documentation:null!==(t=e.description)&&void 0!==t?t:void 0,deprecated:e.isDeprecated,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason,kind:U.EnumMember}})))}if(i===ve.a)return l(e,[{label:"true",detail:String(ve.a),documentation:"Not false.",kind:U.Variable},{label:"false",detail:String(ve.a),documentation:"Not true.",kind:U.Variable}]);return[]}(c,p);if(d===ge.RuleKinds.VARIABLE&&1===h){var y=[];return Object(he.c)(Object(pe.a)(t,{allowLegacySDLEmptyFields:!0,allowLegacySDLImplementsInterfaces:!0}),{VariableDefinition:function(e){y.push(e)}}),l(c,y.map((function(e){return{label:"$".concat(e.variable.name.value),kind:U.Variable,detail:"name"in e.type?e.type.name.value:"Variable"}})))}return d===ge.RuleKinds.TYPE_CONDITION&&1===h||d===ge.RuleKinds.NAMED_TYPE&&null!=f.prevState&&f.prevState.kind===ge.RuleKinds.TYPE_CONDITION?function(e,t,n,i){var o;if(t.parentType)if(Object(r.C)(t.parentType)){var a=Object(r.j)(t.parentType),s=n.getPossibleTypes(a),c=Object.create(null);s.forEach((function(e){e.getInterfaces().forEach((function(e){c[e.name]=e}))})),o=s.concat(u(c))}else o=[t.parentType];else{var f=n.getTypeMap();o=u(f).filter(r.D)}return l(e,o.map((function(e){var t=Object(r.A)(e);return{label:String(e),documentation:t&&t.description||"",kind:U.Field}})))}(c,p,e):d===ge.RuleKinds.FRAGMENT_SPREAD&&1===h?function(e,t,n,i,a){var s=n.getTypeMap(),u=o(e.state),c=be(i);a&&c.push.apply(c,Object(P.a)(a));var f=c.filter((function(e){return s[e.typeCondition.name.value]&&!(u&&u.kind===ge.RuleKinds.FRAGMENT_DEFINITION&&u.name===e.name.value)&&Object(r.D)(t.parentType)&&Object(r.D)(s[e.typeCondition.name.value])&&Object(me.a)(n,t.parentType,s[e.typeCondition.name.value])}));return l(e,f.map((function(e){return{label:e.name.value,detail:String(s[e.typeCondition.name.value]),documentation:"fragment ".concat(e.name.value," on ").concat(e.typeCondition.name.value),kind:U.Field}})))}(c,p,e,t,s):d===ge.RuleKinds.VARIABLE_DEFINITION&&2===h||d===ge.RuleKinds.LIST_TYPE&&1===h||d===ge.RuleKinds.NAMED_TYPE&&f.prevState&&(f.prevState.kind===ge.RuleKinds.VARIABLE_DEFINITION||f.prevState.kind===ge.RuleKinds.LIST_TYPE||f.prevState.kind===ge.RuleKinds.NON_NULL_TYPE)?function(e,t,n){var i=u(t.getTypeMap()).filter(r.G);return l(e,i.map((function(e){return{label:e.name,documentation:e.description,kind:U.Variable}})))}(c,e):d===ge.RuleKinds.DIRECTIVE?function(e,t,n,r){if(t.prevState&&t.prevState.kind){var i=n.getDirectives().filter((function(e){return xe(t.prevState,e)}));return l(e,i.map((function(e){return{label:e.name,documentation:e.description||"",kind:U.Function}})))}return[]}(c,f,e):[]}function be(e){var t=[];return we(e,(function(e,n){n.kind===ge.RuleKinds.FRAGMENT_DEFINITION&&n.name&&n.type&&t.push({kind:ge.RuleKinds.FRAGMENT_DEFINITION,name:{kind:"Name",value:n.name},selectionSet:{kind:ge.RuleKinds.SELECTION_SET,selections:[]},typeCondition:{kind:ge.RuleKinds.NAMED_TYPE,name:{kind:"Name",value:n.type}}})})),t}function _e(e,t){var n=null,r=null,i=null,o=we(e,(function(e,o,a,s){if(s===t.line&&e.getCurrentPosition()>=t.character)return n=a,r=Object.assign({},o),i=e.current(),"BREAK"}));return{start:o.start,end:o.end,string:i||o.string,state:r||o.state,style:n||o.style}}function we(e,t){for(var n=e.split("\n"),r=Object(ge.onlineParser)(),i=r.startState(),o="",a=new ge.CharacterStream(""),s=0;s<n.length;s++){for(a=new ge.CharacterStream(n[s]);!a.eol();){if("BREAK"===t(a,i,o=r.token(a,i),s))break}t(a,i,o,s),i.kind||(i=r.startState())}return{start:a.getStartOfToken(),end:a.getCurrentPosition(),string:a.current(),state:i,style:o}}function xe(e,t){if(!e||!e.kind)return!1;var n=e.kind,r=t.locations;switch(n){case ge.RuleKinds.QUERY:return-1!==r.indexOf("QUERY");case ge.RuleKinds.MUTATION:return-1!==r.indexOf("MUTATION");case ge.RuleKinds.SUBSCRIPTION:return-1!==r.indexOf("SUBSCRIPTION");case ge.RuleKinds.FIELD:case ge.RuleKinds.ALIASED_FIELD:return-1!==r.indexOf("FIELD");case ge.RuleKinds.FRAGMENT_DEFINITION:return-1!==r.indexOf("FRAGMENT_DEFINITION");case ge.RuleKinds.FRAGMENT_SPREAD:return-1!==r.indexOf("FRAGMENT_SPREAD");case ge.RuleKinds.INLINE_FRAGMENT:return-1!==r.indexOf("INLINE_FRAGMENT");case ge.RuleKinds.SCHEMA_DEF:return-1!==r.indexOf("SCHEMA");case ge.RuleKinds.SCALAR_DEF:return-1!==r.indexOf("SCALAR");case ge.RuleKinds.OBJECT_TYPE_DEF:return-1!==r.indexOf("OBJECT");case ge.RuleKinds.FIELD_DEF:return-1!==r.indexOf("FIELD_DEFINITION");case ge.RuleKinds.INTERFACE_DEF:return-1!==r.indexOf("INTERFACE");case ge.RuleKinds.UNION_DEF:return-1!==r.indexOf("UNION");case ge.RuleKinds.ENUM_DEF:return-1!==r.indexOf("ENUM");case ge.RuleKinds.ENUM_VALUE:return-1!==r.indexOf("ENUM_VALUE");case ge.RuleKinds.INPUT_DEF:return-1!==r.indexOf("INPUT_OBJECT");case ge.RuleKinds.INPUT_VALUE_DEF:switch(e.prevState&&e.prevState.kind){case ge.RuleKinds.ARGUMENTS_DEF:return-1!==r.indexOf("ARGUMENT_DEFINITION");case ge.RuleKinds.INPUT_DEF:return-1!==r.indexOf("INPUT_FIELD_DEFINITION")}}return!1}function Oe(e,t){var n,i,o,u,l,c,f,d,h;return s(t,(function(t){switch(t.kind){case ge.RuleKinds.QUERY:case"ShortQuery":h=e.getQueryType();break;case ge.RuleKinds.MUTATION:h=e.getMutationType();break;case ge.RuleKinds.SUBSCRIPTION:h=e.getSubscriptionType();break;case ge.RuleKinds.INLINE_FRAGMENT:case ge.RuleKinds.FRAGMENT_DEFINITION:t.type&&(h=e.getType(t.type));break;case ge.RuleKinds.FIELD:case ge.RuleKinds.ALIASED_FIELD:h&&t.name?(l=d?a(e,d,t.name):null,h=l?l.type:null):l=null;break;case ge.RuleKinds.SELECTION_SET:d=Object(r.A)(h);break;case ge.RuleKinds.DIRECTIVE:o=t.name?e.getDirective(t.name):null;break;case ge.RuleKinds.ARGUMENTS:if(t.prevState)switch(t.prevState.kind){case ge.RuleKinds.FIELD:i=l&&l.args;break;case ge.RuleKinds.DIRECTIVE:i=o&&o.args;break;case ge.RuleKinds.ALIASED_FIELD:var s=t.prevState&&t.prevState.name;if(!s){i=null;break}var p=d?a(e,d,s):null;if(!p){i=null;break}i=p.args;break;default:i=null}else i=null;break;case ge.RuleKinds.ARGUMENT:if(i)for(var v=0;v<i.length;v++)if(i[v].name===t.name){n=i[v];break}c=n&&n.type;break;case ge.RuleKinds.ENUM_VALUE:var m=Object(r.A)(c);u=m instanceof r.a?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}(m.getValues(),(function(e){return e.value===t.name})):null;break;case ge.RuleKinds.LIST_VALUE:var g=Object(r.B)(c);c=g instanceof r.d?g.ofType:null;break;case ge.RuleKinds.OBJECT_VALUE:var y=Object(r.A)(c);f=y instanceof r.b?y.getFields():null;break;case ge.RuleKinds.OBJECT_FIELD:var b=t.name&&f?f[t.name]:null;c=b&&b.type;break;case ge.RuleKinds.NAMED_TYPE:t.name&&(h=e.getType(t.name))}})),{argDef:n,argDefs:i,directiveDef:o,enumValue:u,fieldDef:l,inputType:c,objectFieldDefs:f,parentType:d,type:h}}var ke=n(8),Ee=n.n(ke);function Se(e,t,n){var r,i=function(e,t){var n=e.split("\n").slice(0,t.line);return t.character+n.map((function(e){return e.length+1})).reduce((function(e,t){return e+t}),0)}(e,n);return Object(he.c)(t,{enter:function(e){if(!("Name"!==e.kind&&e.loc&&e.loc.start<=i&&i<=e.loc.end))return!1;r=e},leave:function(e){if(e.loc&&e.loc.start<=i&&i<=e.loc.end)return!1}}),r}var Te=n(28),Ce=n(33),De=function(){function e(t,n){var r=this;Object(Te.a)(this,e),this.containsPosition=function(e){return r.start.line===e.line?r.start.character<=e.character:r.end.line===e.line?r.end.character>=e.character:r.start.line<=e.line&&r.end.line>=e.line},this.start=t,this.end=n}return Object(Ce.a)(e,[{key:"setStart",value:function(e,t){this.start=new Ae(e,t)}},{key:"setEnd",value:function(e,t){this.end=new Ae(e,t)}}]),e}(),Ae=function(){function e(t,n){var r=this;Object(Te.a)(this,e),this.lessThanOrEqualTo=function(e){return r.line<e.line||r.line===e.line&&r.character<=e.character},this.line=t,this.character=n}return Object(Ce.a)(e,[{key:"setLine",value:function(e){this.line=e}},{key:"setCharacter",value:function(e){this.character=e}}]),e}();function je(e,t){var n=e.slice(0,t),r=n.split("\n").length-1,i=n.lastIndexOf("\n");return new Ae(r,t-i-1)}var Ne=n(87),Me=n(154),Ie=n(153),Pe=n(55),Le=n(2),Fe=n(144);function Re(e,t,n,r){var i=Ne.a.filter((function(e){return e!==Me.a&&e!==Fe.a&&(!r||e!==Ie.a)}));return n&&Array.prototype.push.apply(i,n),Object(Pe.c)(e,t,i).filter((function(e){if(-1!==e.message.indexOf("Unknown directive")&&e.nodes){var t=e.nodes[0];if(t&&t.kind===Le.a.DIRECTIVE){var n=t.name.value;if("arguments"===n||"argumentDefinitions"===n)return!1}}return!0}))}var Be=n(53),ze=n.n(Be),Ue=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},He="GraphQL";function Ve(e,t){var n=t.loc;return ze()(n,"Expected ASTNode to have a location."),function(e,t){var n=je(e,t.start),r=je(e,t.end);return new De(n,r)}(e,n)}function We(e,t){var n=t.loc;return ze()(n,"Expected ASTNode to have a location."),je(e,n.start)}function qe(e,t,n){return Ue(this,void 0,void 0,Ee.a.mark((function r(){var i,o,a;return Ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.name.value,0!==(o=n.filter((function(e){var t=e.definition;return t.name&&t.name.value===i}))).length){r.next=4;break}throw Error("Definition not found for GraphQL type ".concat(i));case 4:return a=o.map((function(e){return Ke(e.filePath||"",e.content,e.definition)})),r.abrupt("return",{definitions:a,queryRange:a.map((function(n){return Ve(e,t)}))});case 6:case"end":return r.stop()}}),r)})))}function Ge(e,t,n){return Ue(this,void 0,void 0,Ee.a.mark((function r(){var i,o,a;return Ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.name.value,0!==(o=n.filter((function(e){return e.definition.name.value===i}))).length){r.next=4;break}throw Error("Definition not found for GraphQL fragment ".concat(i));case 4:return a=o.map((function(e){return Qe(e.filePath||"",e.content,e.definition)})),r.abrupt("return",{definitions:a,queryRange:a.map((function(n){return Ve(e,t)}))});case 6:case"end":return r.stop()}}),r)})))}function Ye(e,t,n){return{definitions:[Qe(e,t,n)],queryRange:n.name?[Ve(t,n.name)]:[]}}function Qe(e,t,n){var r=n.name;if(!r)throw Error("Expected ASTNode to have a Name.");return{path:e,position:We(t,n),range:Ve(t,n),name:r.value||"",language:He,projectRoot:e}}function Ke(e,t,n){var r=n.name;return ze()(r,"Expected ASTNode to have a Name."),{path:e,position:We(t,n),range:Ve(t,n),name:r.value||"",language:He,projectRoot:e}}var Xe,Je=n(19),$e=n(260),Ze={Error:"Error",Warning:"Warning",Information:"Information",Hint:"Hint"},et=(Xe={},Object(Je.a)(Xe,Ze.Error,1),Object(Je.a)(Xe,Ze.Warning,2),Object(Je.a)(Xe,Ze.Information,3),Object(Je.a)(Xe,Ze.Hint,4),Xe);function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=null;try{i=Object(pe.a)(e)}catch(a){var o=ot(a.locations[0],e);return[{severity:et.Error,message:a.message,source:"GraphQL: Syntax",range:o}]}return nt(i,t,n,r)}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!t)return[];var i=rt(Re(t,e,n,r),(function(e){return it(e,et.Error,"Validation")})),o=$e.a?rt(Object($e.a)(t,e),(function(e){return it(e,et.Warning,"Deprecation")})):[];return i.concat(o)}function rt(e,t){return Array.prototype.concat.apply([],e.map(t))}function it(e,t,n){if(!e.nodes)return[];var r=[];return e.nodes.forEach((function(i){var o="Variable"!==i.kind&&"name"in i&&void 0!==i.name?i.name:"variable"in i&&void 0!==i.variable?i.variable:i;if(o){ze()(e.locations,"GraphQL validation error requires locations.");var a=e.locations[0],s=function(e){var t=e.loc;return ze()(t,"Expected ASTNode to have a location."),t}(o),u=a.column+(s.end-s.start);r.push({source:"GraphQL: ".concat(n),message:e.message,severity:t,range:new De(new Ae(a.line-1,a.column-1),new Ae(a.line-1,u))})}})),r}function ot(e,t){var n=Object(ge.onlineParser)(),r=n.startState(),i=t.split("\n");ze()(i.length>=e.line,"Query text must have more lines than where the error happened");for(var o=null,a=0;a<e.line;a++)for(o=new ge.CharacterStream(i[a]);!o.eol();){if("invalidchar"===n.token(o,r))break}ze()(o,"Expected Parser stream to be available.");var s=e.line-1,u=o.getStartOfToken(),l=o.getCurrentPosition();return new De(new Ae(s,u),new Ae(s,l))}var at=Le.a.INLINE_FRAGMENT;function st(e){var t;try{t=Object(pe.a)(e)}catch(r){return null}var n=function(e){var t=function(t){return{representativeName:t.name,startPosition:je(e,t.loc.start),endPosition:je(e,t.loc.end),kind:t.kind,children:t.selectionSet||t.fields||t.values||t.arguments||[]}};return{Field:function(e){var n=e.alias?[ut("plain",e.alias),ut("plain",": ")]:[];return n.push(ut("plain",e.name)),Object.assign({tokenizedText:n},t(e))},OperationDefinition:function(e){return Object.assign({tokenizedText:[ut("keyword",e.operation),ut("whitespace"," "),ut("class-name",e.name)]},t(e))},Document:function(e){return e.definitions},SelectionSet:function(e){return function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);Array.isArray(i)?n.push.apply(n,Object(P.a)(i)):n.push(i)}return n}(e.selections,(function(e){return e.kind===at?e.selectionSet:e}))},Name:function(e){return e.value},FragmentDefinition:function(e){return Object.assign({tokenizedText:[ut("keyword","fragment"),ut("whitespace"," "),ut("class-name",e.name)]},t(e))},InterfaceTypeDefinition:function(e){return Object.assign({tokenizedText:[ut("keyword","interface"),ut("whitespace"," "),ut("class-name",e.name)]},t(e))},EnumTypeDefinition:function(e){return Object.assign({tokenizedText:[ut("keyword","enum"),ut("whitespace"," "),ut("class-name",e.name)]},t(e))},EnumValueDefinition:function(e){return Object.assign({tokenizedText:[ut("plain",e.name)]},t(e))},ObjectTypeDefinition:function(e){return Object.assign({tokenizedText:[ut("keyword","type"),ut("whitespace"," "),ut("class-name",e.name)]},t(e))},InputObjectTypeDefinition:function(e){return Object.assign({tokenizedText:[ut("keyword","input"),ut("whitespace"," "),ut("class-name",e.name)]},t(e))},FragmentSpread:function(e){return Object.assign({tokenizedText:[ut("plain","..."),ut("class-name",e.name)]},t(e))},InputValueDefinition:function(e){return Object.assign({tokenizedText:[ut("plain",e.name)]},t(e))},FieldDefinition:function(e){return Object.assign({tokenizedText:[ut("plain",e.name)]},t(e))},InlineFragment:function(e){return e.selectionSet}}}(e);return{outlineTrees:Object(he.c)(t,{leave:function(e){return void 0!==n&&e.kind in n?n[e.kind](e):null}})}}function ut(e,t){return{kind:e,value:t}}function lt(e,t,n,r){var i=r||_e(t,n);if(!e||!i||!i.state)return"";var o=i.state,a=o.kind,s=o.step,u=Oe(e,i.state),l={schema:e};if("Field"===a&&0===s&&u.fieldDef||"AliasedField"===a&&2===s&&u.fieldDef){var c=[];return function(e,t,n){ct(e,t,n),dt(e,t,n,t.type)}(c,u,l),pt(c,l,u.fieldDef),c.join("").trim()}if("Directive"===a&&1===s&&u.directiveDef){var f=[];return ft(f,u,l),pt(f,l,u.directiveDef),f.join("").trim()}if("Argument"===a&&0===s&&u.argDef){var d=[];return function(e,t,n){t.directiveDef?ft(e,t,n):t.fieldDef&&ct(e,t,n);if(!t.argDef)return;var r=t.argDef.name;vt(e,"("),vt(e,r),dt(e,t,n,t.inputType),vt(e,")")}(d,u,l),pt(d,l,u.argDef),d.join("").trim()}if("EnumValue"===a&&u.enumValue&&"description"in u.enumValue){var h=[];return function(e,t,n){if(!t.enumValue)return;var r=t.enumValue.name;ht(e,t,n,t.inputType),vt(e,"."),vt(e,r)}(h,u,l),pt(h,l,u.enumValue),h.join("").trim()}if("NamedType"===a&&u.type&&"description"in u.type){var p=[];return ht(p,u,l,u.type),pt(p,l,u.type),p.join("").trim()}return""}function ct(e,t,n){if(t.fieldDef){var r=t.fieldDef.name;"__"!==r.slice(0,2)&&(ht(e,t,n,t.parentType),vt(e,".")),vt(e,r)}}function ft(e,t,n){t.directiveDef&&vt(e,"@"+t.directiveDef.name)}function dt(e,t,n,r){vt(e,": "),ht(e,t,n,r)}function ht(e,t,n,i){i&&(i instanceof r.e?(ht(e,t,n,i.ofType),vt(e,"!")):i instanceof r.d?(vt(e,"["),ht(e,t,n,i.ofType),vt(e,"]")):vt(e,i.name))}function pt(e,t,n){if(n){var r="string"===typeof n.description?n.description:null;r&&(vt(e,"\n\n"),vt(e,r)),function(e,t,n){if(!n)return;var r=n.deprecationReason?n.deprecationReason:null;if(!r)return;vt(e,"\n\n"),vt(e,"Deprecated: "),vt(e,r)}(e,0,n)}}function vt(e,t){e.push(t)}var mt,gt=n(11),yt=n(17),bt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_t=Le.a.FRAGMENT_DEFINITION,wt=Le.a.OBJECT_TYPE_DEFINITION,xt=Le.a.INTERFACE_TYPE_DEFINITION,Ot=Le.a.ENUM_TYPE_DEFINITION,kt=Le.a.UNION_TYPE_DEFINITION,Et=Le.a.SCALAR_TYPE_DEFINITION,St=Le.a.INPUT_OBJECT_TYPE_DEFINITION,Tt=Le.a.SCALAR_TYPE_EXTENSION,Ct=Le.a.OBJECT_TYPE_EXTENSION,Dt=Le.a.INTERFACE_TYPE_EXTENSION,At=Le.a.UNION_TYPE_EXTENSION,jt=Le.a.ENUM_TYPE_EXTENSION,Nt=Le.a.INPUT_OBJECT_TYPE_EXTENSION,Mt=Le.a.DIRECTIVE_DEFINITION,It=Le.a.FRAGMENT_SPREAD,Pt=Le.a.OPERATION_DEFINITION,Lt=Le.a.NAMED_TYPE,Ft=(mt={},Object(Je.a)(mt,Le.a.FIELD,$.Field),Object(Je.a)(mt,Le.a.OPERATION_DEFINITION,$.Class),Object(Je.a)(mt,Le.a.FRAGMENT_DEFINITION,$.Class),Object(Je.a)(mt,Le.a.FRAGMENT_SPREAD,$.Struct),Object(Je.a)(mt,Le.a.OBJECT_TYPE_DEFINITION,$.Class),Object(Je.a)(mt,Le.a.ENUM_TYPE_DEFINITION,$.Enum),Object(Je.a)(mt,Le.a.ENUM_VALUE_DEFINITION,$.EnumMember),Object(Je.a)(mt,Le.a.INPUT_OBJECT_TYPE_DEFINITION,$.Class),Object(Je.a)(mt,Le.a.INPUT_VALUE_DEFINITION,$.Field),Object(Je.a)(mt,Le.a.FIELD_DEFINITION,$.Field),Object(Je.a)(mt,Le.a.INTERFACE_TYPE_DEFINITION,$.Interface),Object(Je.a)(mt,Le.a.DOCUMENT,$.File),Object(Je.a)(mt,"FieldWithArguments",$.Method),mt);function Rt(e){return"FieldDefinition"===e.kind&&e.children&&e.children.length>0?Ft.FieldWithArguments:Ft[e.kind]}var Bt=function(){function e(t){Object(Te.a)(this,e),this._graphQLCache=t,this._graphQLConfig=t.getGraphQLConfig()}return Object(Ce.a)(e,[{key:"getConfigForURI",value:function(e){var t=this._graphQLCache.getProjectForFile(e);if(t)return t;throw Error("No config found for uri: ".concat(e))}},{key:"getDiagnostics",value:function(e,t,n){return bt(this,void 0,void 0,Ee.a.mark((function r(){var i,o,a,s,u,l,c,f,d,h,p,v,m,g;return Ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!1,o=this.getConfigForURI(t)){r.next=4;break}return r.abrupt("return",[]);case 4:a=o.schema,s=o.name,u=o.extensions,r.prev=5,l=Object(pe.a)(e),a&&t===a||(i=l.definitions.some((function(e){switch(e.kind){case wt:case xt:case Ot:case kt:case Et:case St:case Tt:case Ct:case Dt:case At:case jt:case Nt:case Mt:return!0}return!1}))),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(5),c=ot(r.t0.locations[0],e),r.abrupt("return",[{severity:et.Error,message:r.t0.message,source:"GraphQL: Syntax",range:c}]);case 14:return f=e,r.next=17,this._graphQLCache.getFragmentDefinitions(o);case 17:return d=r.sent,r.next=20,this._graphQLCache.getFragmentDependencies(e,d);case 20:h=r.sent,p=h.reduce((function(e,t){return"".concat(e," ").concat(Object(yt.a)(t.definition))}),""),f="".concat(f," ").concat(p),v=null,r.prev=24,v=Object(pe.a)(f),r.next=31;break;case 28:return r.prev=28,r.t1=r.catch(24),r.abrupt("return",[]);case 31:return m=null,(null===u||void 0===u?void 0:u.customValidationRules)&&"function"===typeof u.customValidationRules&&(m=u.customValidationRules(this._graphQLConfig)),r.next=35,this._graphQLCache.getSchema(s,i);case 35:if(g=r.sent){r.next=38;break}return r.abrupt("return",[]);case 38:return r.abrupt("return",nt(v,g,m,n));case 39:case"end":return r.stop()}}),r,this,[[5,10],[24,28]])})))}},{key:"getAutocompleteSuggestions",value:function(e,t,n){return bt(this,void 0,void 0,Ee.a.mark((function r(){var i,o,a,s;return Ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this.getConfigForURI(n),r.next=3,this._graphQLCache.getSchema(i.name);case 3:return o=r.sent,r.next=6,this._graphQLCache.getFragmentDefinitions(i);case 6:if(a=r.sent,s=Array.from(a).map((function(e){return Object(gt.a)(e,2)[1]})),!o){r.next=10;break}return r.abrupt("return",ye(o,e,t,void 0,s.map((function(e){return e.definition}))));case 10:return r.abrupt("return",[]);case 11:case"end":return r.stop()}}),r,this)})))}},{key:"getHoverInformation",value:function(e,t,n){return bt(this,void 0,void 0,Ee.a.mark((function r(){var i,o;return Ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this.getConfigForURI(n),r.next=3,this._graphQLCache.getSchema(i.name);case 3:if(!(o=r.sent)){r.next=6;break}return r.abrupt("return",lt(o,e,t));case 6:return r.abrupt("return","");case 7:case"end":return r.stop()}}),r,this)})))}},{key:"getDefinition",value:function(e,t,n){return bt(this,void 0,void 0,Ee.a.mark((function r(){var i,o,a;return Ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=this.getConfigForURI(n),r.prev=1,o=Object(pe.a)(e),r.next=8;break;case 5:return r.prev=5,r.t0=r.catch(1),r.abrupt("return",null);case 8:if(!(a=Se(e,o,t))){r.next=16;break}r.t1=a.kind,r.next=r.t1===It?13:r.t1===_t||r.t1===Pt?14:r.t1===Lt?15:16;break;case 13:return r.abrupt("return",this._getDefinitionForFragmentSpread(e,o,a,n,i));case 14:return r.abrupt("return",Ye(n,e,a));case 15:return r.abrupt("return",this._getDefinitionForNamedType(e,o,a,n,i));case 16:return r.abrupt("return",null);case 17:case"end":return r.stop()}}),r,this,[[1,5]])})))}},{key:"getDocumentSymbols",value:function(e,t){return bt(this,void 0,void 0,Ee.a.mark((function n(){var r,i,o,a,s;return Ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getOutline(e);case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",[]);case 5:i=[],o=r.outlineTrees.map((function(e){return[null,e]})),a=function(){var e=o.pop();if(!e)return{v:[]};var n=Object(gt.a)(e,2),r=n[0],a=n[1];if(!a)return{v:[]};i.push({name:a.representativeName,kind:Rt(a),location:{uri:t,range:{start:a.startPosition,end:a.endPosition}},containerName:r?r.representativeName:void 0}),o.push.apply(o,Object(P.a)(a.children.map((function(e){return[a,e]}))))};case 8:if(!(o.length>0)){n.next=14;break}if("object"!==typeof(s=a())){n.next=12;break}return n.abrupt("return",s.v);case 12:n.next=8;break;case 14:return n.abrupt("return",i);case 15:case"end":return n.stop()}}),n,this)})))}},{key:"_getDefinitionForNamedType",value:function(e,t,n,r,i){return bt(this,void 0,void 0,Ee.a.mark((function o(){var a,s,u,l,c;return Ee.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this._graphQLCache.getObjectTypeDefinitions(i);case 2:return a=o.sent,o.next=5,this._graphQLCache.getObjectTypeDependenciesForAST(t,a);case 5:return s=o.sent,u=t.definitions.filter((function(e){return e.kind===wt||e.kind===St||e.kind===Ot||e.kind===Et||e.kind===xt})),l=u.map((function(t){return{filePath:r,content:e,definition:t}})),o.next=11,qe(e,n,s.concat(l));case 11:return c=o.sent,o.abrupt("return",c);case 13:case"end":return o.stop()}}),o,this)})))}},{key:"_getDefinitionForFragmentSpread",value:function(e,t,n,r,i){return bt(this,void 0,void 0,Ee.a.mark((function o(){var a,s,u,l,c;return Ee.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this._graphQLCache.getFragmentDefinitions(i);case 2:return a=o.sent,o.next=5,this._graphQLCache.getFragmentDependenciesForAST(t,a);case 5:return s=o.sent,u=t.definitions.filter((function(e){return e.kind===_t})),l=u.map((function(t){return{filePath:r,content:e,definition:t}})),o.next=11,Ge(e,n,s.concat(l));case 11:return c=o.sent,o.abrupt("return",c);case 13:case"end":return o.stop()}}),o,this)})))}},{key:"getOutline",value:function(e){return bt(this,void 0,void 0,Ee.a.mark((function t(){return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",st(e));case 1:case"end":return t.stop()}}),t)})))}}]),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"css",(function(){return S})),n.d(t,"CacheProvider",(function(){return D})),n.d(t,"ClassNames",(function(){return U})),n.d(t,"Global",(function(){return L})),n.d(t,"ThemeContext",(function(){return C})),n.d(t,"jsx",(function(){return P})),n.d(t,"keyframes",(function(){return R})),n.d(t,"withEmotionCache",(function(){return A}));var r=n(137),i=n.n(r),o=n(0);var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(a){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var s=function(e){function t(e,t,r){var i=t.trim().split(p);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=n(e[l]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===D||2===D&&i(u,1)?"-webkit-"+u+u:u}if(0===D||2===D&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(O,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,l,c){for(var f,d=0,h=t;d<N;++d)switch(f=j[d].call(u,e,h,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!==typeof e?D=1:(D=2,M=e):D=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<N){var u=a(-1,n,s,s,T,S,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var f=function e(n,s,u,f,d){for(var h,p,v,b,w,x=0,O=0,k=0,E=0,j=0,M=0,P=v=h=0,L=0,F=0,R=0,B=0,z=u.length,U=z-1,H="",V="",W="",q="";L<z;){if(p=u.charCodeAt(L),L===U&&0!==O+E+k+x&&(0!==O&&(p=47===O?10:47),E=k=x=0,z++,U++),0===O+E+k+x){if(L===U&&(0<F&&(H=H.replace(c,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=u.charAt(L)}p=59}switch(p){case 123:for(h=(H=H.trim()).charCodeAt(0),v=1,B=++L;L<z;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(P=L+1;P<U;++P)switch(u.charCodeAt(P)){case 47:if(42===p&&42===u.charCodeAt(P-1)&&L+2!==P){L=P+1;break e}break;case 10:if(47===p){L=P+1;break e}}L=P}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<U&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}switch(v=u.substring(B,L),0===h&&(h=(H=H.replace(l,"").trim()).charCodeAt(0)),h){case 64:switch(0<F&&(H=H.replace(c,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:F=s;break;default:F=A}if(B=(v=e(s,F,v,p,d+1)).length,0<N&&(w=a(3,v,F=t(A,H,R),s,T,S,B,p,d,f),H=F.join(""),void 0!==w&&0===(B=(v=w.trim()).length)&&(p=0,v="")),0<B)switch(p){case 115:H=H.replace(_,o);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(m,"$1 $2"))+"{"+v+"}",v=1===D||2===D&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===f&&(V+=v,v="")}else v="";break;default:v=e(s,t(s,H,R),v,f,d+1)}W+=v,v=R=F=P=h=0,H="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(B=(H=(0<F?H.replace(c,""):H).trim()).length))switch(0===P&&(h=H.charCodeAt(0),45===h||96<h&&123>h)&&(B=(H=H.replace(" ",":")).length),0<N&&void 0!==(w=a(1,H,s,n,T,S,V.length,f,d,f))&&0===(B=(H=w.trim()).length)&&(H="\0\0"),h=H.charCodeAt(0),p=H.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){q+=H+u.charAt(L);break}default:58!==H.charCodeAt(B-1)&&(V+=r(H,h,p,H.charCodeAt(2)))}R=F=P=h=0,H="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===O?O=0:0===1+h&&107!==f&&0<H.length&&(F=1,H+="\0"),0<N*I&&a(0,H,s,n,T,S,V.length,f,d,f),S=1,T++;break;case 59:case 125:if(0===O+E+k+x){S++;break}default:switch(S++,b=u.charAt(L),p){case 9:case 32:if(0===E+x+O)switch(j){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+O+x&&(F=R=1,b="\f"+b);break;case 108:if(0===E+O+x+C&&0<P)switch(L-P){case 2:112===j&&58===u.charCodeAt(L-3)&&(C=j);case 8:111===M&&(C=M)}break;case 58:0===E+O+x&&(P=L);break;case 44:0===O+k+E+x&&(F=1,b+="\r");break;case 34:case 39:0===O&&(E=E===p?0:0===E?p:E);break;case 91:0===E+O+k&&x++;break;case 93:0===E+O+k&&x--;break;case 41:0===E+O+x&&k--;break;case 40:if(0===E+O+x){if(0===h)switch(2*j+3*M){case 533:break;default:h=1}k++}break;case 64:0===O+k+E+x+P+v&&(v=1);break;case 42:case 47:if(!(0<E+x+k))switch(O){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:O=47;break;case 220:B=L,O=42}break;case 42:47===p&&42===j&&B+2!==L&&(33===u.charCodeAt(B+2)&&(V+=u.substring(B,L+1)),b="",O=0)}}0===O&&(H+=b)}M=j,j=p,L++}if(0<(B=V.length)){if(F=s,0<N&&(void 0!==(w=a(2,V,F,n,T,S,B,f,d,f))&&0===(V=w).length))return q+V+W;if(V=F.join(",")+"{"+V+"}",0!==D*C){switch(2!==D||i(V,2)||(C=0),C){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}C=0}}return q+V+W}(A,s,n,0,0);return 0<N&&(void 0!==(u=a(-2,f,s,s,T,S,f.length,0,0,0))&&(f=u)),"",C=0,S=T=1,f}var l=/^\0+/g,c=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,p=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,x=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,S=1,T=1,C=0,D=1,A=[],j=[],N=0,M=null,I=0;return u.use=function e(t){switch(t){case void 0:case null:N=j.length=0;break;default:if("function"===typeof t)j[N++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else I=0|!!t}return e},u.set=s,void 0!==e&&s(e),u};function u(e){e&&l.current.insert(e+"}")}var l={current:null},c=function(e,t,n,r,i,o,a,s,c,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return l.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return l.current.insert(n[0]+t),"";default:return t+(0===f?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(u)}},f=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new s(t);var i,o={};i=e.container||document.head;var u,f=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(f,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(c),u=function(e,t,n,i){var o=t.name;l.current=n,r(e,t.styles),i&&(d.inserted[o]=!0)};var d={key:n,sheet:new a({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:u};return d};function d(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var h=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var p=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},v={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var m=/[A-Z]|^ms/g,g=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!==typeof e},_=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return y(e)?e:e.replace(m,"-$&").toLowerCase()})),w=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(g,(function(e,t,n){return O={name:t,styles:n,next:O},t}))}return 1===v[e]||y(e)||"number"!==typeof t||0===t?t:t+"px"};function x(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return O={name:n.name,styles:n.styles,next:O},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)O={name:i.name,styles:i.styles,next:O},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=x(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":b(a)&&(r+=_(o)+":"+w(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=x(e,t,a,!1);switch(o){case"animation":case"animationName":r+=_(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)b(a[u])&&(r+=_(o)+":"+w(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=O,a=n(e);return O=o,x(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var O,k=/label:\s*([^\s;\n{]+)\s*;/g;var E=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";O=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=x(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=x(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);k.lastIndex=0;for(var s,u="";null!==(s=k.exec(i));)u+="-"+s[1];return{name:p(i)+u,styles:i,next:O}};var S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E(t)},T=Object(o.createContext)("undefined"!==typeof HTMLElement?f():null),C=Object(o.createContext)({}),D=T.Provider,A=function(e){return Object(o.forwardRef)((function(t,n){return Object(o.createElement)(T.Consumer,null,(function(r){return e(t,r,n)}))}))},j="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",N=Object.prototype.hasOwnProperty,M=function(e,t,n,r){var i=null===n?t.css:t.css(n);"string"===typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[j],s=[i],u="";"string"===typeof t.className?u=d(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var l=E(s);h(e,l,"string"===typeof a);u+=e.key+"-"+l.name;var c={};for(var f in t)N.call(t,f)&&"css"!==f&&f!==j&&(c[f]=t[f]);return c.ref=r,c.className=u,Object(o.createElement)(a,c)},I=A((function(e,t,n){return"function"===typeof e.css?Object(o.createElement)(C.Consumer,null,(function(r){return M(t,e,r,n)})):M(t,e,null,n)}));var P=function(e,t){var n=arguments;if(null==t||!N.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=I;var a={};for(var s in t)N.call(t,s)&&(a[s]=t[s]);a[j]=e,i[1]=a;for(var u=2;u<r;u++)i[u]=n[u];return o.createElement.apply(null,i)},L=A((function(e,t){var n=e.styles;if("function"===typeof n)return Object(o.createElement)(C.Consumer,null,(function(e){var r=E([n(e)]);return Object(o.createElement)(F,{serialized:r,cache:t})}));var r=E([n]);return Object(o.createElement)(F,{serialized:r,cache:t})})),F=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&h(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(o.Component),R=function(){var e=S.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},B=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function z(e,t,n){var r=[],i=d(e,r,n);return r.length<2?n:i+t(r)}var U=A((function(e,t){return Object(o.createElement)(C.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=E(n,t.registered);return h(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return z(t.registered,r,B(n))},theme:n},o=e.children(i);return!0,o}))}))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";var r=n(110),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{l(t,g,y)}catch(b){}}}}return t}},function(e,t,n){var r,i=n(111),o=n(216),a=n(112),s=n(217),u=n(218),l=n(81),c=n(220),f=n(221),d=n(119),h=n(222),p=n(120),v=n(8),m=n(224),g=n(121),y=n(227),b=n(228);window,e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=71)}([function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function i(e){return null==e?null:e.fname}function o(e){return null==e?null:e.fields}function a(e){return 1===e.length?s(e[0]):u(e)}n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return X})),n.d(t,"j",(function(){return ee})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return Z})),n.d(t,"m",(function(){return ie})),n.d(t,"n",(function(){return oe})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return ae})),n.d(t,"q",(function(){return se})),n.d(t,"r",(function(){return ue})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return de})),n.d(t,"u",(function(){return f})),n.d(t,"v",(function(){return he})),n.d(t,"w",(function(){return ce})),n.d(t,"x",(function(){return d})),n.d(t,"y",(function(){return h})),n.d(t,"z",(function(){return pe})),n.d(t,"A",(function(){return ve})),n.d(t,"B",(function(){return E})),n.d(t,"C",(function(){return me})),n.d(t,"D",(function(){return ge})),n.d(t,"E",(function(){return $})),n.d(t,"F",(function(){return ye})),n.d(t,"G",(function(){return be})),n.d(t,"H",(function(){return S})),n.d(t,"I",(function(){return _e})),n.d(t,"J",(function(){return we})),n.d(t,"K",(function(){return xe})),n.d(t,"L",(function(){return Oe})),n.d(t,"M",(function(){return k})),n.d(t,"N",(function(){return ke})),n.d(t,"O",(function(){return Ee})),n.d(t,"P",(function(){return C})),n.d(t,"Q",(function(){return v})),n.d(t,"R",(function(){return Te})),n.d(t,"S",(function(){return B})),n.d(t,"T",(function(){return z})),n.d(t,"U",(function(){return U})),n.d(t,"V",(function(){return H})),n.d(t,"W",(function(){return j})),n.d(t,"X",(function(){return Q})),n.d(t,"Y",(function(){return Se})),n.d(t,"Z",(function(){return Ce})),n.d(t,"ab",(function(){return c})),n.d(t,"bb",(function(){return De})),n.d(t,"cb",(function(){return Ae})),n.d(t,"db",(function(){return Ne})),n.d(t,"eb",(function(){return N})),n.d(t,"fb",(function(){return Ie})),n.d(t,"gb",(function(){return Me})),n.d(t,"hb",(function(){return Pe})),n.d(t,"ib",(function(){return m})),n.d(t,"jb",(function(){return K})),n.d(t,"kb",(function(){return Le})),n.d(t,"lb",(function(){return D})),n.d(t,"mb",(function(){return p})),n.d(t,"nb",(function(){return W})),n.d(t,"ob",(function(){return q})),n.d(t,"pb",(function(){return G})),n.d(t,"qb",(function(){return Y}));var s=function(e){return function(t){return t[e]}},u=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function l(e){throw Error(e)}function c(e){var t,n,r,i=[],o=e.length,a=null,s=0,u="";function c(){i.push(u+e.substring(t,n)),u="",t=n+1}for(e+="",t=n=0;n<o;++n)if("\\"===(r=e[n]))u+=e.substring(t,n),u+=e.substring(++n,++n),t=n;else if(r===a)c(),a=null,s=-1;else{if(a)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,a=r):"."!==r||s?"["===r?(n>t&&c(),s=t=n+1):"]"===r&&(s||l("Access path missing open bracket: "+e),s>0&&c(),s=0,t=n+1):n>t?c():t=n+1}return s&&l("Access path missing closing bracket: "+e),a&&l("Access path missing closing quote: "+e),n>t&&(n++,c()),i}function f(e,t,n){var i=c(e);return e=1===i.length?i[0]:e,r((n&&n.get||a)(i),[e],t||e)}var d=f("id"),h=r((function(e){return e}),[],"identity"),p=r((function(){return 0}),[],"zero"),v=r((function(){return 1}),[],"one"),m=r((function(){return!0}),[],"true"),g=r((function(){return!1}),[],"false");function y(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var b=0,_=1,w=2,x=3,O=4;function k(e,t){var n=e||b;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=_&&y(t||"error","ERROR",arguments),this},warn:function(){return n>=w&&y(t||"warn","WARN",arguments),this},info:function(){return n>=x&&y(t||"log","INFO",arguments),this},debug:function(){return n>=O&&y(t||"log","DEBUG",arguments),this}}}var E=Array.isArray;function S(e){return e===Object(e)}var T=function(e){return"__proto__"!==e};function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=A(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;D(e,n,t[n],r)}return e}),{})}function D(e,t,n,r){var i,o;if(T(t))if(S(n)&&!E(n))for(i in o=S(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?D(o,i,n[i]):T(i)&&(o[i]=n[i]);else e[t]=n}function A(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function j(e){return e[e.length-1]}function N(e){return null==e||""===e?null:+e}var M=function(e){return function(t){return e*Math.exp(t)}},I=function(e){return function(t){return Math.log(e*t)}},P=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},L=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},F=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function R(e,t,n,r){var i=n(e[0]),o=n(j(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function B(e,t){return R(e,t,N,h)}function z(e,t){var n=Math.sign(e[0]);return R(e,t,I(n),M(n))}function U(e,t,n){return R(e,t,F(n),F(1/n))}function H(e,t,n){return R(e,t,P(n),L(n))}function V(e,t,n,r,i){var o=r(e[0]),a=r(j(e)),s=null!=t?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function W(e,t,n){return V(e,t,n,N,h)}function q(e,t,n){var r=Math.sign(e[0]);return V(e,t,n,I(r),M(r))}function G(e,t,n,r){return V(e,t,n,F(r),F(1/r))}function Y(e,t,n,r){return V(e,t,n,P(r),L(r))}function Q(e){return 1+~~(new Date(e).getMonth()/3)}function K(e){return 1+~~(new Date(e).getUTCMonth()/3)}function X(e){return null!=e?E(e)?e:[e]:[]}function J(e,t,n){var r,i=e[0],o=e[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}function $(e){return"function"==typeof e}function Z(e,t,n){n=n||{},t=X(t)||[];var i=[],a=[],s={},u=n.comparator||te;return X(e).forEach((function(e,r){null!=e&&(i.push("descending"===t[r]?-1:1),a.push(e=$(e)?e:f(e,null,n)),(o(e)||[]).forEach((function(e){return s[e]=1})))})),0===a.length?null:r(u(a,i),Object.keys(s))}var ee=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0)},te=function(e,t){return 1===e.length?ne(e[0],t[0]):re(e,t,e.length)},ne=function(e,t){return function(n,r){return ee(e(n),e(r))*t}},re=function(e,t,n){return t.push(0),function(r,i){for(var o,a=0,s=-1;0===a&&++s<n;)o=e[s],a=ee(o(r),o(i));return a*t[s]}};function ie(e){return $(e)?e:function(){return e}}function oe(e,t){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return t(r),n=null}),e)}}function ae(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e}function se(e,t){var n,r,i,o,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];a<n&&(null==r||r!=r);r=e[++a]);for(i=o=r;a<n;++a)null!=(r=e[a])&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=t(e[a]);a<n&&(null==r||r!=r);r=t(e[++a]));for(i=o=r;a<n;++a)null!=(r=t(e[a]))&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}function ue(e,t){var n,r,i,o,a,s=e.length,u=-1;if(null==t){for(;++u<s;)if(null!=(r=e[u])&&r>=r){n=i=r;break}if(u===s)return[-1,-1];for(o=a=u;++u<s;)null!=(r=e[u])&&(n>r&&(n=r,o=u),i<r&&(i=r,a=u))}else{for(;++u<s;)if(null!=(r=t(e[u],u,e))&&r>=r){n=i=r;break}if(u===s)return[-1,-1];for(o=a=u;++u<s;)null!=(r=t(e[u],u,e))&&(n>r&&(n=r,o=u),i<r&&(i=r,a=u))}return[o,a]}var le=Object.prototype.hasOwnProperty;function ce(e,t){return le.call(e,t)}var fe={};function de(e){var t,n={};function r(e){return ce(n,e)&&n[e]!==fe}var i={size:0,empty:0,object:n,has:r,get:function(e){return r(e)?n[e]:void 0},set:function(e,t){return r(e)||(++i.size,n[e]===fe&&--i.empty),n[e]=t,this},delete:function(e){return r(e)&&(--i.size,++i.empty,n[e]=fe),this},clear:function(){i.size=i.empty=0,i.object=n={}},test:function(e){return arguments.length?(t=e,i):t},clean:function(){var e={},r=0;for(var o in n){var a=n[o];a===fe||t&&t(a)||(e[o]=a,++r)}i.size=r,i.empty=0,i.object=n=e}};return e&&Object.keys(e).forEach((function(t){i.set(t,e[t])})),i}function he(e,t,n,r,i,o){if(!n&&0!==n)return o;var a,s=+n,u=e[0],l=j(e);l<u&&(a=u,u=l,l=a),a=Math.abs(t-u);var c=Math.abs(l-t);return a<c&&a<=s?r:c<=s?i:o}function pe(e,t,n){var r=e.prototype=Object.create(t.prototype);return r.constructor=e,ae(r,n)}function ve(e,t,n,r){var i,o=t[0],a=t[t.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=e:o<e)&&(r?e<=a:e<a)}function me(e){return"boolean"==typeof e}function ge(e){return"[object Date]"===Object.prototype.toString.call(e)}function ye(e){return e&&$(e[Symbol.iterator])}function be(e){return"number"==typeof e}function _e(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function we(e){return"string"==typeof e}function xe(e,t,n){e&&(e=t?X(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):X(e));var i,o=e&&e.length,s=n&&n.get||a,u=function(e){return s(t?[e]:c(e))};if(o)if(1===o){var l=u(e[0]);i=function(e){return""+l(e)}}else{var f=e.map(u);i=function(e){for(var t=""+f[0](e),n=0;++n<o;)t+="|"+f[n](e);return t}}else i=function(){return""};return r(i,e,"key")}function Oe(e,t){var n=e[0],r=j(e),i=+t;return i?1===i?r:n+i*(r-n):n}function ke(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},o=function(i,o){return++r>e&&(n=t,t={},r=1),t[i]=o};return i(),{clear:i,has:function(e){return ce(t,e)||ce(n,e)},get:function(e){return ce(t,e)?t[e]:ce(n,e)?o(e,n[e]):void 0},set:function(e,n){return ce(t,e)?t[e]=n:o(e,n)}}}function Ee(e,t,n,r){var i=t.length,o=n.length;if(!o)return t;if(!i)return n;for(var a=r||new t.constructor(i+o),s=0,u=0,l=0;s<i&&u<o;++l)a[l]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<i;++s,++l)a[l]=t[s];for(;u<o;++u,++l)a[l]=n[u];return a}function Se(e,t){for(var n="";--t>=0;)n+=e;return n}function Te(e,t,n,r){var i=n||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===r?Se(i,a)+o:"center"===r?Se(i,~~(a/2))+o+Se(i,Math.ceil(a/2)):o+Se(i,a)}function Ce(e){return e&&j(e)-e[0]||0}function De(e){return E(e)?"["+e.map(De)+"]":S(e)||we(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Ae(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var je=function(e){return be(e)||ge(e)?e:Date.parse(e)};function Ne(e,t){return t=t||je,null==e||""===e?null:t(e)}function Me(e){return null==e||""===e?null:e+""}function Ie(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function Pe(e,t,n,r){var i=null!=r?r:"\u2026",o=e+"",a=o.length,s=Math.max(0,t-i.length);return a<=t?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i}function Le(e,t,n){if(e)if(t)for(var r=e.length,i=0;i<r;++i){var o=t(e[i]);o&&n(o,i,e)}else e.forEach(n)}},function(e,t){e.exports=r},,function(e,t,n){var r=n(12),i=n(11),o=i.MAX_LENGTH,a=i.MAX_SAFE_INTEGER,s=n(8),u=s.re,l=s.t,c=n(13),f=n(21).compareIdentifiers,d=function(){"use strict";function e(t,n){if(y(this,e),n=c(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>o)throw new TypeError("version is longer than ".concat(o," characters"));r("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var i=t.trim().match(n.loose?u[l.LOOSE]:u[l.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return b(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),f(this.major,t.major)||f(this.minor,t.minor)||f(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var i=this.prerelease[n],o=t.prerelease[n];if(r("prerelease compare",n,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return f(i,o)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var i=this.build[n],o=t.build[n];if(r("prerelease compare",n,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return f(i,o)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=d},function(e,t,n){var r=n(3);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},function(e,t,n){var r=function(){"use strict";function e(t,n){var r=this;if(y(this,e),n=o(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof a)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var i=this.set[0];if(this.set=this.set.filter((function(e){return!v(e[0])})),0===this.set.length)this.set=[i];else if(this.set.length>1){var s,u=g(this.set);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(1===l.length&&_(l[0])){this.set=[l];break}}}catch(c){u.e(c)}finally{u.f()}}}this.format()}return b(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this;e=e.trim();var n="parseRange:".concat(Object.keys(this.options).join(","),":").concat(e),r=i.get(n);if(r)return r;var o=this.options.loose,u=o?c[f.HYPHENRANGELOOSE]:c[f.HYPHENRANGE];e=e.replace(u,N(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(c[f.COMPARATORTRIM],d),s("comparator trim",e,c[f.COMPARATORTRIM]),e=(e=(e=e.replace(c[f.TILDETRIM],h)).replace(c[f.CARETTRIM],p)).split(/\s+/).join(" ");var l,y=o?c[f.COMPARATORLOOSE]:c[f.COMPARATOR],b=e.split(" ").map((function(e){return x(e,t.options)})).join(" ").split(/\s+/).map((function(e){return j(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(y)}:function(){return!0}).map((function(e){return new a(e,t.options)})),_=(b.length,new Map),w=g(b);try{for(w.s();!(l=w.n()).done;){var O=l.value;if(v(O))return[O];_.set(O.value,O)}}catch(E){w.e(E)}finally{w.f()}_.size>1&&_.has("")&&_.delete("");var k=m(_.values());return i.set(n,k),k}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return w(e,n)&&t.set.some((function(t){return w(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(M(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=r;var i=new(n(58))({max:1e3}),o=n(13),a=n(15),s=n(12),u=n(3),l=n(8),c=l.re,f=l.t,d=l.comparatorTrimReplace,h=l.tildeTrimReplace,p=l.caretTrimReplace,v=function(e){return"<0.0.0-0"===e.value},_=function(e){return""===e.value},w=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},x=function(e,t){return s("comp",e,t),e=S(e,t),s("caret",e),e=k(e,t),s("tildes",e),e=C(e,t),s("xrange",e),e=A(e,t),s("stars",e),e},O=function(e){return!e||"x"===e.toLowerCase()||"*"===e},k=function(e,t){return e.trim().split(/\s+/).map((function(e){return E(e,t)})).join(" ")},E=function(e,t){var n=t.loose?c[f.TILDELOOSE]:c[f.TILDE];return e.replace(n,(function(t,n,r,i,o){var a;return s("tilde",e,t,n,r,i,o),O(n)?a="":O(r)?a=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):O(i)?a=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):o?(s("replaceTilde pr",o),a=">=".concat(n,".").concat(r,".").concat(i,"-").concat(o," <").concat(n,".").concat(+r+1,".0-0")):a=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),s("tilde return",a),a}))},S=function(e,t){return e.trim().split(/\s+/).map((function(e){return T(e,t)})).join(" ")},T=function(e,t){s("caret",e,t);var n=t.loose?c[f.CARETLOOSE]:c[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,o,a){var u;return s("caret",e,t,n,i,o,a),O(n)?u="":O(i)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):O(o)?u="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):a?(s("replaceCaret pr",a),u="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(o,"-").concat(a," <").concat(n,".").concat(i,".").concat(+o+1,"-0"):">=".concat(n,".").concat(i,".").concat(o,"-").concat(a," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(o,"-").concat(a," <").concat(+n+1,".0.0-0")):(s("no pr"),u="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(o).concat(r," <").concat(n,".").concat(i,".").concat(+o+1,"-0"):">=".concat(n,".").concat(i,".").concat(o).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(o," <").concat(+n+1,".0.0-0")),s("caret return",u),u}))},C=function(e,t){return s("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return D(e,t)})).join(" ")},D=function(e,t){e=e.trim();var n=t.loose?c[f.XRANGELOOSE]:c[f.XRANGE];return e.replace(n,(function(n,r,i,o,a,u){s("xRange",e,n,r,i,o,a,u);var l=O(i),c=l||O(o),f=c||O(a),d=f;return"="===r&&d&&(r=""),u=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(c&&(o=0),a=0,">"===r?(r=">=",c?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),"<"===r&&(u="-0"),n="".concat(r+i,".").concat(o,".").concat(a).concat(u)):c?n=">=".concat(i,".0.0").concat(u," <").concat(+i+1,".0.0-0"):f&&(n=">=".concat(i,".").concat(o,".0").concat(u," <").concat(i,".").concat(+o+1,".0-0")),s("xRange return",n),n}))},A=function(e,t){return s("replaceStars",e,t),e.trim().replace(c[f.STAR],"")},j=function(e,t){return s("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?f.GTE0PRE:f.GTE0],"")},N=function(e){return function(t,n,r,i,o,a,s,u,l,c,f,d,h){return"".concat(n=O(r)?"":O(i)?">=".concat(r,".0.0").concat(e?"-0":""):O(o)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):a?">=".concat(n):">=".concat(n).concat(e?"-0":"")," ").concat(u=O(l)?"":O(c)?"<".concat(+l+1,".0.0-0"):O(f)?"<".concat(l,".").concat(+c+1,".0-0"):d?"<=".concat(l,".").concat(c,".").concat(f,"-").concat(d):e?"<".concat(l,".").concat(c,".").concat(+f+1,"-0"):"<=".concat(u)).trim()}},M=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(s(e[i].semver),e[i].semver!==a.ANY&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}},,function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<u.length;n++){var l=u[n],c=e(t[l]);c&&(a&&(a+=","),a+=JSON.stringify(l)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){var r=n(11).MAX_SAFE_COMPONENT_LENGTH,i=n(12),o=(t=e.exports={}).re=[],a=t.src=[],s=t.t={},u=0,l=function(e,t,n){var r=u++;i(r,t),s[e]=r,a[r]=t,o[r]=new RegExp(t,n?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION","(".concat(a[s.NUMERICIDENTIFIER],")\\.(").concat(a[s.NUMERICIDENTIFIER],")\\.(").concat(a[s.NUMERICIDENTIFIER],")")),l("MAINVERSIONLOOSE","(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.(").concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.(").concat(a[s.NUMERICIDENTIFIERLOOSE],")")),l("PRERELEASEIDENTIFIER","(?:".concat(a[s.NUMERICIDENTIFIER],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),l("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[s.NUMERICIDENTIFIERLOOSE],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),l("PRERELEASE","(?:-(".concat(a[s.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIER],")*))")),l("PRERELEASELOOSE","(?:-?(".concat(a[s.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIERLOOSE],")*))")),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD","(?:\\+(".concat(a[s.BUILDIDENTIFIER],"(?:\\.").concat(a[s.BUILDIDENTIFIER],")*))")),l("FULLPLAIN","v?".concat(a[s.MAINVERSION]).concat(a[s.PRERELEASE],"?").concat(a[s.BUILD],"?")),l("FULL","^".concat(a[s.FULLPLAIN],"$")),l("LOOSEPLAIN","[v=\\s]*".concat(a[s.MAINVERSIONLOOSE]).concat(a[s.PRERELEASELOOSE],"?").concat(a[s.BUILD],"?")),l("LOOSE","^".concat(a[s.LOOSEPLAIN],"$")),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE","".concat(a[s.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),l("XRANGEIDENTIFIER","".concat(a[s.NUMERICIDENTIFIER],"|x|X|\\*")),l("XRANGEPLAIN","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIER],")(?:\\.(").concat(a[s.XRANGEIDENTIFIER],")(?:\\.(").concat(a[s.XRANGEIDENTIFIER],")(?:").concat(a[s.PRERELEASE],")?").concat(a[s.BUILD],"?)?)?")),l("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(a[s.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(a[s.XRANGEIDENTIFIERLOOSE],")(?:").concat(a[s.PRERELEASELOOSE],")?").concat(a[s.BUILD],"?)?)?")),l("XRANGE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAIN],"$")),l("XRANGELOOSE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAINLOOSE],"$")),l("COERCE","(^|[^\\d])(\\d{1,".concat(r,"})(?:\\.(\\d{1,").concat(r,"}))?(?:\\.(\\d{1,").concat(r,"}))?(?:$|[^\\d])")),l("COERCERTL",a[s.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM","(\\s*)".concat(a[s.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",l("TILDE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAIN],"$")),l("TILDELOOSE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAINLOOSE],"$")),l("LONECARET","(?:\\^)"),l("CARETTRIM","(\\s*)".concat(a[s.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",l("CARET","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAIN],"$")),l("CARETLOOSE","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAINLOOSE],"$")),l("COMPARATORLOOSE","^".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],")$|^$")),l("COMPARATOR","^".concat(a[s.GTLT],"\\s*(").concat(a[s.FULLPLAIN],")$|^$")),l("COMPARATORTRIM","(\\s*)".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],"|").concat(a[s.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE","^\\s*(".concat(a[s.XRANGEPLAIN],")\\s+-\\s+(").concat(a[s.XRANGEPLAIN],")\\s*$")),l("HYPHENRANGELOOSE","^\\s*(".concat(a[s.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(a[s.XRANGEPLAINLOOSE],")\\s*$")),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){var r=n(11).MAX_LENGTH,i=n(8),o=i.re,a=i.t,s=n(3),u=n(13);e.exports=function(e,t){if(t=u(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[a.LOOSE]:o[a.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},,function(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){var n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=n}).call(this,n(44))},function(e,t){var n=["includePrerelease","loose","rtl"];e.exports=function(e){return e?"object"!=typeof e?{loose:!0}:n.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return r(e,t,n)>0}},function(e,t,n){var r=Symbol("SemVer ANY"),i=function(){"use strict";function e(t,n){if(y(this,e),n=o(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}c("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}return b(e,null,[{key:"ANY",get:function(){return r}}]),b(e,[{key:"parse",value:function(e){var t=this.options.loose?s[u.COMPARATORLOOSE]:s[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=r}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new d(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new d(this.value,n).test(t.semver);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),s=l(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=l(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&a||s||u}}]),e}();e.exports=i;var o=n(13),a=n(8),s=a.re,u=a.t,l=n(34),c=n(12),f=n(3),d=n(5)},function(e,t,n){var r=n(5);e.exports=function(e,t,n){try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(0);function i(t,n){var i,o=n&&n.property?Object(r.u)(n.property):r.y;return!Object(r.H)(t)||(i=t,"function"==typeof e&&Object(r.E)(e.isBuffer)&&e.isBuffer(i))?o(JSON.parse(t)):function(e,t){return!Object(r.B)(e)&&Object(r.F)(e)&&(e=m(e)),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(o(t),n)}i.responseType="json"}).call(this,n(31).Buffer)},function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,i,o;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===n?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,a,s){var u,l,c,f,d,h,p,v,m,g,y,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(y=JSON.stringify(t,o)))return y;if(p=i-a.length-s,y.length<=p&&(m=y.replace(r,(function(e,t){return t||e+" "}))).length<=p)return m;if(null!=o&&(t=JSON.parse(y),o=void 0),"object"==typeof t&&null!==t){if(v=a+n,c=[],l=0,Array.isArray(t))for(g="[",u="]",p=t.length;l<p;l++)c.push(e(t[l],v,l===p-1?0:1)||"null");else for(g="{",u="}",p=(h=Object.keys(t)).length;l<p;l++)f=h[l],d=JSON.stringify(f)+": ",void 0!==(b=e(t[f],v,d.length+(l===p-1?0:1)))&&c.push(d+b);if(c.length>0)return[g,n+c.join(",\n"+v),u].join("\n"+a)}return y}(e,"",0)}},,,function(e,t){var n=/^[0-9]+$/,r=function(e,t){var r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return 0===r(e,t,n)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n){var i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return r(e,t,n)<0}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return r(e,t,n)>=0}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return r(e,t,n)<=0}},function(e,t,n){var r=n(3),i=n(15),o=i.ANY,a=n(5),s=n(16),u=n(14),l=n(24),c=n(26),f=n(25);e.exports=function(e,t,n,d){var h,p,v,m,g;switch(e=new r(e,d),t=new a(t,d),n){case">":h=u,p=c,v=l,m=">",g=">=";break;case"<":h=l,p=f,v=u,m="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(var y=function(n){var r=t.set[n],a=null,s=null;return r.forEach((function(e){e.semver===o&&(e=new i(">=0.0.0")),a=a||e,s=s||e,h(e.semver,a.semver,d)?a=e:v(e.semver,s.semver,d)&&(s=e)})),a.operator===m||a.operator===g?{v:!1}:s.operator&&s.operator!==m||!p(e,s.semver)?s.operator===g&&v(e,s.semver)?{v:!1}:void 0:{v:!1}},b=0;b<t.set.length;++b){var _=y(b);if("object"===typeof _)return _.v}return!0}},function(e,t,n){var r=n(8);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(11).SEMVER_SPEC_VERSION,SemVer:n(3),compareIdentifiers:n(21).compareIdentifiers,rcompareIdentifiers:n(21).rcompareIdentifiers,parse:n(9),valid:n(45),clean:n(46),inc:n(47),diff:n(48),major:n(49),minor:n(50),patch:n(51),prerelease:n(52),compare:n(4),rcompare:n(53),compareLoose:n(54),compareBuild:n(23),sort:n(55),rsort:n(56),gt:n(14),lt:n(24),eq:n(22),neq:n(33),gte:n(25),lte:n(26),cmp:n(34),coerce:n(57),Comparator:n(15),Range:n(5),satisfies:n(16),toComparators:n(61),maxSatisfying:n(62),minSatisfying:n(63),minVersion:n(64),validRange:n(65),outside:n(27),gtr:n(66),ltr:n(67),intersects:n(68),simplifyRange:n(69),subset:n(70)}},,,function(e,t,n){"use strict";(function(e){var r=n(41),i=n(42),o=n(43);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function O(e,t,n,r){return V(H(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:U(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(40))},function(e){e.exports=JSON.parse('{"a":"4.17.0"}')},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return 0!==r(e,t,n)}},function(e,t,n){var r=n(22),i=n(33),o=n(14),a=n(25),s=n(24),u=n(26);e.exports=function(e,t,n,l){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,l);case"!=":return i(e,n,l);case">":return o(e,n,l);case">=":return a(e,n,l);case"<":return s(e,n,l);case"<=":return u(e,n,l);default:throw new TypeError("Invalid operator: ".concat(t))}}},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{i=Promise}catch(e){i=function(){}}function o(a,u,l,c,f){"object"==typeof u&&(l=u.depth,c=u.prototype,f=u.includeNonEnumerable,u=u.circular);var d=[],h=[],p=void 0!==t;return void 0===u&&(u=!0),void 0===l&&(l=1/0),function a(l,v){if(null===l)return null;if(0===v)return l;var m,g;if("object"!=typeof l)return l;if(e(l,n))m=new n;else if(e(l,r))m=new r;else if(e(l,i))m=new i((function(e,t){l.then((function(t){e(a(t,v-1))}),(function(e){t(a(e,v-1))}))}));else if(o.__isArray(l))m=[];else if(o.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(o.__isDate(l))m=new Date(l.getTime());else{if(p&&t.isBuffer(l))return m=t.allocUnsafe?t.allocUnsafe(l.length):new t(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(u){var y=d.indexOf(l);if(-1!=y)return h[y];d.push(l),h.push(m)}for(var b in e(l,n)&&l.forEach((function(e,t){var n=a(t,v-1),r=a(e,v-1);m.set(n,r)})),e(l,r)&&l.forEach((function(e){var t=a(e,v-1);m.add(t)})),l){var _;g&&(_=Object.getOwnPropertyDescriptor(g,b)),_&&null==_.set||(m[b]=a(l[b],v-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(b=0;b<w.length;b++){var x=w[b];(!(k=Object.getOwnPropertyDescriptor(l,x))||k.enumerable||f)&&(m[x]=a(l[x],v-1),k.enumerable||Object.defineProperty(m,x,{enumerable:!1}))}}if(f){var O=Object.getOwnPropertyNames(l);for(b=0;b<O.length;b++){var k,E=O[b];(k=Object.getOwnPropertyDescriptor(l,E))&&k.enumerable||(m[E]=a(l[E],v-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(a,l)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=s,o}();e.exports&&(e.exports=n)}).call(this,n(31).Buffer)},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(9);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},function(e,t,n){var r=n(9);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(e){return null}}},function(e,t,n){var r=n(9),i=n(22);e.exports=function(e,t){if(i(e,t))return null;var n=r(e),o=r(t),a=n.prerelease.length||o.prerelease.length,s=a?"pre":"",u=a?"prerelease":"";for(var l in n)if(("major"===l||"minor"===l||"patch"===l)&&n[l]!==o[l])return s+l;return u}},function(e,t,n){var r=n(3);e.exports=function(e,t){return new r(e,t).major}},function(e,t,n){var r=n(3);e.exports=function(e,t){return new r(e,t).minor}},function(e,t,n){var r=n(3);e.exports=function(e,t){return new r(e,t).patch}},function(e,t,n){var r=n(9);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return r(t,e,n)}},function(e,t,n){var r=n(4);e.exports=function(e,t){return r(e,t,!0)}},function(e,t,n){var r=n(23);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},function(e,t,n){var r=n(23);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},function(e,t,n){var r=n(3),i=n(9),o=n(8),a=o.re,s=o.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var o;(o=a[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),a[s.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;a[s.COERCERTL].lastIndex=-1}else n=e.match(a[s.COERCE]);return null===n?null:i("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},function(e,t,n){"use strict";var r=n(59),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=function(){return 1},v=function(e,t,n){var r=e[d].get(t);if(r){var i=r.value;if(m(e,i)){if(_(e,r),!e[s])return}else n&&(e[h]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return i.value}},m=function(e,t){if(!t||!t.maxAge&&!e[u])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},g=function(e){if(e[o]>e[i])for(var t=e[f].tail;e[o]>e[i]&&null!==t;){var n=t.prev;_(e,t),t=n}},_=function(e,t){if(t){var n=t.value;e[l]&&e[l](n.key,n.value),e[o]-=n.length,e[d].delete(n.key),e[f].removeNode(t)}},w=function e(t,n,r,i,o){y(this,e),this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0},x=function(e,t,n,r){var i=n.value;m(e,i)&&(_(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=function(){function e(t){if(y(this,e),"number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;var n=t.length||p;if(this[a]="function"!=typeof n?p:n,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[l]=t.dispose,this[c]=t.noDisposeOnSet||!1,this[h]=t.updateAgeOnGet||!1,this.reset()}return b(e,[{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[f].tail;null!==n;){var r=n.prev;x(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[f].head;null!==n;){var r=n.next;x(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[f].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[f].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[l]&&this[f]&&this[f].length&&this[f].forEach((function(t){return e[l](t.key,t.value)})),this[d]=new Map,this[f]=new r,this[o]=0}},{key:"dump",value:function(){var e=this;return this[f].map((function(t){return!m(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[f]}},{key:"set",value:function(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,s=this[a](t,e);if(this[d].has(e)){if(s>this[i])return _(this,this[d].get(e)),!1;var h=this[d].get(e).value;return this[l]&&(this[c]||this[l](e,h.value)),h.now=r,h.maxAge=n,h.value=t,this[o]+=s-h.length,h.length=s,this.get(e),g(this),!0}var p=new w(e,t,s,r,n);return p.length>this[i]?(this[l]&&this[l](e,t),!1):(this[o]+=p.length,this[f].unshift(p),this[d].set(e,this[f].head),g(this),!0)}},{key:"has",value:function(e){if(!this[d].has(e))return!1;var t=this[d].get(e).value;return!m(this,t)}},{key:"get",value:function(e){return v(this,e,!0)}},{key:"peek",value:function(e){return v(this,e,!1)}},{key:"pop",value:function(){var e=this[f].tail;return e?(_(this,e),e.value):null}},{key:"del",value:function(e){_(this,this[d].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-t;o>0&&this.set(r.k,r.v,o)}}}},{key:"prune",value:function(){var e=this;this[d].forEach((function(t,n){return v(e,n,!1)}))}},{key:"max",set:function(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)},get:function(){return this[i]}},{key:"allowStale",set:function(e){this[s]=!!e},get:function(){return this[s]}},{key:"maxAge",set:function(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,g(this)},get:function(){return this[u]}},{key:"lengthCalculator",set:function(e){var t=this;"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[f].forEach((function(e){e.length=t[a](e.value,e.key),t[o]+=e.length}))),g(this)},get:function(){return this[a]}},{key:"length",get:function(){return this[o]}},{key:"itemCount",get:function(){return this[f].length}}]),e}()},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=i(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(60)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=v.mark((function e(){var t;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},function(e,t,n){var r=n(5);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},function(e,t,n){var r=n(3),i=n(5);e.exports=function(e,t,n){var o=null,a=null,s=null;try{s=new i(t,n)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(o&&-1!==a.compare(e)||(a=new r(o=e,n)))})),o}},function(e,t,n){var r=n(3),i=n(5);e.exports=function(e,t,n){var o=null,a=null,s=null;try{s=new i(t,n)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(o&&1!==a.compare(e)||(a=new r(o=e,n)))})),o}},function(e,t,n){var r=n(3),i=n(5),o=n(14);e.exports=function(e,t){e=new i(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var a=function(t){var i=e.set[t],a=null;i.forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!o(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}})),!a||n&&!o(n,a)||(n=a)},s=0;s<e.set.length;++s)a(s);return n&&e.test(n)?n:null}},function(e,t,n){var r=n(5);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(e){return null}}},function(e,t,n){var r=n(27);e.exports=function(e,t,n){return r(e,t,">",n)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n){return r(e,t,"<",n)}},function(e,t,n){var r=n(5);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t)}},function(e,t,n){var r=n(16),i=n(4);e.exports=function(e,t,n){var o,a=[],s=null,u=null,l=e.sort((function(e,t){return i(e,t,n)})),c=g(l);try{for(c.s();!(o=c.n()).done;){var f=o.value;r(f,t,n)?(u=f,s||(s=f)):(u&&a.push([s,u]),u=null,s=null)}}catch(x){c.e(x)}finally{c.f()}s&&a.push([s,null]);for(var d=[],h=0,v=a;h<v.length;h++){var m=p(v[h],2),y=m[0],b=m[1];y===b?d.push(y):b||y!==l[0]?b?y===l[0]?d.push("<=".concat(b)):d.push("".concat(y," - ").concat(b)):d.push(">=".concat(y)):d.push("*")}var _=d.join(" || "),w="string"==typeof t.raw?t.raw:String(t);return _.length<w.length?_:t}},function(e,t,n){var r=n(5),i=n(15).ANY,o=n(16),a=n(4),s=function(e,t,n){if(e===t)return!0;if(1===e.length&&e[0].semver===i)return 1===t.length&&t[0].semver===i;var r,s,c,f,d,h,p,v,m=new Set,y=g(e);try{for(y.s();!(v=y.n()).done;){var b=v.value;">"===b.operator||">="===b.operator?r=u(r,b,n):"<"===b.operator||"<="===b.operator?s=l(s,b,n):m.add(b.semver)}}catch(D){y.e(D)}finally{y.f()}if(m.size>1)return null;if(r&&s){if((c=a(r.semver,s.semver,n))>0)return null;if(0===c&&(">="!==r.operator||"<="!==s.operator))return null}var _,w=g(m);try{for(w.s();!(_=w.n()).done;){var x=_.value;if(r&&!o(x,String(r),n))return null;if(s&&!o(x,String(s),n))return null;var O,k=g(t);try{for(k.s();!(O=k.n()).done;){var E=O.value;if(!o(x,String(E),n))return!1}}catch(D){k.e(D)}finally{k.f()}return!0}}catch(D){w.e(D)}finally{w.f()}var S,T=g(t);try{for(T.s();!(S=T.n()).done;){var C=S.value;if(p=p||">"===C.operator||">="===C.operator,h=h||"<"===C.operator||"<="===C.operator,r)if(">"===C.operator||">="===C.operator){if((f=u(r,C,n))===C&&f!==r)return!1}else if(">="===r.operator&&!o(r.semver,String(C),n))return!1;if(s)if("<"===C.operator||"<="===C.operator){if((d=l(s,C,n))===C&&d!==s)return!1}else if("<="===s.operator&&!o(s.semver,String(C),n))return!1;if(!C.operator&&(s||r)&&0!==c)return!1}}catch(D){T.e(D)}finally{T.f()}return!(r&&h&&!s&&0!==c)&&!(s&&p&&!r&&0!==c)},u=function(e,t,n){if(!e)return t;var r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=function(e,t,n){if(!e)return t;var r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t,n){if(e===t)return!0;e=new r(e,n),t=new r(t,n);var i,o=!1,a=g(e.set);try{e:for(a.s();!(i=a.n()).done;){var u,l=i.value,c=g(t.set);try{for(c.s();!(u=c.n()).done;){var f=u.value,d=s(l,f,n);if(o=o||null!==d,d)continue e}}catch(h){c.e(h)}finally{c.f()}if(o)return!1}}catch(h){a.e(h)}finally{a.f()}return!0}},function(e,t,n){"use strict";var r,_,w,x,O,k,E,S,T,C=v.mark($o);n.r(t),n.d(t,"vegaPlugins",(function(){return jX}));var D={};n.r(D),n.d(D,"aggregate",(function(){return us})),n.d(D,"bin",(function(){return ls})),n.d(D,"collect",(function(){return fs})),n.d(D,"compare",(function(){return ds})),n.d(D,"countpattern",(function(){return ps})),n.d(D,"cross",(function(){return vs})),n.d(D,"density",(function(){return gs})),n.d(D,"dotbin",(function(){return xs})),n.d(D,"expression",(function(){return Os})),n.d(D,"extent",(function(){return Es})),n.d(D,"facet",(function(){return Ts})),n.d(D,"field",(function(){return Cs})),n.d(D,"filter",(function(){return As})),n.d(D,"flatten",(function(){return js})),n.d(D,"fold",(function(){return Ns})),n.d(D,"formula",(function(){return Ms})),n.d(D,"generate",(function(){return Is})),n.d(D,"impute",(function(){return Fs})),n.d(D,"joinaggregate",(function(){return Rs})),n.d(D,"kde",(function(){return Bs})),n.d(D,"key",(function(){return zs})),n.d(D,"load",(function(){return Hs})),n.d(D,"lookup",(function(){return Ws})),n.d(D,"multiextent",(function(){return qs})),n.d(D,"multivalues",(function(){return Ys})),n.d(D,"params",(function(){return Ks})),n.d(D,"pivot",(function(){return Xs})),n.d(D,"prefacet",(function(){return Js})),n.d(D,"project",(function(){return $s})),n.d(D,"proxy",(function(){return Zs})),n.d(D,"quantile",(function(){return eu})),n.d(D,"relay",(function(){return tu})),n.d(D,"sample",(function(){return nu})),n.d(D,"sequence",(function(){return ru})),n.d(D,"sieve",(function(){return iu})),n.d(D,"subflow",(function(){return Ss})),n.d(D,"timeunit",(function(){return ou})),n.d(D,"tupleindex",(function(){return su})),n.d(D,"values",(function(){return uu})),n.d(D,"window",(function(){return hu}));var A={};n.r(A),n.d(A,"interpolate",(function(){return Bc})),n.d(A,"interpolateArray",(function(){return jc})),n.d(A,"interpolateBasis",(function(){return bc})),n.d(A,"interpolateBasisClosed",(function(){return _c})),n.d(A,"interpolateDate",(function(){return Mc})),n.d(A,"interpolateDiscrete",(function(){return Sf})),n.d(A,"interpolateHue",(function(){return Tf})),n.d(A,"interpolateNumber",(function(){return Ic})),n.d(A,"interpolateNumberArray",(function(){return Dc})),n.d(A,"interpolateObject",(function(){return Pc})),n.d(A,"interpolateRound",(function(){return zc})),n.d(A,"interpolateString",(function(){return Rc})),n.d(A,"interpolateTransformCss",(function(){return Nf})),n.d(A,"interpolateTransformSvg",(function(){return Mf})),n.d(A,"interpolateZoom",(function(){return Pf})),n.d(A,"interpolateRgb",(function(){return Ec})),n.d(A,"interpolateRgbBasis",(function(){return Tc})),n.d(A,"interpolateRgbBasisClosed",(function(){return Cc})),n.d(A,"interpolateHsl",(function(){return Ff})),n.d(A,"interpolateHslLong",(function(){return Rf})),n.d(A,"interpolateLab",(function(){return Zf})),n.d(A,"interpolateHcl",(function(){return td})),n.d(A,"interpolateHclLong",(function(){return nd})),n.d(A,"interpolateCubehelix",(function(){return fd})),n.d(A,"interpolateCubehelixLong",(function(){return dd})),n.d(A,"piecewise",(function(){return xf})),n.d(A,"quantize",(function(){return hd}));var j={};n.r(j),n.d(j,"bound",(function(){return wy})),n.d(j,"identifier",(function(){return ky})),n.d(j,"mark",(function(){return Ey})),n.d(j,"overlap",(function(){return Sy})),n.d(j,"render",(function(){return My})),n.d(j,"viewlayout",(function(){return eb}));var N={};n.r(N),n.d(N,"axisticks",(function(){return nb})),n.d(N,"datajoin",(function(){return rb})),n.d(N,"encode",(function(){return ob})),n.d(N,"legendentries",(function(){return ab})),n.d(N,"linkpath",(function(){return fb})),n.d(N,"pie",(function(){return mb})),n.d(N,"scale",(function(){return bb})),n.d(N,"sortitems",(function(){return Ob})),n.d(N,"stack",(function(){return Sb}));var M={};n.r(M),n.d(M,"contour",(function(){return rO})),n.d(M,"geojson",(function(){return aO})),n.d(M,"geopath",(function(){return sO})),n.d(M,"geopoint",(function(){return uO})),n.d(M,"geoshape",(function(){return lO})),n.d(M,"graticule",(function(){return cO})),n.d(M,"heatmap",(function(){return fO})),n.d(M,"isocontour",(function(){return Yx})),n.d(M,"kde2d",(function(){return eO})),n.d(M,"projection",(function(){return hO}));var I={};n.r(I),n.d(I,"force",(function(){return uk}));var P={};n.r(P),n.d(P,"nest",(function(){return uE})),n.d(P,"pack",(function(){return pE})),n.d(P,"partition",(function(){return mE})),n.d(P,"stratify",(function(){return gE})),n.d(P,"tree",(function(){return _E})),n.d(P,"treelinks",(function(){return wE})),n.d(P,"treemap",(function(){return kE}));var L={};n.r(L),n.d(L,"label",(function(){return HE}));var F={};n.r(F),n.d(F,"loess",(function(){return WE})),n.d(F,"regression",(function(){return GE}));var R={};n.r(R),n.d(R,"voronoi",(function(){return pS}));var B={};n.r(B),n.d(B,"wordcloud",(function(){return SS}));var z={};n.r(z),n.d(z,"crossfilter",(function(){return MS})),n.d(z,"resolvefilter",(function(){return IS}));var U={};n.r(U),n.d(U,"Debug",(function(){return ee.a})),n.d(U,"Error",(function(){return ee.b})),n.d(U,"Info",(function(){return ee.c})),n.d(U,"None",(function(){return ee.d})),n.d(U,"Warn",(function(){return ee.e})),n.d(U,"accessor",(function(){return ee.f})),n.d(U,"accessorFields",(function(){return ee.g})),n.d(U,"accessorName",(function(){return ee.h})),n.d(U,"array",(function(){return ee.i})),n.d(U,"ascending",(function(){return ee.j})),n.d(U,"clampRange",(function(){return ee.k})),n.d(U,"compare",(function(){return ee.l})),n.d(U,"constant",(function(){return ee.m})),n.d(U,"debounce",(function(){return ee.n})),n.d(U,"error",(function(){return ee.o})),n.d(U,"extend",(function(){return ee.p})),n.d(U,"extent",(function(){return ee.q})),n.d(U,"extentIndex",(function(){return ee.r})),n.d(U,"falsy",(function(){return ee.s})),n.d(U,"fastmap",(function(){return ee.t})),n.d(U,"field",(function(){return ee.u})),n.d(U,"flush",(function(){return ee.v})),n.d(U,"hasOwnProperty",(function(){return ee.w})),n.d(U,"id",(function(){return ee.x})),n.d(U,"identity",(function(){return ee.y})),n.d(U,"inherits",(function(){return ee.z})),n.d(U,"inrange",(function(){return ee.A})),n.d(U,"isArray",(function(){return ee.B})),n.d(U,"isBoolean",(function(){return ee.C})),n.d(U,"isDate",(function(){return ee.D})),n.d(U,"isFunction",(function(){return ee.E})),n.d(U,"isIterable",(function(){return ee.F})),n.d(U,"isNumber",(function(){return ee.G})),n.d(U,"isObject",(function(){return ee.H})),n.d(U,"isRegExp",(function(){return ee.I})),n.d(U,"isString",(function(){return ee.J})),n.d(U,"key",(function(){return ee.K})),n.d(U,"lerp",(function(){return ee.L})),n.d(U,"logger",(function(){return ee.M})),n.d(U,"lruCache",(function(){return ee.N})),n.d(U,"merge",(function(){return ee.O})),n.d(U,"mergeConfig",(function(){return ee.P})),n.d(U,"one",(function(){return ee.Q})),n.d(U,"pad",(function(){return ee.R})),n.d(U,"panLinear",(function(){return ee.S})),n.d(U,"panLog",(function(){return ee.T})),n.d(U,"panPow",(function(){return ee.U})),n.d(U,"panSymlog",(function(){return ee.V})),n.d(U,"peek",(function(){return ee.W})),n.d(U,"quarter",(function(){return ee.X})),n.d(U,"repeat",(function(){return ee.Y})),n.d(U,"span",(function(){return ee.Z})),n.d(U,"splitAccessPath",(function(){return ee.ab})),n.d(U,"stringValue",(function(){return ee.bb})),n.d(U,"toBoolean",(function(){return ee.cb})),n.d(U,"toDate",(function(){return ee.db})),n.d(U,"toNumber",(function(){return ee.eb})),n.d(U,"toSet",(function(){return ee.fb})),n.d(U,"toString",(function(){return ee.gb})),n.d(U,"truncate",(function(){return ee.hb})),n.d(U,"truthy",(function(){return ee.ib})),n.d(U,"utcquarter",(function(){return ee.jb})),n.d(U,"visitArray",(function(){return ee.kb})),n.d(U,"writeConfig",(function(){return ee.lb})),n.d(U,"zero",(function(){return ee.mb})),n.d(U,"zoomLinear",(function(){return ee.nb})),n.d(U,"zoomLog",(function(){return ee.ob})),n.d(U,"zoomPow",(function(){return ee.pb})),n.d(U,"zoomSymlog",(function(){return ee.qb})),n.d(U,"Dataflow",(function(){return Bo})),n.d(U,"EventStream",(function(){return Eo})),n.d(U,"MultiPulse",(function(){return Po})),n.d(U,"Operator",(function(){return xo})),n.d(U,"Parameters",(function(){return bo})),n.d(U,"Pulse",(function(){return jo})),n.d(U,"Transform",(function(){return Uo})),n.d(U,"changeset",(function(){return go})),n.d(U,"definition",(function(){return Vo})),n.d(U,"ingest",(function(){return co})),n.d(U,"isTuple",(function(){return so})),n.d(U,"transform",(function(){return Wo})),n.d(U,"transforms",(function(){return Ho})),n.d(U,"tupleid",(function(){return uo})),n.d(U,"bandwidthNRD",(function(){return ta})),n.d(U,"bin",(function(){return na})),n.d(U,"bootstrapCI",(function(){return oa})),n.d(U,"cumulativeLogNormal",(function(){return _a})),n.d(U,"cumulativeNormal",(function(){return pa})),n.d(U,"cumulativeUniform",(function(){return Sa})),n.d(U,"densityLogNormal",(function(){return ba})),n.d(U,"densityNormal",(function(){return ha})),n.d(U,"densityUniform",(function(){return Ea})),n.d(U,"dotbin",(function(){return aa})),n.d(U,"quantileLogNormal",(function(){return wa})),n.d(U,"quantileNormal",(function(){return va})),n.d(U,"quantileUniform",(function(){return Ta})),n.d(U,"quantiles",(function(){return Zo})),n.d(U,"quartiles",(function(){return ea})),n.d(U,"random",(function(){return ra})),n.d(U,"randomInteger",(function(){return ua})),n.d(U,"randomKDE",(function(){return ga})),n.d(U,"randomLCG",(function(){return sa})),n.d(U,"randomLogNormal",(function(){return xa})),n.d(U,"randomMixture",(function(){return Oa})),n.d(U,"randomNormal",(function(){return ma})),n.d(U,"randomUniform",(function(){return Ca})),n.d(U,"regressionExp",(function(){return Pa})),n.d(U,"regressionLinear",(function(){return Ma})),n.d(U,"regressionLoess",(function(){return za})),n.d(U,"regressionLog",(function(){return Ia})),n.d(U,"regressionPoly",(function(){return Ra})),n.d(U,"regressionPow",(function(){return La})),n.d(U,"regressionQuad",(function(){return Fa})),n.d(U,"sampleCurve",(function(){return Wa})),n.d(U,"sampleLogNormal",(function(){return ya})),n.d(U,"sampleNormal",(function(){return da})),n.d(U,"sampleUniform",(function(){return ka})),n.d(U,"setRandom",(function(){return ia})),n.d(U,"DATE",(function(){return dn})),n.d(U,"DAY",(function(){return hn})),n.d(U,"DAYOFYEAR",(function(){return pn})),n.d(U,"HOURS",(function(){return vn})),n.d(U,"MILLISECONDS",(function(){return yn})),n.d(U,"MINUTES",(function(){return mn})),n.d(U,"MONTH",(function(){return cn})),n.d(U,"QUARTER",(function(){return ln})),n.d(U,"SECONDS",(function(){return gn})),n.d(U,"TIME_UNITS",(function(){return bn})),n.d(U,"WEEK",(function(){return fn})),n.d(U,"YEAR",(function(){return un})),n.d(U,"dayofyear",(function(){return Sn})),n.d(U,"timeBin",(function(){return fr})),n.d(U,"timeFloor",(function(){return Hn})),n.d(U,"timeInterval",(function(){return Qn})),n.d(U,"timeOffset",(function(){return Jn})),n.d(U,"timeSequence",(function(){return er})),n.d(U,"timeUnitSpecifier",(function(){return On})),n.d(U,"timeUnits",(function(){return wn})),n.d(U,"utcFloor",(function(){return qn})),n.d(U,"utcInterval",(function(){return Kn})),n.d(U,"utcOffset",(function(){return $n})),n.d(U,"utcSequence",(function(){return tr})),n.d(U,"utcdayofyear",(function(){return Nn})),n.d(U,"utcweek",(function(){return Mn})),n.d(U,"week",(function(){return Tn})),n.d(U,"loader",(function(){return to})),n.d(U,"read",(function(){return eo})),n.d(U,"inferType",(function(){return be})),n.d(U,"inferTypes",(function(){return _e})),n.d(U,"typeParsers",(function(){return me})),n.d(U,"format",(function(){return ze})),n.d(U,"formats",(function(){return Ue})),n.d(U,"responseType",(function(){return He})),n.d(U,"Bounds",(function(){return xp})),n.d(U,"CanvasHandler",(function(){return Xm})),n.d(U,"CanvasRenderer",(function(){return tg})),n.d(U,"Gradient",(function(){return Dh})),n.d(U,"GroupItem",(function(){return kp})),n.d(U,"Handler",(function(){return jm})),n.d(U,"Item",(function(){return Op})),n.d(U,"Marks",(function(){return mm})),n.d(U,"RenderType",(function(){return zg})),n.d(U,"Renderer",(function(){return Mm})),n.d(U,"ResourceLoader",(function(){return Ep})),n.d(U,"SVGHandler",(function(){return rg})),n.d(U,"SVGRenderer",(function(){return Eg})),n.d(U,"SVGStringRenderer",(function(){return Bg})),n.d(U,"Scenegraph",(function(){return Om})),n.d(U,"boundClip",(function(){return Qg})),n.d(U,"boundContext",(function(){return Gp})),n.d(U,"boundItem",(function(){return gm})),n.d(U,"boundMark",(function(){return bm})),n.d(U,"boundStroke",(function(){return Cp})),n.d(U,"domChild",(function(){return Tm})),n.d(U,"domClear",(function(){return Cm})),n.d(U,"domCreate",(function(){return Em})),n.d(U,"domFind",(function(){return Sm})),n.d(U,"font",(function(){return cm})),n.d(U,"fontFamily",(function(){return lm})),n.d(U,"fontSize",(function(){return im})),n.d(U,"intersect",(function(){return Vg})),n.d(U,"intersectBoxLine",(function(){return rv})),n.d(U,"intersectPath",(function(){return Zp})),n.d(U,"intersectPoint",(function(){return ev})),n.d(U,"intersectRule",(function(){return nv})),n.d(U,"lineHeight",(function(){return om})),n.d(U,"markup",(function(){return _g})),n.d(U,"multiLineOffset",(function(){return sm})),n.d(U,"pathCurves",(function(){return jh})),n.d(U,"pathEqual",(function(){return Xg})),n.d(U,"pathParse",(function(){return Ih})),n.d(U,"pathRectangle",(function(){return ip})),n.d(U,"pathRender",(function(){return qh})),n.d(U,"pathSymbols",(function(){return Kh})),n.d(U,"pathTrail",(function(){return op})),n.d(U,"point",(function(){return Am})),n.d(U,"renderModule",(function(){return Hg})),n.d(U,"resetSVGClipId",(function(){return _p})),n.d(U,"resetSVGDefIds",(function(){return Jg})),n.d(U,"sceneEqual",(function(){return Kg})),n.d(U,"sceneFromJSON",(function(){return xm})),n.d(U,"scenePickVisit",(function(){return pv})),n.d(U,"sceneToJSON",(function(){return wm})),n.d(U,"sceneVisit",(function(){return hv})),n.d(U,"sceneZOrder",(function(){return dv})),n.d(U,"serializeXML",(function(){return wg})),n.d(U,"textMetrics",(function(){return $v})),n.d(U,"interpolate",(function(){return th})),n.d(U,"interpolateColors",(function(){return $d})),n.d(U,"interpolateRange",(function(){return Jd})),n.d(U,"quantizeInterpolator",(function(){return Zd})),n.d(U,"scale",(function(){return Ud})),n.d(U,"scheme",(function(){return oh})),n.d(U,"projection",(function(){return Ix})),n.d(U,"View",(function(){return SA})),n.d(U,"defaultLocale",(function(){return $i})),n.d(U,"formatLocale",(function(){return Wi})),n.d(U,"locale",(function(){return Ji})),n.d(U,"resetDefaultLocale",(function(){return Zi})),n.d(U,"timeFormatLocale",(function(){return Ki})),n.d(U,"expressionFunction",(function(){return jD})),n.d(U,"parse",(function(){return fI})),n.d(U,"runtimeContext",(function(){return UD})),n.d(U,"version",(function(){return dI}));var H={};n.r(H),n.d(H,"invalidSpec",(function(){return JL})),n.d(H,"FIT_NON_SINGLE",(function(){return $L})),n.d(H,"containerSizeNonSingle",(function(){return ZL})),n.d(H,"containerSizeNotCompatibleWithAutosize",(function(){return eF})),n.d(H,"droppingFit",(function(){return tF})),n.d(H,"unknownField",(function(){return nF})),n.d(H,"cannotProjectOnChannelWithoutField",(function(){return rF})),n.d(H,"cannotProjectAggregate",(function(){return iF})),n.d(H,"nearestNotSupportForContinuous",(function(){return oF})),n.d(H,"selectionNotSupported",(function(){return aF})),n.d(H,"selectionNotFound",(function(){return sF})),n.d(H,"SCALE_BINDINGS_CONTINUOUS",(function(){return uF})),n.d(H,"LEGEND_BINDINGS_MUST_HAVE_PROJECTION",(function(){return lF})),n.d(H,"noSameUnitLookup",(function(){return cF})),n.d(H,"NEEDS_SAME_SELECTION",(function(){return fF})),n.d(H,"INTERVAL_INITIALIZED_WITH_X_Y",(function(){return dF})),n.d(H,"noSuchRepeatedValue",(function(){return hF})),n.d(H,"columnsNotSupportByRowCol",(function(){return pF})),n.d(H,"CONCAT_CANNOT_SHARE_AXIS",(function(){return vF})),n.d(H,"unrecognizedParse",(function(){return mF})),n.d(H,"differentParse",(function(){return gF})),n.d(H,"ADD_SAME_CHILD_TWICE",(function(){return yF})),n.d(H,"invalidTransformIgnored",(function(){return bF})),n.d(H,"NO_FIELDS_NEEDS_AS",(function(){return _F})),n.d(H,"customFormatTypeNotAllowed",(function(){return wF})),n.d(H,"projectionOverridden",(function(){return xF})),n.d(H,"REPLACE_ANGLE_WITH_THETA",(function(){return OF})),n.d(H,"primitiveChannelDef",(function(){return kF})),n.d(H,"invalidFieldType",(function(){return EF})),n.d(H,"invalidFieldTypeForCountAggregate",(function(){return SF})),n.d(H,"invalidAggregate",(function(){return TF})),n.d(H,"missingFieldType",(function(){return CF})),n.d(H,"droppingColor",(function(){return DF})),n.d(H,"emptyFieldDef",(function(){return AF})),n.d(H,"latLongDeprecated",(function(){return jF})),n.d(H,"LINE_WITH_VARYING_SIZE",(function(){return NF})),n.d(H,"incompatibleChannel",(function(){return MF})),n.d(H,"invalidEncodingChannel",(function(){return IF})),n.d(H,"facetChannelShouldBeDiscrete",(function(){return PF})),n.d(H,"facetChannelDropped",(function(){return LF})),n.d(H,"discreteChannelCannotEncode",(function(){return FF})),n.d(H,"rangeMarkAlignmentCannotBeExpression",(function(){return RF})),n.d(H,"lineWithRange",(function(){return BF})),n.d(H,"orientOverridden",(function(){return zF})),n.d(H,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return UF})),n.d(H,"RANGE_STEP_DEPRECATED",(function(){return HF})),n.d(H,"cannotUseScalePropertyWithNonColor",(function(){return VF})),n.d(H,"unaggregateDomainHasNoEffectForRawField",(function(){return WF})),n.d(H,"unaggregateDomainWithNonSharedDomainOp",(function(){return qF})),n.d(H,"unaggregatedDomainWithLogScale",(function(){return GF})),n.d(H,"cannotApplySizeToNonOrientedMark",(function(){return YF})),n.d(H,"scaleTypeNotWorkWithChannel",(function(){return QF})),n.d(H,"scaleTypeNotWorkWithFieldDef",(function(){return KF})),n.d(H,"scalePropertyNotWorkWithScaleType",(function(){return XF})),n.d(H,"scaleTypeNotWorkWithMark",(function(){return JF})),n.d(H,"stepDropped",(function(){return $F})),n.d(H,"mergeConflictingProperty",(function(){return ZF})),n.d(H,"mergeConflictingDomainProperty",(function(){return eR})),n.d(H,"independentScaleMeansIndependentGuide",(function(){return tR})),n.d(H,"domainSortDropped",(function(){return nR})),n.d(H,"MORE_THAN_ONE_SORT",(function(){return rR})),n.d(H,"FACETED_INDEPENDENT_DIFFERENT_SOURCES",(function(){return iR})),n.d(H,"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES",(function(){return oR})),n.d(H,"FACETED_INDEPENDENT_SAME_SOURCE",(function(){return aR})),n.d(H,"INVALID_CHANNEL_FOR_AXIS",(function(){return sR})),n.d(H,"cannotStackRangedMark",(function(){return uR})),n.d(H,"cannotStackNonLinearScale",(function(){return lR})),n.d(H,"stackNonSummativeAggregate",(function(){return cR})),n.d(H,"invalidTimeUnit",(function(){return fR})),n.d(H,"droppedDay",(function(){return dR})),n.d(H,"errorBarCenterAndExtentAreNotNeeded",(function(){return hR})),n.d(H,"errorBarCenterIsUsedWithWrongExtent",(function(){return pR})),n.d(H,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return vR})),n.d(H,"errorBand1DNotSupport",(function(){return mR})),n.d(H,"channelRequiredForBinned",(function(){return gR})),n.d(H,"channelShouldNotBeUsedForBinned",(function(){return yR})),n.d(H,"domainRequiredForThresholdScale",(function(){return bR}));var V={};n.r(V),n.d(V,"compile",(function(){return UQ})),n.d(V,"deepEqual",(function(){return kI})),n.d(V,"duplicate",(function(){return EI})),n.d(V,"pick",(function(){return SI})),n.d(V,"omit",(function(){return TI})),n.d(V,"stringify",(function(){return CI})),n.d(V,"hash",(function(){return DI})),n.d(V,"isNullOrFalse",(function(){return AI})),n.d(V,"contains",(function(){return jI})),n.d(V,"some",(function(){return NI})),n.d(V,"every",(function(){return MI})),n.d(V,"mergeDeep",(function(){return II})),n.d(V,"unique",(function(){return LI})),n.d(V,"isEqual",(function(){return FI})),n.d(V,"setEqual",(function(){return RI})),n.d(V,"hasIntersection",(function(){return BI})),n.d(V,"prefixGenerator",(function(){return zI})),n.d(V,"fieldIntersection",(function(){return UI})),n.d(V,"isEmpty",(function(){return HI})),n.d(V,"keys",(function(){return VI})),n.d(V,"vals",(function(){return WI})),n.d(V,"entries",(function(){return qI})),n.d(V,"isBoolean",(function(){return GI})),n.d(V,"varName",(function(){return YI})),n.d(V,"logicalExpr",(function(){return QI})),n.d(V,"deleteNestedProperty",(function(){return KI})),n.d(V,"titleCase",(function(){return XI})),n.d(V,"accessPathWithDatum",(function(){return JI})),n.d(V,"flatAccessWithDatum",(function(){return $I})),n.d(V,"replacePathInField",(function(){return eP})),n.d(V,"replaceAll",(function(){return tP})),n.d(V,"removePathFromField",(function(){return nP})),n.d(V,"accessPathDepth",(function(){return rP})),n.d(V,"getFirstDefined",(function(){return iP})),n.d(V,"uniqueId",(function(){return aP})),n.d(V,"resetIdCounter",(function(){return sP})),n.d(V,"internalField",(function(){return uP})),n.d(V,"isInternalField",(function(){return lP})),n.d(V,"normalizeAngle",(function(){return cP})),n.d(V,"isNumeric",(function(){return fP})),n.d(V,"normalize",(function(){return CV})),n.d(V,"version",(function(){return hI.a}));var W={};n.r(W),n.d(W,"JsonPatchError",(function(){return ZQ})),n.d(W,"deepClone",(function(){return eK})),n.d(W,"getValueByPointer",(function(){return rK})),n.d(W,"applyOperation",(function(){return iK})),n.d(W,"applyPatch",(function(){return oK})),n.d(W,"applyReducer",(function(){return aK})),n.d(W,"validator",(function(){return sK})),n.d(W,"validate",(function(){return uK})),n.d(W,"_areEquals",(function(){return lK}));var q={};n.r(q),n.d(q,"unobserve",(function(){return hK})),n.d(q,"observe",(function(){return pK})),n.d(q,"generate",(function(){return vK})),n.d(q,"compare",(function(){return gK}));var G={};n.r(G),n.d(G,"dark",(function(){return OK})),n.d(G,"excel",(function(){return EK})),n.d(G,"fivethirtyeight",(function(){return DK})),n.d(G,"ggplot2",(function(){return jK})),n.d(G,"googlecharts",(function(){return XK})),n.d(G,"latimes",(function(){return LK})),n.d(G,"quartz",(function(){return BK})),n.d(G,"urbaninstitute",(function(){return YK})),n.d(G,"version",(function(){return JK})),n.d(G,"vox",(function(){return UK}));var Y=n(1),Q=n.n(Y),K=function(e,t){var n=Object(Y.useRef)(!1);Object(Y.useEffect)((function(){n.current?e():n.current=!0}),t)},X=function(e){var t=e.model,n=e.condition,r=e.value,i=e.setValue,o=e.title;return Object(Y.useEffect)((function(){if(t){var e=Object.keys(t).filter(n);r||i(e[0])}}),[JSON.stringify(t)]),Q.a.createElement("div",{className:"widget-option"},Q.a.createElement("label",null,o),Q.a.createElement("select",{className:"custom-select",value:r,onChange:function(e){return i(e.target.value)}},Object.keys(t).length?Object.keys(t).map((function(e,t){return n(e)?Q.a.createElement("option",{key:t,value:e},e):null})):r?Q.a.createElement("option",{value:r},r):null))};function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t=e.model,n=e.config,r=e.setConfig,i=e.displayedData,o=J(Object(Y.useState)(""),2),a=o[0],s=o[1],u=J(Object(Y.useState)(""),2),l=u[0],c=u[1];return Object(Y.useEffect)((function(){!a&&n&&Object.keys(n).length&&"encoding"in n&&("x"in n.encoding&&s("".concat(i,".").concat(n.encoding.x.field)),"y"in n.encoding&&c("".concat(i,".").concat(n.encoding.y.field)))}),[]),K((function(){if(t&&a&&l&&a.includes(i)){var e=a.replace("".concat(i,"."),""),n=l.replace("".concat(i,"."),"");r({encoding:{x:{field:e,type:"ordinal"},y:{field:n,type:"quantitative"}}})}}),[a,l,i]),Q.a.createElement("div",{className:"widget"},Q.a.createElement("div",{className:"widget-editor"},Q.a.createElement(X,{value:a,setValue:s,condition:function(e){if(t[e].typeInfo)return t[e].typeInfo.toString().includes("String")||t[e].typeInfo.toString().includes("Int")||t[e].typeInfo.toString().includes("Float")},title:"X Axis",model:t}),Q.a.createElement(X,{value:l,setValue:c,condition:function(e){if(t[e].typeInfo)return t[e].typeInfo.toString().includes("String")||t[e].typeInfo.toString().includes("Int")||t[e].typeInfo.toString().includes("Float")},title:"Y Axis",model:t})))},ee=n(0),te=/^([A-Za-z]+:)?\/\//,ne=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,re=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ie="file://";function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=h(v.mark((function e(t,n){var r,i;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function se(e,t){return ue.apply(this,arguments)}function ue(){return(ue=h(v.mark((function e(t,n){var r,i,o,a,s,u,l;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ee.p)({},this.options,n),r=this.fileAccess,i={href:null},u=ne.test(t.replace(re,"")),null!=t&&"string"==typeof t&&u||Object(ee.o)("Sanitize failure, invalid URI: "+Object(ee.bb)(t)),l=te.test(t),e.abrupt("return",((s=n.baseURL)&&!l&&(t.startsWith("/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),a=(o=t.startsWith(ie))||"file"===n.mode||"http"!==n.mode&&!l&&r,o?t=t.slice(ie.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),a=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!a}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),i));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function le(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:ce}function ce(){return fe.apply(this,arguments)}function fe(){return(fe=h(v.mark((function e(){return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ee.o)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return e?function(){var t=h(v.mark((function t(n,r){var i,o,a;return v.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(ee.p)({},this.options.http,r),o=r&&r.response,t.next=4,e(n,i);case 4:return a=t.sent,t.abrupt("return",a.ok?Object(ee.E)(a[o])?a[o]():a.text():Object(ee.o)(a.status+""+a.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():he}function he(){return pe.apply(this,arguments)}function pe(){return(pe=h(v.mark((function e(){return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ee.o)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function(e){return!(Number.isNaN(+e)||e instanceof Date)},me={boolean:ee.cb,integer:ee.eb,number:ee.eb,date:ee.db,string:ee.gb,unknown:ee.y},ge=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return ve(e)&&Number.isInteger(+e)},ve,function(e){return!Number.isNaN(Date.parse(e))}],ye=["boolean","integer","number","date"];function be(e,t){if(!e||!e.length)return"unknown";for(var n,r,i,o=e.length,a=ge.length,s=ge.map((function(e,t){return t+1})),u=0,l=0;u<o;++u)for(r=t?e[u][t]:e[u],n=0;n<a;++n)if(s[n]&&null!=(i=r)&&i==i&&!ge[n](r)&&(s[n]=0,++l===ge.length))return"string";return ye[s.reduce((function(e,t){return 0===e?t:e}),0)-1]}function _e(e,t){return t.reduce((function(t,n){return t[n]=be(e,n),t}),{})}var we={},xe={};function Oe(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ke(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Ee(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var Se=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return xe;if(l)return l=!1,we;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?u=!0:10===(r=e.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))l=!0;else if(13===r)l=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==xe;){for(var f=[];r!==we&&r!==xe;)f.push(r),r=c();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?function(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+Ee(-t,6):t>9999?"+"+Ee(t,6):Ee(t,4))+"-"+Ee(e.getUTCMonth()+1,2)+"-"+Ee(e.getUTCDate(),2)+(o?"T"+Ee(n,2)+":"+Ee(r,2)+":"+Ee(i,2)+"."+Ee(o,3)+"Z":i?"T"+Ee(n,2)+":"+Ee(r,2)+":"+Ee(i,2)+"Z":r||n?"T"+Ee(n,2)+":"+Ee(r,2)+"Z":"")}(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Oe(e);return function(r,i){return t(n(r),i,e)}}(e,t):Oe(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=ke(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ke(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}};function Te(e){var t=function(t,n){var r={delimiter:e};return Ce(t,n?Object(ee.p)(n,r):r)};return t.responseType="text",t}function Ce(e,t){return t.header&&(e=t.header.map(ee.bb).join(t.delimiter)+"\n"+e),Se(t.delimiter).parse(e+"")}Ce.responseType="text";var De=n(17),Ae=function(e){return e},je=function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return Ne(e,t)}))}:Ne(e,t)};function Ne(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=Me(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Me(e,t){var n=function(e){if(null==e)return Ae;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var u=2,l=e.length,c=new Array(l);for(c[0]=(t+=e[0])*r+o,c[1]=(n+=e[1])*i+a;u<l;)c[u]=e[u],++u;return c}}(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(n(i[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(t)}var Ie=function(e,t){var n={},r={},i={},o=[],a=-1;function s(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,i]:[i,n]}(t),s=a[0],u=a[1];if(n=i[s])if(delete i[n.end],n.push(t),n.end=u,o=r[u]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(t),n.start=s,o=i[s]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=s]=i[n.end=u]=n})),s(i,r),s(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o},Pe=function(e){return Me(e,Le.apply(this,arguments))};function Le(e,t,n){var r,i,o;if(arguments.length>1)r=Fe(0,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Ie(e,r)}}function Fe(e,t,n){var r,i=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function u(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(u)}(t.arcs)}}(t),o.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var Re={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function Be(e,t){var n,r,i,o;return e=Object(De.a)(e,t),t&&t.feature?(n=je,i=t.feature):t&&t.mesh?(n=Pe,i=t.mesh,o=Re[t.filter]):Object(ee.o)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,o):Object(ee.o)("Invalid TopoJSON object: "+i))&&r.features||[r]}Be.responseType="json";var ze={dsv:Ce,csv:Te(","),tsv:Te("\t"),json:De.a,topojson:Be};function Ue(e,t){return arguments.length>1?(ze[e]=t,this):Object(ee.w)(ze,e)?ze[e]:null}function He(e){var t=Ue(e);return t&&t.responseType||"text"}var Ve=Math.sqrt(50),We=Math.sqrt(10),qe=Math.sqrt(2),Ge=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Ye(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(a=-a,e=Math.ceil(e*a),t=Math.floor(t*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)/a;return r&&o.reverse(),o};function Ye(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ve?10:o>=We?5:o>=qe?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ve?10:o>=We?5:o>=qe?2:1)}function Qe(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ve?i*=10:o>=We?i*=5:o>=qe&&(i*=2),t<e?-i:i}var Ke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(e){if(!(t=Ke.exec(e)))throw new Error("invalid format: "+e);var t;return new Je({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Je(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function $e(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}Xe.prototype=Je.prototype,Je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ze,et,tt,nt,rt=function(e){return(e=$e(Math.abs(e)))?e[1]:NaN},it=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rt(t)/3)))-rt(Math.abs(e)))},ot=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rt(t)-rt(e))+1},at=function(e){return Math.max(0,-rt(Math.abs(e)))},st=function(e,t){var n=$e(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},ut={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return st(100*e,t)},r:st,s:function(e,t){var n=$e(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ze=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$e(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},lt=function(e){return e},ct=Array.prototype.map,ft=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],dt=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?lt:(t=ct.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?lt:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ct.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Xe(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):ut[y]||(void 0===m&&(m=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?o:/[%p]/.test(y)?u:"",w=ut[y],x=/[defgprs%]/.test(y);function O(e){var i,o,u,d=b,O=_;if("c"===y)O=w(e)+O,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==f&&(k=!1),d=(k?"("===f?f:l:"-"===f||"("===f?"":f)+d,O=("s"===y?ft[8+Ze/3]:"")+O+(k&&"("===f?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){O=(46===u?a+e.slice(i+1):e.slice(i))+O,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var E=d.length+e.length+O.length,S=E<p?new Array(p-E+1).join(t):"";switch(v&&h&&(e=r(S+e,S.length?p-O.length:1/0),S=""),n){case"<":e=d+e+O+S;break;case"=":e=d+S+e+O;break;case"^":e=S.slice(0,E=S.length>>1)+d+e+O+S.slice(E);break;default:e=S+d+e+O}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),O.toString=function(){return e+""},O}return{format:f,formatPrefix:function(e,t){var n=f(((e=Xe(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(rt(t)/3))),i=Math.pow(10,-r),o=ft[8+r/3];return function(e){return n(i*e)+o}}}};et=dt({thousands:",",grouping:[3],currency:["$",""]}),tt=et.format,nt=et.formatPrefix;var ht=new Date,pt=new Date;function vt(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return vt((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return ht.setTime(+t),pt.setTime(+r),e(ht),e(pt),Math.floor(n(ht,pt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var mt=6e4,gt=36e5,yt=6048e5,bt=vt((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mt)/864e5}),(function(e){return e.getDate()-1})),_t=bt;function wt(e){return vt((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mt)/yt}))}bt.range;var xt=wt(0),Ot=wt(1),kt=wt(2),Et=wt(3),St=wt(4),Tt=wt(5),Ct=wt(6),Dt=(xt.range,Ot.range,kt.range,Et.range,St.range,Tt.range,Ct.range,vt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),At=Dt;function jt(e){return vt((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/yt}))}Dt.range;var Nt=jt(0),Mt=jt(1),It=jt(2),Pt=jt(3),Lt=jt(4),Ft=jt(5),Rt=jt(6),Bt=(Nt.range,Mt.range,It.range,Pt.range,Lt.range,Ft.range,Rt.range,vt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));Bt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var zt=Bt,Ut=(Bt.range,vt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Ht=Ut,Vt=(Ut.range,vt((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*mt)}),(function(e,t){e.setTime(+e+t*gt)}),(function(e,t){return(t-e)/gt}),(function(e){return e.getHours()}))),Wt=Vt,qt=(Vt.range,vt((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+t*mt)}),(function(e,t){return(t-e)/mt}),(function(e){return e.getMinutes()}))),Gt=qt,Yt=(qt.range,vt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),Qt=Yt,Kt=(Yt.range,vt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Kt.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?vt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Kt:null};var Xt=Kt,Jt=(Kt.range,vt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Jt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var $t=Jt,Zt=(Jt.range,vt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),en=Zt,tn=(Zt.range,vt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*gt)}),(function(e,t){return(t-e)/gt}),(function(e){return e.getUTCHours()}))),nn=tn,rn=(tn.range,vt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*mt)}),(function(e,t){return(t-e)/mt}),(function(e){return e.getUTCMinutes()}))),on=rn,an=(rn.range,function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}),sn=function(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return an(e(t),n)}}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);var a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}},un="year",ln="quarter",cn="month",fn="week",dn="date",hn="day",pn="dayofyear",vn="hours",mn="minutes",gn="seconds",yn="milliseconds",bn=[un,ln,cn,fn,dn,hn,pn,vn,mn,gn,yn],_n=bn.reduce((function(e,t,n){return e[t]=1+n,e}),{});function wn(e){var t=Object(ee.i)(e).slice(),n={};return t.length||Object(ee.o)("Missing time unit."),t.forEach((function(e){Object(ee.w)(_n,e)?n[e]=1:Object(ee.o)("Invalid time unit: ".concat(e,"."))})),(n[fn]||n[hn]?1:0)+(n[ln]||n[cn]||n[dn]?1:0)+(n[pn]?1:0)>1&&Object(ee.o)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return _n[e]-_n[t]})),t}var xn=(d(r={},un,"%Y "),d(r,ln,"Q%q "),d(r,cn,"%b "),d(r,dn,"%d "),d(r,fn,"W%U "),d(r,hn,"%a "),d(r,pn,"%j "),d(r,vn,"%H:00"),d(r,mn,"00:%M"),d(r,gn,":%S"),d(r,yn,".%L"),d(r,"".concat(un,"-").concat(cn),"%Y-%m "),d(r,"".concat(un,"-").concat(cn,"-").concat(dn),"%Y-%m-%d "),d(r,"".concat(vn,"-").concat(mn),"%H:%M"),r);function On(e,t){var n,r,i=Object(ee.p)({},xn,t),o=wn(e),a=o.length,s="",u=0;for(u=0;u<a;)for(n=o.length;n>u;--n)if(null!=i[r=o.slice(u,n).join("-")]){s+=i[r],u=n;break}return s.trim()}var kn=new Date;function En(e){return kn.setFullYear(e),kn.setMonth(0),kn.setDate(1),kn.setHours(0,0,0,0),kn}function Sn(e){return Cn(new Date(e))}function Tn(e){return Dn(new Date(e))}function Cn(e){return _t.count(En(e.getFullYear())-1,e)}function Dn(e){return xt.count(En(e.getFullYear())-1,e)}function An(e){return En(e).getDay()}function jn(e,t,n,r,i,o,a){if(0<=e&&e<100){var s=new Date(-1,t,n,r,i,o,a);return s.setFullYear(e),s}return new Date(e,t,n,r,i,o,a)}function Nn(e){return In(new Date(e))}function Mn(e){return Pn(new Date(e))}function In(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return At.count(t-1,e)}function Pn(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return Nt.count(t-1,e)}function Ln(e){return kn.setTime(Date.UTC(e,0,1)),kn.getUTCDay()}function Fn(e,t,n,r,i,o,a){if(0<=e&&e<100){var s=new Date(Date.UTC(-1,t,n,r,i,o,a));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,o,a))}function Rn(e,t,n,r,i){var o=t||1,a=Object(ee.W)(e),s=function(e,t,i){return function(e,t,n,r){var i=n<=1?e:r?function(t,i){return r+n*Math.floor((e(t,i)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(i(e,n),n)}:i}(n[i=i||e],r[i],e===a&&o,t)},u=new Date,l=Object(ee.fb)(e),c=l[un]?s(un):Object(ee.m)(2012),f=l[cn]?s(cn):l[ln]?s(ln):ee.mb,d=l[fn]&&l[hn]?s(hn,1,fn+hn):l[fn]?s(fn,1):l[hn]?s(hn,1):l[dn]?s(dn,1):l[pn]?s(pn,1):ee.Q,h=l[vn]?s(vn):ee.mb,p=l[mn]?s(mn):ee.mb,v=l[gn]?s(gn):ee.mb,m=l[yn]?s(yn):ee.mb;return function(e){u.setTime(+e);var t=c(u);return i(t,f(u),d(u,t),h(u),p(u),v(u),m(u))}}function Bn(e,t,n){return t+7*e-(n+6)%7}var zn=(d(_={},un,(function(e){return e.getFullYear()})),d(_,ln,(function(e){return Math.floor(e.getMonth()/3)})),d(_,cn,(function(e){return e.getMonth()})),d(_,dn,(function(e){return e.getDate()})),d(_,vn,(function(e){return e.getHours()})),d(_,mn,(function(e){return e.getMinutes()})),d(_,gn,(function(e){return e.getSeconds()})),d(_,yn,(function(e){return e.getMilliseconds()})),d(_,pn,(function(e){return Cn(e)})),d(_,fn,(function(e){return Dn(e)})),d(_,fn+hn,(function(e,t){return Bn(Dn(e),e.getDay(),An(t))})),d(_,hn,(function(e,t){return Bn(1,e.getDay(),An(t))})),_),Un=(d(w={},ln,(function(e){return 3*e})),d(w,fn,(function(e,t){return Bn(e,0,An(t))})),w);function Hn(e,t){return Rn(e,t||1,zn,Un,jn)}var Vn=(d(x={},un,(function(e){return e.getUTCFullYear()})),d(x,ln,(function(e){return Math.floor(e.getUTCMonth()/3)})),d(x,cn,(function(e){return e.getUTCMonth()})),d(x,dn,(function(e){return e.getUTCDate()})),d(x,vn,(function(e){return e.getUTCHours()})),d(x,mn,(function(e){return e.getUTCMinutes()})),d(x,gn,(function(e){return e.getUTCSeconds()})),d(x,yn,(function(e){return e.getUTCMilliseconds()})),d(x,pn,(function(e){return In(e)})),d(x,fn,(function(e){return Pn(e)})),d(x,hn,(function(e,t){return Bn(1,e.getUTCDay(),Ln(t))})),d(x,fn+hn,(function(e,t){return Bn(Pn(e),e.getUTCDay(),Ln(t))})),x),Wn=(d(O={},ln,(function(e){return 3*e})),d(O,fn,(function(e,t){return Bn(e,0,Ln(t))})),O);function qn(e,t){return Rn(e,t||1,Vn,Wn,Fn)}var Gn=(d(k={},un,zt),d(k,ln,Ht.every(3)),d(k,cn,Ht),d(k,fn,xt),d(k,dn,_t),d(k,hn,_t),d(k,pn,_t),d(k,vn,Wt),d(k,mn,Gt),d(k,gn,Qt),d(k,yn,Xt),k),Yn=(d(E={},un,$t),d(E,ln,en.every(3)),d(E,cn,en),d(E,fn,Nt),d(E,dn,At),d(E,hn,At),d(E,pn,At),d(E,vn,nn),d(E,mn,on),d(E,gn,Qt),d(E,yn,Xt),E);function Qn(e){return Gn[e]}function Kn(e){return Yn[e]}function Xn(e,t,n){return e?e.offset(t,n):void 0}function Jn(e,t,n){return Xn(Qn(e),t,n)}function $n(e,t,n){return Xn(Kn(e),t,n)}function Zn(e,t,n,r){return e?e.range(t,n,r):void 0}function er(e,t,n,r){return Zn(Qn(e),t,n,r)}function tr(e,t,n,r){return Zn(Kn(e),t,n,r)}var nr=31536e6,rr=[un,cn,dn,vn,mn,gn,yn],ir=rr.slice(0,-1),or=ir.slice(0,-1),ar=or.slice(0,-1),sr=ar.slice(0,-1),ur=[un,cn],lr=[un],cr=[[ir,1,1e3],[ir,5,5e3],[ir,15,15e3],[ir,30,3e4],[or,1,6e4],[or,5,3e5],[or,15,9e5],[or,30,18e5],[ar,1,36e5],[ar,3,108e5],[ar,6,216e5],[ar,12,432e5],[sr,1,864e5],[[un,fn],1,6048e5],[ur,1,2592e6],[ur,3,7776e6],[lr,1,nr]];function fr(e){var t,n,r=e.extent,i=e.maxbins||40,o=Math.abs(Object(ee.Z)(r))/i,a=sn((function(e){return e[2]})).right(cr,o);return a===cr.length?(t=lr,n=Qe(r[0]/nr,r[1]/nr,i)):a?(t=(a=cr[o/cr[a-1][2]<cr[a][2]/o?a-1:a])[0],n=a[1]):(t=rr,n=Math.max(Qe(r[0],r[1],i),1)),{units:t,step:n}}function dr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vr(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=Dr(i),c=Ar(i),f=Dr(o),d=Ar(o),h=Dr(a),p=Ar(a),v=Dr(s),m=Ar(s),g=Dr(u),y=Ar(u),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Jr,e:Jr,f:ni,g:hi,G:vi,H:$r,I:Zr,j:ei,L:ti,m:ri,M:ii,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ri,s:Bi,S:oi,u:ai,U:si,V:li,w:ci,W:fi,x:null,X:null,y:di,Y:pi,Z:mi,"%":Fi},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:gi,e:gi,f:xi,g:Mi,G:Pi,H:yi,I:bi,j:_i,L:wi,m:Oi,M:ki,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ri,s:Bi,S:Ei,u:Si,U:Ti,V:Di,w:Ai,W:ji,x:null,X:null,y:Ni,Y:Ii,Z:Li,"%":Fi},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Ur,e:Ur,f:Yr,g:Fr,G:Lr,H:Vr,I:Vr,j:Hr,L:Gr,m:zr,M:Wr,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Br,Q:Kr,s:Xr,S:qr,u:Nr,U:Mr,V:Ir,w:jr,W:Pr,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Fr,Y:Lr,Z:Rr,"%":Qr};function x(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=Or[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function O(e,t){return function(n){var r,i,o=pr(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=hr(pr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Mt.ceil(r):Mt(r),r=At.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=dr(pr(o.y,0,1))).getDay(),r=i>4||0===i?Ot.ceil(r):Ot(r),r=_t.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?hr(pr(o.y,0,1)).getUTCDay():dr(pr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,hr(o)):dr(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in Or?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),_.x=x(n,_),_.X=x(r,_),_.c=x(t,_),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}var mr,gr,yr,br,_r,wr,xr,Or={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Er=/^%/,Sr=/[\\^$*+?|[\]().{}]/g;function Tr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Cr(e){return e.replace(Sr,"\\$&")}function Dr(e){return new RegExp("^(?:"+e.map(Cr).join("|")+")","i")}function Ar(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function jr(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Nr(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Mr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ir(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Pr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Lr(e,t,n){var r=kr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Fr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Br(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function zr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ur(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Hr(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Vr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Wr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function qr(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Gr(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yr(e,t,n){var r=kr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qr(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Kr(e,t,n){var r=kr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Xr(e,t,n){var r=kr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Jr(e,t){return Tr(e.getDate(),t,2)}function $r(e,t){return Tr(e.getHours(),t,2)}function Zr(e,t){return Tr(e.getHours()%12||12,t,2)}function ei(e,t){return Tr(1+_t.count(zt(e),e),t,3)}function ti(e,t){return Tr(e.getMilliseconds(),t,3)}function ni(e,t){return ti(e,t)+"000"}function ri(e,t){return Tr(e.getMonth()+1,t,2)}function ii(e,t){return Tr(e.getMinutes(),t,2)}function oi(e,t){return Tr(e.getSeconds(),t,2)}function ai(e){var t=e.getDay();return 0===t?7:t}function si(e,t){return Tr(xt.count(zt(e)-1,e),t,2)}function ui(e){var t=e.getDay();return t>=4||0===t?St(e):St.ceil(e)}function li(e,t){return e=ui(e),Tr(St.count(zt(e),e)+(4===zt(e).getDay()),t,2)}function ci(e){return e.getDay()}function fi(e,t){return Tr(Ot.count(zt(e)-1,e),t,2)}function di(e,t){return Tr(e.getFullYear()%100,t,2)}function hi(e,t){return Tr((e=ui(e)).getFullYear()%100,t,2)}function pi(e,t){return Tr(e.getFullYear()%1e4,t,4)}function vi(e,t){var n=e.getDay();return Tr((e=n>=4||0===n?St(e):St.ceil(e)).getFullYear()%1e4,t,4)}function mi(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tr(t/60|0,"0",2)+Tr(t%60,"0",2)}function gi(e,t){return Tr(e.getUTCDate(),t,2)}function yi(e,t){return Tr(e.getUTCHours(),t,2)}function bi(e,t){return Tr(e.getUTCHours()%12||12,t,2)}function _i(e,t){return Tr(1+At.count($t(e),e),t,3)}function wi(e,t){return Tr(e.getUTCMilliseconds(),t,3)}function xi(e,t){return wi(e,t)+"000"}function Oi(e,t){return Tr(e.getUTCMonth()+1,t,2)}function ki(e,t){return Tr(e.getUTCMinutes(),t,2)}function Ei(e,t){return Tr(e.getUTCSeconds(),t,2)}function Si(e){var t=e.getUTCDay();return 0===t?7:t}function Ti(e,t){return Tr(Nt.count($t(e)-1,e),t,2)}function Ci(e){var t=e.getUTCDay();return t>=4||0===t?Lt(e):Lt.ceil(e)}function Di(e,t){return e=Ci(e),Tr(Lt.count($t(e),e)+(4===$t(e).getUTCDay()),t,2)}function Ai(e){return e.getUTCDay()}function ji(e,t){return Tr(Mt.count($t(e)-1,e),t,2)}function Ni(e,t){return Tr(e.getUTCFullYear()%100,t,2)}function Mi(e,t){return Tr((e=Ci(e)).getUTCFullYear()%100,t,2)}function Ii(e,t){return Tr(e.getUTCFullYear()%1e4,t,4)}function Pi(e,t){var n=e.getUTCDay();return Tr((e=n>=4||0===n?Lt(e):Lt.ceil(e)).getUTCFullYear()%1e4,t,4)}function Li(){return"+0000"}function Fi(){return"%"}function Ri(e){return+e}function Bi(e){return Math.floor(+e/1e3)}function zi(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function Ui(e){var t=zi(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n=Xe(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(e,t){return function(n){var r=e(n),i=r.indexOf(t);if(i<0)return r;for(var o=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(r,i),a=o<r.length?r.slice(o):"";--o>i;)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}(t(n),t(".1f")(1)[1])}return t(n)},formatSpan:function(e,r,i,o){o=Xe(null==o?",f":o);var a,s=Qe(e,r,i),u=Math.max(Math.abs(e),Math.abs(r));if(null==o.precision)switch(o.type){case"s":return isNaN(a=it(s,u))||(o.precision=a),n(o,u);case"":case"e":case"g":case"p":case"r":isNaN(a=ot(s,u))||(o.precision=a-("e"===o.type));break;case"f":case"%":isNaN(a=at(s))||(o.precision=a-2*("%"===o.type))}return t(o)}}}function Hi(){return wr=Ui({format:tt,formatPrefix:nt})}function Vi(e){return Ui(dt(e))}function Wi(e){return arguments.length?wr=Vi(e):wr}function qi(e,t,n){n=n||{},Object(ee.H)(n)||Object(ee.o)("Invalid time multi-format specifier: ".concat(n));var r=t(gn),i=t(mn),o=t(vn),a=t(dn),s=t(fn),u=t(cn),l=t(ln),c=t(un),f=e(n[yn]||".%L"),d=e(n[gn]||":%S"),h=e(n[mn]||"%I:%M"),p=e(n[vn]||"%I %p"),v=e(n[dn]||n[hn]||"%a %d"),m=e(n[fn]||"%b %d"),g=e(n[cn]||"%B"),y=e(n[ln]||"%B"),b=e(n[un]||"%Y");return function(e){return(r(e)<e?f:i(e)<e?d:o(e)<e?h:a(e)<e?p:u(e)<e?s(e)<e?v:m:c(e)<e?l(e)<e?g:y:b)(e)}}function Gi(e){var t=zi(e.format),n=zi(e.utcFormat);return{timeFormat:function(e){return Object(ee.J)(e)?t(e):qi(t,Qn,e)},utcFormat:function(e){return Object(ee.J)(e)?n(e):qi(n,Kn,e)},timeParse:zi(e.parse),utcParse:zi(e.utcParse)}}function Yi(){return xr=Gi({format:gr,parse:yr,utcFormat:br,utcParse:_r})}function Qi(e){return Gi(vr(e))}function Ki(e){return arguments.length?xr=Qi(e):xr}mr=vr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),gr=mr.format,yr=mr.parse,br=mr.utcFormat,_r=mr.utcParse,Hi(),Yi();var Xi=function(e,t){return Object(ee.p)({},e,t)};function Ji(e,t){var n=e?Vi(e):Wi(),r=t?Qi(t):Ki();return Xi(n,r)}function $i(e,t){var n=arguments.length;return n&&2!==n&&Object(ee.o)("defaultLocale expects either zero or two arguments."),n?Xi(Wi(e),Ki(t)):Xi(Wi(),Ki())}function Zi(){return Hi(),Yi(),$i()}var eo=function(e,t,n,r){var i=Ue((t=t||{}).type||"json");return i||Object(ee.o)("Unknown data format type: "+t.type),e=i(e,t),t.parse&&function(e,t,n,r){if(e.length){var i=Ki();n=n||i.timeParse,r=r||i.utcParse;var o,a,s,u,l,c,f=e.columns||Object.keys(e[0]);"auto"===t&&(t=_e(e,f));var d=(f=Object.keys(t)).map((function(e){var i,o,a=t[e];if(a&&(a.startsWith("date:")||a.startsWith("utc:")))return("'"===(o=(i=a.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===i[0]?r:n)(o);if(!me[a])throw Error("Illegal format pattern: "+e+":"+a);return me[a]}));for(s=0,l=e.length,c=f.length;s<l;++s)for(o=e[s],u=0;u<c;++u)o[a=f[u]]=d[u](o[a])}}(e,t.parse,n,r),Object(ee.w)(e,"columns")&&delete e.columns,e},to=function(e,t){return function(t){return{options:t||{},sanitize:se,load:oe,fileAccess:!1,file:le(null),http:de(e)}}}("undefined"!=typeof fetch&&fetch);function no(e){var t=e||ee.y,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i=t(e);if(r[i]){r[i]=0;var o=n.indexOf(e);o>=0&&n.splice(o,1)}return n},n}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=h(v.mark((function e(t,n){return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var oo=Symbol("vega_id"),ao=1;function so(e){return!(!e||!uo(e))}function uo(e){return e[oo]}function lo(e,t){return e[oo]=t,e}function co(e){var t=e===Object(e)?e:{data:e};return uo(t)?t:lo(t,ao++)}function fo(e){return ho(e,co({}))}function ho(e,t){for(var n in e)t[n]=e[n];return t}function po(e,t){return lo(t,uo(e))}function vo(e,t){return e?t?function(n,r){return e(n,r)||uo(t(n))-uo(t(r))}:function(t,n){return e(t,n)||uo(t)-uo(n)}:null}function mo(e){return e&&e.constructor===go}function go(){var e=[],t=[],n=[],r=[],i=[],o=null,a=!1;return{constructor:go,insert:function(t){for(var n=Object(ee.i)(t),r=n.length,i=0;i<r;++i)e.push(n[i]);return this},remove:function(e){for(var n=Object(ee.E)(e)?r:t,i=Object(ee.i)(e),o=i.length,a=0;a<o;++a)n.push(i[a]);return this},modify:function(e,t,r){var o={field:t,value:Object(ee.m)(r)};return Object(ee.E)(e)?(o.filter=e,i.push(o)):(o.tuple=e,n.push(o)),this},encode:function(e,t){return Object(ee.E)(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return o=e,this},reflow:function(){return a=!0,this},pulse:function(s,u){var l,c,f,d,h,p,v={},m={};for(l=0,c=u.length;l<c;++l)v[uo(u[l])]=1;for(l=0,c=t.length;l<c;++l)v[uo(h=t[l])]=-1;for(l=0,c=r.length;l<c;++l)d=r[l],u.forEach((function(e){d(e)&&(v[uo(e)]=-1)}));for(l=0,c=e.length;l<c;++l)p=uo(h=e[l]),v[p]?v[p]=1:s.add.push(co(e[l]));for(l=0,c=u.length;l<c;++l)h=u[l],v[uo(h)]<0&&s.rem.push(h);function g(e,t,n){n?e[t]=n(e):s.encode=t,a||(m[uo(e)]=e)}for(l=0,c=n.length;l<c;++l)h=(f=n[l]).tuple,d=f.field,(p=v[uo(h)])>0&&(g(h,d,f.value),s.modifies(d));for(l=0,c=i.length;l<c;++l)f=i[l],d=f.filter,u.forEach((function(e){d(e)&&v[uo(e)]>0&&g(e,f.field,f.value)})),s.modifies(f.field);if(a)s.mod=t.length||r.length?u.filter((function(e){return v[uo(e)]>0})):u.slice();else for(p in m)s.mod.push(m[p]);return(o||null==o&&(t.length||r.length))&&s.clean(!0),s}}}var yo="_:mod:_";function bo(){Object.defineProperty(this,yo,{writable:!0,value:{}})}bo.prototype={set:function(e,t,n,r){var i=this,o=i[e],a=i[yo];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=Object(ee.B)(n)?1+n.length:-1),i},modified:function(e,t){var n=this[yo];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(Object(ee.B)(e)){for(var i=0;i<e.length;++i)if(n[e[i]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear:function(){return this[yo]={},this}};var _o=0,wo=new bo;function xo(e,t,n,r){this.id=++_o,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Oo(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}xo.prototype={targets:function(){return this._targets||(this._targets=no(ee.x))},set:function(e){return this.value!==e?(this.value=e,1):0},skip:Oo(1),modified:Oo(2),parameters:function(e,t,n){var r=this;t=!1!==t;var i,o,a,s,u=this._argval=this._argval||new bo,l=this._argops=this._argops||[],c=[],f=function(e,n,i){i instanceof xo?(i!==r&&(t&&i.targets().add(r),c.push(i)),l.push({op:i,name:e,index:n})):u.set(e,n,i)};for(i in e)if(o=e[i],"pulse"===i)Object(ee.i)(o).forEach((function(e){e instanceof xo?e!==r&&(e.targets().add(r),c.push(e)):Object(ee.o)("Pulse parameters must be operator instances.")})),this.source=o;else if(Object(ee.B)(o))for(u.set(i,-1,Array(a=o.length)),s=0;s<a;++s)f(i,s,o[s]);else f(i,-1,o);return this.marshall().clear(),n&&(l.initonly=!0),c},marshall:function(e){var t,n,r,i,o=this._argval||wo,a=this._argops;if(a){var s=a.length;for(n=0;n<s;++n)i=(r=(t=a[n]).op).modified()&&r.stamp===e,o.set(t.name,t.index,r.value,i);if(a.initonly){for(n=0;n<s;++n)(t=a[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},detach:function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this)},evaluate:function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run:function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}};var ko=0;function Eo(e,t,n){this.id=++ko,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function So(e,t,n){return new Eo(e,t,n)}Eo.prototype={_filter:ee.ib,_apply:ee.y,targets:function(){return this._targets||(this._targets=no(ee.x))},consume:function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive:function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter:function(e){var t=So(e);return this.targets().add(t),t},apply:function(e){var t=So(null,e);return this.targets().add(t),t},merge:function(){var e=So();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle:function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},debounce:function(e){var t=So();return this.targets().add(So(null,null,Object(ee.n)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between:function(e,t){var n=!1;return e.targets().add(So(null,null,(function(){return n=!0}))),t.targets().add(So(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){}};var To={skip:!0};function Co(e,t,n,r,i,o){var a,s,u=Object(ee.p)({},o,To);Object(ee.E)(n)||(n=Object(ee.m)(n)),void 0===r?a=function(t){return e.touch(n(t))}:Object(ee.E)(r)?(s=new xo(null,r,i,!1),a=function(t){s.evaluate(t);var r=n(t),i=s.value;mo(i)?e.pulse(r,i,o):e.update(r,i,u)}):a=function(t){return e.update(n(t),r,u)},t.apply(a)}function Do(e,t,n,r,i,o){if(void 0===r)t.targets().add(n);else{var a=o||{},s=new xo(null,function(e,t){return t=Object(ee.E)(t)?t:Object(ee.m)(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}var Ao={};function jo(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function No(e,t){var n=[];return Object(ee.kb)(e,t,(function(e){return n.push(e)})),n}function Mo(e,t){var n={};return e.visit(t,(function(e){n[uo(e)]=1})),function(e){return n[uo(e)]?null:e}}function Io(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function Po(e,t,n,r){var i=this,o=n.length,a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(var s=0;s<o;++s){var u=n[s];if(u.stamp===t){if(u.fields){var l=i.fields||(i.fields={});for(var c in u.fields)l[c]=1}u.changed(i.ADD)&&(a|=i.ADD),u.changed(i.REM)&&(a|=i.REM),u.changed(i.MOD)&&(a|=i.MOD)}}this.changes=a}function Lo(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}jo.prototype={StopPropagation:Ao,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(e){return new jo(this.dataflow).init(this,e)},clone:function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll:function(){var e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||((e=new jo(this.dataflow).init(this)).add=e.source,e.rem=[]),e},init:function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter:function(e){this.dataflow.runAfter(e)},changed:function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow:function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Mo(this,1))),this},clean:function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies:function(e){var t=this.fields||(this.fields={});return Object(ee.B)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},modified:function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(ee.B)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},filter:function(e,t){var n=this;return 1&e&&(n.addF=Io(n.addF,t)),2&e&&(n.remF=Io(n.remF,t)),4&e&&(n.modF=Io(n.modF,t)),16&e&&(n.srcF=Io(n.srcF,t)),n},materialize:function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=No(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=No(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=No(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit:function(e,t){var n=this,r=t;if(16&e)return Object(ee.kb)(n.source,n.srcF,r),n;1&e&&Object(ee.kb)(n.add,n.addF,r),2&e&&Object(ee.kb)(n.rem,n.remF,r),4&e&&Object(ee.kb)(n.mod,n.modF,r);var i=n.source;if(8&e&&i){var o=n.add.length+n.mod.length;o===i.length||(o?Object(ee.kb)(i,Mo(n,5),r):Object(ee.kb)(i,n.srcF,r))}return n}},Object(ee.z)(Po,jo,{fork:function(e){var t=new jo(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},changed:function(e){return this.changes&e},modified:function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(ee.B)(e)?e.some((function(e){return n[e]})):n[e]:0},filter:function(){Object(ee.o)("MultiPulse does not support filtering.")},materialize:function(){Object(ee.o)("MultiPulse does not support materialization.")},visit:function(e,t){var n=this,r=n.pulses,i=r.length,o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});var Fo={skip:!1,force:!1};function Ro(e,t,n,r){for(var i,o,a=e[n];n>t&&r(a,i=e[o=n-1>>1])<0;)e[n]=i,n=o;return e[n]=a}function Bo(){this.logger(Object(ee.M)()),this.logLevel(ee.b),this._clock=0,this._rank=0,this._locale=$i();try{this._loader=to()}catch(e){}this._touched=no(ee.x),this._input={},this._pulse=null,this._heap=function(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),Ro(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){for(var r,i=t,o=e.length,a=e[t],s=1+(t<<1);s<o;)(r=s+1)<o&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=a,Ro(e,i,t,n)}(t,0,e)):n=r,n}}}((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}function zo(e){return function(){return this._log[e].apply(this,arguments)}}function Uo(e,t){xo.call(this,e,null,t)}Bo.prototype={stamp:function(){return this._clock},loader:function(e){return arguments.length?(this._loader=e,this):this._loader},locale:function(e){return arguments.length?(this._locale=e,this):this._locale},logger:function(e){return arguments.length?(this._log=e,this):this._log},error:zo("error"),warn:zo("warn"),info:zo("info"),debug:zo("debug"),logLevel:zo("level"),cleanThreshold:1e4,add:function(e,t,n,r){var i,o=1;return e instanceof xo?i=e:e&&e.prototype instanceof xo?i=new e:Object(ee.E)(e)?i=new xo(null,e):(o=0,i=new xo(e,t)),this.rank(i),o&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(e,t){for(var n=e.rank,r=t.length,i=0;i<r;++i)if(n<t[i].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&Object(ee.o)("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||Fo);var r=new jo(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},touch:function(e,t){var n=t||Fo;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){var r=n||Fo;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:go,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){var n=this.locale();return eo(e,t,n.timeParse,n.utcParse)},preload:function(){var e=h(v.mark((function e(t,n,r){var i,o,a;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=(i=this)._pending||function(e){var t,n=new Promise((function(e){return t=e}));return n.requests=0,n.done=function(){0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(i)).requests+=1,e.next=4,i.request(n,r);case 4:return a=e.sent,e.abrupt("return",(i.pulse(t,i.changeset().remove(ee.ib).insert(a.data||[])),o.done(),a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),request:function(){var e=h(v.mark((function e(t,n){var r,i,o;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,o=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:He(n&&n.type)});case 5:i=e.sent;try{i=r.parse(i,n)}catch(n){o=-2,r.warn("Data ingestion failed",t,n)}e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o=-1,r.warn("Loading failed",t,e.t0);case 12:return e.abrupt("return",{data:i,status:o});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),events:function(e,t,n,r){for(var i,o=this,a=So(n,r),s=function(e){e.dataflow=o;try{a.receive(e)}catch(e){o.error(e)}finally{o.run()}},u=(i="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Object(ee.i)(e)).length,l=0;l<u;++l)i[l].addEventListener(t,s);return a},on:function(e,t,n,r,i){return(e instanceof xo?Do:Co)(this,e,t,n,r,i),this},evaluate:function(){var e=h(v.mark((function e(t,n,r){var i,o,a,s,u,l,c,f,d;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],!(i=this)._pulse){e.next=3;break}return e.abrupt("return",Lo(i));case 3:if(e.t0=i._pending,!e.t0){e.next=7;break}return e.next=7,i._pending;case 7:if(e.t1=n,!e.t1){e.next=11;break}return e.next=11,ro(i,n);case 11:if(i._touched.length){e.next=13;break}return e.abrupt("return",(i.debug("Dataflow invoked, but nothing to do."),i));case 13:a=++i._clock,i._pulse=new jo(i,a,t),i._touched.forEach((function(e){return i._enqueue(e,!0)})),i._touched=no(ee.x),c=0,e.prev=16;case 17:if(!(i._heap.size()>0)){e.next=35;break}if((s=i._heap.pop()).rank!==s.qrank){e.next=32;break}if(!(u=s.run(i._getPulse(s,t))).then){e.next=27;break}return e.next=24,u;case 24:u=e.sent,e.next=28;break;case 27:u.async&&(o.push(u.async),u=Ao);case 28:u!==Ao&&s._targets&&s._targets.forEach((function(e){return i._enqueue(e)})),++c,e.next=33;break;case 32:i._enqueue(s,!0);case 33:e.next=17;break;case 35:e.next=40;break;case 37:e.prev=37,e.t2=e.catch(16),i._heap.clear(),l=e.t2;case 40:if(i._input={},i._pulse=null,i.debug("Pulse ".concat(a,": ").concat(c," operators")),l&&(i._postrun=[],i.error(l)),!i._postrun.length){e.next=50;break}f=i._postrun.sort((function(e,t){return t.priority-e.priority})),i._postrun=[],d=0;case 44:if(!(d<f.length)){e.next=50;break}return e.next=47,ro(i,f[d].callback);case 47:++d,e.next=44;break;case 50:if(e.t3=r,!e.t3){e.next=54;break}return e.next=54,ro(i,r);case 54:return o.length&&Promise.all(o).then((function(e){return i.runAsync(null,(function(){e.forEach((function(e){try{e(i)}catch(e){i.error(e)}}))}))})),e.abrupt("return",i);case 56:case"end":return e.stop()}}),e,this,[[16,37]])})));return function(t,n,r){return e.apply(this,arguments)}}(),run:function(e,t,n){return this._pulse?Lo(this):(this.evaluate(e,t,n),this)},runAsync:function(){var e=h(v.mark((function e(t,n,r){var i,o=this;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return o._running=null},e.abrupt("return",((this._running=this.evaluate(t,n,r)).then(i,i),this._running));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},_enqueue:function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){var n=e.source,r=this._clock;return n&&Object(ee.B)(n)?new Po(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==Ao&&(e.source=t.source),e)}(this._pulse,n&&n.pulse)}},Object(ee.z)(Uo,xo,{run:function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},evaluate:function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform:function(){}});var Ho={};function Vo(e){var t=Wo(e);return t&&t.Definition||null}function Wo(e){return e=e&&e.toLowerCase(),Object(ee.w)(Ho,e)?Ho[e]:null}function qo(e,t){var n;if(void 0===t){var r,i=g(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=g(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;null!=(l=t(l,++s,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function Go(e,t){var n;if(void 0===t){var r,i=g(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=g(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;null!=(l=t(l,++s,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function Yo(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var Qo=function(e){return null===e?NaN:+e};function Ko(e,t,n){if(r=(e=Float64Array.from(v.mark((function e(t,n){var r,i,o,a,s,u,l;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=22;break}r=g(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=12;break}if(o=i.value,e.t0=null!=o&&(o=+o)>=o,!e.t0){e.next=10;break}return e.next=10,o;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:e.next=42;break;case 22:a=-1,s=g(t),e.prev=24,s.s();case 26:if((u=s.n()).done){e.next=34;break}if(l=u.value,e.t2=null!=(l=n(l,++a,t))&&(l=+l)>=l,!e.t2){e.next=32;break}return e.next=32,l;case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t3=e.catch(24),s.e(e.t3);case 39:return e.prev=39,s.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[2,14,17,20],[24,36,39,42]])}))(e,n))).length){if((t=+t)<=0||r<2)return Go(e);if(t>=1)return qo(e);var r,i=(r-1)*t,o=Math.floor(i),a=qo(function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:an;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var f=t[n],d=r,h=i;for(Yo(t,r,n),o(t[i],f)>0&&Yo(t,r,i);d<h;){for(Yo(t,d,h),++d,--h;o(t[d],f)<0;)++d;for(;o(t[h],f)>0;)--h}0===o(t[r],f)?Yo(t,r,h):Yo(t,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}return t}(e,o).subarray(0,o+1));return a+(Go(e.subarray(o+1))-a)*(i-o)}}function Xo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qo;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}var Jo=function(e,t){return Ko(e,.5,t)};function $o(e,t){var n,r,i,o,a,s,u;return v.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(null!=t){l.next=22;break}n=g(e),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=12;break}if(i=r.value,l.t0=null!=i&&""!==i&&(i=+i)>=i,!l.t0){l.next=10;break}return l.next=10,i;case 10:l.next=4;break;case 12:l.next=17;break;case 14:l.prev=14,l.t1=l.catch(2),n.e(l.t1);case 17:return l.prev=17,n.f(),l.finish(17);case 20:l.next=43;break;case 22:o=-1,a=g(e),l.prev=24,a.s();case 26:if((s=a.n()).done){l.next=35;break}if(u=s.value,u=t(u,++o,e),l.t2=null!=u&&""!==u&&(u=+u)>=u,!l.t2){l.next=33;break}return l.next=33,u;case 33:l.next=26;break;case 35:l.next=40;break;case 37:l.prev=37,l.t3=l.catch(24),a.e(l.t3);case 40:return l.prev=40,a.f(),l.finish(40);case 43:case"end":return l.stop()}}),C,null,[[2,14,17,20],[24,37,40,43]])}function Zo(e,t,n){var r=Float64Array.from($o(e,n));return r.sort(an),t.map((function(e){return Xo(r,e)}))}function ea(e,t){return Zo(e,[.25,.5,.75],t)}function ta(e,t){var n=e.length,r=function(e,t){var n=function(e,t){var n,r=0,i=0,o=0;if(void 0===t){var a,s=g(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;null!=u&&(u=+u)>=u&&(o+=(n=u-i)*(u-(i+=n/++r)))}}catch(h){s.e(h)}finally{s.f()}}else{var l,c=-1,f=g(e);try{for(f.s();!(l=f.n()).done;){var d=l.value;null!=(d=t(d,++c,e))&&(d=+d)>=d&&(o+=(n=d-i)*(d-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return o/(r-1)}(e,t);return n?Math.sqrt(n):n}(e,t),i=ea(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function na(e){var t,n,r,i,o,a,s=e.maxbins||20,u=e.base||10,l=Math.log(u),c=e.divide||[5,2],f=e.extent[0],d=e.extent[1],h=e.span||d-f||Math.abs(f)||1;if(e.step)t=e.step;else if(e.steps){for(i=h/s,o=0,a=e.steps.length;o<a&&e.steps[o]<i;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(s)/l),r=e.minstep||0,t=Math.max(r,Math.pow(u,Math.round(Math.log(h)/l)-n));Math.ceil(h/t)>s;)t*=u;for(o=0,a=c.length;o<a;++o)(i=t/c[o])>=r&&h/i<=s&&(t=i)}var p=(i=Math.log(t))>=0?0:1+~~(-i/l),v=Math.pow(u,-p-1);return(e.nice||void 0===e.nice)&&(f=f<(i=Math.floor(f/t+v)*t)?i-t:i,d=Math.ceil(d/t)*t),{start:f,stop:d===f?f+t:d,step:t}}var ra=Math.random;function ia(e){ra=e}function oa(e,t,n,r){if(!e.length)return[void 0,void 0];var i,o,a,s,u=Float64Array.from($o(e,r)),l=u.length,c=t;for(a=0,s=Array(c);a<c;++a){for(i=0,o=0;o<l;++o)i+=u[~~(ra()*l)];s[a]=i/l}return s.sort(an),[Ko(s,n/2),Ko(s,1-n/2)]}function aa(e,t,n,r){r=r||function(e){return e};for(var i,o=e.length,a=new Float64Array(o),s=0,u=1,l=r(e[0]),c=l,f=l+t;u<o;++u){if((i=r(e[u]))>=f){for(c=(l+c)/2;s<u;++s)a[s]=c;f=i+t,l=i}c=i}for(c=(l+c)/2;s<u;++s)a[s]=c;return n?function(e,t){for(var n,r,i=e.length,o=0,a=1;e[o]===e[a];)++a;for(;a<i;){for(n=a+1;e[a]===e[n];)++n;if(e[a]-e[a-1]<t){for(r=a+(o+n-a-a>>1);r<a;)e[r++]=e[a];for(;r>a;)e[r--]=e[o]}o=a,a=n}return e}(a,t+t/4):a}function sa(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function ua(e,t){var n,r,i;null==t&&(t=e,e=0);var o={min:function(e){return arguments.length?(i=r-(n=e||0),o):n},max:function(e){return arguments.length?(i=(r=e||0)-n,o):r},sample:function(){return n+Math.floor(i*ra())},pdf:function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},cdf:function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},icdf:function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN}};return o.min(e).max(t)}var la=Math.sqrt(2*Math.PI),ca=Math.SQRT2,fa=NaN;function da(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,o=0;if(fa==fa)i=fa,fa=NaN;else{do{n=(i=2*ra()-1)*i+(o=2*ra()-1)*o}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),fa=o*r}return e+i*t}function ha(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*la)}function pa(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),o=Math.abs(i);if(o>37)r=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(r=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),r/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):r=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-r:r}function va(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*ca*function(e){var t=-Math.log((1-e)*(1+e));return(t<6.25?1.6536545626831027+(.24015818242558962+(((.00018673420803405714+(((4.2347877827932404e-7+(((1.0512122733215323e-9+(((26335093153082323e-28+(((6637638134358324e-30+(20972767875968562e-33+((11157877678025181e-33+(128584807152564e-32+(-364441206401782e-35*(t-=3.125)-16850591381820166e-35)*t)*t)*t-1333171662854621e-31)*t)*t)*t-4054566272975207e-29)*t-8151934197605472e-29)*t)*t-12975133253453532e-27)*t-5415412054294628e-26)*t)*t-4.112633980346984e-9)*t-2.9070369957882005e-8)*t)*t-13654692000834679e-22)*t-13882523362786469e-21)*t)*t-.000740702534166267)*t-.006033670871430149)*t)*t:t<16?3.0838856104922208+(1.0052589676941592+(.005370914553590064+((.002491442096107851+((.0009532893797373805+((24031110387097894e-21+(6828485145957318e-20+((12475304481671779e-21+(29234449089955446e-22+((15027403968909828e-22+(1.8239629214389228e-8+((9.075656193888539e-8+2.2137376921775787e-9*(t=Math.sqrt(t)-3.25))*t-2.7517406297064545e-7)*t)*t)*t-4013867526981546e-21)*t)*t)*t-47318229009055734e-21)*t)*t)*t-.0003550375203628475)*t)*t-.0016882755560235047)*t)*t-.003751208507569241)*t)*t)*t:Number.isFinite(t)?4.849906401408584+(1.0103004648645344+(((7599527703001776e-20+((4526062597223154e-21+((2.2900482228026655e-7+((2.914795345090108e-8+((7.61570120807834e-9+((1.5076572693500548e-9+(-27109920616438573e-27*(t=Math.sqrt(t)-5)-2.555641816996525e-10)*t)*t-3.789465440126737e-9)*t)*t-1.496002662714924e-8)*t)*t-6.771199775845234e-8)*t)*t-9.9298272942317e-7)*t)*t-1968177810553167e-20)*t)*t-.00021503011930044477)*t-.00013871931833623122)*t)*t:1/0)*e}(2*e-1)}function ma(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return da(n,r)},pdf:function(e){return ha(e,n,r)},cdf:function(e){return pa(e,n,r)},icdf:function(e){return va(e,n,r)}};return i.mean(e).stdev(t)}function ga(e,t){var n=ma(),r=0,i={data:function(n){return arguments.length?(e=n,r=n?n.length:0,i.bandwidth(t)):e},bandwidth:function(n){return arguments.length?(!(t=n)&&e&&(t=ta(e)),i):t},sample:function(){return e[~~(ra()*r)]+t*n.sample()},pdf:function(i){for(var o=0,a=0;a<r;++a)o+=n.pdf((i-e[a])/t);return o/t/r},cdf:function(i){for(var o=0,a=0;a<r;++a)o+=n.cdf((i-e[a])/t);return o/r},icdf:function(){throw Error("KDE icdf not supported.")}};return i.data(e)}function ya(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+da()*t)}function ba(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*la*e)}function _a(e,t,n){return pa(Math.log(e),t,n)}function wa(e,t,n){return Math.exp(va(e,t,n))}function xa(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return ya(n,r)},pdf:function(e){return ba(e,n,r)},cdf:function(e){return _a(e,n,r)},icdf:function(e){return wa(e,n,r)}};return i.mean(e).stdev(t)}function Oa(e,t){var n,r=0,i={weights:function(e){return arguments.length?(n=function(e){var t,n=[],i=0;for(t=0;t<r;++t)i+=n[t]=null==e[t]?1:+e[t];for(t=0;t<r;++t)n[t]/=i;return n}(t=e||[]),i):t},distributions:function(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),i.weights(t)):e},sample:function(){for(var t=ra(),i=e[r-1],o=n[0],a=0;a<r-1;o+=n[++a])if(t<o){i=e[a];break}return i.sample()},pdf:function(t){for(var i=0,o=0;o<r;++o)i+=n[o]*e[o].pdf(t);return i},cdf:function(t){for(var i=0,o=0;o<r;++o)i+=n[o]*e[o].cdf(t);return i},icdf:function(){throw Error("Mixture icdf not supported.")}};return i.distributions(e).weights(t)}function ka(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*ra()}function Ea(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function Sa(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Ta(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Ca(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return ka(n,r)},pdf:function(e){return Ea(e,n,r)},cdf:function(e){return Sa(e,n,r)},icdf:function(e){return Ta(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)}function Da(e,t,n,r){var i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function Aa(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,o,a,s,u=e.length,l=new Float64Array(u),c=new Float64Array(u),f=0,d=0,h=0,p=g(e);try{for(p.s();!(s=p.n()).done;)a=s.value,l[f]=i=+t(a),c[f]=o=+n(a),d+=(i-d)/++f,h+=(o-h)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<u;++f)l[f]-=d,c[f]-=h;return[l,c,d,h]}function ja(e,t,n,r){var i,o,a,s=-1,u=g(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;i=t(l),o=n(l),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++s)}}catch(c){u.e(c)}finally{u.f()}}function Na(e,t,n,r,i){var o=0,a=0;return ja(e,t,n,(function(e,t){var n=t-i(e),s=t-r;o+=n*n,a+=s*s})),1-o/a}function Ma(e,t,n){var r=0,i=0,o=0,a=0,s=0;ja(e,t,n,(function(e,t){++s,r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));var u=Da(r,i,o,a),l=function(e){return u[0]+u[1]*e};return{coef:u,predict:l,rSquared:Na(e,t,n,i,l)}}function Ia(e,t,n){var r=0,i=0,o=0,a=0,s=0;ja(e,t,n,(function(e,t){++s,e=Math.log(e),r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));var u=Da(r,i,o,a),l=function(e){return u[0]+u[1]*Math.log(e)};return{coef:u,predict:l,rSquared:Na(e,t,n,i,l)}}function Pa(e,t,n){var r,i,o,a=Aa(e,t,n),s=p(a,4),u=s[0],l=(s[1],s[2]),c=s[3],f=0,d=0,h=0,v=0,m=0;ja(e,t,n,(function(e,t){r=u[m++],i=Math.log(t),f+=(t*i-f)/m,d+=((o=r*t)-d)/m,h+=(o*i-h)/m,v+=(r*o-v)/m}));var g=Da(d/c,f/c,h/c,v/c),y=p(g,2),b=y[0],_=y[1],w=function(e){return Math.exp(b+_*(e-l))};return{coef:[Math.exp(b-_*l),_],predict:w,rSquared:Na(e,t,n,c,w)}}function La(e,t,n){var r=0,i=0,o=0,a=0,s=0,u=0;ja(e,t,n,(function(e,t){var n=Math.log(e),l=Math.log(t);++u,r+=(n-r)/u,i+=(l-i)/u,o+=(n*l-o)/u,a+=(n*n-a)/u,s+=(t-s)/u}));var l=Da(r,i,o,a),c=function(e){return l[0]*Math.pow(e,l[1])};return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:Na(e,t,n,s,c)}}function Fa(e,t,n){var r,i,o,a,s=Aa(e,t,n),u=p(s,4),l=u[0],c=u[1],f=u[2],d=u[3],h=l.length,v=0,m=0,g=0,y=0,b=0;for(r=0;r<h;)i=l[r],o=c[r++],v+=((a=i*i)-v)/r,m+=(a*i-m)/r,g+=(a*a-g)/r,y+=(i*o-y)/r,b+=(a*o-b)/r;var _=g-v*v,w=v*_-m*m,x=(b*v-y*m)/w,O=(y*_-b*m)/w,k=-x*v,E=function(e){return x*(e-=f)*e+O*e+k+d};return{coef:[k-O*f+x*f*f+d,O-2*x*f,x],predict:E,rSquared:Na(e,t,n,d,E)}}function Ra(e,t,n,r){if(1===r)return Ma(e,t,n);if(2===r)return Fa(e,t,n);var i,o,a,s,u,l=Aa(e,t,n),c=p(l,4),f=c[0],d=c[1],h=c[2],v=c[3],m=f.length,g=[],y=[],b=r+1;for(i=0;i<b;++i){for(a=0,s=0;a<m;++a)s+=Math.pow(f[a],i)*d[a];for(g.push(s),u=new Float64Array(b),o=0;o<b;++o){for(a=0,s=0;a<m;++a)s+=Math.pow(f[a],i+o);u[o]=s}y.push(u)}y.push(g);var _=function(e){var t,n,r,i,o,a=e.length-1,s=[];for(t=0;t<a;++t){for(i=t,n=t+1;n<a;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<a+1;++r)o=e[r][t],e[r][t]=e[r][i],e[r][i]=o;for(n=t+1;n<a;++n)for(r=a;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=e[r][n]*s[r];s[n]=(e[a][n]-o)/e[n][n]}return s}(y),w=function(e){e-=h;var t=v+_[0]+_[1]*e+_[2]*e*e;for(i=3;i<b;++i)t+=_[i]*Math.pow(e,i);return t};return{coef:Ba(b,_,-h,v),predict:w,rSquared:Na(e,t,n,v,w)}}function Ba(e,t,n,r){var i,o,a,s,u=Array(e);for(i=0;i<e;++i)u[i]=0;for(i=e-1;i>=0;--i)for(a=t[i],s=1,u[i]+=a,o=1;o<=i;++o)s*=(i+1-o)/o,u[i-o]+=a*Math.pow(n,o)*s;return u[0]+=r,u}function za(e,t,n,r){for(var i=Aa(e,t,n,!0),o=p(i,4),a=o[0],s=o[1],u=o[2],l=o[3],c=a.length,f=Math.max(2,~~(r*c)),d=new Float64Array(c),h=new Float64Array(c),v=new Float64Array(c).fill(1),m=-1;++m<=2;){for(var g=[0,f-1],y=0;y<c;++y){for(var b=a[y],_=g[0],w=g[1],x=b-a[_]>a[w]-b?_:w,O=0,k=0,E=0,S=0,T=0,C=1/Math.abs(a[x]-b||1),D=_;D<=w;++D){var A=a[D],j=s[D],N=Ua(Math.abs(b-A)*C)*v[D],M=A*N;O+=N,k+=M,E+=j*N,S+=j*M,T+=A*M}var I=Da(k/O,E/O,S/O,T/O),P=p(I,2),L=P[0],F=P[1];d[y]=L+F*b,h[y]=Math.abs(s[y]-d[y]),Ha(a,y+1,g)}if(2===m)break;var R=Jo(h);if(Math.abs(R)<1e-12)break;for(var B,z,U=0;U<c;++U)B=h[U]/(6*R),v[U]=B>=1?1e-12:(z=1-B*B)*z}return function(e,t,n,r){for(var i,o=e.length,a=[],s=0,u=0,l=[];s<o;++s)i=e[s]+n,l[0]===i?l[1]+=(t[s]-l[1])/++u:(u=0,l[1]+=r,l=[i,t[s]],a.push(l));return l[1]+=r,a}(a,d,u,l)}function Ua(e){return(e=1-e*e*e)*e*e}function Ha(e,t,n){var r=e[t],i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}var Va=.1*Math.PI/180;function Wa(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},o=t[0],a=t[1],s=a-o,u=s/r,l=[i(o)],c=[];if(n===r){for(var f=1;f<r;++f)l.push(i(o+f/n*s));return l.push(i(a)),l}c.push(i(a));for(var d=n;--d>0;)c.push(i(o+d/n*s));for(var h=l[0],p=c[c.length-1];p;){var v=i((h[0]+p[0])/2);v[0]-h[0]>=u&&qa(h,v,p)>Va?c.push(v):(h=p,l.push(p),c.pop()),p=c[c.length-1]}return l}function qa(e,t,n){var r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}var Ga=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o};function Ya(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function Qa(e,t,n){return n||e+(t?"_"+t:"")}var Ka=function(){},Xa={init:Ka,add:Ka,rem:Ka,idx:0},Ja={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},$a=Object.keys(Ja);function Za(e,t){return Ja[e](t)}function es(e,t){return e.idx-t.idx}function ts(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function ns(e,t){var n=this;null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach((function(r){return r.add(n,e,t)}))):++this.missing}function rs(e,t){var n=this;null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,e,t)}))):--this.missing}function is(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function os(e,t){var n=t||ee.y,r=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=Ja[n]())}))})),Object.values(t).sort(es)}(e),i=e.slice().sort(es);function o(e){this._ops=r,this._out=i,this.cell=e,this.init()}return o.prototype.init=ts,o.prototype.add=ns,o.prototype.rem=rs,o.prototype.set=is,o.prototype.get=n,o.fields=e.map((function(e){return e.out})),o}function as(e){this._key=e?Object(ee.u)(e):uo,this.reset()}$a.forEach((function(e){Ja[e]=function(e,t){return function(n){return Object(ee.p)({name:e,out:n||e},Xa,t)}}(e,Ja[e])}));var ss=as.prototype;function us(e){Uo.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function ls(e){Uo.call(this,null,e)}function cs(e,t,n){var r=e,i=t||[],o=n||[],a={},s=0;return{add:function(e){return o.push(e)},remove:function(e){return a[r(e)]=++s},size:function(){return i.length},data:function(e,t){return s&&(i=i.filter((function(e){return!a[r(e)]})),a={},s=0),t&&e&&i.sort(e),o.length&&(i=e?Object(ee.O)(e,i,o.sort(e)):i.concat(o),o=[]),i}}}function fs(e){Uo.call(this,[],e)}function ds(e){xo.call(this,null,hs,e)}function hs(e){return this.value&&!e.modified()?this.value:Object(ee.l)(e.fields,e.orders)}function ps(e){Uo.call(this,null,e)}function vs(e){Uo.call(this,null,e)}ss.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},ss.add=function(e){this._add.push(e)},ss.rem=function(e){this._rem.push(e)},ss.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,o=this._key,a=r.length,s=i.length,u=Array(a-s),l={};for(e=0;e<s;++e)l[o(i[e])]=1;for(e=0,t=0;e<a;++e)l[o(n=r[e])]?l[o(n)]=0:u[t++]=n;return this._rem=[],this._add=u},ss.distinct=function(e){for(var t,n=this.values(),r={},i=n.length,o=0;--i>=0;)t=e(n[i])+"",Object(ee.w)(r,t)||(r[t]=1,++o);return o},ss.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(ee.r)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},ss.argmin=function(e){return this.extent(e)[0]||{}},ss.argmax=function(e){return this.extent(e)[1]||{}},ss.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},ss.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},ss.quartile=function(e){return this._get===e&&this._q||(this._q=ea(this.values(),e),this._get=e),this._q},ss.q1=function(e){return this.quartile(e)[0]},ss.q2=function(e){return this.quartile(e)[1]},ss.q3=function(e){return this.quartile(e)[2]},ss.ci=function(e){return this._get===e&&this._ci||(this._ci=oa(this.values(),1e3,.05,e),this._get=e),this._ci},ss.ci0=function(e){return this.ci(e)[0]},ss.ci1=function(e){return this.ci(e)[1]},us.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:$a},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Object(ee.z)(us,Uo,{transform:function(e,t){var n=this,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.modified();return r.stamp=i.stamp,r.value&&(o||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=o?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(r.value=r.value||r.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),i.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&i.clean(!0).runAfter((function(){return n.clean()})),r.changes(i)},cross:function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function o(e){var t,o,a,s;for(t in e)for(a=e[t].tuple,o=0;o<i;++o)r[o][s=a[n[o]]]=s}o(e._prev),o(t),function o(a,s,u){var l=n[u],c=r[u++];for(var f in c){var d=a?a+"|"+f:f;s[l]=c[f],u<i?o(d,s,u):t[d]||e.cell(d,s)}}("",{},0)},init:function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Object(ee.i)(Object(ee.g)(e)),o=i.length,a=0;a<o;++a)r[n=i[a]]||(r[n]=1,t.push(n))}this._dims=Object(ee.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(ee.h)(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:Ya(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,s,u,l,c,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};for(p!==d.length&&Object(ee.o)("Unmatched number of fields and aggregate ops."),c=0;c<p;++c)o=f[c],a=d[c],null==o&&"count"!==a&&Object(ee.o)("Null aggregate field specified."),l=Qa(a,u=Object(ee.h)(o),h[c]),n.push(l),"count"!==a?((s=v[u])||(i(o),(s=v[u]=[]).field=o,this._measures.push(s)),"count"!==a&&(this._countOnly=!1),s.push(Za(a,l))):this._counts.push(l);return this._measures=this._measures.map((function(e){return os(e,e.field)})),{}},cellkey:Ya(),cell:function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell:function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,i=r.length;n.agg=Array(i);for(var o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new as),n},newtuple:function(e,t){for(var n=this._dnames,r=this._dims,i=r.length,o={},a=0;a<i;++a)o[n[a]]=r[a](e);return t?po(t.tuple,o):co(o)},clean:function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},add:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,!this._countOnly){n.store&&n.data.add(e);for(var r=n.agg,i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)}},rem:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(e);for(var r=n.agg,i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)}},celltuple:function(e){var t=e.tuple,n=this._counts;e.store&&e.data.values();for(var r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly)for(var o=e.agg,a=0,s=o.length;a<s;++a)o[a].set(t);return t},changes:function(e){var t,n,r,i,o=this._adds,a=this._mods,s=this._prev,u=this._drop,l=e.add,c=e.rem,f=e.mod;if(s)for(n in s)t=s[n],u&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=a[r]).num&&u?c:f).push(this.celltuple(t)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,e}}),ls.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Object(ee.z)(ls,Uo,{transform:function(e,t){var n,r=!1!==e.interval,i=this._bins(e),o=i.start,a=i.step,s=e.as||["bin0","bin1"],u=s[0],l=s[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(ee.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[u]=t,e[l]=null==t?null:o+a*(1+(t-o)/a)}:function(e){return e[u]=i(e)}),t.modifies(r?s:u)},_bins:function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=na(e),o=i.step,a=i.start,s=a+Math.ceil((i.stop-a)/o)*o;null!=(t=e.anchor)&&(n=t-(a+o*Math.floor((t-a)/o)),a+=n,s+=n);var u=function(e){var t=Object(ee.eb)(r(e));return null==t?null:t<a?-1/0:t>s?1/0:(t=Math.max(a,Math.min(t,s-o)),a+o*Math.floor(1e-14+(t-a)/o))};return u.start=a,u.stop=i.stop,u.step=o,this.value=Object(ee.f)(u,Object(ee.g)(r),e.name||"bin_"+Object(ee.h)(r))}}),fs.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(ee.z)(fs,Uo,{transform:function(e,t){var n=t.fork(t.ALL),r=cs(uo,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(vo(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),Object(ee.z)(ds,xo),ps.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Object(ee.z)(ps,Uo,{transform:function(e,t){var n=function(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,o)||[],u=0,l=i.length;u<l;++u)a.test(r=i[u])||t(r)}},r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,s=e.field,u=e.as||["text","count"],l=n((function(e){return i[e]=1+(i[e]||0)})),c=n((function(e){return i[e]-=1}));return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},_parameterCheck:function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(e,t){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),s=t[0],u=t[1],l=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=co({}),r[s]=n,r[u]=i,l.add.push(r)):0===i?(r&&l.rem.push(r),o[n]=null,a[n]=null):r[u]!==i&&(r[u]=i,l.mod.push(r));return l.modifies(t)}}),vs.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(ee.z)(vs,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),s=this.value;return a?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,o,a=[],s={},u=e.length,l=0;l<u;++l)for(s[t]=o=e[l],i=0;i<u;++i)s[n]=e[i],r(s)&&(a.push(co(s)),(s={})[t]=o);return a}(s,i,o,e.filter||ee.ib)):n.mod=s,n.source=this.value,n.modifies(r)}});var ms={kde:ga,mixture:Oa,normal:ma,lognormal:xa,uniform:Ca};function gs(e){Uo.call(this,null,e)}var ys=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],bs={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ys},{name:"weights",type:"number",array:!0}]};function _s(e,t){return e?e.map((function(e,n){return t[n]||Object(ee.h)(e)})):null}function ws(e,t,n){var r,i,o,a,s,u,l=[],c=function(e){return e(a)};if(null==t)l.push(e.map(n));else for(r={},i=0,o=e.length;i<o;++i)a=e[i],(u=r[s=t.map(c)])||(r[s]=u=[],u.dims=s,l.push(u)),u.push(n(a));return l}function xs(e){Uo.call(this,null,e)}function Os(e){xo.call(this,null,ks,e),this.modified(!0)}function ks(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(ee.f)((function(n){return t(n,e)}),Object(ee.g)(t),Object(ee.h)(t))}function Es(e){Uo.call(this,[void 0,void 0],e)}function Ss(e,t){xo.call(this,e),this.parent=t,this.count=0}function Ts(e){Uo.call(this,{},e),this._keys=Object(ee.t)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function Cs(e){xo.call(this,null,Ds,e)}function Ds(e){return this.value&&!e.modified()?this.value:Object(ee.B)(e.name)?Object(ee.i)(e.name).map((function(e){return Object(ee.u)(e)})):Object(ee.u)(e.name,e.as)}function As(e){Uo.call(this,Object(ee.t)(),e)}function js(e){Uo.call(this,[],e)}function Ns(e){Uo.call(this,[],e)}function Ms(e){Uo.call(this,null,e)}function Is(e){Uo.call(this,[],e)}gs.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ys.concat(bs)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(ee.z)(gs,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=function e(t,n){var r=t.function;Object(ee.w)(ms,r)||Object(ee.o)("Unknown distribution function: "+r);var i=ms[r]();for(var o in t)"field"===o?i.data((t.from||n()).map(t[o])):"distributions"===o?i[o](t[o].map((function(t){return e(t,n)}))):"function"===typeof i[o]&&i[o](t[o]);return i}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200,a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&Object(ee.o)("Invalid density method: "+a),e.extent||r.data||Object(ee.o)("Missing density extent parameter."),a=r[a];var s=e.as||["value","density"],u=Wa(a,e.extent||Object(ee.q)(r.data()),i,o).map((function(e){var t={};return t[s[0]]=e[0],t[s[1]]=e[1],co(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}}),xs.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Object(ee.z)(xs,Uo,{transform:function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=ws(t.source,e.groupby,ee.y),o=e.smooth||!1,a=e.field,s=e.step||function(e,t){return Object(ee.Z)(Object(ee.q)(e,t))/30}(r,a),u=vo((function(e,t){return a(e)-a(t)})),l=e.as||"bin",c=i.length,f=1/0,d=-1/0,h=0;h<c;++h){var p=i[h].sort(u);n=-1;var v,m=g(aa(p,s,o,a));try{for(m.s();!(v=m.n()).done;){var y=v.value;y<f&&(f=y),y>d&&(d=y),p[++n][l]=y}}catch(b){m.e(b)}finally{m.f()}}return this.value={start:f,stop:d,step:s},t.reflow(!0).modifies(l)}}),Object(ee.z)(Os,xo),Es.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(ee.z)(Es,Uo,{transform:function(e,t){var n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field"),o=n[0],a=n[1];if((i||null==o)&&(o=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,(function(e){var t=Object(ee.eb)(r(e));null!=t&&(t<o&&(o=t),t>a&&(a=t))})),!Number.isFinite(o)||!Number.isFinite(a)){var s=Object(ee.h)(r);s&&(s=' for field "'.concat(s,'"')),t.dataflow.warn("Infinite extent".concat(s,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]}}),Object(ee.z)(Ss,xo,{connect:function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add:function(e){this.count+=1,this.value.add.push(e)},rem:function(e){this.count-=1,this.value.rem.push(e)},mod:function(e){this.value.mod.push(e)},init:function(e){this.value.init(e,e.NO_SOURCE)},evaluate:function(){return this.value}}),Object(ee.z)(Ts,Uo,{activate:function(e){this._targets[this._targets.active++]=e},subflow:function(e,t,n,r){var i,o,a=this.value,s=Object(ee.w)(a,e)&&a[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[e])&&o.tuple,i=n.dataflow,s=new Ss(n.fork(n.NO_SOURCE),this),i.add(s).connect(t(i,e,o)),a[e]=s,this.activate(s)),s},clean:function(){var e=this.value;for(var t in e)if(0===e[t].count){var n=e[t].detachSubflow;n&&n(),delete e[t]}},initTargets:function(){for(var e=this._targets,t=e.length,n=0;n<t&&null!=e[n];++n)e[n]=null;e.active=0},transform:function(e,t){var n=this,r=t.dataflow,i=e.key,o=e.subflow,a=this._keys,s=e.modified("key"),u=function(e){return n.subflow(e,o,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=uo(e),n=a.get(t);void 0!==n&&(a.delete(t),u(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);a.set(uo(e),t),u(t).add(e)})),s||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=uo(e),n=a.get(t),r=i(e);n===r?u(r).mod(e):(a.set(t,r),u(n).rem(e),u(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){u(a.get(uo(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=uo(e),n=a.get(t),r=i(e);n!==r&&(a.set(t,r),u(n).rem(e),u(r).add(e))})),t.clean()?r.runAfter((function(){n.clean(),a.clean()})):a.empty>r.cleanThreshold&&r.runAfter(a.clean),t}}),Object(ee.z)(Cs,xo),As.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(ee.z)(As,Uo,{transform:function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,s=i.mod,u=e.expr,l=!0;function c(t){var n=uo(t),i=u(t,e),c=r.get(n);i&&c?(r.delete(n),o.push(t)):i||c?l&&i&&!c&&s.push(t):(r.set(n,1),a.push(t))}return t.visit(t.REM,(function(e){var t=uo(e);r.has(t)?r.delete(t):a.push(e)})),t.visit(t.ADD,(function(t){u(t,e)?o.push(t):r.set(uo(t),1)})),t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),js.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(ee.z)(js,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=_s(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,s,u,l=r.map((function(t){return t(e)})),c=l.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<c;++f){for(s=fo(e),t=0;t<a;++t)s[i[t]]=null==(u=l[t][f])?null:u;o&&(s[o]=f),n.add.push(s)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),Ns.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(ee.z)(Ns,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(ee.h),o=e.as||["key","value"],a=o[0],s=o[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,o=0;o<u;++o)(t=fo(e))[a]=i[o],t[s]=r[o](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)}}),Ms.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(ee.z)(Ms,Uo,{transform:function(e,t){var n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,(function(t){return t[r]=n(t,e)}))}}),Object(ee.z)(Is,Uo,{transform:function(e,t){var n,r,i,o=t.fork(t.ALL),a=e.generator,s=this.value,u=e.size-s.length;if(u>0){for(n=[];--u>=0;)n.push(i=co(a(e))),s.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=s.slice(0,-u),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,s=s.slice(-u);return o.source=this.value=s,o}});var Ps={value:"value",median:Jo,mean:function(e,t){var n=0,r=0;if(void 0===t){var i,o=g(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(f){o.e(f)}finally{o.f()}}else{var s,u=-1,l=g(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(c=+c)>=c&&(++n,r+=c)}}catch(f){l.e(f)}finally{l.f()}}if(n)return r/n},min:Go,max:qo},Ls=[];function Fs(e){Uo.call(this,[],e)}function Rs(e){us.call(this,e)}function Bs(e){Uo.call(this,null,e)}function zs(e){xo.call(this,null,Us,e)}function Us(e){return this.value&&!e.modified()?this.value:Object(ee.K)(e.fields,e.flat)}function Hs(e){Uo.call(this,[],e),this._pending=null}function Vs(e,t,n){n.forEach(co);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function Ws(e){Uo.call(this,{},e)}function qs(e){xo.call(this,null,Gs,e)}function Gs(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.extents,i=r.length,o=1/0,a=-1/0;for(t=0;t<i;++t)(n=r[t])[0]<o&&(o=n[0]),n[1]>a&&(a=n[1]);return[o,a]}function Ys(e){xo.call(this,null,Qs,e)}function Qs(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function Ks(e){Uo.call(this,null,e)}function Xs(e){us.call(this,e)}function Js(e){Ts.call(this,e)}function $s(e){Uo.call(this,null,e)}function Zs(e){Uo.call(this,null,e)}function eu(e){Uo.call(this,null,e)}function tu(e){Uo.call(this,null,e)}function nu(e){Uo.call(this,[],e),this.count=0}function ru(e){Uo.call(this,null,e)}function iu(e){Uo.call(this,null,e),this.modified(!0)}function ou(e){Uo.call(this,null,e)}Fs.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(ee.z)(Fs,Uo,{transform:function(e,t){var n,r,i,o,a,s,u,l,c,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||Ps.value;if(null!=Ps[n])return n===Ps.value?(t=void 0!==e.value?e.value:0,function(){return t}):Ps[n];Object(ee.o)("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=Object(ee.h)(e.field),m=Object(ee.h)(e.key),g=(e.groupby||[]).map(ee.h),y=function(e,t,n,r){var i,o,a,s,u,l,c,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],v={},m={};for(p.forEach((function(e,t){return v[e]=t+1})),s=0,c=e.length;s<c;++s)l=n(f=e[s]),u=v[l]||(v[l]=p.push(l)),(a=m[o=(i=t?t.map(d):Ls)+""])||(a=m[o]=[],h.push(a),a.values=i),a[u-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),b=[],_=this.value,w=y.domain.length;for(a=0,l=y.length;a<l;++a)for(i=(n=y[a]).values,r=NaN,u=0;u<w;++u)if(null==n[u]){for(o=y.domain[u],f={_impute:!0},s=0,c=i.length;s<c;++s)f[g[s]]=i[s];f[m]=o,f[v]=Number.isNaN(r)?r=h(n,p):r,b.push(co(f))}return b.length&&(d.add=d.materialize(d.ADD).add.concat(b)),_.length&&(d.rem=d.materialize(d.REM).rem.concat(_)),this.value=b,d}}),Rs.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:$a},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Object(ee.z)(Rs,us,{transform:function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(ee.p)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},changes:function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}}),Bs.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(ee.z)(Bs,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=ws(r,e.groupby,e.field),o=(e.groupby||[]).map(ee.h),a=e.bandwidth,s=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[],c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==s&&"cdf"!==s&&Object(ee.o)("Invalid density method: "+s),"shared"===e.resolve&&(c||(c=Object(ee.q)(r,e.field)),f=d=e.steps||d),i.forEach((function(t){var n=ga(t,a)[s],r=e.counts?t.length:1;Wa(n,c||Object(ee.q)(t),f,d).forEach((function(e){for(var n={},i=0;i<o.length;++i)n[o[i]]=t.dims[i];n[u[0]]=e[0],n[u[1]]=e[1]*r,l.push(co(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}}),Object(ee.z)(zs,xo),Object(ee.z)(Hs,Uo,{transform:function(e,t){var n=this,r=t.dataflow;return this._pending?Vs(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?Vs(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then((function(e){return n._pending=Object(ee.i)(e.data),function(e){return e.touch(n)}}))}:r.request(e.url,e.format).then((function(e){return Vs(n,t,Object(ee.i)(e.data))}))}}),Ws.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(ee.z)(Ws,Uo,{transform:function(e,t){var n,r,i=e.fields,o=e.index,a=e.values,s=null==e.default?null:e.default,u=e.modified(),l=i.length,c=u?t.SOURCE:t.ADD,f=t,d=e.as;return a?(r=a.length,l>1&&!d&&Object(ee.o)('Multi-field lookup requires explicit "as" parameter.'),d&&d.length!==l*r&&Object(ee.o)('The "as" parameter has too few output field names.'),d=d||a.map(ee.h),n=function(e){for(var t,n,u=0,c=0;u<l;++u)if(null==(n=o.get(i[u](e))))for(t=0;t<r;++t,++c)e[d[c]]=s;else for(t=0;t<r;++t,++c)e[d[c]]=a[t](n)}):(d||Object(ee.o)("Missing output field names."),n=function(e){for(var t,n=0;n<l;++n)t=o.get(i[n](e)),e[d[n]]=null==t?s:t}),u?f=t.reflow(!0):c|=i.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(c,n),f.modifies(d)}}),Object(ee.z)(qs,xo),Object(ee.z)(Ys,xo),Object(ee.z)(Ks,Uo,{transform:function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Xs.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:$a,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Object(ee.z)(Xs,us,{_transform:us.prototype.transform,transform:function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=Object(ee.g)(n).concat(Object(ee.g)(r)),a=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort(ee.j),t?i.slice(0,t):i}(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map((function(){return i})),fields:a.map((function(e){return function(e,t,n,r){return Object(ee.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,o)})),as:a.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}}),Object(ee.z)(Js,Ts,{transform:function(e,t){var n=this,r=e.subflow,i=e.field,o=function(e){return n.subflow(uo(e),r,t,e)};return(e.modified("field")||i&&t.modified(Object(ee.g)(i)))&&Object(ee.o)("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,(function(e){var t=o(e);i(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=o(e);i(e).forEach((function(e){return t.add(co(e))}))})),t.visit(t.REM,(function(e){var t=o(e);i(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return o(e).mod(e)})),t.visit(t.ADD,(function(e){return o(e).add(e)})),t.visit(t.REM,(function(e){return o(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t}}),$s.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(ee.z)($s,Uo,{transform:function(e,t){var n,r=t.fork(t.NO_SOURCE),i=e.fields,o=_s(e.fields,e.as||[]),a=i?function(e,t){return function(e,t,n,r){for(var i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}(e,t,i,o)}:ho;return this.value?n=this.value:(t=t.addAll(),n=this.value={}),t.visit(t.REM,(function(e){var t=uo(e);r.rem.push(n[t]),n[t]=null})),t.visit(t.ADD,(function(e){var t=a(e,co({}));n[uo(e)]=t,r.add.push(t)})),t.visit(t.MOD,(function(e){r.mod.push(a(e,n[uo(e)]))})),r}}),Object(ee.z)(Zs,Uo,{transform:function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),eu.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},Object(ee.z)(eu,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=ws(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(ee.h),a=[],s=e.step||.01,u=e.probs||Ga(s/2,1-1e-14,s),l=u.length;return i.forEach((function(e){for(var t=Zo(e,u),n=0;n<l;++n){for(var i={},s=0;s<o.length;++s)i[o[s]]=e.dims[s];i[r[0]]=u[n],i[r[1]]=t[n],a.push(co(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),Object(ee.z)(tu,Uo,{transform:function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=uo(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=fo(e);r[uo(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t=r[uo(e)];for(var i in e)t[i]=e[i],n.modifies(i);n.mod.push(t)}))),n}}),nu.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(ee.z)(nu,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((function(e,t){return e[uo(t)]=1,e}),{}),a=this.value,s=this.count,u=0;function l(e){var t,r;a.length<i?a.push(e):(r=~~((s+1)*ra()))<a.length&&r>=u&&(t=a[r],o[uo(t)]&&n.rem.push(t),a[r]=e),++s}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=uo(e);o[t]&&(o[t]=-1,n.rem.push(e)),--s})),a=a.filter((function(e){return-1!==o[uo(e)]}))),(t.rem.length||r)&&a.length<i&&t.source&&(u=s=a.length,t.visit(t.SOURCE,(function(e){o[uo(e)]||l(e)})),u=-1),r&&a.length>i){for(var c=a.length-i,f=0;f<c;++f)o[uo(a[f])]=-1,n.rem.push(a[f]);a=a.slice(c)}return t.mod.length&&t.visit(t.MOD,(function(e){o[uo(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,l),(t.add.length||u<0)&&(n.add=a.filter((function(e){return!o[uo(e)]}))),this.count=s,this.value=n.source=a,n}}),ru.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(ee.z)(ru,Uo,{transform:function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ga(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,co(t)})),n.add=t.add.concat(this.value),n}}}),Object(ee.z)(iu,Uo,{transform:function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var au=["unit0","unit1"];function su(e){Uo.call(this,Object(ee.t)(),e)}function uu(e){Uo.call(this,null,e)}ou.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:bn,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:au}]},Object(ee.z)(ou,Uo,{transform:function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,o=this._floor(e,t),a=(i?Kn:Qn)(o.unit).offset,s=e.as||au,u=s[0],l=s[1],c=o.step,f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(Object(ee.g)(n)))&&(h=(t=t.reflow(!0)).SOURCE,f=1/0,d=-1/0),t.visit(h,(function(e){var t,i,s=n(e);null==s?(e[u]=null,r&&(e[l]=null)):(e[u]=t=i=o(s),r&&(e[l]=i=a(t,c)),t<f&&(f=t),i>d&&(d=i))})),o.start=f,o.stop=d,t.modifies(r?s:u)},_floor:function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:fr({extent:e.extent||Object(ee.q)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,o=r.step,a=wn(i),s=this.value||{},u=(n?qn:Hn)(a,o);return u.unit=Object(ee.W)(a),u.units=a,u.step=o,u.start=s.start,u.stop=s.stop,this.value=u}}),Object(ee.z)(su,Uo,{transform:function(e,t){var n=t.dataflow,r=e.field,i=this.value,o=function(e){return i.set(r(e),e)},a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(function(e){return i.delete(r(e))})),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}}),Object(ee.z)(uu,Uo,{transform:function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(vo(e.sort)):t.source).map(e.field))}});var lu={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=lu.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.data,r=t.compare,i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Object(ee.o)("ntile num must be greater than zero.");var n=lu.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(ee.o)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n)if(null!=e(t[n]))return n;return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}},cu=Object.keys(lu);function fu(e){var t=Object(ee.i)(e.ops),n=Object(ee.i)(e.fields),r=Object(ee.i)(e.params),i=Object(ee.i)(e.as),o=this.outputs=[],a=this.windows=[],s={},u={},l=[],c=[],f=!0;function d(e){Object(ee.i)(Object(ee.g)(e)).forEach((function(e){return s[e]=1}))}d(e.sort),t.forEach((function(e,t){var s=n[t],h=Object(ee.h)(s),p=Qa(e,h,i[t]);if(d(s),o.push(p),Object(ee.w)(lu,e))a.push(function(e,t,n,r){var i=lu[e](t,n);return{init:i.init||ee.mb,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==s&&"count"!==e&&Object(ee.o)("Null aggregate field specified."),"count"===e)return void l.push(p);f=!1;var v=u[h];v||((v=u[h]=[]).field=s,c.push(v)),v.push(Za(e,p))}})),(l.length||c.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return os(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var s=r.data=new as;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(var t=0;t<i;++t)o[t].add(o[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(var t=0;t<i;++t)o[t].rem(o[t].get(e),e)}},r.set=function(e){var i,a;for(s&&s.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(var e=0;e<i;++e)o[e].init()},r}(c,l,f)),this.inputs=Object.keys(s)}var du=fu.prototype;function hu(e){Uo.call(this,{},e),this._mlen=0,this._mods=[]}function pu(e,t,n,r){var i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=e.data(n),u=s.length,l=o?sn(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||Object(ee.m)(-1)};t.init();for(var f=0;f<u;++f)vu(c,a,f,u),o&&mu(c,l),t.update(c,s[f])}function vu(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function mu(e,t){var n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}function gu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function yu(e){this._context=e}du.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},du.update=function(e,t){var n,r=this.cell,i=this.windows,o=e.data,a=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(o[n]);for(n=e.p1;n<e.i1;++n)r.add(o[n]);r.set(t)}for(n=0;n<a;++n)i[n].update(e,t)},hu.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:cu.concat($a)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Object(ee.z)(hu,Uo,{transform:function(e,t){var n=this;this.stamp=t.stamp;var r=e.modified(),i=vo(e.sort),o=Ya(e.groupby),a=function(e){return n.group(o(e))},s=this.state;s&&!r||(s=this.state=new fu(e)),r||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,(function(e){return a(e).add(e)}))):(t.visit(t.REM,(function(e){return a(e).remove(e)})),t.visit(t.ADD,(function(e){return a(e).add(e)})));for(var u=0,l=this._mlen;u<l;++u)pu(this._mods[u],s,i,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(s.outputs)},group:function(e){var t=this.value[e];return t||((t=this.value[e]=cs(uo)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var bu=function(){};function _u(e){this._context=e}function wu(e){this._context=e}function xu(e,t){this._basis=new yu(e),this._beta=t}_u.prototype={areaStart:bu,areaEnd:bu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Ou=function e(t){function n(e){return 1===t?new yu(e):new xu(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function ku(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Eu(e,t){this._context=e,this._k=(1-t)/6}Eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ku(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ku(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Su=function e(t){function n(e){return new Eu(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Tu(e,t){this._context=e,this._k=(1-t)/6}Tu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ku(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Cu=function e(t){function n(e){return new Tu(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Du(e,t){this._context=e,this._k=(1-t)/6}Du.prototype={areaStart:bu,areaEnd:bu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ku(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Au=function e(t){function n(e){return new Du(e,t)}return n.tension=function(t){return e(+t)},n}(0),ju=Math.abs,Nu=Math.atan2,Mu=Math.cos,Iu=Math.max,Pu=Math.min,Lu=Math.sin,Fu=Math.sqrt,Ru=1e-12,Bu=Math.PI,zu=Bu/2,Uu=2*Bu;function Hu(e){return e>1?0:e<-1?Bu:Math.acos(e)}function Vu(e){return e>=1?zu:e<=-1?-zu:Math.asin(e)}function Wu(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Ru){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Ru){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function qu(e,t){this._context=e,this._alpha=t}qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Gu=function e(t){function n(e){return t?new qu(e,t):new Eu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Yu(e,t){this._context=e,this._alpha=t}Yu.prototype={areaStart:bu,areaEnd:bu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Qu=function e(t){function n(e){return t?new Yu(e,t):new Du(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ku(e,t){this._context=e,this._alpha=t}Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Xu=function e(t){function n(e){return t?new Ku(e,t):new Tu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ju(e){this._context=e}Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var $u=function(e){return new Ju(e)};function Zu(e){this._context=e}function el(e){return e<0?-1:1}function tl(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(el(o)+el(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function nl(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rl(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function il(e){this._context=e}function ol(e){this._context=new al(e)}function al(e){this._context=e}function sl(e){this._context=e}function ul(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ll(e,t){this._context=e,this._t=t}Zu.prototype={areaStart:bu,areaEnd:bu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},il.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rl(this,this._t0,nl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rl(this,nl(this,n=tl(this,e,t)),n);break;default:rl(this,this._t0,n=tl(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ol.prototype=Object.create(il.prototype)).point=function(e,t){il.prototype.point.call(this,t,e)},al.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},sl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ul(e),i=ul(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var cl=Math.PI,fl=2*cl,dl=1e-6,hl=fl-dl;function pl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vl(){return new pl}pl.prototype=vl.prototype={constructor:pl,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,l=o-e,c=a-t,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>dl)if(Math.abs(c*s-u*l)>dl&&i){var d=n-o,h=r-a,p=s*s+u*u,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((cl-Math.acos((p+f-v)/(2*m*g)))/2),b=y/g,_=y/m;Math.abs(b-1)>dl&&(this._+="L"+(e+b*l)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>l*h)+","+(this._x1=e+_*s)+","+(this._y1=t+_*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>dl||Math.abs(this._y1-l)>dl)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%fl+fl),f>hl?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>dl&&(this._+="A"+n+","+n+",0,"+ +(f>=cl)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ml=vl,gl=function(e){return function(){return e}};function yl(e){return e.innerRadius}function bl(e){return e.outerRadius}function _l(e){return e.startAngle}function wl(e){return e.endAngle}function xl(e){return e&&e.padAngle}function Ol(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,f=s-o,d=f*u-c*l;if(!(d*d<Ru))return[e+(d=(c*(t-o)-f*(e-i))/d)*u,t+d*l]}function kl(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/Fu(s*s+u*u),c=l*u,f=-l*s,d=e+c,h=t+f,p=n+c,v=r+f,m=(d+p)/2,g=(h+v)/2,y=p-d,b=v-h,_=y*y+b*b,w=i-o,x=d*v-p*h,O=(b<0?-1:1)*Fu(Iu(0,w*w*_-x*x)),k=(x*b-y*O)/_,E=(-x*y-b*O)/_,S=(x*b+y*O)/_,T=(-x*y+b*O)/_,C=k-m,D=E-g,A=S-m,j=T-g;return C*C+D*D>A*A+j*j&&(k=S,E=T),{cx:k,cy:E,x01:-c,y01:-f,x11:k*(i/w-1),y11:E*(i/w-1)}}Array.prototype.slice;var El=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)};function Sl(e){return e[0]}function Tl(e){return e[1]}var Cl=function(e,t){var n=gl(!0),r=null,i=$u,o=null;function a(a){var s,u,l,c=(a=El(a)).length,f=!1;for(null==r&&(o=i(l=ml())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return e="function"==typeof e?e:void 0===e?Sl:gl(e),t="function"==typeof t?t:void 0===t?Tl:gl(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:gl(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:gl(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:gl(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},Dl=function(e,t,n){var r=null,i=gl(!0),o=null,a=$u,s=null;function u(u){var l,c,f,d,h,p=(u=El(u)).length,v=!1,m=new Array(p),g=new Array(p);for(null==o&&(s=a(h=ml())),l=0;l<=p;++l){if(!(l<p&&i(d=u[l],l,u))===v)if(v=!v)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=l-1;f>=c;--f)s.point(m[f],g[f]);s.lineEnd(),s.areaEnd()}v&&(m[l]=+e(d,l,u),g[l]=+t(d,l,u),s.point(r?+r(d,l,u):m[l],n?+n(d,l,u):g[l]))}if(h)return s=null,h+""||null}function l(){return Cl().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Sl:gl(+e),t="function"==typeof t?t:gl(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Tl:gl(+n),u.x=function(t){return arguments.length?(e="function"==typeof t?t:gl(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:gl(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:gl(+e),u):r},u.y=function(e){return arguments.length?(t="function"==typeof e?e:gl(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:gl(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:gl(+e),u):n},u.lineX0=u.lineY0=function(){return l().x(e).y(t)},u.lineY1=function(){return l().x(e).y(n)},u.lineX1=function(){return l().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:gl(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u},Al={draw:function(e,t){var n=Math.sqrt(t/Bu);e.moveTo(n,0),e.arc(0,0,n,0,Uu)}};function jl(e,t){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}Math.sqrt(1/3),Math.sin(Bu/10),Math.sin(7*Bu/10),Math.sin(Uu/10),Math.cos(Uu/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);var Nl=sn(an),Ml=Nl.right,Il=Nl.left;sn(Qo).center;var Pl=Ml;function Ll(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Fl(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}var Rl=Symbol("implicit");function Bl(){var e=new Map,t=[],n=[],r=Rl;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==Rl)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=g(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(u){o.e(u)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Bl(t,n).unknown(r)},Ll.apply(i,arguments),i}function zl(e,t,n,r){var i,o=Qe(e,t,n);switch((r=Xe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=it(o,a))||(r.precision=i),nt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ot(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=at(o))||(r.precision=i-2*("%"===r.type))}return tt(r)}var Ul=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Hl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vl(){}var Wl=1/.7,ql="\\s*([+-]?\\d+)\\s*",Gl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ql=/^#([0-9a-f]{3,8})$/,Kl=new RegExp("^rgb\\("+[ql,ql,ql]+"\\)$"),Xl=new RegExp("^rgb\\("+[Yl,Yl,Yl]+"\\)$"),Jl=new RegExp("^rgba\\("+[ql,ql,ql,Gl]+"\\)$"),$l=new RegExp("^rgba\\("+[Yl,Yl,Yl,Gl]+"\\)$"),Zl=new RegExp("^hsl\\("+[Gl,Yl,Yl]+"\\)$"),ec=new RegExp("^hsla\\("+[Gl,Yl,Yl,Gl]+"\\)$"),tc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nc(){return this.rgb().formatHex()}function rc(){return this.rgb().formatRgb()}function ic(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ql.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?oc(t):3===n?new lc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ac(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ac(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Kl.exec(e))?new lc(t[1],t[2],t[3],1):(t=Xl.exec(e))?new lc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Jl.exec(e))?ac(t[1],t[2],t[3],t[4]):(t=$l.exec(e))?ac(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Zl.exec(e))?hc(t[1],t[2]/100,t[3]/100,1):(t=ec.exec(e))?hc(t[1],t[2]/100,t[3]/100,t[4]):tc.hasOwnProperty(e)?oc(tc[e]):"transparent"===e?new lc(NaN,NaN,NaN,0):null}function oc(e){return new lc(e>>16&255,e>>8&255,255&e,1)}function ac(e,t,n,r){return r<=0&&(e=t=n=NaN),new lc(e,t,n,r)}function sc(e){return e instanceof Vl||(e=ic(e)),e?new lc((e=e.rgb()).r,e.g,e.b,e.opacity):new lc}function uc(e,t,n,r){return 1===arguments.length?sc(e):new lc(e,t,n,null==r?1:r)}function lc(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function cc(){return"#"+dc(this.r)+dc(this.g)+dc(this.b)}function fc(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function dc(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mc(e,t,n,r)}function pc(e){if(e instanceof mc)return new mc(e.h,e.s,e.l,e.opacity);if(e instanceof Vl||(e=ic(e)),!e)return new mc;if(e instanceof mc)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new mc(a,s,u,e.opacity)}function vc(e,t,n,r){return 1===arguments.length?pc(e):new mc(e,t,n,null==r?1:r)}function mc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gc(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function yc(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Ul(Vl,ic,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:nc,formatHex:nc,formatHsl:function(){return pc(this).formatHsl()},formatRgb:rc,toString:rc}),Ul(lc,uc,Hl(Vl,{brighter:function(e){return e=null==e?Wl:Math.pow(Wl,e),new lc(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new lc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cc,formatHex:cc,formatRgb:fc,toString:fc})),Ul(mc,vc,Hl(Vl,{brighter:function(e){return e=null==e?Wl:Math.pow(Wl,e),new mc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new mc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new lc(gc(e>=240?e-240:e+120,i,r),gc(e,i,r),gc(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var bc=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return yc((n-r/t)*t,a,i,o,s)}},_c=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return yc((n-r/t)*t,i,o,a,s)}},wc=function(e){return function(){return e}};function xc(e,t){return function(n){return e+n*t}}function Oc(e,t){var n=t-e;return n?xc(e,n>180||n<-180?n-360*Math.round(n/360):n):wc(isNaN(e)?t:e)}function kc(e,t){var n=t-e;return n?xc(e,n):wc(isNaN(e)?t:e)}var Ec=function e(t){var n=function(e){return 1==(e=+e)?kc:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wc(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=uc(e)).r,(t=uc(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=kc(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Sc(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=uc(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var Tc=Sc(bc),Cc=Sc(_c),Dc=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function Ac(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var jc=function(e,t){return(Ac(t)?Dc:Nc)(e,t)};function Nc(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Bc(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var Mc=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Ic=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Pc=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Bc(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fc=new RegExp(Lc.source,"g"),Rc=function(e,t){var n,r,i,o=Lc.lastIndex=Fc.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Lc.exec(e))&&(r=Fc.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Ic(n,r)})),o=Fc.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Bc=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?wc(t):("number"===r?Ic:"string"===r?(n=ic(t))?(t=n,Ec):Rc:t instanceof ic?Ec:t instanceof Date?Mc:Ac(t)?Dc:Array.isArray(t)?Nc:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Pc:Ic)(e,t)},zc=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function Uc(e){return+e}var Hc=[0,1];function Vc(e){return e}function Wc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function qc(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Wc(i,r),o=n(a,o)):(r=Wc(r,i),o=n(o,a)),function(e){return o(r(e))}}function Gc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Wc(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Pl(e,t,1,r)-1;return o[n](i[n](t))}}function Yc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qc(){var e,t,n,r,i,o,a=Hc,s=Hc,u=Bc,l=Vc;function c(){var e,t,n,u=Math.min(a.length,s.length);return l!==Vc&&(e=a[0],t=a[u-1],e>t&&(n=e,e=t,t=n),l=function(n){return Math.max(e,Math.min(t,n))}),r=u>2?Gc:qc,i=o=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return f.invert=function(n){return l(t((o||(o=r(s,a.map(e),Ic)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Uc),c()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=zc,c()},f.clamp=function(e){return arguments.length?(l=!!e||Vc,c()):l!==Vc},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function Kc(){return Qc()(Vc,Vc)}function Xc(e){var t=e.domain;return e.ticks=function(e){var n=t();return Ge(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return zl(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=Ye(u,l,n))===r)return o[a]=u,o[s]=l,t(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function Jc(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function $c(e){return Math.log(e)}function Zc(e){return Math.exp(e)}function ef(e){return-Math.log(-e)}function tf(e){return-Math.exp(-e)}function nf(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rf(e){return function(t){return-e(-t)}}function of(e){var t,n,r=e($c,Zc),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?nf:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=rf(t),n=rf(n),e(ef,tf)):e($c,Zc),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(d=s,s=u,u=d);var l,c,f,d=t(s),h=t(u),p=null==e?10:+e,v=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1,l=n(d);c<o;++c)if(!((f=l*c)<s)){if(f>u)break;v.push(f)}}else for(;d<=h;++d)for(c=o-1,l=n(d);c>=1;--c)if(!((f=l*c)<s)){if(f>u)break;v.push(f)}2*v.length<p&&(v=Ge(s,u,p))}else v=Ge(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=tt(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(Jc(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function af(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uf(e){return e<0?-e*e:e*e}function lf(e){var t=e(Vc,Vc),n=1;function r(){return 1===n?e(Vc,Vc):.5===n?e(sf,uf):e(af(n),af(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Xc(t)}function cf(){var e=lf(Qc());return e.copy=function(){return Yc(e,cf()).exponent(e.exponent())},Ll.apply(e,arguments),e}function ff(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function df(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hf(e){var t=1,n=e(ff(t),df(t));return n.constant=function(n){return arguments.length?e(ff(t=+n),df(t)):t},Xc(n)}var pf=31536e6;function vf(e){return new Date(e)}function mf(e){return e instanceof Date?+e:+new Date(+e)}function gf(e,t,n,r,i,o,a,s,u){var l=Kc(),c=l.invert,f=l.domain,d=u(".%L"),h=u(":%S"),p=u("%I:%M"),v=u("%I %p"),m=u("%a %d"),g=u("%b %d"),y=u("%B"),b=u("%Y"),_=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,pf]];function w(s){return(a(s)<s?d:o(s)<s?h:i(s)<s?p:r(s)<s?v:t(s)<s?n(s)<s?m:g:e(s)<s?y:b)(s)}function x(t,n,r){if(null==t&&(t=10),"number"==typeof t){var i,o=Math.abs(r-n)/t,a=sn((function(e){return e[2]})).right(_,o);return a===_.length?(i=Qe(n/pf,r/pf,t),t=e):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(Qe(n,r,t),1),t=s),t.every(i)}return t}return l.invert=function(e){return new Date(c(e))},l.domain=function(e){return arguments.length?f(Array.from(e,mf)):f().map(vf)},l.ticks=function(e){var t,n=f(),r=n[0],i=n[n.length-1],o=i<r;return o&&(t=r,r=i,i=t),t=(t=x(e,r,i))?t.range(r,i+1):[],o?t.reverse():t},l.tickFormat=function(e,t){return null==t?w:u(t)},l.nice=function(e){var t=f();return(e=x(e,t[0],t[t.length-1]))?f(Jc(t,e)):l},l.copy=function(){return Yc(l,gf(e,t,n,r,i,o,a,s,u))},l}function yf(){var e,t,n,r,i,o=0,a=1,s=Vc,u=!1;function l(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r,i;return arguments.length?(r=(n=p(t,2))[0],i=n[1],s=e(r,i),l):[s(0),s(1)]}}return l.domain=function(i){var s;return arguments.length?(s=p(i,2),o=s[0],a=s[1],e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),l):[o,a]},l.clamp=function(e){return arguments.length?(u=!!e,l):u},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=c(Bc),l.rangeRound=c(zc),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),l}}function bf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _f(){var e=Xc(yf()(Vc));return e.copy=function(){return bf(e,_f())},Fl.apply(e,arguments)}function wf(){var e=lf(yf());return e.copy=function(){return bf(e,wf()).exponent(e.exponent())},Fl.apply(e,arguments)}function xf(e,t){void 0===t&&(t=e,e=Bc);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function Of(){var e,t,n,r,i,o,a,s=0,u=.5,l=1,c=1,f=Vc,d=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function v(e){return function(t){var n,r,i,o;return arguments.length?(r=(n=p(t,3))[0],i=n[1],o=n[2],f=xf(e,[r,i,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(a){var f;return arguments.length?(f=p(a,3),s=f[0],u=f[1],l=f[2],e=o(s=+s),t=o(u=+u),n=o(l=+l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,h):[s,u,l]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=v(Bc),h.rangeRound=v(zc),h.unknown=function(e){return arguments.length?(a=e,h):a},function(a){return o=a,e=a(s),t=a(u),n=a(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,h}}function kf(){var e=lf(Of());return e.copy=function(){return bf(e,kf()).exponent(e.exponent())},Fl.apply(e,arguments)}var Ef,Sf=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},Tf=function(e,t){var n=Oc(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},Cf=180/Math.PI,Df={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Af=function(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Cf,skewX:Math.atan(u)*Cf,scaleX:a,scaleY:s}};function jf(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:Ic(e,i)},{i:u-2,x:Ic(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ic(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ic(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ic(e,n)},{i:s-2,x:Ic(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var Nf=jf((function(e){var t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Df:Af(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Mf=jf((function(e){return null==e?Df:(Ef||(Ef=document.createElementNS("http://www.w3.org/2000/svg","g")),Ef.setAttribute("transform",e),(e=Ef.transform.baseVal.consolidate())?(e=e.matrix,Af(e.a,e.b,e.c,e.d,e.e,e.f)):Df)}),", ",")",")");function If(e){return((e=Math.exp(e))+1/e)/2}var Pf=function e(t,n,r){function i(e,i){var o,a,s=e[0],u=e[1],l=e[2],c=i[0],f=i[1],d=i[2],h=c-s,p=f-u,v=h*h+p*p;if(v<1e-12)a=Math.log(d/l)/t,o=function(e){return[s+e*h,u+e*p,l*Math.exp(t*e*a)]};else{var m=Math.sqrt(v),g=(d*d-l*l+r*v)/(2*l*n*m),y=(d*d-l*l-r*v)/(2*d*n*m),b=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(y*y+1)-y);a=(_-b)/t,o=function(e){var r,i=e*a,o=If(b),c=l/(n*m)*(o*(r=t*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+c*h,u+c*p,l*o/If(t*i+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function Lf(e){return function(t,n){var r=e((t=vc(t)).h,(n=vc(n)).h),i=kc(t.s,n.s),o=kc(t.l,n.l),a=kc(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var Ff=Lf(Oc),Rf=Lf(kc),Bf=Math.PI/180,zf=180/Math.PI,Uf=6/29*3*(6/29);function Hf(e){if(e instanceof Wf)return new Wf(e.l,e.a,e.b,e.opacity);if(e instanceof Jf)return $f(e);e instanceof lc||(e=sc(e));var t,n,r=Qf(e.r),i=Qf(e.g),o=Qf(e.b),a=qf((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=a:(t=qf((.4360747*r+.3850649*i+.1430804*o)/.96422),n=qf((.0139322*r+.0971045*i+.7141733*o)/.82521)),new Wf(116*a-16,500*(t-a),200*(a-n),e.opacity)}function Vf(e,t,n,r){return 1===arguments.length?Hf(e):new Wf(e,t,n,null==r?1:r)}function Wf(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function qf(e){return e>.008856451679035631?Math.pow(e,1/3):e/Uf+4/29}function Gf(e){return e>6/29?e*e*e:Uf*(e-4/29)}function Yf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Kf(e){if(e instanceof Jf)return new Jf(e.h,e.c,e.l,e.opacity);if(e instanceof Wf||(e=Hf(e)),0===e.a&&0===e.b)return new Jf(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*zf;return new Jf(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Xf(e,t,n,r){return 1===arguments.length?Kf(e):new Jf(e,t,n,null==r?1:r)}function Jf(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function $f(e){if(isNaN(e.h))return new Wf(e.l,0,0,e.opacity);var t=e.h*Bf;return new Wf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Zf(e,t){var n=kc((e=Vf(e)).l,(t=Vf(t)).l),r=kc(e.a,t.a),i=kc(e.b,t.b),o=kc(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function ed(e){return function(t,n){var r=e((t=Xf(t)).h,(n=Xf(n)).h),i=kc(t.c,n.c),o=kc(t.l,n.l),a=kc(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}Ul(Wf,Vf,Hl(Vl,{brighter:function(e){return new Wf(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Wf(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new lc(Yf(3.1338561*(t=.96422*Gf(t))-1.6168667*(e=1*Gf(e))-.4906146*(n=.82521*Gf(n))),Yf(-.9787684*t+1.9161415*e+.033454*n),Yf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Ul(Jf,Xf,Hl(Vl,{brighter:function(e){return new Jf(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Jf(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return $f(this).rgb()}}));var td=ed(Oc),nd=ed(kc),rd=1.97294,id=-1.7884503806,od=3.5172982438,ad=-.6557636667999999;function sd(e){if(e instanceof ld)return new ld(e.h,e.s,e.l,e.opacity);e instanceof lc||(e=sc(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ad*r+id*t-od*n)/(ad+id-od),o=r-i,a=(rd*(n-i)- -.29227*o)/-.90649,s=Math.sqrt(a*a+o*o)/(rd*i*(1-i)),u=s?Math.atan2(a,o)*zf-120:NaN;return new ld(u<0?u+360:u,s,i,e.opacity)}function ud(e,t,n,r){return 1===arguments.length?sd(e):new ld(e,t,n,null==r?1:r)}function ld(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function cd(e){return function t(n){function r(t,r){var i=e((t=ud(t)).h,(r=ud(r)).h),o=kc(t.s,r.s),a=kc(t.l,r.l),s=kc(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Ul(ld,ud,Hl(Vl,{brighter:function(e){return e=null==e?Wl:Math.pow(Wl,e),new ld(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ld(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Bf,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new lc(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(-.29227*r+-.90649*i)),255*(t+n*(rd*r)),this.opacity)}}));var fd=cd(Oc),dd=cd(kc),hd=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};function pd(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}var vd="linear",md="log",gd="pow",yd="sqrt",bd="symlog",_d="time",wd="utc",xd="sequential",Od="diverging",kd="quantile",Ed="quantize",Sd="threshold",Td="ordinal",Cd="point",Dd="bin-ordinal",Ad="continuous",jd="discrete",Nd="discretizing",Md="interpolating",Id="temporal";function Pd(){var e,t,n=Bl().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,l=.5;function c(){var n=r().length,c=o[1]<o[0],f=o[1-c],d=pd(n,s,u),h=o[c-0];e=(f-h)/(d||1),a&&(e=Math.floor(e)),h+=(f-h-e*(n-s))*l,t=e*(1-s),a&&(h=Math.round(h),t=Math.round(t));var p=Ga(n).map((function(t){return h+e*t}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),s=u,c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,s,u=o[1]<o[0],l=u?i().reverse():i(),c=l.length-1,f=+e[0],d=+e[1];return f!=f||d!=d||(d<f&&(s=f,f=d,d=s),d<l[0]||f>o[1-u])?void 0:(n=Math.max(0,Ml(l,f)-1),a=f===d?n:Ml(l,d)-1,f-l[n]>t+1e-10&&++n,u&&(s=n,n=c-a,a=c-s),n>a?void 0:r().slice(n,a+1))}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Pd().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(u).align(l)},c()}var Ld=Array.prototype.map;function Fd(e){return Ld.call(e,ee.eb)}var Rd=Array.prototype.slice,Bd={};function zd(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,o,a=e.range(),s=t[0],u=t[1],l=-1;for(u<s&&(r=s,s=u,u=r),i=0,o=a.length;i<o;++i)a[i]>=s&&a[i]<=u&&(l<0&&(l=i),n=i);if(!(l<0))return s=e.invertExtent(a[l]),u=e.invertExtent(a[n]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(ee.fb)(Object(ee.i)(n)),r}function Ud(e,t,n){return arguments.length>1?(Bd[e]=zd(e,t,n),this):Hd(e)?Bd[e]:void 0}function Hd(e){return Object(ee.w)(Bd,e)}function Vd(e,t){var n=Bd[e];return n&&n.metadata[t]}function Wd(e){return Vd(e,Ad)}function qd(e){return Vd(e,jd)}function Gd(e){return Vd(e,Nd)}function Yd(e){return Vd(e,md)}function Qd(e){return Vd(e,Md)}function Kd(e){return Vd(e,kd)}Ud("identity",(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Uc),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Uc):[0,1],Xc(r)})),Ud(vd,(function e(){var t=Kc();return t.copy=function(){return Yc(t,e())},Ll.apply(t,arguments),Xc(t)}),Ad),Ud(md,(function e(){var t=of(Qc()).domain([1,10]);return t.copy=function(){return Yc(t,e()).base(t.base())},Ll.apply(t,arguments),t}),[Ad,md]),Ud(gd,cf,Ad),Ud(yd,(function(){return cf.apply(null,arguments).exponent(.5)}),Ad),Ud(bd,(function e(){var t=hf(Qc());return t.copy=function(){return Yc(t,e()).constant(t.constant())},Ll.apply(t,arguments)}),Ad),Ud(_d,(function(){return Ll.apply(gf(zt,Ht,xt,_t,Wt,Gt,Qt,Xt,gr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[Ad,Id]),Ud(wd,(function(){return Ll.apply(gf($t,en,Nt,At,nn,on,Qt,Xt,br).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[Ad,Id]),Ud(xd,_f,[Ad,Md]),Ud("".concat(xd,"-").concat(vd),_f,[Ad,Md]),Ud("".concat(xd,"-").concat(md),(function e(){var t=of(yf()).domain([1,10]);return t.copy=function(){return bf(t,e()).base(t.base())},Fl.apply(t,arguments)}),[Ad,Md,md]),Ud("".concat(xd,"-").concat(gd),wf,[Ad,Md]),Ud("".concat(xd,"-").concat(yd),(function(){return wf.apply(null,arguments).exponent(.5)}),[Ad,Md]),Ud("".concat(xd,"-").concat(bd),(function e(){var t=hf(yf());return t.copy=function(){return bf(t,e()).constant(t.constant())},Fl.apply(t,arguments)}),[Ad,Md]),Ud("".concat(Od,"-").concat(vd),(function e(){var t=Xc(Of()(Vc));return t.copy=function(){return bf(t,e())},Fl.apply(t,arguments)}),[Ad,Md]),Ud("".concat(Od,"-").concat(md),(function e(){var t=of(Of()).domain([.1,1,10]);return t.copy=function(){return bf(t,e()).base(t.base())},Fl.apply(t,arguments)}),[Ad,Md,md]),Ud("".concat(Od,"-").concat(gd),kf,[Ad,Md]),Ud("".concat(Od,"-").concat(yd),(function(){return kf.apply(null,arguments).exponent(.5)}),[Ad,Md]),Ud("".concat(Od,"-").concat(bd),(function e(){var t=hf(Of());return t.copy=function(){return bf(t,e()).constant(t.constant())},Fl.apply(t,arguments)}),[Ad,Md]),Ud(kd,(function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Xo(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[Pl(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null==i||isNaN(i=+i)||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n.sort(an),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},Ll.apply(a,arguments)}),[Nd,kd]),Ud(Ed,(function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return e<=e?a[Pl(o,e,0,i)]:t}function u(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){var t;return arguments.length?(t=p(e,2),n=t[0],r=t[1],n=+n,r=+r,u()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,u()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},Ll.apply(Xc(s),arguments)}),Nd),Ud(Sd,(function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return e<=e?r[Pl(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},Ll.apply(o,arguments)}),Nd),Ud(Dd,(function e(){var t=[],n=[];function r(e){return null==e||e!=e?void 0:n[(Pl(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Fd(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Rd.call(e),r):n.slice()},r.tickFormat=function(e,n){return zl(t[0],Object(ee.W)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[jd,Nd]),Ud(Td,Bl,jd),Ud("band",Pd,jd),Ud(Cd,(function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(Pd().paddingInner(1))}),jd);var Xd=["clamp","base","constant","exponent"];function Jd(e,t){var n=t[0],r=Object(ee.W)(t)-n;return function(t){return e(n+t*r)}}function $d(e,t,n){return xf(th(t||"rgb",n),e)}function Zd(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function eh(e,t,n){var r,i,o,a=n-t;return a&&Number.isFinite(a)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=Ud(i)().domain([t,n]).range([0,1]),Xd.forEach((function(t){return e[t]?o[t](e[t]()):0})),o):Object(ee.m)(.5)}function th(e,t){var n=A[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function nh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function rh(e,t){for(var n in e)oh(n,t(e[n]))}var ih={};function oh(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(ih[e]=t,this):ih[e]}rh({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},nh),rh({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return $d(nh(e))}));var ah="symbol",sh=function(e){return Object(ee.B)(e)?e.map((function(e){return String(e)})):String(e)},uh=function(e,t){return e[1]-t[1]},lh=function(e,t){return t[1]-e[1]};function ch(e,t,n){var r;return Object(ee.G)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(ee.Z)(e.domain())/n||1)))),Object(ee.H)(t)&&(r=t.step,t=t.interval),Object(ee.J)(t)&&(t=e.type===_d?Qn(t):e.type==wd?Kn(t):Object(ee.o)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function fh(e,t,n){var r=e.range(),i=r[0],o=Object(ee.W)(r),a=uh;if(i>o&&(r=o,o=i,i=r,a=lh),i=Math.floor(i),o=Math.ceil(o),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return i<=e[1]&&e[1]<=o})).sort(a).map((function(e){return e[0]})),n>0&&t.length>1){for(var s=[t[0],Object(ee.W)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=s)}return t}function dh(e,t){return e.bins?fh(e,e.bins):e.ticks?e.ticks(t):e.domain()}function hh(e,t,n,r,i,o){var a=t.type,s=sh;if(a===_d||i===_d)s=e.timeFormat(r);else if(a===wd||i===wd)s=e.utcFormat(r);else if(Yd(a)){var u=e.formatFloat(r);if(o||t.bins)s=u;else{var l=ph(t,n,!1);s=function(e){return l(e)?u(e):""}}}else if(t.tickFormat){var c=t.domain();s=e.formatSpan(c[0],c[c.length-1],n,r)}else r&&(s=e.format(r));return s}function ph(e,t,n){var r=dh(e,t),i=e.base(),o=Math.log(i),a=Math.max(1,i*t/r.length),s=function(e){var t=e/Math.pow(i,Math.round(Math.log(e)/o));return t*i<i-.5&&(t*=i),t<=a};return n?r.filter(s):s}var vh=(d(S={},kd,"quantiles"),d(S,Ed,"thresholds"),d(S,Sd,"domain"),S),mh=(d(T={},kd,"quantiles"),d(T,Ed,"domain"),T);function gh(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(ee.W)(e),t}(e.bins):e.type===md?ph(e,t,!0):vh[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[vh[e.type]]()):dh(e,t)}function yh(e,t,n,r,i,o,a){var s=mh[t.type]&&o!==_d&&o!==wd?function(e,t,n){var r,i=t[mh[t.type]](),o=i.length,a=o>1?i[1]-i[0]:i[0];for(r=1;r<o;++r)a=Math.min(a,i[r]-i[r-1]);return e.formatSpan(0,a,30,n)}(e,t,i):hh(e,t,n,i,o,a);return r===ah&&function(e){return vh[e.type]||e.bins}(t)?bh(s):"discrete"===r?wh(s):xh(s)}var bh=function(e){return function(t,n,r){var i=_h(r[n+1],_h(r.max,1/0)),o=Oh(t,e),a=Oh(i,e);return o&&a?o+" \u2013 "+a:a?"< "+a:"\u2265 "+o}},_h=function(e,t){return null!=e?e:t},wh=function(e){return function(t,n){return n?e(t):null}},xh=function(e){return function(t){return e(t)}},Oh=function(e,t){return Number.isFinite(e)?t(e):null};function kh(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),i=function(e,t,n,r){var i=r||t.type;return Object(ee.J)(n)&&Vd(i,Id)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==_d?n||i!==wd?yh(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if(Gd(t.type)){var o=gh(t).slice(1).map(i),a=o.length;return"".concat(a," boundar").concat(1===a?"y":"ies",": ").concat(o.join(", "))}if(qd(t.type)){var s=t.domain(),u=s.length,l=u>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return"".concat(u," value").concat(1===u?"":"s",": ").concat(l)}var c=t.domain();return"values from ".concat(i(c[0])," to ").concat(i(Object(ee.W)(c)))}var Eh=0;function Sh(e){return e&&e.gradient}function Th(e,t,n){var r=e.gradient,i=e.id,o="radial"===r?"p_":"";return i||(i=e.id="gradient_"+Eh++,"radial"===r?(e.x1=Ch(e.x1,.5),e.y1=Ch(e.y1,.5),e.r1=Ch(e.r1,0),e.x2=Ch(e.x2,.5),e.y2=Ch(e.y2,.5),e.r2=Ch(e.r2,.5),o="p_"):(e.x1=Ch(e.x1,0),e.y1=Ch(e.y1,0),e.x2=Ch(e.x2,1),e.y2=Ch(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Ch(e,t){return null!=e?e:t}function Dh(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}var Ah={basis:{curve:function(e){return new yu(e)}},"basis-closed":{curve:function(e){return new _u(e)}},"basis-open":{curve:function(e){return new wu(e)}},bundle:{curve:Ou,tension:"beta",value:.85},cardinal:{curve:Su,tension:"tension",value:0},"cardinal-open":{curve:Cu,tension:"tension",value:0},"cardinal-closed":{curve:Au,tension:"tension",value:0},"catmull-rom":{curve:Gu,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Qu,tension:"alpha",value:.5},"catmull-rom-open":{curve:Xu,tension:"alpha",value:.5},linear:{curve:$u},"linear-closed":{curve:function(e){return new Zu(e)}},monotone:{horizontal:function(e){return new ol(e)},vertical:function(e){return new il(e)}},natural:{curve:function(e){return new sl(e)}},step:{curve:function(e){return new ll(e,.5)}},"step-after":{curve:function(e){return new ll(e,1)}},"step-before":{curve:function(e){return new ll(e,0)}}};function jh(e,t,n){var r=Object(ee.w)(Ah,e)&&Ah[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var Nh={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Mh=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function Ih(e){var t,n,r,i,o,a,s,u,l,c,f=[],d=e.slice().replace(Mh[0],"###$1").split(Mh[1]).slice(1);for(s=0,l=d.length;s<l;++s){for(n=(t=d[s]).slice(1).trim().replace(Mh[2],"$1###$2").replace(Mh[3],"$1###$2").split(Mh[4]),r=[o=t.charAt(0)],u=0,c=n.length;u<c;++u)(i=+n[u])===i&&r.push(i);if(a=Nh[o.toLowerCase()],r.length-1>a){var h=r.length;for(u=1,f.push([o].concat(r.slice(u,u+=a))),o="M"===o?"L":"m"===o?"l":o;u<h;u+=a)f.push([o].concat(r.slice(u,u+a)))}else f.push(r)}return f}var Ph=Math.PI/180,Lh=Math.PI/2,Fh=2*Math.PI,Rh=Math.sqrt(3)/2,Bh={},zh={},Uh=[].join;function Hh(e){var t=Uh.call(e);if(zh[t])return zh[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=l*a,f=-u*s,d=u*a,h=l*s,p=Math.cos(i),v=Math.sin(i),m=Math.cos(o),g=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),_=8/3*b*b/Math.sin(y),w=n+p-_*v,x=r+v+_*p,O=n+m,k=r+g,E=O+_*g,S=k-_*m;return zh[t]=[c*w+f*x,d*w+h*x,c*E+f*S,d*E+h*S,c*O+f*k,d*O+h*k]}var Vh=["l",0,0,0,0,0,0,0];function Wh(e,t,n){var r=Vh[0]=e[0];if("a"===r||"A"===r)Vh[1]=t*e[1],Vh[2]=n*e[2],Vh[3]=e[3],Vh[4]=e[4],Vh[5]=e[5],Vh[6]=t*e[6],Vh[7]=n*e[7];else if("h"===r||"H"===r)Vh[1]=t*e[1];else if("v"===r||"V"===r)Vh[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Vh[i]=(i%2==1?t:n)*e[i];return Vh}function qh(e,t,n,r,i,o){var a,s,u,l,c,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(a=t[m],1===i&&1===o||(a=Wh(a,i,o)),a[0]){case"l":d+=a[1],h+=a[2],e.lineTo(d+n,h+r);break;case"L":d=a[1],h=a[2],e.lineTo(d+n,h+r);break;case"h":d+=a[1],e.lineTo(d+n,h+r);break;case"H":d=a[1],e.lineTo(d+n,h+r);break;case"v":h+=a[1],e.lineTo(d+n,h+r);break;case"V":h=a[1],e.lineTo(d+n,h+r);break;case"m":d+=a[1],h+=a[2],e.moveTo(d+n,h+r);break;case"M":d=a[1],h=a[2],e.moveTo(d+n,h+r);break;case"c":s=d+a[5],u=h+a[6],p=d+a[3],v=h+a[4],e.bezierCurveTo(d+a[1]+n,h+a[2]+r,p+n,v+r,s+n,u+r),d=s,h=u;break;case"C":d=a[5],h=a[6],p=a[3],v=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,v+r,d+n,h+r);break;case"s":s=d+a[3],u=h+a[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+a[1]+n,h+a[2]+r,s+n,u+r),p=d+a[1],v=h+a[2],d=s,h=u;break;case"S":s=a[3],u=a[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,a[1]+n,a[2]+r,s+n,u+r),d=s,h=u,p=a[1],v=a[2];break;case"q":s=d+a[3],u=h+a[4],p=d+a[1],v=h+a[2],e.quadraticCurveTo(p+n,v+r,s+n,u+r),d=s,h=u;break;case"Q":s=a[3],u=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,s+n,u+r),d=s,h=u,p=a[1],v=a[2];break;case"t":s=d+a[1],u=h+a[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-l,v=2*h-c):"q"===f[0]&&(p=2*d-p,v=2*h-v),l=p,c=v,e.quadraticCurveTo(p+n,v+r,s+n,u+r),h=u,p=(d=s)+a[1],v=h+a[2];break;case"T":s=a[1],u=a[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,s+n,u+r),d=s,h=u;break;case"a":Gh(e,d+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+d+n,a[7]+h+r]),d+=a[6],h+=a[7];break;case"A":Gh(e,d+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),d=a[6],h=a[7];break;case"z":case"Z":e.closePath()}f=a}}function Gh(e,t,n,r){for(var i=function(e,t,n,r,i,o,a,s,u){var l=Uh.call(arguments);if(Bh[l])return Bh[l];var c=a*Ph,f=Math.sin(c),d=Math.cos(c),h=d*(s-e)*.5+f*(u-t)*.5,p=d*(u-t)*.5-f*(s-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,y=-f/r,b=d/r,_=m*s+g*u,w=y*s+b*u,x=m*e+g*t,O=y*e+b*t,k=1/((x-_)*(x-_)+(O-w)*(O-w))-.25;k<0&&(k=0);var E=Math.sqrt(k);o==i&&(E=-E);var S=.5*(_+x)-E*(O-w),T=.5*(w+O)+E*(x-_),C=Math.atan2(w-T,_-S),D=Math.atan2(O-T,x-S)-C;D<0&&1===o?D+=Fh:D>0&&0===o&&(D-=Fh);for(var A=Math.ceil(Math.abs(D/(Lh+.001))),j=[],N=0;N<A;++N){var M=C+N*D/A,I=C+(N+1)*D/A;j[N]=[S,T,M,I,n,r,f,d]}return Bh[l]=j}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),o=0;o<i.length;++o){var a=Hh(i[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var Yh=.5773502691896257,Qh={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Fh)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Rh*n,i=r-n*Yh,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Rh*n,i=r-n*Yh;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Rh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Rh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Rh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Rh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Kh(e){return Object(ee.w)(Qh,e)?Qh[e]:function(e){if(!Object(ee.w)(Xh,e)){var t=Ih(e);Xh[e]={draw:function(e,n){qh(e,t,0,0,Math.sqrt(n)/2)}}}return Xh[e]}(e)}var Xh={},Jh=.448084975506;function $h(e){return e.x}function Zh(e){return e.y}function ep(e){return e.width}function tp(e){return e.height}function np(e){return"function"==typeof e?e:function(){return+e}}function rp(e,t,n){return Math.max(t,Math.min(e,n))}function ip(){var e=$h,t=Zh,n=ep,r=tp,i=np(0),o=i,a=i,s=i,u=null;function l(l,c,f){var d,h=null!=c?c:+e.call(this,l),p=null!=f?f:+t.call(this,l),v=+n.call(this,l),m=+r.call(this,l),g=Math.min(v,m)/2,y=rp(+i.call(this,l),0,g),b=rp(+o.call(this,l),0,g),_=rp(+a.call(this,l),0,g),w=rp(+s.call(this,l),0,g);if(u||(u=d=ml()),y<=0&&b<=0&&_<=0&&w<=0)u.rect(h,p,v,m);else{var x=h+v,O=p+m;u.moveTo(h+y,p),u.lineTo(x-b,p),u.bezierCurveTo(x-Jh*b,p,x,p+Jh*b,x,p+b),u.lineTo(x,O-w),u.bezierCurveTo(x,O-Jh*w,x-Jh*w,O,x-w,O),u.lineTo(h+_,O),u.bezierCurveTo(h+Jh*_,O,h,O-Jh*_,h,O-_),u.lineTo(h,p+y),u.bezierCurveTo(h,p+Jh*y,h+Jh*y,p,h+y,p),u.closePath()}if(d)return u=null,d+""||null}return l.x=function(t){return arguments.length?(e=np(t),l):e},l.y=function(e){return arguments.length?(t=np(e),l):t},l.width=function(e){return arguments.length?(n=np(e),l):n},l.height=function(e){return arguments.length?(r=np(e),l):r},l.cornerRadius=function(e,t,n,r){return arguments.length?(i=np(e),o=null!=t?np(t):i,s=null!=n?np(n):i,a=null!=r?np(r):o,l):i},l.context=function(e){return arguments.length?(u=null==e?null:e,l):u},l}function op(){var e,t,n,r,i,o,a,s,u=null;function l(e,t,n){var r=n/2;if(i){var l=a-t,c=e-o;if(l||c){var f=Math.sqrt(l*l+c*c),d=(l/=f)*s,h=(c/=f)*s,p=Math.atan2(c,l);u.moveTo(o-d,a-h),u.lineTo(e-l*r,t-c*r),u.arc(e,t,r,p-Math.PI,p),u.lineTo(o+d,a+h),u.arc(o,a,s,p,p+Math.PI)}else u.arc(e,t,r,0,Fh);u.closePath()}else i=1;o=e,a=t,s=r}function c(o){var a,s,c,f=o.length,d=!1;for(null==u&&(u=c=ml()),a=0;a<=f;++a)!(a<f&&r(s=o[a],a,o))===d&&(d=!d)&&(i=0),d&&l(+e(s,a,o),+t(s,a,o),+n(s,a,o));if(c)return u=null,c+""||null}return c.x=function(t){return arguments.length?(e=t,c):e},c.y=function(e){return arguments.length?(t=e,c):t},c.size=function(e){return arguments.length?(n=e,c):n},c.defined=function(e){return arguments.length?(r=e,c):r},c.context=function(e){return arguments.length?(u=null==e?null:e,c):u},c}function ap(e,t){return null!=e?e:t}var sp=function(e){return e.x||0},up=function(e){return e.y||0},lp=function(e){return!(!1===e.defined)},cp=function(){var e=yl,t=bl,n=gl(0),r=null,i=_l,o=wl,a=xl,s=null;function u(){var u,l,c=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-zu,h=o.apply(this,arguments)-zu,p=ju(h-d),v=h>d;if(s||(s=u=ml()),f<c&&(l=f,f=c,c=l),f>Ru)if(p>Uu-Ru)s.moveTo(f*Mu(d),f*Lu(d)),s.arc(0,0,f,d,h,!v),c>Ru&&(s.moveTo(c*Mu(h),c*Lu(h)),s.arc(0,0,c,h,d,v));else{var m,g,y=d,b=h,_=d,w=h,x=p,O=p,k=a.apply(this,arguments)/2,E=k>Ru&&(r?+r.apply(this,arguments):Fu(c*c+f*f)),S=Pu(ju(f-c)/2,+n.apply(this,arguments)),T=S,C=S;if(E>Ru){var D=Vu(E/c*Lu(k)),A=Vu(E/f*Lu(k));(x-=2*D)>Ru?(_+=D*=v?1:-1,w-=D):(x=0,_=w=(d+h)/2),(O-=2*A)>Ru?(y+=A*=v?1:-1,b-=A):(O=0,y=b=(d+h)/2)}var j=f*Mu(y),N=f*Lu(y),M=c*Mu(w),I=c*Lu(w);if(S>Ru){var P,L=f*Mu(b),F=f*Lu(b),R=c*Mu(_),B=c*Lu(_);if(p<Bu&&(P=Ol(j,N,R,B,L,F,M,I))){var z=j-P[0],U=N-P[1],H=L-P[0],V=F-P[1],W=1/Lu(Hu((z*H+U*V)/(Fu(z*z+U*U)*Fu(H*H+V*V)))/2),q=Fu(P[0]*P[0]+P[1]*P[1]);T=Pu(S,(c-q)/(W-1)),C=Pu(S,(f-q)/(W+1))}}O>Ru?C>Ru?(m=kl(R,B,j,N,f,C,v),g=kl(L,F,M,I,f,C,v),s.moveTo(m.cx+m.x01,m.cy+m.y01),C<S?s.arc(m.cx,m.cy,C,Nu(m.y01,m.x01),Nu(g.y01,g.x01),!v):(s.arc(m.cx,m.cy,C,Nu(m.y01,m.x01),Nu(m.y11,m.x11),!v),s.arc(0,0,f,Nu(m.cy+m.y11,m.cx+m.x11),Nu(g.cy+g.y11,g.cx+g.x11),!v),s.arc(g.cx,g.cy,C,Nu(g.y11,g.x11),Nu(g.y01,g.x01),!v))):(s.moveTo(j,N),s.arc(0,0,f,y,b,!v)):s.moveTo(j,N),c>Ru&&x>Ru?T>Ru?(m=kl(M,I,L,F,c,-T,v),g=kl(j,N,R,B,c,-T,v),s.lineTo(m.cx+m.x01,m.cy+m.y01),T<S?s.arc(m.cx,m.cy,T,Nu(m.y01,m.x01),Nu(g.y01,g.x01),!v):(s.arc(m.cx,m.cy,T,Nu(m.y01,m.x01),Nu(m.y11,m.x11),!v),s.arc(0,0,c,Nu(m.cy+m.y11,m.cx+m.x11),Nu(g.cy+g.y11,g.cx+g.x11),v),s.arc(g.cx,g.cy,T,Nu(g.y11,g.x11),Nu(g.y01,g.x01),!v))):s.arc(0,0,c,w,_,v):s.lineTo(M,I)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Bu/2;return[Mu(r)*n,Lu(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:gl(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:gl(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:gl(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:gl(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:gl(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:gl(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:gl(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),fp=Dl().x(sp).y1(up).y0((function(e){return(e.y||0)+(e.height||0)})).defined(lp),dp=Dl().y(up).x1(sp).x0((function(e){return(e.x||0)+(e.width||0)})).defined(lp),hp=Cl().x(sp).y(up).defined(lp),pp=ip().x(sp).y(up).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return ap(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return ap(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return ap(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return ap(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),vp=function(e,t){var n=null;function r(){var r;if(n||(n=r=ml()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:gl(e||Al),t="function"==typeof t?t:gl(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"==typeof t?t:gl(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:gl(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return Kh(e.shape||"circle")})).size((function(e){return ap(e.size,64)})),mp=op().x(sp).y(up).defined(lp).size((function(e){return e.size||1}));function gp(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function yp(e,t,n,r){return pp.context(e)(t,n,r)}var bp=1;function _p(){bp=1}function wp(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+bp++),a=i.clipping[o]||(i.clipping[o]={id:o});return Object(ee.E)(r)?a.path=r(null):gp(n)?a.path=yp(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function xp(e){this.clear(),e&&this.union(e)}function Op(e){this.mark=e,this.bounds=this.bounds||new xp}function kp(e){Op.call(this,e),this.items=this.items||[]}function Ep(e){this._pending=0,this._loader=e||to()}function Sp(e){e._pending+=1}function Tp(e){e._pending-=1}function Cp(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}xp.prototype={clone:function(){return new xp(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(e,t,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,s=Math.cos(e),u=Math.sin(e),l=t-t*s+n*u,c=n-t*u-n*s;return[s*r-u*i+l,u*r+s*i+c,s*r-u*a+l,u*r+s*a+c,s*o-u*i+l,u*o+s*i+c,s*o-u*a+l,u*o+s*a+c]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},Object(ee.z)(kp,Op),Ep.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return Sp(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return Tp(t),e})).catch((function(){return Tp(t),null}))},loadImage:function(e){var t=this,n="undefined"!=typeof Image?Image:null;return Sp(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,o=Object(ee.w)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=function(){return Tp(t)},i.onerror=function(){return Tp(t)},i.src=r,i})).catch((function(e){return Tp(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}};var Dp,Ap,jp,Np,Mp,Ip,Pp,Lp,Fp=Fh-1e-8,Rp=function(e,t){return Dp.add(e,t)},Bp=function(e,t){return Rp(Ap=e,jp=t)},zp=function(e){return Rp(e,Dp.y1)},Up=function(e){return Rp(Dp.x1,e)},Hp=function(e,t){return Mp*e+Pp*t},Vp=function(e,t){return Ip*e+Lp*t},Wp=function(e,t){return Rp(Hp(e,t),Vp(e,t))},qp=function(e,t){return Bp(Hp(e,t),Vp(e,t))};function Gp(e,t){return Dp=e,t?(Np=t*Ph,Mp=Lp=Math.cos(Np),Ip=Math.sin(Np),Pp=-Ip):(Mp=Lp=1,Np=Ip=Pp=0),Yp}var Yp={beginPath:function(){},closePath:function(){},moveTo:qp,lineTo:qp,rect:function(e,t,n,r){Np?(Wp(e+n,t),Wp(e+n,t+r),Wp(e,t+r),qp(e,t)):(Rp(e+n,t+r),Bp(e,t))},quadraticCurveTo:function(e,t,n,r){var i=Hp(e,t),o=Vp(e,t),a=Hp(n,r),s=Vp(n,r);Qp(Ap,i,a,zp),Qp(jp,o,s,Up),Bp(a,s)},bezierCurveTo:function(e,t,n,r,i,o){var a=Hp(e,t),s=Vp(e,t),u=Hp(n,r),l=Vp(n,r),c=Hp(i,o),f=Vp(i,o);Kp(Ap,a,u,c,zp),Kp(jp,s,l,f,Up),Bp(c,f)},arc:function(e,t,n,r,i,o){if(r+=Np,i+=Np,Ap=n*Math.cos(i)+e,jp=n*Math.sin(i)+t,Math.abs(i-r)>Fp)Rp(e-n,t-n),Rp(e+n,t+n);else{var a,s,u=function(r){return Rp(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(u(r),u(i),i!==r)if((r%=Fh)<0&&(r+=Fh),(i%=Fh)<0&&(i+=Fh),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Fh,a=r-r%Lh,s=0;s<4&&a>i;++s,a-=Lh)u(a);else for(a=r-r%Lh+Lh,s=0;s<4&&a<i;++s,a+=Lh)u(a)}}};function Qp(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Kp(e,t,n,r,i){var o,a=r-e+3*t-3*n,s=e+n-2*t,u=e-t,l=0,c=0;Math.abs(a)>1e-14?(o=s*s+u*a)>=0&&(l=(-s+(o=Math.sqrt(o)))/a,c=(-s-o)/a):l=.5*u/s,0<l&&l<1&&i(Xp(l,e,t,n,r)),0<c&&c<1&&i(Xp(c,e,t,n,r))}function Xp(e,t,n,r,i){var o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*r+s*e*i}var Jp=(Jp=jl(1,1))?Jp.getContext("2d"):null,$p=new xp;function Zp(e){return function(t,n){if(!Jp)return!0;e(Jp,t),$p.clear().union(t.bounds).intersect(n).round();for(var r=$p.x1,i=$p.y1,o=$p.x2,a=$p.y2,s=i;s<=a;++s)for(var u=r;u<=o;++u)if(Jp.isPointInPath(u,s))return!0;return!1}}function ev(e,t){return t.contains(e.x||0,e.y||0)}function tv(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects($p.set(n,r,n+i,r+o))}function nv(e,t){var n=e.x||0,r=e.y||0;return rv(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function rv(e,t,n,r,i){var o,a,s,u,l=e.x1,c=e.y1,f=e.x2,d=e.y2,h=r-t,p=i-n,v=0,m=1;for(u=0;u<4;++u){if(0===u&&(o=-h,a=-(l-t)),1===u&&(o=h,a=f-t),2===u&&(o=-p,a=-(c-n)),3===u&&(o=p,a=d-n),Math.abs(o)<1e-10&&a<0)return!1;if(s=a/o,o<0){if(s>m)return!1;s>v&&(v=s)}else if(o>0){if(s<v)return!1;s<m&&(m=s)}}return!0}function iv(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ov(e,t){return null==e?t:e}function av(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function sv(e,t,n){return Sh(n)?function(e,t,n){var r,i=n.width(),o=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+ov(t.x1,.5)*i,n.y1+ov(t.y1,.5)*o,Math.max(i,o)*ov(t.r1,0),n.x1+ov(t.x2,.5)*i,n.y1+ov(t.y2,.5)*o,Math.max(i,o)*ov(t.r2,.5));else{var a=ov(t.x1,0),s=ov(t.y1,0),u=ov(t.x2,1),l=ov(t.y2,0);if(a!==u&&s!==l&&i!==o){var c=jl(Math.ceil(i),Math.ceil(o)),f=c.getContext("2d");return f.scale(i,o),f.fillStyle=av(f.createLinearGradient(a,s,u,l),t.stops),f.fillRect(0,0,i,o),e.createPattern(c,"no-repeat")}r=e.createLinearGradient(n.x1+a*i,n.y1+s*o,n.x1+u*i,n.y1+l*o)}return av(r,t.stops)}(e,n,t.bounds):n}function uv(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=sv(e,t,t.fill),!0)}var lv=[];function cv(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=sv(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||lv),e.lineDashOffset=t.strokeDashOffset||0),!0)}function fv(e,t){return e.zindex-t.zindex||e.index-t.index}function dv(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,o=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(fv)}function hv(e,t){var n,r,i=e.items;if(i&&i.length){var o=dv(e);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=o}for(n=0,r=i.length;n<r;++n)t(i[n])}}function pv(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var o=dv(e);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===o)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function vv(e){return function(t,n,r){hv(n,(function(n){r&&!r.intersects(n.bounds)||mv(e,t,n,n)}))}}function mv(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(iv(t,n),n.fill&&uv(t,n,i)&&t.fill(),n.stroke&&cv(t,n,i)&&t.stroke()))}function gv(e){return e=e||ee.ib,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,pv(n,(function(n){var s=n.bounds;if((!s||s.contains(o,a))&&s)return e(t,n,r,i,o,a)?n:void 0}))}}function yv(e,t){return function(n,r,i,o){var a,s,u=Array.isArray(r)?r[0]:r,l=null==t?u.fill:t,c=u.stroke&&n.isPointInStroke;return c&&(a=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(l&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function bv(e){return gv(yv(e))}function _v(e,t){return"translate("+e+","+t+")"}function wv(e){return"rotate("+e+")"}function xv(e){return _v(e.x||0,e.y||0)}function Ov(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,o=n.angle||0;e.translate(r,i),o&&e.rotate(o*=Ph),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return _v(e.x||0,e.y||0)+(e.angle?" "+wv(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(Gp(e,n.angle),n),Cp(e,n).translate(n.x||0,n.y||0)},draw:vv(r),pick:bv(r),isect:n||Zp(r)}}var kv=Ov("arc",(function(e,t){return cp.context(e)(t)}));function Ev(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i,o=yv(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(Gp(e),r),Cp(e,r[0]))},draw:(i=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||mv(i,e,t.items[0],t.items)}),pick:function(e,t,n,r,i,a){var s=t.items,u=t.bounds;return!s||!s.length||u&&!u.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,o(e,s,n,r)?s[0]:null)},isect:ev,tip:n}}var Sv=Ev("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?dp:fp).curve(jh(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",a=e.length,s=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][o]-i))<s&&(s=r,n=e[a]);return n}));function Tv(e,t){e.beginPath(),gp(t)?yp(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Cv(e){var t=ov(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Dv(e,t){var n=Cv(t);e("d",yp(null,t,n,n))}function Av(e,t,n,r){var i=Cv(t);e.beginPath(),yp(e,t,(n||0)+i,(r||0)+i)}var jv=yv(Av),Nv=yv(Av,!1),Mv=yv(Av,!0),Iv={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",xv(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,i=0;i<r;++i)e.union(n[i].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Cp(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;hv(t,(function(t){var i=t.x||0,o=t.y||0,a=t.strokeForeground,s=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&s&&(Av(e,t,i,o),iv(e,t),t.fill&&uv(e,t,s)&&e.fill(),t.stroke&&!a&&cv(e,t,s)&&e.stroke()),e.save(),e.translate(i,o),t.clip&&Tv(e,t),n&&n.translate(-i,-o),hv(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,o),e.restore(),a&&t.stroke&&s&&(Av(e,t,i,o),iv(e,t),cv(e,t,s)&&e.stroke())}))},pick:function(e,t,n,r,i,o){var a=this;if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;var s=n*e.pixelRatio,u=r*e.pixelRatio;return pv(t,(function(l){var c,f,d,h=l.bounds;if(!h||h.contains(i,o)){f=l.x||0,d=l.y||0;var p=f+(l.width||0),v=d+(l.height||0),m=l.clip;if(!m||!(i<f||i>p||o<d||o>v)){if(e.save(),e.translate(f,d),f=i-f,d=o-d,m&&gp(l)&&!Mv(e,l,s,u))return e.restore(),null;var g=l.strokeForeground,y=!1!==t.interactive;return y&&g&&l.stroke&&Nv(e,l,s,u)?(e.restore(),l):(!(c=pv(l,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?a.pick(e,n,r,f,d):null})))&&y&&(l.fill||!g&&l.stroke)&&jv(e,l,s,u)&&(c=l),e.restore(),c||null)}}}))},isect:tv,content:function(e,t,n){e("clip-path",t.clip?wp(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Dv(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Dv(e,t):e("d","")}},Pv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Lv(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Fv(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Rv(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Bv(e,t){return"center"===e?t/2:"right"===e?t:0}function zv(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Uv={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Lv(t,n),i=Fv(t,r),o=Rv(t,r),a=(t.x||0)-Bv(t.align,i),s=(t.y||0)-zv(t.baseline,o);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",Pv["xmlns:xlink"],"xlink:href"),e("transform",_v(a,s)),e("width",i),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=Fv(t,n),i=Rv(t,n),o=(t.x||0)-Bv(t.align,r),a=(t.y||0)-zv(t.baseline,i);return e.set(o,a,o+r,a+i)},draw:function(e,t,n){var r=this;hv(t,(function(t){if(!n||n.intersects(t.bounds)){var i,o,a,s,u=Lv(t,r),l=Fv(t,u),c=Rv(t,u),f=(t.x||0)-Bv(t.align,l),d=(t.y||0)-zv(t.baseline,c);!1!==t.aspect&&(o=u.width/u.height,a=t.width/t.height,o==o&&a==a&&o!==a&&(a<o?(d+=(c-(s=l/o))/2,c=s):(f+=(l-(s=c*o))/2,l=s))),(u.complete||u.toDataURL)&&(iv(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(u,f,d,l,c))}}))},pick:gv(),isect:ee.ib,get:Lv,xOffset:Bv,yOffset:zv},Hv=Ev("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return hp.curve(jh(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(r=e[o].y-t[1])*r<i)return e[o];return null}));function Vv(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*Ph,u=t.pathCache;u&&u.path===n||((t.pathCache=u=Ih(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),qh(e,u,0,0,o,a),e.rotate(-s),e.translate(-r,-i)):qh(e,u,r,i,o,a)}var Wv={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return _v(e.x||0,e.y||0)+(e.angle?" "+wv(e.angle):"")+(e.scaleX||e.scaleY?" scale("+(e.scaleX||1)+","+(e.scaleY||1)+")":"")}(t)),e("d",t.path)},bound:function(e,t){return Vv(Gp(e,t.angle),t)?e.set(0,0,0,0):Cp(e,t,!0)},draw:vv(Vv),pick:bv(Vv),isect:Zp(Vv)};function qv(e,t){e.beginPath(),yp(e,t)}var Gv={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",yp(null,t))},bound:function(e,t){var n,r;return Cp(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:vv(qv),pick:bv(qv),isect:tv};function Yv(e,t,n){var r,i,o,a;return!(!t.stroke||!cv(e,t,n))&&(r=t.x||0,i=t.y||0,o=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),!0)}var Qv={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",xv(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Cp(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){hv(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Yv(e,t,r)&&(iv(e,t),e.stroke())}}))},pick:gv((function(e,t,n,r){return!!e.isPointInStroke&&Yv(e,t,1)&&e.isPointInStroke(n,r)})),isect:nv},Kv=Ov("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Xv=Ov("symbol",(function(e,t){return vp.context(e)(t)}),ev),Jv=Object(ee.N)(),$v={height:im,measureWidth:nm,estimateWidth:em,width:em,canvas:Zv};function Zv(e){$v.width=e&&Jp?nm:em}function em(e,t){return tm(um(e,t),im(e))}function tm(e,t){return~~(.8*e.length*t)}function nm(e,t){return im(e)<=0||!(t=um(e,t))?0:rm(t,cm(e))}function rm(e,t){var n="(".concat(t,") ").concat(e),r=Jv.get(n);return void 0===r&&(Jp.font=t,r=Jp.measureText(e).width,Jv.set(n,r)),r}function im(e){return null!=e.fontSize?+e.fontSize||0:11}function om(e){return null!=e.lineHeight?e.lineHeight:im(e)+2}function am(e){return t=e.lineBreak&&e.text&&!Object(ee.B)(e.text)?e.text.split(e.lineBreak):e.text,Object(ee.B)(t)?t.length>1?t:t[0]:t;var t}function sm(e){var t=am(e);return(Object(ee.B)(t)?t.length-1:0)*om(e)}function um(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if($v.width===nm){var t=cm(e);return function(e){return rm(e,t)}}var n=im(e);return function(e){return tm(e,n)}}(e);if(r(t)<n)return t;var i,o=e.ellipsis||"\u2026",a="rtl"===e.dir,s=0,u=t.length;if(n-=r(o),a){for(;s<u;)i=s+u>>>1,r(t.slice(i))>n?s=i+1:u=i;return o+t.slice(s)}for(;s<u;)i=1+(s+u>>>1),r(t.slice(0,i))<n?s=i:u=i-1;return t.slice(0,s)+o}(e,n):n}function lm(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function cm(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+im(e)+"px "+lm(e,t)}function fm(e){var t=e.baseline,n=im(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*om(e):"line-bottom"===t?.29*n-.5*om(e):0)}Zv(!0);var dm={left:"start",center:"middle",right:"end"},hm=new xp;function pm(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-Lh,n+=i*Math.cos(t),r+=i*Math.sin(t)),hm.x1=n,hm.y1=r,hm}function vm(e,t,n){var r,i=$v.height(t),o=t.align,a=pm(t),s=a.x1,u=a.y1,l=t.dx||0,c=(t.dy||0)+fm(t)-Math.round(.8*i),f=am(t);if(Object(ee.B)(f)?(i+=om(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,$v.width(t,n))}),0)):r=$v.width(t,f),"center"===o?l-=r/2:"right"===o&&(l-=r),e.set(l+=s,c+=u,l+r,c+i),t.angle&&!n)e.rotate(t.angle*Ph,s,u);else if(2===n)return e.rotatedPoints(t.angle*Ph,s,u);return e}var mm={arc:kv,area:Sv,group:Iv,image:Uv,line:Hv,path:Wv,rect:Gv,rule:Qv,shape:Kv,symbol:Xv,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+fm(t),o=pm(t),a=o.x1,s=o.y1,u=t.angle||0;e("text-anchor",dm[t.align]||"start"),u?(n=_v(a,s)+" "+wv(u),(r||i)&&(n+=" "+_v(r,i))):n=_v(a+r,s+i),e("transform",n)},bound:vm,draw:function(e,t,n){hv(t,(function(t){var r,i,o,a,s,u,l,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=cm(t),e.textAlign=t.align||"left",i=(r=pm(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(i,o),e.rotate(t.angle*Ph),i=o=0),i+=t.dx||0,o+=(t.dy||0)+fm(t),u=am(t),iv(e,t),Object(ee.B)(u))for(s=om(t),a=0;a<u.length;++a)l=um(t,u[a]),t.fill&&uv(e,t,c)&&e.fillText(l,i,o),t.stroke&&cv(e,t,c)&&e.strokeText(l,i,o),o+=s;else l=um(t,u),t.fill&&uv(e,t,c)&&e.fillText(l,i,o),t.stroke&&cv(e,t,c)&&e.strokeText(l,i,o);t.angle&&e.restore()}}))},pick:gv((function(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=pm(t),s=a.x1,u=a.y1,l=vm(hm,t,1),c=-t.angle*Ph,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(s-f*s+d*u),p=d*i+f*o+(u-d*s-f*u);return l.contains(h,p)})),isect:function(e,t){var n=vm(hm,e,2);return rv(t,n[0],n[1],n[2],n[3])||rv(t,n[0],n[1],n[4],n[5])||rv(t,n[4],n[5],n[6],n[7])||rv(t,n[2],n[3],n[6],n[7])}},trail:Ev("trail",(function(e,t){return mp.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}))};function gm(e,t,n){var r=mm[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new xp),e,n)}var ym={mark:null};function bm(e,t,n){var r,i,o,a,s=mm[e.marktype],u=s.bound,l=e.items,c=l&&l.length;if(s.nested)return c?o=l[0]:(ym.mark=e,o=ym),a=gm(o,u,n),t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new xp,c)for(r=0,i=l.length;r<i;++r)t.union(gm(l[r],u,n));return e.bounds=t}var _m=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function wm(e,t){return JSON.stringify(e,_m,t)}function xm(e){return function e(t){var n,r,i,o=t.marktype,a=t.items;if(a)for(r=0,i=a.length;r<i;++r)n=o?"mark":"group",a[r][n]=t,a[r].zindex&&(a[r][n].zdirty=!0),"group"===(o||n)&&e(a[r]);return o&&bm(t),t}("string"==typeof e?JSON.parse(e):e)}function Om(e){arguments.length?this.root=xm(e):(this.root=km({marktype:"group",name:"root",role:"frame"}),this.root.items=[new kp(this.root)])}function km(e,t){var n={bounds:new xp,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Em(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Sm(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Tm(e,t,n,r){var i,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=Em(e.ownerDocument,n,r),e.insertBefore(o,i)),o}function Cm(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Dm(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Am(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function jm(e,t){this._active=null,this._handlers={},this._loader=e||to(),this._tooltip=t||Nm}function Nm(e,t,n,r){e.element().setAttribute("title",r||"")}function Mm(e){this._el=null,this._bgcolor=null,this._loader=new Ep(e)}Om.prototype={toJSON:function(e){return wm(this.root,e||0)},mark:function(e,t,n){var r=km(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},jm.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,m(t[this.eventName(e)]));else for(var r in t)n.push.apply(n,m(t[r]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=Em(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,o,a=e&&e.mark;if(a&&(i=mm[a.marktype]).tip){for((o=Am(t,n))[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=i.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),a=i.height(),s=i.x1+r[0]+n.left,u=i.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)s+=e.x||0,u+=e.y||0;return{x:s,y:u,width:o,height:a,left:s,top:u,right:s+o,bottom:u+a}}}},Mm.prototype={initialize:function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var Im="dragenter",Pm="dragleave",Lm="dragover",Fm="mousedown",Rm="mousemove",Bm="mouseout",zm="mouseover",Um="click",Hm="mousewheel",Vm="touchstart",Wm="touchmove",qm="touchend",Gm=["keydown","keypress","keyup",Im,Pm,Lm,Fm,"mouseup",Rm,Bm,zm,Um,"dblclick","wheel",Hm,Vm,Wm,qm],Ym=Rm,Qm=Bm,Km=Um;function Xm(e,t){jm.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Jm(e,t){(function(e){return e===Vm||e===Wm||e===qm?[Vm,Wm,qm]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function $m(e,t,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(t,r)),this.fire(e,r)}}function Zm(e){return function(t){this.fire(e,t),this._active=null}}Object(ee.z)(Xm,jm,{initialize:function(e,t,n){var r=this;return this._canvas=e&&Sm(e,"canvas"),[Um,Fm,Rm,Bm,Pm].forEach((function(e){return Jm(r,e)})),jm.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:Gm,DOMMouseScroll:function(e){this.fire(Hm,e)},mousemove:$m(Rm,zm,Bm),dragover:$m(Lm,Im,Pm),mouseout:Zm(Bm),dragleave:Zm(Pm),mousedown:function(e){this._down=this._active,this.fire(Fm,e)},click:function(e){this._down===this._active&&(this.fire(Um,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Vm,e,!0)},touchmove:function(e){this.fire(Wm,e,!0)},touchend:function(e){this.fire(qm,e,!0),this._touch=null},fire:function(e,t,n){var r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===Km&&r&&r.href?this.handleHref(t,r,r.href):e!==Ym&&e!==Qm||this.handleTooltip(t,r,e!==Qm),i)for(var o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,t,r)},on:function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Jm(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent:function(e){var t=Am(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,r,i){var o=this.context();return mm[e.marktype].pick.call(this,o,e,t,n,r,i)}});var eg="undefined"!=typeof window&&window.devicePixelRatio||1;function tg(e){Mm.call(this,e),this._options={},this._redraw=!1,this._dirty=new xp,this._tempb=new xp}var ng=Mm.prototype;function rg(e,t){jm.call(this,e,t);var n=this;n._hrefHandler=ig(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=ig(n,(function(e,t){n.handleTooltip(e,t,e.type!==Qm)}))}Object(ee.z)(tg,Mm,{initialize:function(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:jl(1,1,this._options.type),e&&this._canvas&&(Cm(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),ng.initialize.call(this,e,t,n,r,i)},resize:function(e,t,n,r){if(ng.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,i,o){var a="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),u=a?eg:i;for(var l in e.width=t*u,e.height=n*u,o)s[l]=o[l];a&&1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*r[0],u*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var i=this._options.externalContext;i||Object(ee.o)("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t,n,r,i=this.context(),o=this._origin,a=this._width,s=this._height,u=this._dirty,l=(t=o,n=a,r=s,(new xp).set(0,0,n,r).translate(-t[0],-t[1]));i.save();var c=this._redraw||u.empty()?(this._redraw=!1,l.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(i,l.intersect(u),o);return this.clear(-o[0],-o[1],a,s),this.draw(i,e,c),i.restore(),u.clear(),this},draw:function(e,t,n){var r=mm[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(ee.E)(n)?(e.beginPath(),n(e),e.clip()):Tv(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,r){var i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(e,t,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});var ig=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};Object(ee.z)(rg,jm,{initialize:function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(Km,this._hrefHandler),r.removeEventListener(Ym,this._tooltipHandler),r.removeEventListener(Qm,this._tooltipHandler)),this._svg=r=e&&Sm(e,"svg"),r&&(r.addEventListener(Km,this._hrefHandler),r.addEventListener(Ym,this._tooltipHandler),r.addEventListener(Qm,this._tooltipHandler)),jm.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:ig(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});var og="aria-hidden",ag="aria-label",sg="role",ug="aria-roledescription",lg="graphics-object",cg="graphics-symbol",fg=function(e,t,n){var r;return d(r={},sg,e),d(r,ug,t),d(r,ag,n||void 0),r},dg=Object(ee.fb)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),hg={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?yg(e):null,i=e.context,o=i.scales[t.scale].value,a=i.dataflow.locale(),s=o.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(qd(s)?"discrete":s," scale")+" with ".concat(kh(a,o,e))}},legend:{desc:"legend",caption:function(e){var t,n=e.datum,r=n.title?yg(e):null,i="".concat(n.type||""," legend").trim(),o=n.scales,a=Object.keys(o),s=e.context,u=s.scales[o[a[0]]].value,l=s.dataflow.locale();return((t=i).length?t[0].toUpperCase()+t.slice(1):t)+(r?" titled '".concat(r,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(ee.W)(e)}(a))+" with ".concat(kh(l,u,e))}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(gg(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(gg(e),"'")}}},pg={ariaRole:sg,ariaRoleDescription:ug,description:ag};function vg(e,t){var n=!1===t.aria;if(e(og,n||void 0),n||null==t.description)for(var r in pg)e(pg[r],void 0);else{var i=t.mark.marktype;e(ag,t.description),e(sg,t.ariaRole||("group"===i?lg:cg)),e(ug,t.ariaRoleDescription||"".concat(i," mark"))}}function mg(e){return!1===e.aria?d({},og,!0):dg[e.role]?null:hg[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return fg(t.role||cg,t.desc,n.description||r(n))}catch(e){return null}}(e,hg[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return fg(n?lg:cg,"".concat(t," mark container"),e.description)}(e)}function gg(e){return Object(ee.i)(e.text).join(" ")}function yg(e){try{return Object(ee.i)(Object(ee.W)(e.items).items[0].text).join(" ")}catch(e){return null}}var bg=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function _g(){var e="",t="",n="",r=[],i=function(){return t=n=""},o=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(bg(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),a},a={open:function(s){(function(o){t&&(e+="".concat(t,">").concat(n),i()),r.push(o)})(s),t="<"+s;for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];for(var f=0,d=l;f<d.length;f++){var h=d[f];for(var p in h)o(p,h[p])}return a},close:function(){var o=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),i(),a},attr:o,text:function(e){return n+=bg(e),a},toString:function(){return e}};return a}var wg=function(e){return function e(t,n){if(t.open(n.tagName),n.hasAttributes())for(var r=n.attributes,i=r.length,o=0;o<i;++o)t.attr(r[o].name,r[o].value);if(n.hasChildNodes())for(var a=n.childNodes,s=a.length,u=0;u<s;u++){var l=a[u];3===l.nodeType?t.text(l.nodeValue):e(t,l)}return t.close()}(_g(),e)+""},xg={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Og={fill:"none","stroke-miterlimit":10},kg=Pv.xmlns;function Eg(e){Mm.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var Sg=Mm.prototype;function Tg(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Cg(e,t,n){var r,i,o;if("radial"===t.gradient){var a=Tm(e,n++,"pattern",kg);Lg(a,{id:"p_"+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Lg(a=Tm(a,0,"rect",kg),{width:1,height:1,fill:"url(".concat(Rg(),"#").concat(t.id,")")}),Lg(e=Tm(e,n++,"radialGradient",kg),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else Lg(e=Tm(e,n++,"linearGradient",kg),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)(o=Tm(e,r,"stop",kg)).setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Cm(e,r),n}function Dg(e,t,n){return(e=Tm(e,n,"clipPath",kg)).setAttribute("id",t.id),t.path?Tm(e,0,"path",kg).setAttribute("d",t.path):Lg(Tm(e,0,"rect",kg),{x:0,y:0,width:t.width,height:t.height}),Cm(e,1),n+1}function Ag(e,t,n,r,i){var o,a=e._svg;if(!a&&(a=Em(o=t.ownerDocument,r,kg),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var s=Em(o,"path",kg);a.appendChild(s),s.__data__=e;var u=Em(o,"g",kg);a.appendChild(u),u.__data__=e;var l=Em(o,"path",kg);a.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}Object(ee.z)(Eg,Mm,{initialize:function(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=Tm(e,0,"svg",kg),Lg(this._svg,Pv),this._svg.setAttribute("class","marks"),Cm(e,1),this._root=Tm(this._svg,0,"g",kg),Lg(this._root,Og),Cm(this._svg,1)),this.background(this._bgcolor),Sg.initialize.call(this,e,t,n,r,i)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Sg.background.apply(this,arguments)},resize:function(e,t,n,r){return Sg.resize.call(this,e,t,n,r),this._svg&&(Lg(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),Lg(e=Tm(t,0,"rect",kg),{width:this._width,height:this._height,fill:n}));var r=wg(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),r},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Cm(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,o,a,s,u=++this._dirtyID;for(o=0,a=e.length;o<a;++o)(n=(t=e[o]).mark).marktype!==r&&(r=n.marktype,i=mm[r]),n.zdirty&&n.dirty!==u&&(this._dirtyAll=!1,Tg(t,u),n.items.forEach((function(e){e.dirty=u}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==u&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,Tg(t,u)),t._update=u));return!this._dirtyAll},mark:function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var i=this._svg,o=mm[t.marktype],a=!1===t.interactive?"none":null,s="g"===o.tag,u=null,l=0,c=Ag(t,e,n,"g",i);c.setAttribute("class",Dm(t));var f=mg(t);for(var d in f)Fg(c,d,f[d]);s||Fg(c,"pointer-events",a),Fg(c,"clip-path",t.clip?wp(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=Ag(e,c,u,o.tag,i);t&&(r._update(o,n,e),s&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;hv(n,(function(n){r=e.mark(t,n,r),++i})),Cm(t,1+i)}(r,n,e)),u=n,++l};return o.nested?t.items.length&&h(t.items[0]):hv(t,h),Cm(c,l),c},_update:function(e,t,n){jg=t,Ng=t.__values__,vg(Ig,n),e.attr(Ig,n,this);var r=Mg[e.type];r&&r.call(this,e,t,n),jg&&this.style(jg,n)},style:function(e,t){if(null!=t)for(var n in xg){var r="font"===n?lm(t):t[n];if(r!==Ng[n]){var i=xg[n];null==r?e.removeAttribute(i):(Sh(r)&&(r=Th(r,this._defs.gradient,Rg())),e.setAttribute(i,r+"")),Ng[n]=r}}},defs:function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var i in t.gradient)n||(t.el=n=Tm(e,1,"defs",kg)),r=Cg(n,t.gradient[i],r);for(var o in t.clipping)n||(t.el=n=Tm(e,1,"defs",kg)),r=Dg(n,t.clipping[o],r);n&&(0===r?(e.removeChild(n),t.el=null):Cm(n,r))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var jg=null,Ng=null,Mg={group:function(e,t,n){var r=jg=t.childNodes[2];Ng=r.__values__,e.foreground(Ig,n,this),Ng=t.__values__,jg=t.childNodes[1],e.content(Ig,n,this);var i=jg=t.childNodes[0];e.background(Ig,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==Ng.events&&(Fg(r,"pointer-events",o),Fg(i,"pointer-events",o),Ng.events=o),n.strokeForeground&&n.stroke){var a=n.fill;Fg(r,"display",null),this.style(i,n),Fg(i,"stroke",null),a&&(n.fill=null),Ng=r.__values__,this.style(r,n),a&&(n.fill=a),jg=null}else Fg(r,"display","none")},image:function(e,t,n){!1===n.smooth?(Pg(t,"image-rendering","optimizeSpeed"),Pg(t,"image-rendering","pixelated")):Pg(t,"image-rendering",null)},text:function(e,t,n){var r,i,o,a,s=am(n);Object(ee.B)(s)?(r=(i=s.map((function(e){return um(n,e)}))).join("\n"))!==Ng.text&&(Cm(t,0),o=t.ownerDocument,a=om(n),i.forEach((function(e,r){var i=Em(o,"tspan",kg);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",a)),t.appendChild(i)})),Ng.text=r):(i=um(n,s))!==Ng.text&&(t.textContent=i,Ng.text=i),Fg(t,"font-family",lm(n)),Fg(t,"font-size",im(n)+"px"),Fg(t,"font-style",n.fontStyle),Fg(t,"font-variant",n.fontVariant),Fg(t,"font-weight",n.fontWeight)}};function Ig(e,t,n){t!==Ng[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(jg,e,t,n):Fg(jg,e,t),Ng[e]=t)}function Pg(e,t,n){n!==Ng[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ng[t]=n)}function Lg(e,t){for(var n in t)Fg(e,n,t[n])}function Fg(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Rg(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Bg(e){Mm.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(ee.z)(Bg,Mm,{svg:function(){return this._text},_render:function(e){var t=_g();t.open("svg",Object(ee.p)({},Pv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",Og,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,r=mm[t.marktype],i=r.tag,o=[vg,r.attr];e.open("g",{class:Dm(t),"clip-path":t.clip?wp(this,t,t.group):null},mg(t),{"pointer-events":"g"!==i&&!1===t.interactive?"none":null});var a=function(a){var s=n.href(a);if(s&&e.open("a",s),e.open(i,n.attr(t,a,o,"g"!==i?i:null)),"text"===i){var u=am(a);if(Object(ee.B)(u))for(var l={x:0,dy:om(a)},c=0;c<u.length;++c)e.open("tspan",c?l:null).text(um(a,u[c])).close();else e.text(um(a,u))}else if("g"===i){var f=a.strokeForeground,d=a.fill,h=a.stroke;f&&h&&(a.stroke=null),e.open("path",n.attr(t,a,r.background,"bgrect")).close(),e.open("g",n.attr(t,a,r.content)),hv(a,(function(t){return n.mark(e,t)})),e.close(),f&&h?(d&&(a.fill=null),a.stroke=h,e.open("path",n.attr(t,a,r.foreground,"bgrect")).close(),d&&(a.fill=d)):e.open("path",n.attr(t,a,r.foreground,"bgfore")).close()}e.close(),s&&e.close()};return r.nested?t.items&&t.items.length&&a(t.items[0]):hv(t,a),e.close()},href:function(e){var t,n=this,r=e.href;if(r){if(t=this._hrefs&&this._hrefs[r])return t;this.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},attr:function(e,t,n,r){var i=this,o={},a=function(e,t,n,r){o[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(a,t,i)})):n(a,t,this),r&&function(e,t,n,r,i){if(null==t)return e;if("bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none"),"bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;for(var o in"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===r&&(e["font-family"]=lm(t),e["font-size"]=im(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight),xg){var a=t[o],s=xg[o];("transparent"!==a||"fill"!==s&&"stroke"!==s)&&null!=a&&(Sh(a)&&(a=Th(a,i.gradient,"")),e[s]=a)}}(o,t,e,r,this._defs),o},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var r in e.open("defs"),t){var i=t[r],o=i.stops;"radial"===i.gradient?(e.open("pattern",{id:"p_"+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open("linearGradient",{id:r,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(var a=0;a<o.length;++a)e.open("stop",{offset:o[a].offset,"stop-color":o[a].color}).close();e.close()}for(var s in n){var u=n[s];e.open("clipPath",{id:s}),u.path?e.open("path",{d:u.path}).close():e.open("rect",{x:0,y:0,width:u.width,height:u.height}).close(),e.close()}e.close()}}});var zg={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Ug={};function Hg(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Ug[e]=t,this):Ug[e]}function Vg(e,t,n){var r=[],i=(new xp).union(t),o=e.marktype;return o?Wg(e,i,n,r):"group"===o?qg(e,i,n,r):Object(ee.o)("Intersect scene must be mark node or group item.")}function Wg(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,o=e.marktype,a=i.length,s=0;if("group"===o)for(;s<a;++s)qg(i[s],t,n,r);else for(var u=mm[o].isect;s<a;++s){var l=i[s];Gg(l,t,u)&&r.push(l)}}return r}function qg(e,t,n,r){n&&n(e.mark)&&Gg(e,t,mm.group.isect)&&r.push(e);var i=e.items,o=i&&i.length;if(o){var a=e.x||0,s=e.y||0;t.translate(-a,-s);for(var u=0;u<o;++u)Wg(i[u],t,n,r);t.translate(a,s)}return r}function Gg(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}Ug.canvas=Ug.png={renderer:tg,headless:tg,handler:Xm},Ug.svg={renderer:Eg,headless:Bg,handler:rg},Ug.none={};var Yg=new xp;function Qg(e){var t=e.clip;if(Object(ee.E)(t))t(Gp(Yg.clear()));else{if(!t)return;Yg.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Yg)}function Kg(e,t,n){return e===t||("path"===n?Xg(e,t):e instanceof Date&&t instanceof Date?+e==+t:Object(ee.G)(e)&&Object(ee.G)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(ee.H)(e)||Object(ee.H)(t))?function(e,t){var n,r,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(!Kg(e[n=i[r]],t[n],n))return!1;return typeof e==typeof t}(e,t):e==t)}function Xg(e,t){return Kg(Ih(e),Ih(t))}function Jg(){_p(),Eh=0}var $g="top",Zg="left",ey="right",ty="bottom",ny="start",ry="middle",iy="end",oy="group",ay="axis",sy="title",uy="legend",ly="row-header",cy="row-footer",fy="row-title",dy="column-header",hy="column-footer",py="column-title",vy="none",my="all",gy="each",yy="flush",by="column",_y="row";function wy(e){Uo.call(this,null,e)}function xy(e,t,n){return t(e.bounds.clear(),e,n)}Object(ee.z)(wy,Uo,{transform:function(e,t){var n,r=t.dataflow,i=e.mark,o=i.marktype,a=mm[o],s=a.bound,u=i.bounds;if(a.nested)i.items.length&&r.dirty(i.items[0]),u=xy(i,s),i.items.forEach((function(e){e.bounds.clear().union(u)}));else if(o===oy||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),u.clear(),i.items.forEach((function(e){return u.union(xy(e,s))})),i.role){case ay:case uy:case sy:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){u.union(xy(e,s))})),t.visit(t.MOD,(function(e){n=n||u.alignsWith(e.bounds),r.dirty(e),u.union(xy(e,s))})),n&&(u.clear(),i.items.forEach((function(e){return u.union(e.bounds)})));return Qg(i),t.modifies("bounds")}});var Oy=":vega_identifier:";function ky(e){Uo.call(this,0,e)}function Ey(e){Uo.call(this,null,e)}function Sy(e){Uo.call(this,null,e)}ky.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(ee.z)(ky,Uo,{transform:function(e,t){var n,r=(n=t.dataflow)._signals[Oy]||(n._signals[Oy]=n.add(0)),i=e.as,o=r.value;return t.visit(t.ADD,(function(e){return e[i]=e[i]||++o})),r.set(this.value=o),t}}),Object(ee.z)(Ey,Uo,{transform:function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r=n.marktype===oy?kp:Op;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});var Ty={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&Cy(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}},Cy=function(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)},Dy=function(e,t){for(var n,r=1,i=e.length,o=e[0].bounds;r<i;o=n,++r)if(Cy(o,n=e[r].bounds,t))return!0},Ay=function(e){var t=e.bounds;return t.width()>1&&t.height()>1},jy=function(e){return e.forEach((function(e){return e.opacity=1})),e},Ny=function(e,t){return e.reflow(t.modified()).modifies("opacity")};function My(e){Uo.call(this,null,e)}Object(ee.z)(Sy,Uo,{transform:function(e,t){var n,r,i=Ty[e.method]||Ty.parity,o=e.separation||0,a=t.materialize(t.SOURCE).source;if(a&&a.length){if(!e.method)return e.modified("method")&&(jy(a),t=Ny(t,e)),t;if((a=a.filter(Ay)).length){if(e.sort&&(a=a.slice().sort(e.sort)),n=jy(a),t=Ny(t,e),n.length>=3&&Dy(n,o)){do{n=i(n,o)}while(n.length>=3&&Dy(n,o));n.length<3&&!Object(ee.W)(a).opacity&&(n.length>1&&(Object(ee.W)(n).opacity=0),Object(ee.W)(a).opacity=1)}var s,u,l,c,f;e.boundScale&&e.boundTolerance>=0&&(s=e.boundScale,u=e.boundOrient,l=+e.boundTolerance,c=s.range(),f=new xp,u===$g||u===ty?f.set(c[0],-1/0,c[1],1/0):f.set(-1/0,c[0],1/0,c[1]),f.expand(l||1),r=function(e){return f.encloses(e.bounds)},a.forEach((function(e){r(e)||(e.opacity=0)})));var d=n[0].mark.bounds.clear();return a.forEach((function(e){e.opacity&&d.union(e.bounds)})),t}}}}),Object(ee.z)(My,Uo,{transform:function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});var Iy=new xp;function Py(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Ly(e){var t=e.items[0].orient;return t===Zg||t===ey}function Fy(e,t,n,r){var i,o,a=t.items[0],s=a.datum,u=null!=a.translate?a.translate:.5,l=a.orient,c=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),f=a.range,d=a.offset,h=a.position,p=a.minExtent,v=a.maxExtent,m=s.title&&a.items[c[2]].items[0],g=a.titlePadding,y=a.bounds,b=m&&sm(m),_=0,w=0;switch(Iy.clear().union(y),y.clear(),(i=c[0])>-1&&y.union(a.items[i].bounds),(i=c[1])>-1&&y.union(a.items[i].bounds),l){case $g:_=h||0,w=-d,o=Math.max(p,Math.min(v,-y.y1)),y.add(0,-o).add(f,0),m&&Ry(e,m,o,g,b,0,-1,y);break;case Zg:_=-d,w=h||0,o=Math.max(p,Math.min(v,-y.x1)),y.add(-o,0).add(0,f),m&&Ry(e,m,o,g,b,1,-1,y);break;case ey:_=n+d,w=h||0,o=Math.max(p,Math.min(v,y.x2)),y.add(0,0).add(o,f),m&&Ry(e,m,o,g,b,1,1,y);break;case ty:_=h||0,w=r+d,o=Math.max(p,Math.min(v,y.y2)),y.add(0,0).add(f,o),m&&Ry(e,m,o,g,0,0,1,y);break;default:_=a.x,w=a.y}return Cp(y.translate(_,w),a),Py(a,"x",_+u)|Py(a,"y",w+u)&&(a.bounds=Iy,e.dirty(a),a.bounds=y,e.dirty(a)),a.mark.bounds.clear().union(y)}function Ry(e,t,n,r,i,o,a,s){var u=t.bounds;if(t.auto){var l=a*(n+i+r),c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=l):f=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}s.union(u)}var By=function(e,t){return Math.floor(Math.min(e,t))},zy=function(e,t){return Math.ceil(Math.max(e,t))};function Uy(e){return(new xp).set(0,0,e.width||0,e.height||0)}function Hy(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Vy(e,t,n){var r=Object(ee.H)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function Wy(e){return e<0?Math.ceil(-e):0}function qy(e,t,n){var r,i,o,a,s,u,l,c,f,d,h,p=!n.nodirty,v=n.bounds===yy?Uy:Hy,m=Iy.set(0,0,0,0),g=Vy(n.align,by),y=Vy(n.align,_y),b=Vy(n.padding,by),_=Vy(n.padding,_y),w=n.columns||t.length,x=w<=0?1:Math.ceil(t.length/w),O=t.length,k=Array(O),E=Array(w),S=0,T=Array(O),C=Array(x),D=0,A=Array(O),j=Array(O),N=Array(O);for(i=0;i<w;++i)E[i]=0;for(i=0;i<x;++i)C[i]=0;for(i=0;i<O;++i)u=t[i],s=N[i]=v(u),u.x=u.x||0,A[i]=0,u.y=u.y||0,j[i]=0,o=i%w,a=~~(i/w),S=Math.max(S,l=Math.ceil(s.x2)),D=Math.max(D,c=Math.ceil(s.y2)),E[o]=Math.max(E[o],l),C[a]=Math.max(C[a],c),k[i]=b+Wy(s.x1),T[i]=_+Wy(s.y1),p&&e.dirty(t[i]);for(i=0;i<O;++i)i%w==0&&(k[i]=0),i<w&&(T[i]=0);if(g===gy)for(o=1;o<w;++o){for(h=0,i=o;i<O;i+=w)h<k[i]&&(h=k[i]);for(i=o;i<O;i+=w)k[i]=h+E[o-1]}else if(g===my){for(h=0,i=0;i<O;++i)i%w&&h<k[i]&&(h=k[i]);for(i=0;i<O;++i)i%w&&(k[i]=h+S)}else for(g=!1,o=1;o<w;++o)for(i=o;i<O;i+=w)k[i]+=E[o-1];if(y===gy)for(a=1;a<x;++a){for(h=0,r=(i=a*w)+w;i<r;++i)h<T[i]&&(h=T[i]);for(i=a*w;i<r;++i)T[i]=h+C[a-1]}else if(y===my){for(h=0,i=w;i<O;++i)h<T[i]&&(h=T[i]);for(i=w;i<O;++i)T[i]=h+D}else for(y=!1,a=1;a<x;++a)for(r=(i=a*w)+w;i<r;++i)T[i]+=C[a-1];for(f=0,i=0;i<O;++i)f=k[i]+(i%w?f:0),A[i]+=f-t[i].x;for(o=0;o<w;++o)for(d=0,i=o;i<O;i+=w)d+=T[i],j[i]+=d-t[i].y;if(g&&Vy(n.center,by)&&x>1)for(i=0;i<O;++i)(f=(s=g===my?S:E[i%w])-N[i].x2-t[i].x-A[i])>0&&(A[i]+=f/2);if(y&&Vy(n.center,_y)&&1!==w)for(i=0;i<O;++i)(d=(s=y===my?D:C[~~(i/w)])-N[i].y2-t[i].y-j[i])>0&&(j[i]+=d/2);for(i=0;i<O;++i)m.union(N[i].translate(A[i],j[i]));switch(f=Vy(n.anchor,"x"),d=Vy(n.anchor,"y"),Vy(n.anchor,by)){case iy:f-=m.width();break;case ry:f-=m.width()/2}switch(Vy(n.anchor,_y)){case iy:d-=m.height();break;case ry:d-=m.height()/2}for(f=Math.round(f),d=Math.round(d),m.clear(),i=0;i<O;++i)t[i].mark.bounds.clear();for(i=0;i<O;++i)(u=t[i]).x+=A[i]+=f,u.y+=j[i]+=d,m.union(u.mark.bounds.union(u.bounds.translate(A[i],j[i]))),p&&e.dirty(u);return m}function Gy(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function Yy(e,t){return e.bounds[t]}function Qy(e,t,n,r,i,o,a,s,u,l,c,f,d,h){var p,v,m,g,y,b,_,w,x,O=n.length,k=0,E=0;if(!O)return k;for(p=c;p<O;p+=f)n[p]&&(k=a(k,u(n[p],l)));if(!t.length)return k;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),k+=o,v=0,g=t.length;v<g;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=c,v=0,g=t.length;v<g;++v,p+=f){for(y=(b=t[v]).mark.bounds,m=p;m>=0&&null==(_=n[m]);m-=d);s?(w=null==h?_.x:Math.round(_.bounds.x1+h*_.bounds.width()),x=k):(w=k,x=null==h?_.y:Math.round(_.bounds.y1+h*_.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),x-(b.y||0))),b.x=w,b.y=x,e.dirty(b),E=a(E,y[l])}return E}function Ky(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function Xy(e,t,n,r,i,o,a){var s=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),u=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,s("offset",0)),l=s("anchor",ny),c=l===iy?1:l===ry?.5:0,f={align:gy,bounds:s("bounds",yy),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case Zg:f.anchor={x:Math.floor(r.x1)-u,column:iy,y:c*(a||r.height()+2*r.y1),row:l};break;case ey:f.anchor={x:Math.ceil(r.x2)+u,y:c*(a||r.height()+2*r.y1),row:l};break;case $g:f.anchor={y:Math.floor(i.y1)-u,row:iy,x:c*(o||i.width()+2*i.x1),column:l};break;case ty:f.anchor={y:Math.ceil(i.y2)+u,x:c*(o||i.width()+2*i.x1),column:l};break;case"top-left":f.anchor={x:u,y:u};break;case"top-right":f.anchor={x:o-u,y:u,column:iy};break;case"bottom-left":f.anchor={x:u,y:a-u,row:iy};break;case"bottom-right":f.anchor={x:o-u,y:a-u,column:iy,row:iy}}return f}function Jy(e,t){var n,r,i=t.items[0],o=i.datum,a=i.orient,s=i.bounds,u=i.x,l=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(t.datum.title){var a=t.items[1].items[0],s=a.anchor,u=t.titlePadding||0,l=r-a.x,c=r-a.y;switch(a.orient){case Zg:i+=Math.ceil(a.bounds.width())+u;break;case ey:case ty:break;default:o+=a.bounds.height()+u}switch((i||o)&&Zy(e,n,i,o),a.orient){case Zg:c+=$y(t,n,a,s,1,1);break;case ey:l+=$y(t,n,a,iy,0,0)+u,c+=$y(t,n,a,s,1,1);break;case ty:l+=$y(t,n,a,s,0,0),c+=$y(t,n,a,iy,-1,0,1)+u;break;default:l+=$y(t,n,a,s,0,0)}(l||c)&&Zy(e,a,l,c),(l=Math.round(a.bounds.x1-r))<0&&(Zy(e,n,-l,0),Zy(e,a,-l,0))}else(i||o)&&Zy(e,n,i,o)}(e,i,i.items[0].items[0]),s=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,s),n=2*i.padding,r=2*i.padding,s.empty()||(n=Math.ceil(s.width()+n),r=Math.ceil(s.height()+r)),"symbol"===o.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),a!==vy&&(i.x=u=0,i.y=l=0),i.width=n,i.height=r,Cp(s.set(u,l,u+n,l+r),i),i.mark.bounds.clear().union(s),i}function $y(e,t,n,r,i,o,a){var s="symbol"!==e.datum.type,u=n.datum.vgrad,l=(!s||!o&&u||a?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,c=u&&o?l:0,f=u&&o?0:l,d=i<=0?0:sm(n);return Math.round(r===ny?c:r===iy?f-d:.5*(l-d))}function Zy(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function eb(e){Uo.call(this,null,e)}function tb(e,t){var n=0;if(void 0===t){var r,i=g(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=g(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;(l=+t(l,++s,e))&&(n+=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function nb(e){Uo.call(this,null,e)}function rb(e){Uo.call(this,null,e)}function ib(){return co({})}function ob(e){Uo.call(this,null,e)}function ab(e){Uo.call(this,[],e)}Object(ee.z)(eb,Uo,{transform:function(e,t){var n,r=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&function(e,t,n){var r,i,o,a,s,u,l,c=function(e){for(var t,n,r,i,o,a,s,u=e.items,l=u.length,c=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};c<l;++c)if(s=(a=u[c]).items,a.marktype===oy)switch(a.role){case ay:case uy:case sy:break;case ly:(t=f.rowheaders).push.apply(t,m(s));break;case cy:(n=f.rowfooters).push.apply(n,m(s));break;case dy:(r=f.colheaders).push.apply(r,m(s));break;case hy:(i=f.colfooters).push.apply(i,m(s));break;case fy:f.rowtitle=s[0];break;case py:f.coltitle=s[0];break;default:(o=f.marks).push.apply(o,m(s))}return f}(t),f=c.marks,d=n.bounds===yy?Gy:Yy,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),g=v*p,y=qy(e,f,n);y.empty()&&y.set(0,0,0,0),c.rowheaders&&(u=Vy(n.headerBand,_y,null),r=Qy(e,c.rowheaders,f,0,v,-Vy(h,"rowHeader"),By,0,d,"x1",0,p,1,u)),c.colheaders&&(u=Vy(n.headerBand,by,null),i=Qy(e,c.colheaders,f,0,p,-Vy(h,"columnHeader"),By,1,d,"y1",0,1,p,u)),c.rowfooters&&(u=Vy(n.footerBand,_y,null),o=Qy(e,c.rowfooters,f,0,v,Vy(h,"rowFooter"),zy,0,d,"x2",p-1,p,1,u)),c.colfooters&&(u=Vy(n.footerBand,by,null),a=Qy(e,c.colfooters,f,0,p,Vy(h,"columnFooter"),zy,1,d,"y2",g-p,1,p,u)),c.rowtitle&&(s=Vy(n.titleAnchor,_y),l=Vy(h,"rowTitle"),l=s===iy?o+l:r-l,u=Vy(n.titleBand,_y,.5),Ky(e,c.rowtitle,l,0,y,u)),c.coltitle&&(s=Vy(n.titleAnchor,by),l=Vy(h,"columnTitle"),l=s===iy?a+l:i-l,u=Vy(n.titleBand,by,.5),Ky(e,c.coltitle,l,1,y,u))}(r,t,e.layout),function(e,t,n){var r,i,o,a,s,u=t.items,l=Math.max(0,t.width||0),c=Math.max(0,t.height||0),f=(new xp).set(0,0,l,c),d=f.clone(),h=f.clone(),p=[];for(a=0,s=u.length;a<s;++a)switch((i=u[a]).role){case ay:(Ly(i)?d:h).union(Fy(e,i,l,c));break;case sy:r=i;break;case uy:p.push(Jy(e,i));break;case"frame":case"scope":case ly:case cy:case fy:case dy:case hy:case py:d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var v={};for(var m in p.forEach((function(e){(o=e.orient||ey)!==vy&&(v[o]||(v[o]=[])).push(e)})),v){var g=v[m];qy(e,g,Xy(g,m,n.legends,d,h,l,c))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case Zg:case ey:f.add(r.x1,0).add(r.x2,0);break;case $g:case ty:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,i){var o,a=t.items[0],s=a.frame,u=a.orient,l=a.anchor,c=a.offset,f=a.padding,d=a.items[0].items[0],h=a.items[1]&&a.items[1].items[0],p=u===Zg||u===ey?r:n,v=0,m=0,g=0,y=0,b=0;if(s!==oy?u===Zg?(v=i.y2,p=i.y1):u===ey?(v=i.y1,p=i.y2):(v=i.x1,p=i.x2):u===Zg&&(v=r,p=0),o=l===ny?v:l===iy?p:(v+p)/2,h&&h.text){switch(u){case $g:case ty:b=d.bounds.height()+f;break;case Zg:y=d.bounds.width()+f;break;case ey:y=-d.bounds.width()-f}Iy.clear().union(h.bounds),Iy.translate(y-(h.x||0),b-(h.y||0)),Py(h,"x",y)|Py(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(Iy),h.mark.bounds.clear().union(Iy),e.dirty(h)),Iy.clear().union(h.bounds)}else Iy.clear();switch(Iy.union(d.bounds),u){case $g:m=o,g=i.y1-Iy.height()-c;break;case Zg:m=i.x1-Iy.width()-c,g=o;break;case ey:m=i.x2+Iy.width()+c,g=o;break;case ty:m=o,g=i.y2+c;break;default:m=a.x,g=a.y}return Py(a,"x",m)|Py(a,"y",g)&&(Iy.translate(m,g),e.dirty(a),a.bounds.clear().union(Iy),t.bounds.clear().union(Iy),e.dirty(a)),a.bounds}(e,r,l,c,f)),t.clip&&f.set(0,0,t.width||0,t.height||0),function(e,t,n,r){var i=r.autosize||{},o=i.type;if(!(e._autosize<1)&&o){var a=e._width,s=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-u)),h=Math.max(0,Math.ceil(n.y2-c));if("padding"===i.contains){var p=e.padding();a-=p.left+p.right,s-=p.top+p.bottom}o===vy?(l=0,f=0,u=a,c=s):"fit"===o?(u=Math.max(0,a-l-d),c=Math.max(0,s-f-h)):"fit-x"===o?(u=Math.max(0,a-l-d),s=c+f+h):"fit-y"===o?(a=u+l+d,c=Math.max(0,s-f-h)):"pad"===o&&(a=u+l+d,s=c+f+h),e._resizeView(a,s,u,c,[l,f],i.resize)}}(e,t,f,n)}(r,t,e)})),(n=e.mark.group)&&"legend-entry"!==n.mark.role?t.reflow():t}}),Object(ee.z)(nb,Uo,{transform:function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,a=ch(o,null==e.count?e.values?e.values.length:10:e.count,e.minstep),s=e.format||hh(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?fh(o,e.values,a):dh(o,a);return i&&(r.rem=i),i=u.map((function(e,t){return co({index:t/(u.length-1||1),value:e,label:s(e)})})),e.extra&&i.length&&i.push(co({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),Object(ee.z)(rb,Uo,{transform:function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||ib,o=e.key||uo,a=this.value;return Object(ee.B)(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&Object(ee.o)("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=function(e){var t=Object(ee.t)().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(o)),t.visit(t.ADD,(function(e){var t=o(e),n=a.get(t);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(e),a.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=o(e),n=a.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=o(e),n=a.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),Object(ee.z)(ob,Uo,{transform:function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Object(ee.B)(o)){if(!n.changed()&&!o.every((function(e){return i[e]})))return t.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,s=i.update||ee.s,u=i.enter||ee.s,l=i.exit||ee.s,c=(o&&!a?i[o]:s)||ee.s;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){u(t,e),s(t,e)})),n.modifies(u.output),n.modifies(s.output),c!==ee.s&&c!==s&&(t.visit(t.ADD,(function(t){c(t,e)})),n.modifies(c.output))),t.changed(t.REM)&&l!==ee.s&&(t.visit(t.REM,(function(t){l(t,e)})),n.modifies(l.output)),a||c!==ee.s){var f=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(f,(function(t){var i=u(t,e)||r;(c(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(u.output)):t.visit(f,(function(t){(c(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}}),Object(ee.z)(ab,Uo,{transform:function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,o,a,s=t.dataflow.locale(),u=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=this.value,c=e.type||ah,f=e.scale,d=+e.limit,h=ch(f,null==e.count?5:e.count,e.minstep),p=!!e.values||c===ah,v=e.format||yh(s,f,h,c,e.formatSpecifier,e.formatType,p),m=e.values||gh(f,h);return l&&(u.rem=l),c===ah?(d&&m.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=m.slice(0,d-1),a=!0):l=m,Object(ee.E)(i=e.size)?(e.values||0!==f(l[0])||(l=l.slice(1)),o=l.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Object(ee.m)(o=i||8),l=l.map((function(t,n){return co({index:n,label:v(t,n,l),value:t,offset:o,size:i(t,e)})})),a&&(a=m[l.length],l.push(co({index:l.length,label:"\u2026".concat(m.length-l.length," entries"),value:a,offset:o,size:i(a,e)})))):"gradient"===c?(n=f.domain(),r=eh(f,n[0],Object(ee.W)(n)),m.length<3&&!e.values&&n[0]!==Object(ee.W)(n)&&(m=[n[0],Object(ee.W)(n)]),l=m.map((function(e,t){return co({index:t,label:v(e,t,m),value:e,perc:r(e)})}))):(i=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(ee.W)(t),o=i-r;if(e.type===Sd){var a=n?o/n:.1;o=(i+=a)-(r-=a)}return function(e){return(e-r)/o}}(f),l=m.map((function(e,t){return co({index:t,label:v(e,t,m),value:e,perc:t?r(e):0,perc2:t===i?1:r(m[t+1])})}))),u.source=l,u.add=l,this.value=l,u}});var sb=function(e){return e.source.x},ub=function(e){return e.source.y},lb=function(e){return e.target.x},cb=function(e){return e.target.y};function fb(e){Uo.call(this,{},e)}fb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(ee.z)(fb,Uo,{transform:function(e,t){var n=e.sourceX||sb,r=e.sourceY||ub,i=e.targetX||lb,o=e.targetY||cb,a=e.as||"path",s=e.orient||"vertical",u=e.shape||"line",l=vb.get(u+"-"+s)||vb.get(u);return l||Object(ee.o)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[a]=l(n(e),r(e),i(e),o(e))})),t.reflow(e.modified()).modifies(a)}});var db=function(e,t,n,r){return"M"+e+","+t+"L"+n+","+r},hb=function(e,t,n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r},pb=function(e,t,n,r){var i=n-e,o=r-t,a=.2*(i+o),s=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+s)+" "+(n+s)+","+(r-a)+" "+n+","+r},vb=Object(ee.t)({line:db,"line-radial":function(e,t,n,r){return db(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:hb,"arc-radial":function(e,t,n,r){return hb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:pb,"curve-radial":function(e,t,n,r){return pb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n);return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*a+","+t*s+"L"+r*a+","+r*s},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*o+"C"+u*i+","+u*o+" "+u*a+","+u*s+" "+r*a+","+r*s}});function mb(e){Uo.call(this,null,e)}function gb(e){return Wd(e)&&e!==xd}mb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(ee.z)(mb,Uo,{transform:function(e,t){var n,r,i,o=e.as||["startAngle","endAngle"],a=o[0],s=o[1],u=e.field||ee.Q,l=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(u),h=d.length,p=l,v=(c-l)/tb(d),m=Ga(h);for(e.sort&&m.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)i=d[m[n]],(r=f[m[n]])[a]=p,r[s]=p+=i*v;return this.value=d,t.reflow(e.modified()).modifies(o)}});var yb=Object(ee.fb)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function bb(e){Uo.call(this,null,e),this.modified(!0)}function _b(e,t,n){return Yd(e)&&Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(ee.bb)(t)),t}function wb(e,t,n){return Object(ee.E)(e)&&(t||n)?Jd(e,xb(t||[0,1],n)):e}function xb(e,t){return t?e.slice().reverse():e}function Ob(e){Uo.call(this,null,e)}Object(ee.z)(bb,Uo,{transform:function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";return n===xd?"sequential-linear":(function(e){var t=e.type;return Wd(t)&&t!==_d&&t!==wd&&(e.scheme||e.range&&e.range.length&&e.range.every(ee.J))}(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":""),(r+n||vd).toLowerCase())}(e);for(i in r&&i===r.type||(this.value=r=Ud(i)()),e)if(!yb[i]){if("padding"===i&&gb(r.type))continue;Object(ee.E)(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){"band"!==e&&e!==Cd&&Object(ee.o)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===Cd?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*pd(n,i,r)]}(r,t,n);else if(t.scheme&&(o=function(e,t,n){var r,i=t.schemeExtent;return Object(ee.B)(t.scheme)?r=$d(t.scheme,t.interpolate,t.interpolateGamma):(r=oh(t.scheme.toLowerCase()))||Object(ee.o)("Unrecognized scheme name: ".concat(t.scheme)),n=e===Sd?n+1:e===Dd?n-1:e===kd||e===Ed?+t.schemeCount||5:n,Qd(e)?wb(r,i,t.reverse):Object(ee.E)(r)?Zd(wb(r,i),n):e===Td?r:r.slice(0,n)}(r,t,n),Object(ee.E)(o))){if(e.interpolator)return e.interpolator(o);Object(ee.o)("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&Qd(r))return e.interpolator($d(xb(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(th(t.interpolate,t.interpolateGamma)):Object(ee.E)(e.round)?e.round(i):Object(ee.E)(e.rangeRound)&&e.interpolate(i?zc:Bc),o&&e.range(xb(o,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(ee.B)(r)){var i=e.domain(),o=i[0],a=Object(ee.W)(i),s=r.step,u=null==r.start?o:r.start,l=null==r.stop?a:r.stop;s||Object(ee.o)("Scale bins parameter missing step property."),u<o&&(u=s*Math.ceil(o/s)),l>a&&(l=s*Math.floor(a/s)),r=Ga(u,l+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===Dd&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain()),n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(_b(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,o,a=t.domain,s=e.type,u=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===vd||t===gd||t===yd)}(e);if(!a)return 0;if(gb(s)&&t.padding&&a[0]!==Object(ee.W)(a)&&(a=function(e,t,n,r,i,o){var a=Math.abs(Object(ee.W)(n)-n[0]),s=a/(a-2*r),u=e===md?Object(ee.ob)(t,null,s):e===yd?Object(ee.pb)(t,null,s,.5):e===gd?Object(ee.pb)(t,null,s,i||1):e===bd?Object(ee.qb)(t,null,s,o||1):Object(ee.nb)(t,null,s);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(s,a,t.range,t.padding,t.exponent,t.constant)),(u||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(a=a.slice()).length-1||1,u&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[i]=t.domainMax),null!=t.domainMid)){var l=(o=t.domainMid)>a[i]?i+1:o<a[0]?0:i;l!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(l,0,o)}return e.domain(_b(s,a,n)),s===Td&&e.unknown(t.domainImplicit?Rl:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&ch(e,t.nice)||null),a.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Object(ee.z)(Ob,Uo,{transform:function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(vo(e.sort)),this.modified(n),t}});var kb="normalize",Eb=["y0","y1"];function Sb(e){Uo.call(this,null,e)}function Tb(e,t,n,r,i){for(var o,a=(t-e.sum)/2,s=e.length,u=0;u<s;++u)(o=e[u])[r]=a,o[i]=a+=Math.abs(n(o))}function Cb(e,t,n,r,i){for(var o,a=1/e.sum,s=0,u=e.length,l=0,c=0;l<u;++l)(o=e[l])[r]=s,o[i]=s=a*(c+=Math.abs(n(o)))}function Db(e,t,n,r,i){for(var o,a,s=0,u=0,l=e.length,c=0;c<l;++c)(o=+n(a=e[c]))<0?(a[r]=u,a[i]=u+=o):(a[r]=s,a[i]=s+=o)}Sb.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center",kb]},{name:"as",type:"string",array:!0,length:2,default:Eb}]},Object(ee.z)(Sb,Uo,{transform:function(e,t){var n,r,i,o,a=e.as||Eb,s=a[0],u=a[1],l=vo(e.sort),c=e.field||ee.Q,f="center"===e.offset?Tb:e.offset===kb?Cb:Db;for(n=function(e,t,n,r){var i,o,a,s,u,l,c,f,d,h=[],p=function(e){return e(u)};if(null==t)h.push(e.slice());else for(i={},o=0,a=e.length;o<a;++o)u=e[o],(c=i[l=t.map(p)])||(i[l]=c=[],h.push(c)),c.push(u);for(l=0,d=0,s=h.length;l<s;++l){for(o=0,f=0,a=(c=h[l]).length;o<a;++o)f+=Math.abs(r(c[o]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return h.max=d,h}(t.source,e.groupby,l,c),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,c,s,u);return t.reflow(e.modified()).modifies(a)}});var Ab=function(e){return e};function jb(e,t){e&&Mb.hasOwnProperty(e.type)&&Mb[e.type](e,t)}var Nb={Feature:function(e,t){jb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)jb(n[r].geometry,t)}},Mb={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ib(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ib(n[r],t,0)},Polygon:function(e,t){Pb(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Pb(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)jb(n[r],t)}};function Ib(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Pb(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ib(e[n],t,1);t.polygonEnd()}var Lb=function(e,t){e&&Nb.hasOwnProperty(e.type)?Nb[e.type](e,t):jb(e,t)},Fb=function(){function e(){y(this,e),this._partials=new Float64Array(32),this._n=0}return b(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],o=e+i,a=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,o=0;if(i>0){for(o=r[--i];i>0&&(e=o,!(n=(t=r[--i])-((o=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=o+t)-o&&(o=e)}return o}}]),e}(),Rb=1e-6,Bb=Math.PI,zb=Bb/2,Ub=Bb/4,Hb=2*Bb,Vb=180/Bb,Wb=Bb/180,qb=Math.abs,Gb=Math.atan,Yb=Math.atan2,Qb=Math.cos,Kb=Math.ceil,Xb=Math.exp,Jb=(Math.floor,Math.hypot),$b=Math.log,Zb=Math.pow,e_=Math.sin,t_=Math.sign||function(e){return e>0?1:e<0?-1:0},n_=Math.sqrt,r_=Math.tan;function i_(e){return e>1?0:e<-1?Bb:Math.acos(e)}function o_(e){return e>1?zb:e<-1?-zb:Math.asin(e)}function a_(){}var s_,u_,l_,c_,f_=new Fb,d_=new Fb,h_={point:a_,lineStart:a_,lineEnd:a_,polygonStart:function(){h_.lineStart=p_,h_.lineEnd=g_},polygonEnd:function(){h_.lineStart=h_.lineEnd=h_.point=a_,f_.add(qb(d_)),d_=new Fb},result:function(){var e=f_/2;return f_=new Fb,e}};function p_(){h_.point=v_}function v_(e,t){h_.point=m_,s_=l_=e,u_=c_=t}function m_(e,t){d_.add(c_*e-l_*t),l_=e,c_=t}function g_(){m_(s_,u_)}var y_,b_,__,w_,x_=h_,O_=1/0,k_=O_,E_=-O_,S_=E_,T_={point:function(e,t){e<O_&&(O_=e),e>E_&&(E_=e),t<k_&&(k_=t),t>S_&&(S_=t)},lineStart:a_,lineEnd:a_,polygonStart:a_,polygonEnd:a_,result:function(){var e=[[O_,k_],[E_,S_]];return E_=S_=-(k_=O_=1/0),e}},C_=0,D_=0,A_=0,j_=0,N_=0,M_=0,I_=0,P_=0,L_=0,F_={point:R_,lineStart:B_,lineEnd:H_,polygonStart:function(){F_.lineStart=V_,F_.lineEnd=W_},polygonEnd:function(){F_.point=R_,F_.lineStart=B_,F_.lineEnd=H_},result:function(){var e=L_?[I_/L_,P_/L_]:M_?[j_/M_,N_/M_]:A_?[C_/A_,D_/A_]:[NaN,NaN];return C_=D_=A_=j_=N_=M_=I_=P_=L_=0,e}};function R_(e,t){C_+=e,D_+=t,++A_}function B_(){F_.point=z_}function z_(e,t){F_.point=U_,R_(__=e,w_=t)}function U_(e,t){var n=e-__,r=t-w_,i=n_(n*n+r*r);j_+=i*(__+e)/2,N_+=i*(w_+t)/2,M_+=i,R_(__=e,w_=t)}function H_(){F_.point=R_}function V_(){F_.point=q_}function W_(){G_(y_,b_)}function q_(e,t){F_.point=G_,R_(y_=__=e,b_=w_=t)}function G_(e,t){var n=e-__,r=t-w_,i=n_(n*n+r*r);j_+=i*(__+e)/2,N_+=i*(w_+t)/2,M_+=i,I_+=(i=w_*e-__*t)*(__+e),P_+=i*(w_+t),L_+=3*i,R_(__=e,w_=t)}var Y_=F_;function Q_(e){this._context=e}Q_.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Hb)}},result:a_};var K_,X_,J_,$_,Z_,ew=new Fb,tw={point:a_,lineStart:function(){tw.point=nw},lineEnd:function(){K_&&rw(X_,J_),tw.point=a_},polygonStart:function(){K_=!0},polygonEnd:function(){K_=null},result:function(){var e=+ew;return ew=new Fb,e}};function nw(e,t){tw.point=rw,X_=$_=e,J_=Z_=t}function rw(e,t){$_-=e,Z_-=t,ew.add(n_($_*$_+Z_*Z_)),$_=e,Z_=t}var iw=tw;function ow(){this._string=[]}function aw(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}ow.prototype={_radius:4.5,_circle:aw(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=aw(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var sw=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Lb(e,n(r))),r.result()}return o.area=function(e){return Lb(e,n(x_)),x_.result()},o.measure=function(e){return Lb(e,n(iw)),iw.result()},o.bounds=function(e){return Lb(e,n(T_)),T_.result()},o.centroid=function(e){return Lb(e,n(Y_)),Y_.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Ab):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new ow):new Q_(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},uw=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:a_,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},lw=function(e,t){return qb(e[0]-t[0])<Rb&&qb(e[1]-t[1])<Rb};function cw(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var fw=function(e,t,n,r,i){var o,a,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(lw(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new cw(r,e,null,!0)),u.push(n.o=new cw(r,null,n,!1)),s.push(n=new cw(a,e,null,!1)),u.push(n.o=new cw(a,null,n,!0))}})),s.length){for(u.sort(t),dw(s),dw(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,f=s[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function dw(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function hw(e){return[Yb(e[1],e[0]),o_(e[2])]}function pw(e){var t=e[0],n=e[1],r=Qb(n);return[r*Qb(t),r*e_(t),e_(n)]}function vw(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mw(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function gw(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function yw(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bw(e){var t=n_(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function _w(e){return qb(e[0])<=Bb?e[0]:t_(e[0])*((qb(e[0])+Bb)%Hb-Bb)}function ww(e){return Array.from(v.mark((function e(t){var n,r,i;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=8;break}return i=r.value,e.delegateYield(i,"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))(e))}var xw=function(e,t,n,r){return function(i){var o,a,s,u=t(i),l=uw(),c=t(l),f=!1,d={point:h,lineStart:v,lineEnd:m,polygonStart:function(){d.point=g,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=m,a=ww(a);var e=function(e,t){var n=_w(t),r=t[1],i=e_(r),o=[e_(n),-Qb(n),0],a=0,s=0,u=new Fb;1===i?r=zb+Rb:-1===i&&(r=-zb-Rb);for(var l=0,c=e.length;l<c;++l)if(d=(f=e[l]).length)for(var f,d,h=f[d-1],p=_w(h),v=h[1]/2+Ub,m=e_(v),g=Qb(v),y=0;y<d;++y,p=_,m=x,g=O,h=b){var b=f[y],_=_w(b),w=b[1]/2+Ub,x=e_(w),O=Qb(w),k=_-p,E=k>=0?1:-1,S=E*k,T=S>Bb,C=m*x;if(u.add(Yb(C*E*e_(S),g*O+C*Qb(S))),a+=T?k+E*Hb:k,T^p>=n^_>=n){var D=mw(pw(h),pw(b));bw(D);var A=mw(o,D);bw(A);var j=(T^k>=0?-1:1)*o_(A[2]);(r>j||r===j&&(D[0]||D[1]))&&(s+=T^k>=0?1:-1)}}return(a<-1e-6||a<Rb&&u<-1e-12)^1&s}(o,r);a.length?(f||(i.polygonStart(),f=!0),fw(a,kw,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){u.point(e,t)}function v(){d.point=p,u.lineStart()}function m(){d.point=h,u.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,u=c.clean(),d=l.result(),h=d.length;if(s.pop(),o.push(s),s=null,h)if(1&u){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&u&&d.push(d.pop().concat(d.shift())),a.push(d.filter(Ow))}return d}};function Ow(e){return e.length>1}function kw(e,t){return((e=e.x)[0]<0?e[1]-zb-Rb:zb-e[1])-((t=t.x)[0]<0?t[1]-zb-Rb:zb-t[1])}var Ew=xw((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Bb:-Bb,u=qb(o-n);qb(u-Bb)<Rb?(e.point(n,r=(r+a)/2>0?zb:-zb),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Bb&&(qb(n-i)<Rb&&(n-=i*Rb),qb(o-s)<Rb&&(o-=s*Rb),r=function(e,t,n,r){var i,o,a=e_(e-n);return qb(a)>Rb?Gb((e_(t)*(o=Qb(r))*e_(n)-e_(r)*(i=Qb(t))*e_(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*zb,r.point(-Bb,i),r.point(0,i),r.point(Bb,i),r.point(Bb,0),r.point(Bb,-i),r.point(0,-i),r.point(-Bb,-i),r.point(-Bb,0),r.point(-Bb,i);else if(qb(e[0]-t[0])>Rb){var o=e[0]<t[0]?Bb:-Bb;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Bb,-zb]),Sw=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function Tw(e,t){return[qb(e)>Bb?e+Math.round(-e/Hb)*Hb:e,t]}function Cw(e,t,n){return(e%=Hb)?t||n?Sw(Aw(e),jw(t,n)):Aw(e):t||n?jw(t,n):Tw}function Dw(e){return function(t,n){return[(t+=e)>Bb?t-Hb:t<-Bb?t+Hb:t,n]}}function Aw(e){var t=Dw(e);return t.invert=Dw(-e),t}function jw(e,t){var n=Qb(e),r=e_(e),i=Qb(t),o=e_(t);function a(e,t){var a=Qb(t),s=Qb(e)*a,u=e_(e)*a,l=e_(t),c=l*n+s*r;return[Yb(u*i-c*o,s*n-l*r),o_(c*i+u*o)]}return a.invert=function(e,t){var a=Qb(t),s=Qb(e)*a,u=e_(e)*a,l=e_(t),c=l*i-u*o;return[Yb(u*i+l*o,s*n+c*r),o_(c*n-s*r)]},a}function Nw(e,t){(t=pw(t))[0]-=e,bw(t);var n=i_(-t[1]);return((-t[2]<0?-n:n)+Hb-Rb)%Hb}Tw.invert=Tw;var Mw=function(e){var t=Qb(e),n=6*Wb,r=t>0,i=qb(t)>Rb;function o(e,n){return Qb(e)*Qb(n)>t}function a(e,n,r){var i=[1,0,0],o=mw(pw(e),pw(n)),a=vw(o,o),s=o[0],u=a-s*s;if(!u)return!r&&e;var l=t*a/u,c=-t*s/u,f=mw(i,o),d=yw(i,l);gw(d,yw(o,c));var h=f,p=vw(d,h),v=vw(h,h),m=p*p-v*(vw(d,d)-1);if(!(m<0)){var g=n_(m),y=yw(h,(-p-g)/v);if(gw(y,d),y=hw(y),!r)return y;var b,_=e[0],w=n[0],x=e[1],O=n[1];w<_&&(b=_,_=w,w=b);var k=w-_,E=qb(k-Bb)<Rb;if(!E&&O<x&&(b=x,x=O,O=b),E||k<Rb?E?x+O>0^y[1]<(qb(y[0]-_)<Rb?x:O):x<=y[1]&&y[1]<=O:k>Bb^(_<=y[0]&&y[0]<=w)){var S=yw(h,(-p+g)/v);return gw(S,d),[y,hw(S)]}}}function s(t,n){var i=r?e:Bb-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return xw(o,(function(e){var t,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,d){var h,p=[f,d],v=o(f,d),m=r?v?0:s(f,d):v?s(f+(f<0?Bb:-Bb),d):0;if(!t&&(l=u=v)&&e.lineStart(),v!==u&&(!(h=a(t,p))||lw(t,h)||lw(p,h))&&(p[2]=1),v!==u)c=0,v?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(i&&t&&r^v){var g;m&n||!(g=a(p,t,!0))||(c=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!v||t&&lw(t,p)||e.point(p[0],p[1]),t=p,u=v,n=m},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}),(function(t,r,i,o){!function(e,t,n,r,i,o){if(n){var a=Qb(t),s=e_(t),u=r*n;null==i?(i=t+r*Hb,o=t-u/2):(i=Nw(a,i),o=Nw(a,o),(r>0?i<o:i>o)&&(i+=r*Hb));for(var l,c=i;r>0?c>o:c<o;c-=u)l=hw([a,-s*Qb(c),-s*e_(c)]),e.point(l[0],l[1])}}(o,e,n,i,t,r)}),r?[0,-e]:[-Bb,e-Bb])},Iw=1e9,Pw=-Iw;function Lw(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return qb(r[0]-e)<Rb?i>0?0:3:qb(r[0]-n)<Rb?i>0?2:1:qb(r[1]-t)<Rb?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,l,c,f,d,h,p,v,m,g,y,b=a,_=uw(),w={point:x,lineStart:function(){w.point=O,l&&l.push(c=[]),g=!0,m=!1,p=v=NaN},lineEnd:function(){u&&(O(f,d),h&&m&&_.rejoin(),u.push(_.result())),w.point=x,m&&b.lineEnd()},polygonStart:function(){b=_,u=[],l=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,c=s.length,f=s[0],d=f[0],h=f[1];u<c;++u)o=d,a=h,d=(f=s[u])[0],h=f[1],a<=r?h>r&&(d-o)*(r-a)>(h-a)*(e-o)&&++t:h<=r&&(d-o)*(r-a)<(h-a)*(e-o)&&--t;return t}(),n=y&&t,i=(u=ww(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&fw(u,s,t,o,a),a.polygonEnd()),b=a,u=l=c=null}};function x(e,t){i(e,t)&&b.point(e,t)}function O(o,a){var s=i(o,a);if(l&&c.push([o,a]),g)f=o,d=a,h=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var u=[p=Math.max(Pw,Math.min(Iw,p)),v=Math.max(Pw,Math.min(Iw,v))],_=[o=Math.max(Pw,Math.min(Iw,o)),a=Math.max(Pw,Math.min(Iw,a))];!function(e,t,n,r,i,o){var a,s=e[0],u=e[1],l=0,c=1,f=t[0]-s,d=t[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(e[0]=s+l*f,e[1]=u+l*d),c<1&&(t[0]=s+c*f,t[1]=u+c*d),!0}}}}}(u,_,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(m||(b.lineStart(),b.point(u[0],u[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}p=o,v=a,m=s}return w}}function Fw(e){return function(t){var n=new Rw;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Rw(){}function Bw(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Lb(n,e.stream(T_)),t(T_.result()),null!=r&&e.clipExtent(r),e}function zw(e,t,n){return Bw(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function Uw(e,t,n){return zw(e,[[0,0],t],n)}function Hw(e,t,n){return Bw(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function Vw(e,t,n){return Bw(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}Rw.prototype={constructor:Rw,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ww=Qb(30*Wb),qw=function(e,t){return+t?function(e,t){function n(r,i,o,a,s,u,l,c,f,d,h,p,v,m){var g=l-r,y=c-i,b=g*g+y*y;if(b>4*t&&v--){var _=a+d,w=s+h,x=u+p,O=n_(_*_+w*w+x*x),k=o_(x/=O),E=qb(qb(x)-1)<Rb||qb(o-f)<Rb?(o+f)/2:Yb(w,_),S=e(E,k),T=S[0],C=S[1],D=T-r,A=C-i,j=y*D-g*A;(j*j/b>t||qb((g*D+y*A)/b-.5)>.3||a*d+s*h+u*p<Ww)&&(n(r,i,o,a,s,u,T,C,E,_/=O,w/=O,x,v,m),m.point(T,C),n(T,C,E,_,w,x,l,c,f,d,h,p,v,m))}}return function(t){var r,i,o,a,s,u,l,c,f,d,h,p,v={point:m,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=_},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,v.point=y,t.lineStart()}function y(r,i){var o=pw([r,i]),a=e(r,i);n(c,f,l,d,h,p,c=a[0],f=a[1],l=r,d=o[0],h=o[1],p=o[2],16,t),t.point(c,f)}function b(){v.point=m,t.lineEnd()}function _(){g(),v.point=w,v.lineEnd=x}function w(e,t){y(r=e,t),i=c,o=f,a=d,s=h,u=p,v.point=y}function x(){n(c,f,l,d,h,p,i,o,r,a,s,u,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return Fw({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)},Gw=Fw({point:function(e,t){this.stream.point(e*Wb,t*Wb)}});function Yw(e,t,n,r,i,o){if(!o)return function(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}(e,t,n,r,i);var a=Qb(o),s=e_(o),u=a*e,l=s*e,c=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(e,o){return[u*(e*=r)-l*(o*=i)+t,n-l*e-u*o]}return p.invert=function(e,t){return[r*(c*e-f*t+d),i*(h-f*e-c*t)]},p}function Qw(e){return Kw((function(){return e}))()}function Kw(e){var t,n,r,i,o,a,s,u,l,c,f=150,d=480,h=250,p=0,v=0,m=0,g=0,y=0,b=0,_=1,w=1,x=null,O=Ew,k=null,E=Ab,S=.5;function T(e){return u(e[0]*Wb,e[1]*Wb)}function C(e){return(e=u.invert(e[0],e[1]))&&[e[0]*Vb,e[1]*Vb]}function D(){var e=Yw(f,0,0,_,w,b).apply(null,t(p,v)),r=Yw(f,d-e[0],h-e[1],_,w,b);return n=Cw(m,g,y),s=Sw(t,r),u=Sw(n,s),a=qw(s,S),A()}function A(){return l=c=null,T}return T.stream=function(e){return l&&c===e?l:l=Gw(function(e){return Fw({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(O(a(E(c=e)))))},T.preclip=function(e){return arguments.length?(O=e,x=void 0,A()):O},T.postclip=function(e){return arguments.length?(E=e,k=r=i=o=null,A()):E},T.clipAngle=function(e){return arguments.length?(O=+e?Mw(x=e*Wb):(x=null,Ew),A()):x*Vb},T.clipExtent=function(e){return arguments.length?(E=null==e?(k=r=i=o=null,Ab):Lw(k=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),A()):null==k?null:[[k,r],[i,o]]},T.scale=function(e){return arguments.length?(f=+e,D()):f},T.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],D()):[d,h]},T.center=function(e){return arguments.length?(p=e[0]%360*Wb,v=e[1]%360*Wb,D()):[p*Vb,v*Vb]},T.rotate=function(e){return arguments.length?(m=e[0]%360*Wb,g=e[1]%360*Wb,y=e.length>2?e[2]%360*Wb:0,D()):[m*Vb,g*Vb,y*Vb]},T.angle=function(e){return arguments.length?(b=e%360*Wb,D()):b*Vb},T.reflectX=function(e){return arguments.length?(_=e?-1:1,D()):_<0},T.reflectY=function(e){return arguments.length?(w=e?-1:1,D()):w<0},T.precision=function(e){return arguments.length?(a=qw(s,S=e*e),A()):n_(S)},T.fitExtent=function(e,t){return zw(T,e,t)},T.fitSize=function(e,t){return Uw(T,e,t)},T.fitWidth=function(e,t){return Hw(T,e,t)},T.fitHeight=function(e,t){return Vw(T,e,t)},function(){return t=e.apply(this,arguments),T.invert=t.invert&&C,D()}}function Xw(e){var t=0,n=Bb/3,r=Kw(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Wb,n=e[1]*Wb):[t*Vb,n*Vb]},i}function Jw(e,t){var n=e_(e),r=(n+e_(t))/2;if(qb(r)<Rb)return function(e){var t=Qb(e);function n(e,n){return[e*t,e_(n)/t]}return n.invert=function(e,n){return[e/t,o_(n*t)]},n}(e);var i=1+n*(2*r-n),o=n_(i)/r;function a(e,t){var n=n_(i-2*r*e_(t))/r;return[n*e_(e*=r),o-n*Qb(e)]}return a.invert=function(e,t){var n=o-t,a=Yb(e,qb(n))*t_(n);return n*r<0&&(a-=Bb*t_(e)*t_(n)),[a/r,o_((i-(e*e+n*n)*r*r)/(2*r))]},a}var $w=function(){return Xw(Jw).scale(155.424).center([0,33.6442])},Zw=function(){return $w().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function ex(e){return function(t,n){var r=Qb(t),i=Qb(n),o=e(r*i);return o===1/0?[2,0]:[o*i*e_(t),o*e_(n)]}}function tx(e){return function(t,n){var r=n_(t*t+n*n),i=e(r),o=e_(i),a=Qb(i);return[Yb(t*o,r*a),o_(r&&n*o/r)]}}var nx=ex((function(e){return n_(2/(1+e))}));nx.invert=tx((function(e){return 2*o_(e/2)}));var rx=ex((function(e){return(e=i_(e))&&e/e_(e)}));function ix(e,t){return[e,$b(r_((zb+t)/2))]}function ox(e){var t,n,r,i=Qw(e),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,l=null;function c(){var o=Bb*a(),s=i(function(e){function t(t){return(t=e(t[0]*Wb,t[1]*Wb))[0]*=Vb,t[1]*=Vb,t}return e=Cw(e[0]*Wb,e[1]*Wb,e.length>2?e[2]*Wb:0),t.invert=function(t){return(t=e.invert(t[0]*Wb,t[1]*Wb))[0]*=Vb,t[1]*=Vb,t},t}(i.rotate()).invert([0,0]));return u(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===ix?[[Math.max(s[0]-o,l),t],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),c()):a()},i.translate=function(e){return arguments.length?(s(e),c()):s()},i.center=function(e){return arguments.length?(o(e),c()):o()},i.clipExtent=function(e){return arguments.length?(null==e?l=t=n=r=null:(l=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==l?null:[[l,t],[n,r]]},c()}function ax(e){return r_((zb+e)/2)}function sx(e,t){var n=Qb(e),r=e===t?e_(e):$b(n/Qb(t))/$b(ax(t)/ax(e)),i=n*Zb(ax(e),r)/r;if(!r)return ix;function o(e,t){i>0?t<-zb+Rb&&(t=-zb+Rb):t>zb-Rb&&(t=zb-Rb);var n=i/Zb(ax(t),r);return[n*e_(r*e),i-n*Qb(r*e)]}return o.invert=function(e,t){var n=i-t,o=t_(r)*n_(e*e+n*n),a=Yb(e,qb(n))*t_(n);return n*r<0&&(a-=Bb*t_(e)*t_(n)),[a/r,2*Gb(Zb(i/o,1/r))-zb]},o}function ux(e,t){return[e,t]}function lx(e,t){var n=Qb(e),r=e===t?e_(e):(n-Qb(t))/(t-e),i=n/r+e;if(qb(r)<Rb)return ux;function o(e,t){var n=i-t,o=r*e;return[n*e_(o),i-n*Qb(o)]}return o.invert=function(e,t){var n=i-t,o=Yb(e,qb(n))*t_(n);return n*r<0&&(o-=Bb*t_(e)*t_(n)),[o/r,i-t_(r)*n_(e*e+n*n)]},o}rx.invert=tx((function(e){return e})),ix.invert=function(e,t){return[e,2*Gb(Xb(t))-zb]},ux.invert=ux;var cx=1.340264,fx=-.081106,dx=893e-6,hx=.003796,px=n_(3)/2;function vx(e,t){var n=o_(px*e_(t)),r=n*n,i=r*r*r;return[e*Qb(n)/(px*(cx+3*fx*r+i*(7*dx+9*hx*r))),n*(cx+fx*r+i*(dx+hx*r))]}function mx(e,t){var n=Qb(t),r=Qb(e)*n;return[n*e_(e)/r,e_(t)/r]}function gx(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function yx(e,t){return[Qb(t)*e_(e),e_(t)]}function bx(e,t){var n=Qb(t),r=1+Qb(e)*n;return[n*e_(e)/r,e_(t)/r]}function _x(e,t){return[$b(r_((zb+t)/2)),-e]}vx.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(cx+fx*i+o*(dx+hx*i))-t)/(cx+3*fx*i+o*(7*dx+9*hx*i)))*r)*i*i,!(qb(n)<1e-12));++a);return[px*e*(cx+3*fx*i+o*(7*dx+9*hx*i))/Qb(r),o_(e_(r)/px)]},mx.invert=tx(Gb),gx.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(qb(n)>Rb&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},yx.invert=tx(o_),bx.invert=tx((function(e){return 2*Gb(e)})),_x.invert=function(e,t){return[-t,2*Gb(Xb(e))-zb]};var wx=Math.abs,xx=(Math.atan,Math.atan2,Math.ceil,Math.cos),Ox=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),kx=(Math.tan,Math.PI),Ex=kx/2,Sx=(Math.SQRT1_2,Cx(2));function Tx(e){return e>1?Ex:e<-1?-Ex:Math.asin(e)}function Cx(e){return e>0?Math.sqrt(e):0}function Dx(e,t){var n,r=e*Ox(t),i=30;do{t-=n=(t+Ox(t)-r)/(1+xx(t))}while(wx(n)>1e-6&&--i>0);return t/2}Cx(kx);var Ax=function(e,t,n){function r(r,i){return[e*r*xx(i=Dx(n,i)),t*Ox(i)]}return r.invert=function(r,i){return i=Tx(i/t),[r/(e*xx(i)),Tx((2*i+Ox(2*i))/n)]},r}(Sx/Ex,Sx,kx),jx=sw(),Nx=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Mx(e,t){return function n(){var r=t();return r.type=e,r.path=sw().projection(r),r.copy=r.copy||function(){var e=n();return Nx.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function Ix(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(Lx[e]=Mx(e,t),this):Lx[e]||null}function Px(e){return e&&e.path||jx}var Lx={albers:Zw,albersusa:function(){var e,t,n,r,i,o,a=Zw(),s=$w().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=$w().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function f(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},c.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),s.stream(n),u.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},c.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),u.precision(e),f()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),u.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(l),r=s.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+Rb,c+.12*t+Rb],[o-.214*t-Rb,c+.234*t-Rb]]).stream(l),i=u.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+Rb,c+.166*t+Rb],[o-.115*t-Rb,c+.234*t-Rb]]).stream(l),f()},c.fitExtent=function(e,t){return zw(c,e,t)},c.fitSize=function(e,t){return Uw(c,e,t)},c.fitWidth=function(e,t){return Hw(c,e,t)},c.fitHeight=function(e,t){return Vw(c,e,t)},c.scale(1070)},azimuthalequalarea:function(){return Qw(nx).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Qw(rx).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Xw(sx).scale(109.5).parallels([30,30])},conicequalarea:$w,conicequidistant:function(){return Xw(lx).scale(131.154).center([0,13.9389])},equalEarth:function(){return Qw(vx).scale(177.158)},equirectangular:function(){return Qw(ux).scale(152.63)},gnomonic:function(){return Qw(mx).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,o,a,s=1,u=0,l=0,c=1,f=1,d=0,h=null,p=1,v=1,m=Fw({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),g=Ab;function y(){return p=s*c,v=s*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(d){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+u,i+l]}return b.invert=function(n){var r=n[0]-u,i=n[1]-l;if(d){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/p,i/v]},b.stream=function(e){return o&&a===e?o:o=m(g(a=e))},b.postclip=function(e){return arguments.length?(g=e,h=n=r=i=null,y()):g},b.clipExtent=function(e){return arguments.length?(g=null==e?(h=n=r=i=null,Ab):Lw(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==h?null:[[h,n],[r,i]]},b.scale=function(e){return arguments.length?(s=+e,y()):s},b.translate=function(e){return arguments.length?(u=+e[0],l=+e[1],y()):[u,l]},b.angle=function(n){return arguments.length?(t=e_(d=n%360*Wb),e=Qb(d),y()):d*Vb},b.reflectX=function(e){return arguments.length?(c=e?-1:1,y()):c<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return zw(b,e,t)},b.fitSize=function(e,t){return Uw(b,e,t)},b.fitWidth=function(e,t){return Hw(b,e,t)},b.fitHeight=function(e,t){return Vw(b,e,t)},b},mercator:function(){return ox(ix).scale(961/Hb)},mollweide:function(){return Qw(Ax).scale(169.529)},naturalEarth1:function(){return Qw(gx).scale(175.295)},orthographic:function(){return Qw(yx).scale(249.5).clipAngle(90.000001)},stereographic:function(){return Qw(bx).scale(250).clipAngle(142)},transversemercator:function(){var e=ox(_x),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var Fx in Lx)Ix(Fx,Lx[Fx]);function Rx(e,t,n){var r=Ga(e,t-Rb,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Bx(e,t,n){var r=Ga(e,t-Rb,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function zx(){}var Ux=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Hx(){var e=1,t=1,n=a;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var a=[],s=[];return function(n,r,i){var a,s,u,l,c,f,d=new Array,h=new Array;for(a=s=-1,l=n[0]>=r,Ux[l<<1].forEach(p);++a<e-1;)u=l,l=n[a+1]>=r,Ux[u|l<<1].forEach(p);for(Ux[l<<0].forEach(p);++s<t-1;){for(a=-1,l=n[s*e+e]>=r,c=n[s*e]>=r,Ux[l<<1|c<<2].forEach(p);++a<e-1;)u=l,l=n[s*e+e+a+1]>=r,f=c,c=n[s*e+a+1]>=r,Ux[u|l<<1|c<<2|f<<3].forEach(p);Ux[l|c<<3].forEach(p)}for(a=-1,c=n[s*e]>=r,Ux[c<<2].forEach(p);++a<e-1;)f=c,c=n[s*e+a+1]>=r,Ux[c<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+s],u=[e[1][0]+a,e[1][1]+s],l=o(r),c=o(u);(t=h[l])?(n=d[c])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(u),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=c]=t):(t=d[c])?(n=h[l])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(u),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=l]=t):d[l]=h[c]={start:l,end:c,ring:[r,u]}}Ux[c<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==Vx((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,l=0|s,c=r[l*e+u];a>0&&a<e&&u===a&&(o=r[l*e+u-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<t&&l===s&&(o=r[(l-1)*e+u],n[1]=s+(i-o)/(c-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||Object(ee.o)("invalid size"),e=i,t=o,r},r.smooth=function(e){return arguments.length?(n=e?a:zx,r):n===a},r}function Vx(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Wx(e,t[r]))return n;return 0}function Wx(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var u=e[o],l=u[0],c=u[1],f=e[s],d=f[0],h=f[1];if(qx(u,f,t))return 0;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function qx(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}function Gx(e,t,n){return function(r){var i=Object(ee.q)(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,u=t?Qe(o,a,e):s/(e+1);return Ga(u,a,u)}}function Yx(e){Uo.call(this,null,e)}function Qx(e,t,n,r,i){var o=e.x1||0,a=e.y1||0,s=t*n<0;function u(e){e.forEach(l)}function l(e){s&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-o)*t+r,e[1]=(e[1]-a)*n+i}return function(e){return e.coordinates.forEach(u),e}}function Kx(e,t,n){var r=e>=0?e:ta(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Xx(e){return Object(ee.E)(e)?e:Object(ee.m)(+e)}function Jx(){var e=function(e){return e[0]},t=function(e){return e[1]},n=ee.Q,r=[-1,-1],i=960,o=500,a=2;function s(s,u){var l=Kx(r[0],s,e)>>a,c=Kx(r[1],s,t)>>a,f=l?l+2:0,d=c?c+2:0,h=2*f+(i>>a),p=2*d+(o>>a),v=new Float32Array(h*p),m=new Float32Array(h*p),g=v;s.forEach((function(r){var i=f+(+e(r)>>a),o=d+(+t(r)>>a);i>=0&&i<h&&o>=0&&o<p&&(v[i+o*h]+=+n(r))})),l>0&&c>0?($x(h,p,v,m,l),Zx(h,p,m,v,c),$x(h,p,v,m,l),Zx(h,p,m,v,c),$x(h,p,v,m,l),Zx(h,p,m,v,c)):l>0?($x(h,p,v,m,l),$x(h,p,m,v,l),$x(h,p,v,m,l),g=m):c>0&&(Zx(h,p,v,m,c),Zx(h,p,m,v,c),Zx(h,p,v,m,c),g=m);for(var y=u?Math.pow(2,-2*a):1/tb(g),b=0,_=h*p;b<_;++b)g[b]*=y;return{values:g,scale:1<<a,width:h,height:p,x1:f,y1:d,x2:f+(i>>a),y2:d+(o>>a)}}return s.x=function(t){return arguments.length?(e=Xx(t),s):e},s.y=function(e){return arguments.length?(t=Xx(e),s):t},s.weight=function(e){return arguments.length?(n=Xx(e),s):n},s.size=function(e){if(!arguments.length)return[i,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(ee.o)("invalid size"),i=t,o=n,s},s.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(ee.o)("invalid cell size"),a=Math.floor(Math.log(e)/Math.LN2),s):1<<a},s.bandwidth=function(e){return arguments.length?(1===(e=Object(ee.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(ee.o)("invalid bandwidth"),r=e,s):r},s}function $x(e,t,n,r,i){for(var o=1+(i<<1),a=0;a<t;++a)for(var s=0,u=0;s<e+i;++s)s<e&&(u+=n[s+a*e]),s>=i&&(s>=o&&(u-=n[s-o+a*e]),r[s-i+a*e]=u/Math.min(s+1,e-1+o-s,o))}function Zx(e,t,n,r,i){for(var o=1+(i<<1),a=0;a<e;++a)for(var s=0,u=0;s<t+i;++s)s<t&&(u+=n[a+s*e]),s>=i&&(s>=o&&(u-=n[a+(s-o)*e]),r[a+(s-i)*e]=u/Math.min(s+1,t-1+o-s,o))}function eO(e){Uo.call(this,null,e)}Yx.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(ee.z)(Yx,Uo,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ee.y,o=Hx().smooth(!1!==e.smooth),a=e.thresholds||function(e,t,n){var r=Gx(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return qo(t(e).values)})))}(r,i,e),s=null===e.as?null:e.as||"contour",u=[];return r.forEach((function(t){var n=i(t),r=o.size([n.width,n.height])(n.values,Object(ee.B)(a)?a:a(n.values));!function(e,t,n,r){var i=r.scale||t.scale,o=r.translate||t.translate;if(Object(ee.E)(i)&&(i=i(n,r)),Object(ee.E)(o)&&(o=o(n,r)),1!==i&&null!=i||o){var a=(Object(ee.G)(i)?i:i[0])||1,s=(Object(ee.G)(i)?i:i[1])||1,u=o&&o[0]||0,l=o&&o[1]||0;e.forEach(Qx(t,a,s,u,l))}}(r,n,t,e),r.forEach((function(e){u.push(ho(t,co(null!=s?d({},s,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}}),eO.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var tO=["x","y","weight","size","cellSize","bandwidth"];function nO(e,t){return tO.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function rO(e){Uo.call(this,null,e)}Object(ee.z)(eO,Uo,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,o,a,s,u=[],l=function(e){return e(o)};if(null==t)u.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(s=n[a=t.map(l)])||(n[a]=s=[],s.dims=a,u.push(s)),s.push(o);return u}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(ee.h),a=nO(Jx(),e),s=e.as||"grid";return n=i.map((function(t){return co(function(e,t){for(var n=0;n<o.length;++n)e[o[n]]=t[n];return e}(d({},s,a(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),rO.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(ee.z)(rO,Uo,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=Hx().smooth(!1!==e.smooth),a=e.values,s=e.thresholds||Gx(e.count||10,e.nice,!!a),u=e.size;return a||(a=t.materialize(t.SOURCE).source,r=Qx(n=nO(Jx(),e)(a,!0),n.scale||1,n.scale||1,0,0),u=[n.width,n.height],a=n.values),s=Object(ee.B)(s)?s:s(a),a=o.size(u)(a,s),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(co),i}});var iO="Feature",oO="FeatureCollection";function aO(e){Uo.call(this,null,e)}function sO(e){Uo.call(this,null,e)}function uO(e){Uo.call(this,null,e)}function lO(e){Uo.call(this,null,e)}function cO(e){Uo.call(this,[],e),this.generator=function(){var e,t,n,r,i,o,a,s,u,l,c,f,d=10,h=d,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return Ga(Kb(r/p)*p,n,p).map(c).concat(Ga(Kb(s/v)*v,a,v).map(f)).concat(Ga(Kb(t/d)*d,e,d).filter((function(e){return qb(e%p)>Rb})).map(u)).concat(Ga(Kb(o/h)*h,i,h).filter((function(e){return qb(e%v)>Rb})).map(l))}return g.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(s).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),g.precision(m)):[[r,s],[n,a]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),g.precision(m)):[[t,o],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],g):[p,v]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(m=+d,u=Rx(o,i,90),l=Bx(t,e,m),c=Rx(s,a,90),f=Bx(r,n,m),g):m},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}()}function fO(e){Uo.call(this,null,e)}function dO(e){if(!Object(ee.E)(e))return!1;var t=Object(ee.fb)(Object(ee.g)(e));return t.$x||t.$y||t.$value||t.$max}function hO(e){Uo.call(this,null,e),this.modified(!0)}function pO(e,t,n){Object(ee.E)(e[t])&&e[t](n)}function vO(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(m+y)/2))?m=a:y=a,i=h,!(h=h[f=c<<1|l]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(m+y)/2))?m=a:y=a}while((f=c<<1|l)==(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}aO.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(ee.z)(aO,Uo,{transform:function(e,t){var n,r=this._features,i=this._points,o=e.fields,a=o&&o[0],s=o&&o[1],u=e.geojson||!o&&ee.y,l=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(ee.g)(u))||a&&t.modified(Object(ee.g)(a))||s&&t.modified(Object(ee.g)(s)),this.value&&!n||(l=t.SOURCE,this._features=r=[],this._points=i=[]),u&&t.visit(l,(function(e){return r.push(u(e))})),a&&s&&(t.visit(l,(function(e){var t=a(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:iO,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:oO,features:r}}}),sO.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(ee.z)(sO,Uo,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ee.y,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=Px(e.projection),n.materialize().reflow()):a=i===ee.y||t.modified(i.fields)?n.ADD_MOD:n.ADD;var s=function(e,t){var n=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),n}(r,e.pointRadius);return n.visit(a,(function(e){return e[o]=r(i(e))})),r.pointRadius(s),n.modifies(o)}}),uO.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(ee.z)(uO,Uo,{transform:function(e,t){var n,r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],s=a[0],u=a[1];function l(e){var t=r([i(e),o(e)]);t?(e[s]=t[0],e[u]=t[1]):(e[s]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(n=t.modified(i.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,l)),t.modifies(a)}}),lO.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(ee.z)(lO,Uo,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),o=e.pointRadius(n)(t(r));return e.pointRadius(i),o};return r.context=function(t){return e.context(t),r},r}(Px(e.projection),e.field||Object(ee.u)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(e){return e[i]=r})),n.modifies(i)}}),cO.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(ee.z)(cO,Uo,{transform:function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var o in e)Object(ee.E)(i[o])&&i[o](e[o]);return n=i(),r.length?t.mod.push(po(r[0],n)):t.add.push(co(n)),r[0]=n,t}}),fO.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(ee.z)(fO,Uo,{transform:function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||ee.y,o=function(e,t){var n;return Object(ee.E)(e)?(n=function(n){return e(n,t)}).dep=dO(e):e?n=Object(ee.m)(e):(n=function(e){return e.$value/e.$max||0}).dep=!0,n}(e.opacity,e),a=function(e,t){var n;return Object(ee.E)(e)?(n=function(n){return uc(e(n,t))}).dep=dO(e):n=Object(ee.m)(uc(e||"#888")),n}(e.color,e),s=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?qo(n.map((function(e){return qo(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Object(ee.p)({},e,u);r||(n.$max=qo(t.values||[])),e[s]=function(e,t,n,r){for(var i=e.width,o=e.height,a=e.x1||0,s=e.y1||0,u=e.x2||i,l=e.y2||o,c=e.values,f=c?function(e){return c[e]}:ee.mb,d=jl(u-a,l-s),h=d.getContext("2d"),p=h.getImageData(0,0,u-a,l-s),v=p.data,m=s,g=0;m<l;++m){t.$y=m-s;for(var y=a,b=m*i;y<u;++y,g+=4){t.$x=y-a,t.$value=f(y+b);var _=n(t);v[g+0]=_.r,v[g+1]=_.g,v[g+2]=_.b,v[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,a.dep?a:Object(ee.m)(a(n)),o.dep?o:Object(ee.m)(o(n)))})),t.reflow(!0).modifies(s)}}),Object(ee.z)(hO,Uo,{transform:function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=Ix((e||"mercator").toLowerCase());return t||Object(ee.o)("Unrecognized projection type: "+e),t()}(e.type),Nx.forEach((function(t){null!=e[t]&&pO(n,t,e[t])}))):Nx.forEach((function(t){e.modified(t)&&pO(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(ee.i)(e)).length?e[0]:{type:oO,features:e.reduce((function(e,t){return e.concat(function(e){return e.type===oO?e.features:Object(ee.i)(e).filter((function(e){return null!=e})).map((function(e){return e.type===iO?e:{type:iO,geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var mO=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function gO(e){return e[0]}function yO(e){return e[1]}function bO(e,t,n){var r=new _O(null==t?gO:t,null==n?yO:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function _O(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function wO(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var xO=bO.prototype=_O.prototype;xO.copy=function(){var e,t,n=new _O(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=wO(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=wO(t));return n},xO.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return vO(this.cover(t,n),t,n,e)},xO.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<o;++n)vO(this,a[n],s[n],e[n]);return this},xO.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},xO.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},xO.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xO.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new mO(v,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>d||(o=u.y0)>h||(a=u.x1)<c||(s=u.y1)<f))if(v.length){var m=(i+a)/2,g=(o+s)/2;p.push(new mO(v[3],m,g,a,s),new mO(v[2],i,g,m,s),new mO(v[1],m,o,a,g),new mO(v[0],i,o,m,g)),(l=(t>=g)<<1|e>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);c=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},xO.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(u=(v+g)/2))?v=u:g=u,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},xO.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},xO.root=function(){return this._root},xO.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},xO.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new mO(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new mO(n,l,c,o,a)),(n=u[2])&&s.push(new mO(n,r,c,l,a)),(n=u[1])&&s.push(new mO(n,l,i,o,c)),(n=u[0])&&s.push(new mO(n,r,i,l,c))}return this},xO.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new mO(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&n.push(new mO(o,a,s,c,f)),(o=i[1])&&n.push(new mO(o,c,s,u,f)),(o=i[2])&&n.push(new mO(o,a,f,c,l)),(o=i[3])&&n.push(new mO(o,c,f,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},xO.x=function(e){return arguments.length?(this._x=e,this):this._x},xO.y=function(e){return arguments.length?(this._y=e,this):this._y};var OO=function(e){return function(){return e}},kO=function(e){return 1e-6*(e()-.5)};function EO(e){return e.x+e.vx}function SO(e){return e.y+e.vy}var TO={value:function(){}};function CO(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new DO(r)}function DO(e){this._=e}function AO(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function jO(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function NO(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=TO,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}DO.prototype=CO.prototype={constructor:DO,on:function(e,t){var n,r=this._,i=AO(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=NO(r[n],e.name,t);else if(null==t)for(n in r)r[n]=NO(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=jO(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new DO(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var MO,IO,PO=CO,LO=0,FO=0,RO=0,BO=0,zO=0,UO=0,HO="object"==typeof performance&&performance.now?performance:Date,VO="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function WO(){return zO||(VO(qO),zO=HO.now()+UO)}function qO(){zO=0}function GO(){this._call=this._time=this._next=null}function YO(e,t,n){var r=new GO;return r.restart(e,t,n),r}function QO(){zO=(BO=HO.now())+UO,LO=FO=0;try{!function(){WO(),++LO;for(var e,t=MO;t;)(e=zO-t._time)>=0&&t._call.call(null,e),t=t._next;--LO}()}finally{LO=0,function(){for(var e,t,n=MO,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:MO=t);IO=e,XO(r)}(),zO=0}}function KO(){var e=HO.now(),t=e-BO;t>1e3&&(UO-=t,BO=e)}function XO(e){LO||(FO&&(FO=clearTimeout(FO)),e-zO>24?(e<1/0&&(FO=setTimeout(QO,e-HO.now()-UO)),RO&&(RO=clearInterval(RO))):(RO||(BO=HO.now(),RO=setInterval(KO,1e3)),LO=1,VO(QO)))}GO.prototype=YO.prototype={constructor:GO,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?WO():+n)+(null==t?0:+t),this._next||IO===this||(IO?IO._next=this:MO=this,IO=this),this._call=e,this._time=n,XO()},stop:function(){this._call&&(this._call=null,this._time=1/0,XO())}};var JO=4294967296;function $O(e){return e.x}function ZO(e){return e.y}var ek=Math.PI*(3-Math.sqrt(5));function tk(e){return e.index}function nk(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var rk={center:function(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-e)*r,u=(u/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},collide:function(e){var t,n,r,i=1,o=1;function a(){for(var e,a,u,l,c,f,d,h=t.length,p=0;p<o;++p)for(a=bO(t,EO,SO).visitAfter(s),e=0;e<h;++e)u=t[e],f=n[u.index],d=f*f,l=u.x+u.vx,c=u.y+u.vy,a.visit(v);function v(e,t,n,o,a){var s=e.data,h=e.r,p=f+h;if(!s)return t>l+p||o<l-p||n>c+p||a<c-p;if(s.index>u.index){var v=l-s.x-s.vx,m=c-s.y-s.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=kO(r))*v),0===m&&(g+=(m=kO(r))*m),g=(p-(g=Math.sqrt(g)))/g*i,u.vx+=(v*=g)*(p=(h*=h)/(d+h)),u.vy+=(m*=g)*p,s.vx-=v*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=OO(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,u()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:OO(+t),u(),a):e},a},nbody:function(){var e,t,n,r,i,o=OO(-30),a=1,s=1/0,u=.81;function l(n){var i,o=e.length,a=bO(e,$O,ZO).visitAfter(f);for(r=n,i=0;i<o;++i)t=e[i],a.visit(d)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function f(e){var t,n,r,o,a,s=0,u=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function d(e,o,l,c){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=c-o,p=f*f+d*d;if(h*h/u<p)return p<s&&(0===f&&(p+=(f=kO(n))*f),0===d&&(p+=(d=kO(n))*d),p<a&&(p=Math.sqrt(a*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===f&&(p+=(f=kO(n))*f),0===d&&(p+=(d=kO(n))*d),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=i[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,c()},l.strength=function(e){return arguments.length?(o="function"==typeof e?e:OO(+e),c(),l):o},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l},link:function(e){var t,n,r,i,o,a,s=tk,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=OO(30),c=1;function f(r){for(var i=0,s=e.length;i<c;++i)for(var u,l,f,d,h,p,v,m=0;m<s;++m)l=(u=e[m]).source,d=(f=u.target).x+f.vx-l.x-l.vx||kO(a),h=f.y+f.vy-l.y-l.vy||kO(a),d*=p=((p=Math.sqrt(d*d+h*h))-n[m])/p*r*t[m],h*=p,f.vx-=d*(v=o[m]),f.vy-=h*v,l.vx+=d*(v=1-v),l.vy+=h*v}function d(){if(r){var a,u,l=r.length,c=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(a=0,i=new Array(l);a<c;++a)(u=e[a]).index=a,"object"!=typeof u.source&&(u.source=nk(f,u.source)),"object"!=typeof u.target&&(u.target=nk(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=e[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(u="function"==typeof e?e:OO(+e),h(),f):u},f.distance=function(e){return arguments.length?(l="function"==typeof e?e:OO(+e),p(),f):l},f},x:function(e){var t,n,r,i=OO(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=OO(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:OO(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:OO(+t),a(),o):e},o},y:function(e){var t,n,r,i=OO(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=OO(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:OO(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:OO(+t),a(),o):e},o}},ik="forces",ok=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],ak=["static","iterations"],sk=["x","y","vx","vy"];function uk(e){Uo.call(this,null,e)}function lk(e,t,n,r){var i,o,a,s,u=Object(ee.i)(t.forces);for(i=0,o=ok.length;i<o;++i)(a=ok[i])!==ik&&t.modified(a)&&e[a](t[a]);for(i=0,o=u.length;i<o;++i)s=ik+i,(a=n||t.modified(ik,i)?fk(u[i]):r&&ck(u[i],r)?e.force(s):null)&&e.force(s,a);for(o=e.numForces||0;i<o;++i)e.force(ik+i,null);return e.numForces=u.length,e}function ck(e,t){var n,r;for(n in e)if(Object(ee.E)(r=e[n])&&t.modified(Object(ee.g)(r)))return 1;return 0}function fk(e){var t,n;for(n in Object(ee.w)(rk,e.force)||Object(ee.o)("Unrecognized force: "+e.force),t=rk[e.force](),e)Object(ee.E)(t[n])&&dk(t[n],e[n],e);return t}function dk(e,t,n){e(Object(ee.E)(t)?function(e){return t(e,n)}:t)}function hk(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function pk(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=mk)):void 0===t&&(t=vk);for(var n,r,i,o,a,s=new bk(e),u=[s];n=u.pop();)if((i=t(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new bk(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(yk)}function vk(e){return e.children}function mk(e){return Array.isArray(e)?e[1]:null}function gk(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function yk(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function bk(e){this.data=e,this.depth=this.height=0,this.parent=null}function _k(e,t){var n,r;if(Ok(t,e))return[t];for(n=0;n<e.length;++n)if(wk(t,e[n])&&Ok(Ek(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(wk(Ek(e[n],e[r]),t)&&wk(Ek(e[n],t),e[r])&&wk(Ek(e[r],t),e[n])&&Ok(Sk(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function wk(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function xk(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Ok(e,t){for(var n=0;n<t.length;++n)if(!xk(e,t[n]))return!1;return!0}function kk(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return Ek(e[0],e[1]);case 3:return Sk(e[0],e[1],e[2])}var t}function Ek(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function Sk(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-a,h=r-l,p=i-s,v=i-c,m=u-o,g=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,_=y-l*l-c*c+f*f,w=h*p-d*v,x=(p*_-v*b)/(2*w)-r,O=(v*m-p*g)/w,k=(h*b-d*_)/(2*w)-i,E=(d*g-h*m)/w,S=O*O+E*E-1,T=2*(o+x*O+k*E),C=x*x+k*k-o*o,D=-(S?(T+Math.sqrt(T*T-4*S*C))/(2*S):C/T);return{x:r+x+O*D,y:i+k+E*D,r:D}}function Tk(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function Ck(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Dk(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Ak(e){this._=e,this.next=null,this.previous=null}function jk(e){if(!(o=(t=e,e="object"==typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,n,r,i,o,a,s,u,l,c,f,d;if((n=e[0]).x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Tk(r,n,i=e[2]),n=new Ak(n),r=new Ak(r),i=new Ak(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<o;++u){Tk(n._,r._,i=e[u]),i=new Ak(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do{if(f<=d){if(Ck(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(Ck(c._,i._)){(n=c).next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Dk(n);(i=i.next)!==r;)(s=Dk(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,o=[];r<i;)t=e[r],n&&xk(n,t)?++r:(n=kk(o=_k(o,t)),r=0);return n}(n),u=0;u<o;++u)(n=e[u]).x-=i.x,n.y-=i.y;return i.r}function Nk(e){return null==e?null:Mk(e)}function Mk(e){if("function"!=typeof e)throw new Error;return e}function Ik(){return 0}uk.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:sk}]},Object(ee.z)(uk,Uo,{transform:function(e,t){var n,r,i=this.value,o=t.changed(t.ADD_REM),a=e.modified(ok),s=e.iterations||300;if(i?(o&&(t.modifies("index"),i.nodes(t.source)),(a||t.changed(t.MOD))&&lk(i,e,0,t)):(this.value=i=function(e,t){var n=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=YO(f),l=PO("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%JO)/JO}}();function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(r){var u,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*ek;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=t-(s=e[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}(e),r=n.stop,i=n.restart,o=!1;return n.stopped=function(){return o},n.restart=function(){return o=!1,i()},n.stop=function(){return o=!0,r()},lk(n,t,!0).on("end",(function(){return o=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){return n.touch(r).run()})),e.static||(o=!0,i.tick()),t.modifies("index")),a||o||e.modified(ak)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return t.StopPropagation;return this.finish(e,t)},finish:function(e,t){for(var n,r=t.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if((n=i[o]).name===ik&&"link"===n.op._argval.force)for(var s,u=n.op._argops,l=0,c=u.length;l<c;++l)if("links"===u[l].name&&(s=u[l].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(sk)}}),bk.prototype=pk.prototype=d({constructor:bk,count:function(){return this.eachAfter(hk)},each:function(e,t){var n,r=-1,i=g(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.call(t,o,++r,this)}}catch(a){i.e(a)}finally{i.f()}return this},eachAfter:function(e,t){for(var n,r,i,o=this,a=[o],s=[],u=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)e.call(t,o,++u,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(e.call(t,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){var n,r=-1,i=g(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(e.call(t,o,++r,this))return o}}catch(a){i.e(a)}finally{i.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return pk(this).eachBefore(gk)}},Symbol.iterator,v.mark((function e(){var t,n,r,i,o,a;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[o=this];case 1:t=a.reverse(),a=[];case 2:if(!(o=t.pop())){e.next=9;break}return e.next=5,o;case 5:if(!(n=o.children)){e.next=7;break}for(r=0,i=n.length;r<i;++r)a.push(n[r]);case 7:e.next=2;break;case 9:if(a.length){e.next=1;break}case 10:case"end":return e.stop()}}),e,this)})));var Pk=function(e){return function(){return e}};function Lk(e){return Math.sqrt(e.value)}function Fk(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Rk(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=jk(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Bk(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var zk=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},Uk=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(r-t)/e.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l},Hk={depth:-1},Vk={};function Wk(e){return e.id}function qk(e){return e.parentId}var Gk=function(){var e=Wk,t=qk;function n(n){var r,i,o,a,s,u,l,c=Array.from(n),f=c.length,d=new Map;for(i=0;i<f;++i)r=c[i],s=c[i]=new bk(r),null!=(u=e(r,i,n))&&(u+="")&&(l=s.id=u,d.set(l,d.has(l)?Vk:s)),null!=(u=t(r,i,n))&&(u+="")&&(s.parent=u);for(i=0;i<f;++i)if(u=(s=c[i]).parent){if(!(a=d.get(u)))throw new Error("missing: "+u);if(a===Vk)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Hk,o.eachBefore((function(e){e.depth=e.parent.depth+1,--f})).eachBefore(yk),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=Mk(t),n):e},n.parentId=function(e){return arguments.length?(t=Mk(e),n):t},n};function Yk(e,t){return e.parent===t.parent?1:2}function Qk(e){var t=e.children;return t?t[0]:e.t}function Kk(e){var t=e.children;return t?t[t.length-1]:e.t}function Xk(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Jk(e,t,n){return e.a.parent===t.parent?e.a:n}function $k(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Zk(e,t){return e.parent===t.parent?1:2}function eE(e,t){return e+t.x}function tE(e,t){return Math.max(e,t.y)}$k.prototype=Object.create(bk.prototype);var nE=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(i-n)/e.value;++s<u;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l},rE=(1+Math.sqrt(5))/2;function iE(e,t,n,r,i,o){for(var a,s,u,l,c,f,d,h,p,v,m,g=[],y=t.children,b=0,_=0,w=y.length,x=t.value;b<w;){u=i-n,l=o-r;do{c=y[_++].value}while(!c&&_<w);for(f=d=c,m=c*c*(v=Math.max(l/u,u/l)/(x*e)),p=Math.max(d/m,m/f);_<w;++_){if(c+=s=y[_].value,s<f&&(f=s),s>d&&(d=s),m=c*c*v,(h=Math.max(d/m,m/f))>p){c-=s;break}p=h}g.push(a={value:c,dice:u<l,children:y.slice(b,_)}),a.dice?Uk(a,n,r,i,x?r+=l*c/x:o):nE(a,n,r,x?n+=u*c/x:i,o),x-=c,b=_}return g}var oE=function e(t){function n(e,n,r,i,o){iE(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(rE),aE=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,l,c,f=-1,d=a.length,h=e.value;++f<d;){for(u=(s=a[f]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?Uk(s,n,r,i,h?r+=(o-r)*s.value/h:o):nE(s,n,r,h?n+=(i-n)*s.value/h:i,o),h-=s.value}else e._squarify=a=iE(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(rE);function sE(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}function uE(e){Uo.call(this,null,e)}uE.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var lE=function(e){return e.values};function cE(){var e=[],t={entries:function(e){return r(n(e,0),0)},key:function(n){return e.push(n),t}};function n(t,r){if(r>=e.length)return t;for(var i,o,a,s=t.length,u=e[r++],l={},c={},f=-1;++f<s;)(a=l[i=u(o=t[f])+""])?a.push(o):l[i]=[o];for(i in l)c[i]=n(l[i],r);return c}function r(t,n){if(++n>e.length)return t;var i=[];for(var o in t)i.push({key:o,values:r(t[o],n)});return i}return t}function fE(e){Uo.call(this,null,e)}Object(ee.z)(uE,Uo,{transform:function(e,t){t.source||Object(ee.o)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each((function(e){e.children&&so(e.data)&&i.rem.push(e.data)})),this.value=o=pk({values:Object(ee.i)(e.keys).reduce((function(e,t){return e.key(t),e}),cE()).entries(i.source)},lE),n&&o.each((function(e){e.children&&(e=co(e.data),i.add.push(e),i.source.push(e))})),sE(o,uo,uo)),i.source.root=o,i}});var dE=function(e,t){return e.parent===t.parent?1:2};Object(ee.z)(fE,Uo,{transform:function(e,t){t.source&&t.source.root||Object(ee.o)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(vo(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,o=t.length;i<o;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?dE:ee.Q);try{this.value=n(i)}catch(e){Object(ee.o)(e)}return i.each((function(e){return function(e,t,n){for(var r=e.data,i=t.length-1,o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}(e,r,o)})),t.reflow(e.modified()).modifies(o).modifies("leaf")}});var hE=["x","y","r","depth","children"];function pE(e){fE.call(this,e)}pE.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:hE.length,default:hE}]},Object(ee.z)(pE,fE,{layout:function(){var e=null,t=1,n=1,r=Ik;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Fk(e)).eachAfter(Rk(r,.5)).eachBefore(Bk(1)):i.eachBefore(Fk(Lk)).eachAfter(Rk(Ik,1)).eachAfter(Rk(r,i.r/Math.min(t,n))).eachBefore(Bk(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Nk(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:Pk(+e),i):r},i},params:["radius","size","padding"],fields:hE});var vE=["x0","y0","x1","y1","depth","children"];function mE(e){fE.call(this,e)}function gE(e){Uo.call(this,null,e)}mE.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vE.length,default:vE}]},Object(ee.z)(mE,fE,{layout:function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&Uk(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(zk),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},params:["size","round","padding"],fields:vE}),gE.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(ee.z)(gE,Uo,{transform:function(e,t){t.source||Object(ee.o)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?sE(Gk().id(e.key).parentId(e.parentKey)(i.source),e.key,ee.ib):sE(Gk()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});var yE={tidy:function(){var e=Yk,t=1,n=1,r=null;function i(i){var u=function(e){for(var t,n,r,i,o,a=new $k(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new $k(r[i],i)),n.parent=t;return(a.parent=new $k(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var l=i,c=i,f=i;i.eachBefore((function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)}));var d=l===c?1:e(l,c)/2,h=d-l.x,p=t/(c.x+d+h),v=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,u=o.parent.children[0],l=o.m,c=a.m,f=s.m,d=u.m;s=Kk(s),o=Qk(o),s&&o;)u=Qk(u),(a=Kk(a)).a=t,(i=s.z+f-o.z-l+e(s._,o._))>0&&(Xk(Jk(s,t,r),t,i),l+=i,c+=i),f+=s.m,l+=o.m,d+=u.m,c+=a.m;s&&!Kk(a)&&(a.t=s,a.m+=f-c),o&&!Qk(u)&&(u.t=o,u.m+=l-d,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=Zk,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(eE,0)/e.length}(n),t.y=function(e){return 1+e.reduce(tE,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-l)/(c-l)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},bE=["x","y","depth","children"];function _E(e){fE.call(this,e)}function wE(e){Uo.call(this,[],e)}_E.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:bE.length,default:bE}]},Object(ee.z)(_E,fE,{layout:function(e){var t=e||"tidy";if(Object(ee.w)(yE,t))return yE[t]();Object(ee.o)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:bE}),wE.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(ee.z)(wE,Uo,{transform:function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Object(ee.o)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){return o[uo(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&o[uo(t)]&&o[uo(n)]&&i.add.push(co({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){return o[uo(e)]=1})),n.forEach((function(e){(o[uo(e.source)]||o[uo(e.target)])&&i.mod.push(e)}))),i}});var xE={binary:function(e,t,n,r,i){var o,a,s=e.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,u){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}for(var f=l[t],d=r/2+f,h=t+1,p=n-1;h<p;){var v=h+p>>>1;l[v]<d?h=v+1:p=v}d-l[h-1]<l[h]-d&&t+1<h&&--h;var m=l[h]-f,g=r-m;if(a-i>u-o){var y=r?(i*g+a*m)/r:a;e(t,h,m,i,o,y,u),e(h,n,g,y,o,a,u)}else{var b=r?(o*g+u*m)/r:u;e(t,h,m,i,o,a,b),e(h,n,g,i,b,a,u)}}(0,u,e.value,t,n,r,i)},dice:Uk,slice:nE,slicedice:function(e,t,n,r,i){(1&e.depth?nE:Uk)(e,t,n,r,i)},squarify:oE,resquarify:aE},OE=["x0","y0","x1","y1","depth","children"];function kE(e){fE.call(this,e)}function EE(e,t,n,r){var i=e.width,o=e.height,a=n||r,s=jl(i,o).getContext("2d");t.forEach((function(e){return function e(t,n,r){if(n.length){var i=n[0].mark.marktype;"group"===i?n.forEach((function(n){n.items.forEach((function(n){return e(t,n.items,r)}))})):mm[i].draw(t,{items:r?n.map(SE):n})}}(s,e,a)}));var u,l,c,f,d,h=new Uint32Array(s.getImageData(0,0,i,o).data.buffer),p=e.bitmap(),v=a&&e.bitmap();for(l=0;l<o;++l)for(u=0;u<i;++u)(d=4278190080&h[l*i+u])&&(c=e(u),f=e(l),r||p.set(c,f),a&&268435456^d&&v.set(c,f));return[p,v]}function SE(e){var t=ho(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}kE.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:OE.length,default:OE}]},Object(ee.z)(kE,fE,{layout:function(){var e=function(){var e=oE,t=!1,n=1,r=1,i=[0],o=Ik,a=Ik,s=Ik,u=Ik,l=Ik;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(zk),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<c&&(c=d=(c+d)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,c+=a(t)-n,(f-=s(t)-n)<r&&(r=f=(r+f)/2),(d-=u(t)-n)<c&&(c=d=(c+d)/2),e(t,r,c,f,d))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=Mk(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:Pk(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:Pk(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"==typeof e?e:Pk(+e),c):s},c.paddingBottom=function(e){return arguments.length?(u="function"==typeof e?e:Pk(+e),c):u},c.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:Pk(+e),c):l},c}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(ee.w)(xE,t)?e.tile(xE[t]):Object(ee.o)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:OE});var TE=new Uint32Array(33),CE=new Uint32Array(33);CE[0]=0,TE[0]=~CE[0];for(var DE=1;DE<=32;++DE)CE[DE]=CE[DE-1]<<1|1,TE[DE]=~CE[DE];function AE(e,t,n,r,i,o){var a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>o}function jE(e,t,n,r,i,o,a,s){var u=i*o/(2*r),l=e(t-u),c=e(t+u),f=e(n-(o/=2)),d=e(n+o);return a.outOfBounds(l,f,c,d)||a.getRange(l,f,c,d)||s&&s.getRange(l,f,c,d)}var NE=[-1,-1,1,1],ME=[-1,1,-1,1],IE=["right","center","left"],PE=["bottom","middle","top"];function LE(e,t,n,r,i,o,a,s,u,l,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o?o.getRange(e,n,t,r)||!function(e,t,n,r,i){return i[0]<=e&&n<=i[2]&&i[3]<=t&&r<=i[5]}(a,u,s,l,c):i.getRange(e,n,t,r)))}var FE={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},RE={naive:function(e,t,n,r){var i=e.width,o=e.height;return function(e){for(var t,n,a,s,u,l,c,f=e.datum.datum.items[r].items,d=f.length,h=e.datum.fontSize,p=$v.width(e.datum,e.datum.text),v=0,m=0;m<d;++m)t=f[m].x,a=f[m].y,u=(t+(n=void 0===f[m].x2?t:f[m].x2))/2,l=(a+(s=void 0===f[m].y2?a:f[m].y2))/2,(c=Math.abs(n-t+s-a))>=v&&(v=c,e.x=u,e.y=l);return u=p/2,l=h/2,t=e.x-u,n=e.x+u,a=e.y-l,s=e.y+l,e.align="center",t<0&&n<=i?e.align="left":0<=t&&i<n&&(e.align="right"),e.baseline="middle",a<0&&s<=o?e.baseline="top":0<=a&&o<s&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r){var i=e.width,o=e.height,a=t[0],s=t[1];function u(t,n,r,u,l){var c,f=e.invert(t),d=e.invert(n),h=r,p=o;if(!AE(f,d,u,l,i,o)&&!jE(e,f,d,l,u,h,a,s)&&!jE(e,f,d,l,u,l,a,null)){for(;p-h>=1;)jE(e,f,d,l,u,c=(h+p)/2,a,s)?p=c:h=c;if(h>r)return[f,d,h,!0]}}return function(t){for(var s,l,c,f,d,h,v,m,g,y,b,_,w,x,O,k,E,S=t.datum.datum.items[r].items,T=S.length,C=t.datum.fontSize,D=$v.width(t.datum,t.datum.text),A=n?C:0,j=!1,N=!1,M=0,I=0;I<T;++I){for(s=S[I].x,c=S[I].y,s>(l=void 0===S[I].x2?s:S[I].x2)&&(E=s,s=l,l=E),c>(f=void 0===S[I].y2?c:S[I].y2)&&(E=c,c=f,f=E),y=~~(((g=e(s))+(b=e(l)))/2),w=~~(((_=e(c))+(x=e(f)))/2),v=y;v>=g;--v)for(m=w;m>=_;--m){var P;(k=u(v,m,A,D,C))&&(P=p(k,4),t.x=P[0],t.y=P[1],A=P[2],j=P[3])}for(v=y;v<=b;++v)for(m=w;m<=x;++m){var L;(k=u(v,m,A,D,C))&&(L=p(k,4),t.x=L[0],t.y=L[1],A=L[2],j=L[3])}j||n||(d=(s+l)/2,h=(c+f)/2,(O=Math.abs(l-s+f-c))>=M&&!AE(d,h,D,C,i,o)&&!jE(e,d,h,C,D,C,a,null)&&(M=O,t.x=d,t.y=h,N=!0))}return!(!j&&!N)&&(d=D/2,h=C/2,a.setRange(e(t.x-d),e(t.y-h),e(t.x+d),e(t.y+h)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,r){var i=e.width,o=e.height,a=t[0],s=t[1],u=e.bitmap();return function(t){for(var l,c,f,d,h,v,m,g,y,b,_,w,x=t.datum.datum.items[r].items,O=x.length,k=t.datum.fontSize,E=$v.width(t.datum,t.datum.text),S=[],T=n?k:0,C=!1,D=!1,A=0,j=0;j<O;++j){for(l=x[j].x,f=x[j].y,c=void 0===x[j].x2?l:x[j].x2,d=void 0===x[j].y2?f:x[j].y2,S.push([e((l+c)/2),e((f+d)/2)]);S.length;){var N,M;if(N=S.pop(),m=(M=p(N,2))[0],g=M[1],!(a.get(m,g)||s.get(m,g)||u.get(m,g))){u.set(m,g);for(var I=0;I<4;++I)h=m+NE[I],v=g+ME[I],u.outOfBounds(h,v,h,v)||S.push([h,v]);if(h=e.invert(m),v=e.invert(g),y=T,b=o,!AE(h,v,E,k,i,o)&&!jE(e,h,v,k,E,y,a,s)&&!jE(e,h,v,k,E,k,a,null)){for(;b-y>=1;)jE(e,h,v,k,E,_=(y+b)/2,a,s)?b=_:y=_;y>T&&(t.x=h,t.y=v,T=y,C=!0)}}}C||n||(h=(l+c)/2,v=(f+d)/2,(w=Math.abs(c-l+d-f))>=A&&!AE(h,v,E,k,i,o)&&!jE(e,h,v,k,E,k,a,null)&&(A=w,t.x=h,t.y=v,D=!0))}return!(!C&&!D)&&(h=E/2,v=k/2,a.setRange(e(t.x-h),e(t.y-v),e(t.x+h),e(t.y+v)),t.align="center",t.baseline="middle",!0)}}};function BE(e,t,n,r,i,o,a,s,u,l,c){if(!e.length)return e;var f,d,h=Math.max(r.length,i.length),p=function(e,t){for(var n=new Float64Array(t),r=e.length,i=0;i<r;++i)n[i]=e[i]||0;for(var o=r;o<t;++o)n[o]=n[r-1];return n}(r,h),v=function(e,t){for(var n=new Int8Array(t),r=e.length,i=0;i<r;++i)n[i]|=FE[e[i]];for(var o=r;o<t;++o)n[o]=n[r-1];return n}(i,h),m=(f=e[0].datum)&&f.mark&&f.mark.marktype,g="group"===m&&e[0].datum.items[u].marktype,y="area"===g,b=function(e,t,n,r){var i=function(e){return[e.x,e.x,e.x,e.y,e.y,e.y]};return e?"line"===e||"area"===e?function(e){return i(e.datum)}:"line"===t?function(e){var t=e.datum.items[r].items;return i(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:function(e){var t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:i}(m,g,s,u),_=function(e,t,n){var r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),a=function(e){return~~((e+n)/r)};return a.invert=function(e){return e*r-n},a.bitmap=function(){return function(e,t){var n=new Uint32Array(~~((e*t+32)/32));function r(e,t){n[e]|=t}function i(e,t){n[e]&=t}return{array:n,get:function(t,r){var i=r*e+t;return n[i>>>5]&1<<(31&i)},set:function(t,n){var i=n*e+t;r(i>>>5,1<<(31&i))},clear:function(t,n){var r=n*e+t;i(r>>>5,~(1<<(31&r)))},getRange:function(t,r,i,o){for(var a,s,u,l,c=o;c>=r;--c)if((u=(a=c*e+t)>>>5)===(l=(s=c*e+i)>>>5)){if(n[u]&TE[31&a]&CE[1+(31&s)])return!0}else{if(n[u]&TE[31&a])return!0;if(n[l]&CE[1+(31&s)])return!0;for(var f=u+1;f<l;++f)if(n[f])return!0}return!1},setRange:function(t,n,i,o){for(var a,s,u,l,c;n<=o;++n)if((u=(a=n*e+t)>>>5)===(l=(s=n*e+i)>>>5))r(u,TE[31&a]&CE[1+(31&s)]);else for(r(u,TE[31&a]),r(l,CE[1+(31&s)]),c=u+1;c<l;++c)r(c,4294967295)},clearRange:function(t,n,r,o){for(var a,s,u,l,c;n<=o;++n)if((u=(a=n*e+t)>>>5)===(l=(s=n*e+r)>>>5))i(u,CE[31&a]|TE[1+(31&s)]);else for(i(u,CE[31&a]),i(l,TE[1+(31&s)]),c=u+1;c<l;++c)i(c,0)},outOfBounds:function(n,r,i,o){return n<0||r<0||o>=t||i>=e}}}(i,o)},a.ratio=r,a.padding=n,a.width=e,a.height=t,a}(t[0],t[1],l),w=y&&"naive"===c,x=e.map((function(e){return{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:b(e)}}));if(!w){n&&x.sort((function(e,t){return n(e.datum,t.datum)}));for(var O=!1,k=0;k<v.length&&!O;++k)O=5===v[k]||p[k]<0;m&&(a||y)&&(o=[e.map((function(e){return e.datum}))].concat(o)),d=o.length?EE(_,o,O,y):function(e,t){var n=e.bitmap();return(t||[]).forEach((function(t){return n.set(e(t.boundary[0]),e(t.boundary[3]))})),[n,void 0]}(_,a&&x)}var E=y?RE[c](_,d,a,u):function(e,t,n,r){var i=e.width,o=e.height,a=t[0],s=t[1],u=r.length;return function(t){var l=t.boundary,c=t.datum.fontSize;if(l[2]<0||l[5]<0||l[0]>i||l[3]>o)return!1;for(var f,d,h,p,v,m,g,y,b,_,w,x,O,k,E,S=0,T=0;T<u;++T){if(f=(3&n[T])-1,d=(n[T]>>>2&3)-1,h=0===f&&0===d||r[T]<0,p=f&&d?Math.SQRT1_2:1,v=r[T]<0?-1:1,m=l[1+f]+r[T]*f*p,y=(w=l[4+d]+v*c*d/2+r[T]*d*p)-c/2,b=w+c/2,x=e(m),k=e(y),E=e(b),!S){if(!LE(x,x,k,E,a,s,m,m,y,b,l,h))continue;S=$v.width(t.datum,t.datum.text)}if(g=(_=m+v*S*f/2)+S/2,LE(x=e(m=_-S/2),O=e(g),k,E,a,s,m,g,y,b,l,h))return t.x=f?f*v<0?g:m:_,t.y=d?d*v<0?b:y:w,t.align=IE[f*v+1],t.baseline=PE[d*v+1],a.setRange(x,k,O,E),!0}return!1}}(_,d,v,p);return x.forEach((function(e){return e.opacity=+E(e)})),x}var zE=["x","y","opacity","align","baseline"],UE=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function HE(e){Uo.call(this,null,e)}function VE(e,t){var n,r,i,o,a,s,u=[],l=function(e){return e(o)};if(null==t)u.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(s=n[a=t.map(l)])||(n[a]=s=[],s.dims=a,u.push(s)),s.push(o);return u}function WE(e){Uo.call(this,null,e)}HE.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:UE},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:zE.length,default:zE}]},Object(ee.z)(HE,Uo,{transform:function(e,t){var n=e.modified();if(n||t.changed(t.ADD_REM)||function(n){var r=e.sort;return Object(ee.E)(r)&&t.modified(r.fields)}()){e.size&&2===e.size.length||Object(ee.o)("Size parameter should be specified as a [width, height] array.");var r=e.as||zE;return BE(t.materialize(t.SOURCE).source,e.size,e.sort,Object(ee.i)(e.offset||1),Object(ee.i)(e.anchor||UE),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,e.padding||0,e.method||"naive").forEach((function(e){var t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline})),t.reflow(n).modifies(r)}}}),WE.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(ee.z)(WE,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=VE(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(ee.h),o=i.length,a=e.as||[Object(ee.h)(e.x),Object(ee.h)(e.y)],s=[];r.forEach((function(t){za(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<o;++r)n[i[r]]=t.dims[r];n[a[0]]=e[0],n[a[1]]=e[1],s.push(co(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});var qE={linear:Ma,log:Ia,exp:Pa,pow:La,quad:Fa,poly:Ra};function GE(e){Uo.call(this,null,e)}GE.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(qE)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(ee.z)(GE,Uo,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=VE(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(ee.h),o=e.method||"linear",a=e.order||3,s=function(e,t){return"poly"===e?t:"quad"===e?2:1}(o,a),u=e.as||[Object(ee.h)(e.x),Object(ee.h)(e.y)],l=qE[o],c=[],f=e.extent;Object(ee.w)(qE,o)||Object(ee.o)("Invalid regression method: "+o),null!=f&&"log"===o&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=s)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=l(n,e.x,e.y,a);if(e.params)c.push(co({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var d=f||Object(ee.q)(n,e.x),h=function(e){for(var t={},r=0;r<i.length;++r)t[i[r]]=n.dims[r];t[u[0]]=e[0],t[u[1]]=e[1],c.push(co(t))};"linear"===o?d.forEach((function(e){return h([e,r.predict(e)])})):Wa(r.predict,d,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});var YE=Math.pow(2,-52),QE=new Uint32Array(512),KE=function(){function e(t){y(this,e);var n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return b(e,null,[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iS,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new e(o)}}]),b(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<o;c++){var f=e[2*c],d=e[2*c+1];f<a&&(a=f),d<s&&(s=d),f>u&&(u=f),d>l&&(l=d),this._ids[c]=c}for(var h,p,v,m=(a+u)/2,g=(s+l)/2,y=1/0,b=0;b<o;b++){var _=XE(m,g,e[2*b],e[2*b+1]);_<y&&(h=b,y=_)}var w=e[2*h],x=e[2*h+1];y=1/0;for(var O=0;O<o;O++)if(O!==h){var k=XE(w,x,e[2*O],e[2*O+1]);k<y&&k>0&&(p=O,y=k)}for(var E=e[2*p],S=e[2*p+1],T=1/0,C=0;C<o;C++)if(C!==h&&C!==p){var D=eS(w,x,E,S,e[2*C],e[2*C+1]);D<T&&(v=C,T=D)}var A=e[2*v],j=e[2*v+1];if(T===1/0){for(var N=0;N<o;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];tS(this._ids,this._dists,0,o-1);for(var M=new Uint32Array(o),I=0,P=0,L=-1/0;P<o;P++){var F=this._ids[P];this._dists[F]>L&&(M[I++]=F,L=this._dists[F])}return this.hull=M.subarray(0,I),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if($E(w,x,E,S,A,j)){var R=p,B=E,z=S;p=v,E=A,S=j,v=R,A=B,j=z}var U=function(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,f=u*u+l*l,d=.5/(a*l-s*u);return{x:e+(l*c-s*f)*d,y:t+(a*f-u*c)*d}}(w,x,E,S,A,j);this._cx=U.x,this._cy=U.y;for(var H=0;H<o;H++)this._dists[H]=XE(e[2*H],e[2*H+1],U.x,U.y);tS(this._ids,this._dists,0,o-1),this._hullStart=h;var V=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,x)]=h,i[this._hashKey(E,S)]=p,i[this._hashKey(A,j)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var W,q,G=0;G<this._ids.length;G++){var Y=this._ids[G],Q=e[2*Y],K=e[2*Y+1];if(!(G>0&&Math.abs(Q-W)<=YE&&Math.abs(K-q)<=YE)&&(W=Q,q=K,Y!==h&&Y!==p&&Y!==v)){for(var X=0,J=0,$=this._hashKey(Q,K);J<this._hashSize&&(-1===(X=i[($+J)%this._hashSize])||X===n[X]);J++);for(var Z=void 0,ee=X=t[X];Z=n[ee],!$E(Q,K,e[2*ee],e[2*ee+1],e[2*Z],e[2*Z+1]);)if((ee=Z)===X){ee=-1;break}if(-1!==ee){var te=this._addTriangle(ee,Y,n[ee],-1,-1,r[ee]);r[Y]=this._legalize(te+2),r[ee]=te,V++;for(var ne=n[ee];Z=n[ne],$E(Q,K,e[2*ne],e[2*ne+1],e[2*Z],e[2*Z+1]);)te=this._addTriangle(ne,Y,Z,r[Y],-1,r[ne]),r[Y]=this._legalize(te+2),n[ne]=ne,V--,ne=Z;if(ee===X)for(;$E(Q,K,e[2*(Z=t[ee])],e[2*Z+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(Z,Y,ee,-1,r[ee],r[Z]),this._legalize(te+2),r[Z]=te,n[ee]=ee,V--,ee=Z;this._hullStart=t[Y]=ee,n[ee]=t[ne]=Y,n[Y]=ne,i[this._hashKey(Q,K)]=Y,i[this._hashKey(e[2*ee],e[2*ee+1])]=ee}}}this.hull=new Uint32Array(V);for(var re=0,ie=this._hullStart;re<V;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1!==a){var u=a-a%3,l=s+(e+1)%3,c=u+(a+2)%3,f=t[o],d=t[e],h=t[l],p=t[c];if(ZE(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=f;var v=n[c];if(-1===v){var m=this._hullStart;do{if(this._hullTri[m]===c){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,v),this._link(a,n[o]),this._link(o,c);var g=u+(a+1)%3;i<QE.length&&(QE[i++]=g)}else{if(0===i)break;e=QE[--i]}}else{if(0===i)break;e=QE[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}]),e}();function XE(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function JE(e,t,n,r,i,o){var a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function $E(e,t,n,r,i,o){return(JE(i,o,e,t,n,r)||JE(e,t,n,r,i,o)||JE(n,r,i,o,e,t))<0}function ZE(e,t,n,r,i,o,a,s){var u=e-a,l=t-s,c=n-a,f=r-s,d=i-a,h=o-s,p=c*c+f*f,v=d*d+h*h;return u*(f*v-p*h)-l*(c*v-p*d)+(u*u+l*l)*(c*h-f*d)<0}function eS(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,f=u*u+l*l,d=.5/(a*l-s*u),h=(l*c-s*f)*d,p=(a*f-u*c)*d;return h*h+p*p}function tS(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],s=i-1;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{var u=n+1,l=r;nS(e,n+r>>1,u),t[e[n]]>t[e[r]]&&nS(e,n,r),t[e[u]]>t[e[r]]&&nS(e,u,r),t[e[n]]>t[e[u]]&&nS(e,n,u);for(var c=e[u],f=t[c];;){do{u++}while(t[e[u]]<f);do{l--}while(t[e[l]]>f);if(l<u)break;nS(e,u,l)}e[n+1]=e[l],e[l]=c,r-u+1>=l-n?(tS(e,t,u,r),tS(e,t,n,l-1)):(tS(e,t,n,l-1),tS(e,t,u,r))}}function nS(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function rS(e){return e[0]}function iS(e){return e[1]}var oS=function(){function e(){y(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return b(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),aS=function(){function e(){y(this,e),this._=[]}return b(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),sS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=p(n,4),i=r[0],o=r[1],a=r[2],s=r[3];if(y(this,e),!((a=+a)>=(i=+i)&&(s=+s)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=a,this.xmin=i,this.ymax=s,this.ymin=o,this._init()}return b(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,l=0,c=o.length;u<c;u+=3,l+=2){var f=2*o[u],d=2*o[u+1],h=2*o[u+2],p=r[f],v=r[f+1],m=r[d],g=r[d+1],y=r[h],b=r[h+1],_=m-p,w=g-v,x=y-p,O=b-v,k=_*_+w*w,E=x*x+O*O,S=2*(_*O-w*x);if(S)if(Math.abs(S)<1e-8)e=(p+y)/2,t=(v+b)/2;else{var T=1/S;e=p+(O*k-w*E)*T,t=v+(_*E-x*k)*T}else e=(p+y)/2-1e8*O,t=(v+b)/2+1e8*x;s[l]=e,s[l+1]=t}var C,D,A,j=i[i.length-1],N=4*j,M=r[2*j],I=r[2*j+1];a.fill(0);for(var P=0;P<i.length;++P)C=N,D=M,A=I,N=4*(j=i[P]),M=r[2*j],I=r[2*j+1],a[C+2]=a[N]=A-I,a[C+3]=a[N+1]=M-D}},{key:"render",value:function(e){var t=null==e?e=new oS:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var u=0,l=r.length;u<l;++u){var c=r[u];if(!(c<u)){var f=2*Math.floor(u/3),d=2*Math.floor(c/3),h=a[f],p=a[f+1],v=a[d],m=a[d+1];this._renderSegment(h,p,v,m,e)}}for(var g,y=o[o.length-1],b=0;b<o.length;++b){g=y,y=o[b];var _=2*Math.floor(i[y]/3),w=a[_],x=a[_+1],O=4*g,k=this._project(w,x,s[O+2],s[O+3]);k&&this._renderSegment(w,x,k[0],k[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new oS:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new oS:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:v.mark((function e(){var t,n,r,i;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=12;break}if(i=this.cellPolygon(n),e.t0=i,!e.t0){e.next=9;break}return i.index=n,e.next=9,i;case 9:++n,e.next=2;break;case 12:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new aS;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:v.mark((function e(t){var n,r,i,o,a,s,u,l,c;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=g(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(o=i.value,!(a=this._clip(o))){e.next=23;break}s=0,u=n.length;case 10:if(!(s<u)){e.next=23;break}l=0,c=a.length;case 12:if(!(l<c)){e.next=20;break}if(n[s]!=a[l]||n[s+1]!=a[l+1]||n[(s+2)%u]!=a[(l+c-2)%c]||n[(s+3)%u]!=a[(l+c-1)%c]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:l+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var s=[],u=a;do{var l=Math.floor(u/3);if(s.push(t[2*l],t[2*l+1]),o[u=u%3==2?u-2:u+1]!==e)break;u=i[u]}while(u!==a&&-1!==u);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,o,a,s=t.length,u=null,l=t[s-2],c=t[s-1],f=this._regioncode(l,c),d=0;d<s;d+=2)if(n=l,r=c,l=t[d],c=t[d+1],i=f,f=this._regioncode(l,c),0===i&&0===f)o=a,a=0,u?u.push(l,c):u=[l,c];else{var h=void 0,v=void 0,m=void 0,g=void 0,y=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,l,c,i,f)))continue;var b=p(h,4);v=b[0],m=b[1],g=b[2],y=b[3]}else{var _;if(null===(h=this._clipSegment(l,c,n,r,f,i)))continue;g=(_=p(h,4))[0],y=_[1],v=_[2],m=_[3],o=a,a=this._edgecode(v,m),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(v,m):u=[v,m]}o=a,a=this._edgecode(g,y),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(g,y):u=[g,y]}if(u)o=a,a=this._edgecode(u[0],u[1]),o&&a&&this._edge(e,o,a,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,s=void 0,u=i||o;8&u?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&u?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&u?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(var u,l=0,c=s.length,f=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)u=f,f=this._edgecode(s[l],s[l+1]),u&&f&&(l=this._edge(e,u,f,s,l),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var u=(s+2)%r.length,l=(s+4)%r.length;(r[s]===r[u]&&r[u]===r[l]||r[s+1]===r[u+1]&&r[u+1]===r[l+1])&&(r.splice(u,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),uS=2*Math.PI,lS=Math.pow;function cS(e){return e[0]}function fS(e){return e[1]}function dS(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var hS=function(){function e(t){y(this,e),this._delaunator=new KE(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return b(e,null,[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fS,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?function(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=e[a];o[2*a]=t.call(r,s,a,e),o[2*a+1]=n.call(r,s,a,e)}return o}(t,n,r,i):Float64Array.from(v.mark((function e(t,n,r,i){var o,a,s,u;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,a=g(t),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=13;break}return u=s.value,e.next=8,n.call(i,u,o,t);case 8:return e.next=10,r.call(i,u,o,t);case 10:++o;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])}))(t,n,r,i)))}}]),b(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,s=t.length/2;a<s;++a){var u=dS(t[2*a],t[2*a+1],o);t[2*a]=u[0],t[2*a+1]=u[1]}this._delaunator=new KE(t)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=l.length;p<v;++p){var m=f[p%3==2?p-2:p+1];-1!==l[p]&&-1!==d[m]||(d[m]=p)}for(var g=0,y=c.length;g<y;++g)h[c[g]]=g;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],d[c[0]]=1,2===c.length&&(d[c[1]]=0))}},{key:"voronoi",value:function(e){return new sS(this,e)}},{key:"neighbors",value:v.mark((function e(t){var n,r,i,o,a,s,u,l,c,f,d;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){e.next=13;break}if(u=s.indexOf(t),e.t0=u>0,!e.t0){e.next=7;break}return e.next=7,s[u-1];case 7:if(e.t1=u<s.length-1,!e.t1){e.next=12;break}return e.next=11,s[u+1];case 11:e.t1=e.sent;case 12:return e.abrupt("return",void e.t1);case 13:if(-1!==(l=n[t])){e.next=16;break}return e.abrupt("return");case 16:c=l,f=-1;case 17:return e.next=19,f=a[c];case 19:if(a[c=c%3==2?c-2:c+1]===t){e.next=22;break}return e.abrupt("return");case 22:if(-1!==(c=o[c])){e.next=30;break}if(d=r[(i[t]+1)%r.length],e.t2=d!==f,!e.t2){e.next=29;break}return e.next=28,d;case 28:e.t2=e.sent;case 29:return e.abrupt("return",void e.t2);case 30:if(c!==l){e.next=17;break}case 31:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!=e||(t=+t)!=t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var l=e,c=lS(t-u[2*e],2)+lS(n-u[2*e+1],2),f=r[e],d=f;do{var h=s[d],p=lS(t-u[2*h],2)+lS(n-u[2*h+1],2);if(p<c&&(c=p,l=h),s[d=d%3==2?d-2:d+1]!==e)break;if(-1===(d=a[d])){if((d=i[(o[e]+1)%i.length])!==h&&lS(t-u[2*d],2)+lS(n-u[2*d+1],2)<c)return d;break}}while(d!==f);return l}},{key:"render",value:function(e){for(var t=null==e?e=new oS:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s=r[o];if(!(s<o)){var u=2*i[o],l=2*i[s];e.moveTo(n[u],n[u+1]),e.lineTo(n[l],n[l+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new oS:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,uS)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new oS:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var s=2*n[a];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new aS;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new oS:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:v.mark((function e(){var t,n,r;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new aS;return this.renderTriangle(e,t),t.value()}}]),e}();function pS(e){Uo.call(this,null,e)}pS.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var vS=[-1e5,-1e5,1e5,1e5];function mS(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}Object(ee.z)(pS,Uo,{transform:function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:vS;for(var o=this.value=hS.from(r,e.x,e.y).voronoi(i),a=0,s=r.length;a<s;++a){var u=o.cellPolygon(a);r[a][n]=u?mS(u):null}return t.reflow(e.modified()).modifies(n)}});var gS=Math.PI/180;function yS(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,2048/o,2048/o);var a,s,u,l,c,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,a=i.measureText(t.text+"m").width*o,u=t.size<<1,t.rotate){var v=Math.sin(t.rotate*gS),m=Math.cos(t.rotate*gS),g=a*m,y=a*v,b=u*m,_=u*v;a=Math.max(Math.abs(g+_),Math.abs(g-_))+31>>5<<5,u=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(u>h&&(h=u),f+a>=2048&&(f=0,d+=h,h=0),d+u>=2048)break;i.translate((f+(a>>1))/o,(d+(u>>1))/o),t.rotate&&i.rotate(t.rotate*gS),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=a,t.height=u,t.xoff=f,t.yoff=d,t.x1=a>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=a}for(var w=i.getImageData(0,0,2048/o,2048/o).data,x=[];--r>=0;)if((t=n[r]).hasText){for(s=(a=t.width)>>5,u=t.y1-t.y0,l=0;l<u*s;l++)x[l]=0;if(null==(f=t.xoff))return;d=t.yoff;var O=0,k=-1;for(c=0;c<u;c++){for(l=0;l<a;l++){var E=s*c+(l>>5),S=w[2048*(d+c)+(f+l)<<2]?1<<31-l%32:0;x[E]|=S,O|=S}O?k=c:(t.y0++,u--,c--,d++)}t.y1=t.y0+k,t.sprite=x.slice(0,(t.y1-t.y0)*s)}}}function bS(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=127&a,u=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var d=0;d<=o;d++)if((r<<u|(d<o?(r=i[f*o+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function _S(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function wS(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function xS(e){return"function"==typeof e?e:function(){return e}}var OS={archimedean:wS,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},kS=["x","y","font","fontSize","fontStyle","fontWeight","angle"],ES=["text","font","rotate","fontSize","fontStyle","fontWeight"];function SS(e){Uo.call(this,function(){var e,t,n,r,i,o,a,s=[256,256],u=wS,l=[],c=Math.random,f={};function d(e,t,n){for(var r,i,o,a,l,f=t.x,d=t.y,h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),p=u(s),v=c()<.5?1:-1,m=-v;(r=p(m+=v))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=h));)if(t.x=f+i,t.y=d+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>s[0]||t.y+t.y1>s[1]||n&&bS(t,e,s[0])||n&&(l=n,!((a=t).x+a.x1>l[0].x&&a.x+a.x0<l[1].x&&a.y+a.y1>l[0].y&&a.y+a.y0<l[1].y)))){for(var g,y=t.sprite,b=t.width>>5,_=s[0]>>5,w=t.x-(b<<4),x=127&w,O=32-x,k=t.y1-t.y0,E=(t.y+t.y0)*_+(w>>5),S=0;S<k;S++){g=0;for(var T=0;T<=b;T++)e[E+T]|=g<<O|(T<b?(g=y[S*b+T])>>>x:0);E+=_}return t.sprite=null,!0}return!1}return f.layout=function(){for(var u=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(jl()),f=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((s[0]>>5)*s[1]),h=null,p=l.length,v=-1,m=[],g=l.map((function(s){return{text:e(s),font:t(s),style:r(s),weight:i(s),rotate:o(s),size:~~(n(s)+1e-14),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}})).sort((function(e,t){return t.size-e.size}));++v<p;){var y=g[v];y.x=s[0]*(c()+.5)>>1,y.y=s[1]*(c()+.5)>>1,yS(u,y,g,v),y.hasText&&d(f,y,h)&&(m.push(y),h?_S(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=s[0]>>1,y.y-=s[1]>>1)}return m},f.words=function(e){return arguments.length?(l=e,f):l},f.size=function(e){return arguments.length?(s=[+e[0],+e[1]],f):s},f.font=function(e){return arguments.length?(t=xS(e),f):t},f.fontStyle=function(e){return arguments.length?(r=xS(e),f):r},f.fontWeight=function(e){return arguments.length?(i=xS(e),f):i},f.rotate=function(e){return arguments.length?(o=xS(e),f):o},f.text=function(t){return arguments.length?(e=xS(t),f):e},f.spiral=function(e){return arguments.length?(u=OS[e]||e,f):u},f.fontSize=function(e){return arguments.length?(n=xS(e),f):n},f.padding=function(e){return arguments.length?(a=xS(e),f):a},f.random=function(e){return arguments.length?(c=e,f):c},f}(),e)}SS.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:kS}]},Object(ee.z)(SS,Uo,{transform:function(e,t){!e.size||e.size[0]&&e.size[1]||Object(ee.o)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||ES.some((function(n){var r=e[n];return Object(ee.E)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,o=this.value,a=e.as||kS,s=e.fontSize||14;if(Object(ee.E)(s)?r=e.fontSizeRange:s=Object(ee.m)(s),r){var u=s,l=Ud("sqrt")().domain(Object(ee.q)(i,u)).range(r);s=function(e){return l(u(e))}}i.forEach((function(e){e[a[0]]=NaN,e[a[1]]=NaN,e[a[3]]=0}));for(var c,f,d=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(ra).layout(),h=o.size(),p=h[0]>>1,v=h[1]>>1,m=d.length,g=0;g<m;++g)(f=(c=d[g]).datum)[a[0]]=c.x+p,f[a[1]]=c.y+v,f[a[2]]=c.font,f[a[3]]=c.size,f[a[4]]=c.style,f[a[5]]=c.weight,f[a[6]]=c.rotate;return t.reflow(n).modifies(a)}}});var TS=function(e){return new Uint8Array(e)},CS=function(e){return new Uint16Array(e)},DS=function(e){return new Uint32Array(e)};function AS(e,t,n){var r=(t<257?TS:t<65537?CS:DS)(e);return n&&r.set(n),r}function jS(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,o=i.bisect(i.range,e.value),a=e.index,s=o[0],u=o[1],l=a.length;for(n=0;n<s;++n)t[a[n]]|=r;for(n=u;n<l;++n)t[a[n]]|=r;return i}}}function NS(){var e=DS(0),t=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];var a,s,u,l=n,c=i.length,f=DS(c),d=Array(c);for(u=0;u<c;++u)d[u]=r(i[u]),f[u]=u;if(d=function(e,t){return e.sort.call(t,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),function(e,t){return Array.from(t,(function(t){return e[t]}))}(e,t)}(d,f),l)a=t,s=e,t=Array(l+c),e=DS(l+c),function(e,t,n,r,i,o,a,s,u){var l,c=0,f=0;for(l=0;c<r&&f<a;++l)t[c]<i[f]?(s[l]=t[c],u[l]=n[c++]):(s[l]=i[f],u[l]=o[f++]+e);for(;c<r;++c,++l)s[l]=t[c],u[l]=n[c];for(;f<a;++f,++l)s[l]=i[f],u[l]=o[f]+e}(o,a,s,l,d,f,c,t,e);else{if(o>0)for(u=0;u<c;++u)f[u]+=o;t=d,e=f}return n=l+c,{index:f,value:d}},remove:function(r,i){var o,a,s,u=n;for(a=0;!i[e[a]]&&a<u;++a);for(s=a;a<u;++a)i[o=e[a]]||(e[s]=o,t[s]=t[a],++s);n=u-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[Il(r,e[0],0,i),Ml(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function MS(e){Uo.call(this,function(){var e=8,t=[],n=DS(0),r=AS(0,e),i=AS(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((i=i||new e.constructor(r)).set(e),i);var e,r,i},add:function(e){for(var n,r=0,i=t.length,o=e.length;r<o;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var o,a,s,u=t.length,l=Array(u-e),c=t;for(a=0;!n[a]&&a<u;++a)l[a]=t[a],c[a]=a;for(s=a;a<u;++a)o=t[a],n[a]?c[a]=-1:(c[a]=s,r[s]=r[a],i[s]=i[a],l[s]=o,o._index=s++),r[a]=0;return t=l,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){return i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=AS(t,e,r),i=AS(t,e))}}}(),e),this._indices=null,this._dims=null}function IS(e){Uo.call(this,null,e)}MS.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Object(ee.z)(MS,Uo,{transform:function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init:function(e,t){for(var n,r,i=e.fields,o=e.query,a=this._indices={},s=this._dims=[],u=o.length,l=0;l<u;++l)r=a[n=i[l].fname]||(a[n]=NS()),s.push(jS(r,l,o[l]));return this.eval(e,t)},reinit:function(e,t){var n,r,i,o,a,s,u,l,c,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,v=this._dims,m=this.value,g=m.curr(),y=m.prev(),b=m.all(),_=f.rem=f.add,w=f.mod,x=h.length,O={};if(y.set(g),t.rem.length&&(a=this.remove(e,t,f)),t.add.length&&m.add(t.add),t.mod.length)for(s={},u=0,l=(o=t.mod).length;u<l;++u)s[o[u]._index]=1;for(u=0;u<x;++u)c=d[u],(!v[u]||e.modified("fields",u)||t.modified(c.fields))&&((n=O[i=c.fname])||(p[i]=r=NS(),O[i]=n=r.insert(c,t.source,0)),v[u]=jS(r,u,h[u]).onAdd(n,g));for(u=0,l=m.data().length;u<l;++u)a[u]||(y[u]!==g[u]?_.push(u):s[u]&&g[u]!==b&&w.push(u));return m.mask=(1<<x)-1,f},eval:function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert:function(e,t,n){var r,i,o,a=t.add,s=this.value,u=this._dims,l=this._indices,c=e.fields,f={},d=n.add,h=s.size()+a.length,p=u.length,v=s.size();s.resize(h,p),s.add(a);var m=s.curr(),g=s.prev(),y=s.all();for(r=0;r<p;++r)o=f[i=c[r].fname]||(f[i]=l[i].insert(c[r],a,v)),u[r].onAdd(o,m);for(;v<h;++v)g[v]=y,m[v]!==y&&d.push(v)},modify:function(e,t){var n,r,i,o=t.mod,a=this.value,s=a.curr(),u=a.all(),l=e.mod;for(n=0,r=l.length;n<r;++n)s[i=l[n]._index]!==u&&o.push(i)},remove:function(e,t,n){var r,i,o,a,s=this._indices,u=this.value,l=u.curr(),c=u.prev(),f=u.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[o=p[r]._index]=1,c[o]=a=l[o],l[o]=f,a!==f&&h.push(o);for(o in s)s[o].remove(i,d);return this.reindex(t,i,d),d},reindex:function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var o in r)r[o].reindex(e)}))},update:function(e,t,n){var r,i,o=this._dims,a=e.query,s=t.stamp,u=o.length,l=0;for(n.filters=0,i=0;i<u;++i)e.modified("query",i)&&(r=i,++l);if(1===l)l=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,l=0;i<u;++i)e.modified("query",i)&&(l|=o[i].one,this.incrementAll(o[i],a[i],s,n.add),n.rem=n.add);return l},incrementAll:function(e,t,n,r){var i,o,a,s=this.value,u=s.seen(),l=s.curr(),c=s.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],m=d[0],g=d[1],y=e.one;if(p<m)for(i=p,o=Math.min(m,v);i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;else if(p>m)for(i=m,o=Math.min(p,g);i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;if(v>g)for(i=Math.max(p,g),o=v;i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;else if(v<g)for(i=Math.max(m,v),o=g;i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;e.range=t.slice()},incrementOne:function(e,t,n,r){var i,o,a,s=this.value.curr(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=l[0],p=l[1],v=e.one;if(f<h)for(i=f,o=Math.min(h,d);i<o;++i)s[a=u[i]]^=v,n.push(a);else if(f>h)for(i=h,o=Math.min(f,p);i<o;++i)s[a=u[i]]^=v,r.push(a);if(d>p)for(i=Math.max(f,p),o=d;i<o;++i)s[a=u[i]]^=v,n.push(a);else if(d<p)for(i=Math.max(h,d),o=p;i<o;++i)s[a=u[i]]^=v,r.push(a);e.range=t.slice()}}),IS.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(ee.z)(IS,Uo,{transform:function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;var o=t.fork(t.ALL),a=r.data(),s=r.curr(),u=r.prev(),l=function(e){return s[e]&n?null:a[e]};return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,(function(e){var t=s[e]&n;return!t&&t^u[e]&n?a[e]:null})),o.filter(o.REM,(function(e){var t=s[e]&n;return!t||t^t^u[e]&n?null:a[e]}))):(o.filter(o.ADD,l),o.filter(o.REM,(function(e){return(s[e]&n)===i?a[e]:null}))),o.filter(o.SOURCE,(function(e){return l(e._index)}))}});var PS,LS,FS,RS,BS,zS="Literal",US="CallExpression";function HS(e){this.type=e}HS.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case US:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case zS:case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1},(PS={})[1]="Boolean",PS[2]="<end>",PS[3]="Identifier",PS[4]="Keyword",PS[5]="Null",PS[6]="Numeric",PS[7]="Punctuator",PS[8]="String",PS[9]="RegularExpression";var VS="Identifier",WS="Unexpected token %0",qS="Invalid regular expression",GS="Invalid regular expression: missing /",YS="Octal literals are not allowed in strict mode.",QS="ILLEGAL",KS="Disabled.",XS=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),JS=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function $S(e,t){if(!e)throw new Error("ASSERT: "+t)}function ZS(e){return e>=48&&e<=57}function eT(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function tT(e){return"01234567".indexOf(e)>=0}function nT(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function rT(e){return 10===e||13===e||8232===e||8233===e}function iT(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&XS.test(String.fromCharCode(e))}function oT(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&JS.test(String.fromCharCode(e))}var aT={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function sT(){for(;FS<RS;){var e=LS.charCodeAt(FS);if(!nT(e)&&!rT(e))break;++FS}}function uT(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)FS<RS&&eT(LS[FS])?(r=LS[FS++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):xT({},WS,QS);return String.fromCharCode(i)}function lT(){var e,t,n,r;for(t=0,"}"===(e=LS[FS])&&xT({},WS,QS);FS<RS&&eT(e=LS[FS++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&xT({},WS,QS),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function cT(){var e,t;for(e=LS.charCodeAt(FS++),t=String.fromCharCode(e),92===e&&(117!==LS.charCodeAt(FS)&&xT({},WS,QS),++FS,(e=uT("u"))&&"\\"!==e&&iT(e.charCodeAt(0))||xT({},WS,QS),t=e);FS<RS&&oT(e=LS.charCodeAt(FS));)++FS,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==LS.charCodeAt(FS)&&xT({},WS,QS),++FS,(e=uT("u"))&&"\\"!==e&&oT(e.charCodeAt(0))||xT({},WS,QS),t+=e);return t}function fT(){var e,t,n,r,i=FS,o=LS.charCodeAt(FS),a=LS[FS];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++FS,{type:7,value:String.fromCharCode(o),start:i,end:FS};default:if(61===(e=LS.charCodeAt(FS+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return FS+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:i,end:FS};case 33:case 61:return FS+=2,61===LS.charCodeAt(FS)&&++FS,{type:7,value:LS.slice(i,FS),start:i,end:FS}}}return">>>="===(r=LS.substr(FS,4))?{type:7,value:r,start:i,end:FS+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:FS+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:7,value:t,start:i,end:FS+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++FS}:void xT({},WS,QS)}function dT(){var e,t,n;if($S(ZS((n=LS[FS]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=FS,e="","."!==n){if(e=LS[FS++],n=LS[FS],"0"===e){if("x"===n||"X"===n)return++FS,function(e){for(var t="";FS<RS&&eT(LS[FS]);)t+=LS[FS++];return 0===t.length&&xT({},WS,QS),iT(LS.charCodeAt(FS))&&xT({},WS,QS),{type:6,value:parseInt("0x"+t,16),start:e,end:FS}}(t);if(tT(n))return function(e){for(var t="0"+LS[FS++];FS<RS&&tT(LS[FS]);)t+=LS[FS++];return(iT(LS.charCodeAt(FS))||ZS(LS.charCodeAt(FS)))&&xT({},WS,QS),{type:6,value:parseInt(t,8),octal:!0,start:e,end:FS}}(t);n&&ZS(n.charCodeAt(0))&&xT({},WS,QS)}for(;ZS(LS.charCodeAt(FS));)e+=LS[FS++];n=LS[FS]}if("."===n){for(e+=LS[FS++];ZS(LS.charCodeAt(FS));)e+=LS[FS++];n=LS[FS]}if("e"===n||"E"===n)if(e+=LS[FS++],"+"!==(n=LS[FS])&&"-"!==n||(e+=LS[FS++]),ZS(LS.charCodeAt(FS)))for(;ZS(LS.charCodeAt(FS));)e+=LS[FS++];else xT({},WS,QS);return iT(LS.charCodeAt(FS))&&xT({},WS,QS),{type:6,value:parseFloat(e),start:t,end:FS}}function hT(){if(sT(),FS>=RS)return{type:2,start:FS,end:FS};var e=LS.charCodeAt(FS);return iT(e)?function(){var e,t;return e=FS,{type:1===(t=92===LS.charCodeAt(FS)?cT():function(){var e,t;for(e=FS++;FS<RS;){if(92===(t=LS.charCodeAt(FS)))return FS=e,cT();if(!oT(t))break;++FS}return LS.slice(e,FS)}()).length?3:aT.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:FS}}():40===e||41===e||59===e?fT():39===e||34===e?function(){var e,t,n,r,i="",o=!1;for($S("'"===(e=LS[FS])||'"'===e,"String literal must starts with a quote"),t=FS,++FS;FS<RS;){if((n=LS[FS++])===e){e="";break}if("\\"===n)if((n=LS[FS++])&&rT(n.charCodeAt(0)))"\r"===n&&"\n"===LS[FS]&&++FS;else switch(n){case"u":case"x":"{"===LS[FS]?(++FS,i+=lT()):i+=uT(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:tT(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),FS<RS&&tT(LS[FS])&&(o=!0,r=8*r+"01234567".indexOf(LS[FS++]),"0123".indexOf(n)>=0&&FS<RS&&tT(LS[FS])&&(r=8*r+"01234567".indexOf(LS[FS++]))),i+=String.fromCharCode(r)):i+=n}else{if(rT(n.charCodeAt(0)))break;i+=n}}return""!==e&&xT({},WS,QS),{type:8,value:i,octal:o,start:t,end:FS}}():46===e?ZS(LS.charCodeAt(FS+1))?dT():fT():ZS(e)?dT():fT()}function pT(){var e=BS;return FS=e.end,BS=hT(),FS=e.end,e}function vT(){var e=FS;BS=hT(),FS=e}function mT(e,t,n){var r=new HS("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function gT(e,t){var n=new HS("CallExpression");return n.callee=e,n.arguments=t,n}function yT(e){var t=new HS(VS);return t.name=e,t}function bT(e){var t=new HS("Literal");return t.value=e.value,t.raw=LS.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function _T(e,t,n){var r=new HS("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function wT(e,t,n){var r=new HS("Property");return r.key=t,r.value=n,r.kind=e,r}function xT(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return $S(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=FS,n.description=i,n}function OT(e){2===e.type&&xT(e,"Unexpected end of input"),6===e.type&&xT(e,"Unexpected number"),8===e.type&&xT(e,"Unexpected string"),3===e.type&&xT(e,"Unexpected identifier"),4===e.type&&xT(e,"Unexpected reserved word"),xT(e,WS,e.value)}function kT(e){var t=pT();7===t.type&&t.value===e||OT(t)}function ET(e){return 7===BS.type&&BS.value===e}function ST(e){return 4===BS.type&&BS.value===e}function TT(){FS=BS.start;var e=pT();return 8===e.type||6===e.type?(e.octal&&xT(e,YS),bT(e)):yT(e.value)}function CT(){var e,t,n;return FS=BS.start,3===(e=BS).type?(n=TT(),kT(":"),wT("init",n,LT())):2!==e.type&&7!==e.type?(t=TT(),kT(":"),wT("init",t,LT())):void OT(e)}var DT={if:1};function AT(){var e,t,n;if(ET("("))return function(){kT("(");var e=FT();return kT(")"),e}();if(ET("["))return function(){var e=[];for(FS=BS.start,kT("[");!ET("]");)ET(",")?(pT(),e.push(null)):(e.push(LT()),ET("]")||kT(","));return pT(),function(e){var t=new HS("ArrayExpression");return t.elements=e,t}(e)}();if(ET("{"))return function(){var e,t,n=[],r={},i=String;for(FS=BS.start,kT("{");!ET("}");)t="$"+((e=CT()).key.type===VS?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?xT({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),ET("}")||kT(",");return kT("}"),function(e){var t=new HS("ObjectExpression");return t.properties=e,t}(n)}();if(e=BS.type,FS=BS.start,3===e||DT[BS.value])n=yT(pT().value);else if(8===e||6===e)BS.octal&&xT(BS,YS),n=bT(pT());else{if(4===e)throw new Error(KS);1===e?((t=pT()).value="true"===t.value,n=bT(t)):5===e?((t=pT()).value=null,n=bT(t)):ET("/")||ET("/=")?(n=bT(function(){var e,t,n,r;return BS=null,sT(),e=FS,t=function(){var e,t,n,r;for($S("/"===(e=LS[FS]),"Regular expression literal must start with a slash"),t=LS[FS++],n=!1,r=!1;FS<RS;)if(t+=e=LS[FS++],"\\"===e)rT((e=LS[FS++]).charCodeAt(0))&&xT({},GS),t+=e;else if(rT(e.charCodeAt(0)))xT({},GS);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||xT({},GS),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";FS<RS&&oT((e=LS[FS]).charCodeAt(0));)++FS,"\\"===e&&FS<RS?xT({},WS,QS):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&xT({},qS,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";xT({},qS)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){xT({},qS)}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:FS}}()),vT()):OT(pT())}return n}function jT(){var e=[];if(kT("("),!ET(")"))for(;FS<RS&&(e.push(LT()),!ET(")"));)kT(",");return kT(")"),e}function NT(){kT("[");var e=FT();return kT("]"),e}function MT(){var e=function(){var e;for(e=AT();;)if(ET("."))e=_T(".",e,(kT("."),function(){FS=BS.start;var e=pT();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||OT(e),yT(e.value)}()));else if(ET("("))e=gT(e,jT());else{if(!ET("["))break;e=_T("[",e,NT())}return e}();if(7===BS.type&&(ET("++")||ET("--")))throw new Error(KS);return e}function IT(){var e,t;if(7!==BS.type&&4!==BS.type)t=MT();else{if(ET("++")||ET("--"))throw new Error(KS);if(ET("+")||ET("-")||ET("~")||ET("!"))e=pT(),t=IT(),t=function(e,t){var n=new HS("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(ST("delete")||ST("void")||ST("typeof"))throw new Error(KS);t=MT()}}return t}function PT(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function LT(){var e,t;return e=function(){var e,t,n,r,i,o,a,s,u,l;if(e=BS,u=IT(),0===(i=PT(r=BS)))return u;for(r.prec=i,pT(),t=[e,BS],o=[u,r,a=IT()];(i=PT(BS))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),n=mT(s,u,a),o.push(n);(r=pT()).prec=i,o.push(r),t.push(BS),n=IT(),o.push(n)}for(n=o[l=o.length-1],t.pop();l>1;)t.pop(),n=mT(o[l-1].value,o[l-2],n),l-=2;return n}(),ET("?")&&(pT(),t=LT(),kT(":"),e=function(e,t,n){var r=new HS("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,LT())),e}function FT(){var e=LT();if(ET(","))throw new Error(KS);return e}function RT(e){FS=0,RS=(LS=e).length,BS=null,vT();var t=FT();if(2!==BS.type)throw new Error("Unexpect token after expression.");return t}var BT={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function zT(e){function t(t,n,r){return function(i){return function(t,n,r,i){var o=e(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(ee.o)("Missing arguments to clamp function."),t.length>3&&Object(ee.o)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),replace:t("replace",r),trim:t("trim",r,0),regexp:i,test:t("test",i),if:function(t){t.length<3&&Object(ee.o)("Missing arguments to if function."),t.length>3&&Object(ee.o)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}var UT,HT,VT,WT,qT,GT=new Fb,YT=new Fb,QT={point:a_,lineStart:a_,lineEnd:a_,polygonStart:function(){GT=new Fb,QT.lineStart=KT,QT.lineEnd=XT},polygonEnd:function(){var e=+GT;YT.add(e<0?Hb+e:e),this.lineStart=this.lineEnd=this.point=a_},sphere:function(){YT.add(Hb)}};function KT(){QT.point=JT}function XT(){$T(UT,HT)}function JT(e,t){QT.point=$T,UT=e,HT=t,VT=e*=Wb,WT=Qb(t=(t*=Wb)/2+Ub),qT=e_(t)}function $T(e,t){var n=(e*=Wb)-VT,r=n>=0?1:-1,i=r*n,o=Qb(t=(t*=Wb)/2+Ub),a=e_(t),s=qT*a,u=WT*o+s*Qb(i),l=s*r*e_(i);GT.add(Yb(l,u)),VT=e,WT=o,qT=a}var ZT,eC,tC,nC,rC,iC,oC,aC,sC,uC,lC,cC={point:fC,lineStart:hC,lineEnd:pC,polygonStart:function(){cC.point=vC,cC.lineStart=mC,cC.lineEnd=gC,sC=new Fb,QT.polygonStart()},polygonEnd:function(){QT.polygonEnd(),cC.point=fC,cC.lineStart=hC,cC.lineEnd=pC,GT<0?(ZT=-(tC=180),eC=-(nC=90)):sC>Rb?nC=90:sC<-1e-6&&(eC=-90),lC[0]=ZT,lC[1]=tC},sphere:function(){ZT=-(tC=180),eC=-(nC=90)}};function fC(e,t){uC.push(lC=[ZT=e,tC=e]),t<eC&&(eC=t),t>nC&&(nC=t)}function dC(e,t){var n=pw([e*Wb,t*Wb]);if(aC){var r=mw(aC,n),i=mw([r[1],-r[0],0],r);bw(i),i=hw(i);var o,a=e-rC,s=a>0?1:-1,u=i[0]*Vb*s,l=qb(a)>180;l^(s*rC<u&&u<s*e)?(o=i[1]*Vb)>nC&&(nC=o):l^(s*rC<(u=(u+360)%360-180)&&u<s*e)?(o=-i[1]*Vb)<eC&&(eC=o):(t<eC&&(eC=t),t>nC&&(nC=t)),l?e<rC?yC(ZT,e)>yC(ZT,tC)&&(tC=e):yC(e,tC)>yC(ZT,tC)&&(ZT=e):tC>=ZT?(e<ZT&&(ZT=e),e>tC&&(tC=e)):e>rC?yC(ZT,e)>yC(ZT,tC)&&(tC=e):yC(e,tC)>yC(ZT,tC)&&(ZT=e)}else uC.push(lC=[ZT=e,tC=e]);t<eC&&(eC=t),t>nC&&(nC=t),aC=n,rC=e}function hC(){cC.point=dC}function pC(){lC[0]=ZT,lC[1]=tC,cC.point=fC,aC=null}function vC(e,t){if(aC){var n=e-rC;sC.add(qb(n)>180?n+(n>0?360:-360):n)}else iC=e,oC=t;QT.point(e,t),dC(e,t)}function mC(){QT.lineStart()}function gC(){vC(iC,oC),QT.lineEnd(),qb(sC)>Rb&&(ZT=-(tC=180)),lC[0]=ZT,lC[1]=tC,aC=null}function yC(e,t){return(t-=e)<0?t+360:t}function bC(e,t){return e[0]-t[0]}function _C(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var wC,xC,OC,kC,EC,SC,TC,CC,DC,AC,jC,NC,MC,IC,PC,LC,FC={sphere:a_,point:RC,lineStart:zC,lineEnd:VC,polygonStart:function(){FC.lineStart=WC,FC.lineEnd=qC},polygonEnd:function(){FC.lineStart=zC,FC.lineEnd=VC}};function RC(e,t){e*=Wb;var n=Qb(t*=Wb);BC(n*Qb(e),n*e_(e),e_(t))}function BC(e,t,n){++wC,OC+=(e-OC)/wC,kC+=(t-kC)/wC,EC+=(n-EC)/wC}function zC(){FC.point=UC}function UC(e,t){e*=Wb;var n=Qb(t*=Wb);IC=n*Qb(e),PC=n*e_(e),LC=e_(t),FC.point=HC,BC(IC,PC,LC)}function HC(e,t){e*=Wb;var n=Qb(t*=Wb),r=n*Qb(e),i=n*e_(e),o=e_(t),a=Yb(n_((a=PC*o-LC*i)*a+(a=LC*r-IC*o)*a+(a=IC*i-PC*r)*a),IC*r+PC*i+LC*o);xC+=a,SC+=a*(IC+(IC=r)),TC+=a*(PC+(PC=i)),CC+=a*(LC+(LC=o)),BC(IC,PC,LC)}function VC(){FC.point=RC}function WC(){FC.point=GC}function qC(){YC(NC,MC),FC.point=RC}function GC(e,t){NC=e,MC=t,e*=Wb,t*=Wb,FC.point=YC;var n=Qb(t);IC=n*Qb(e),PC=n*e_(e),LC=e_(t),BC(IC,PC,LC)}function YC(e,t){e*=Wb;var n=Qb(t*=Wb),r=n*Qb(e),i=n*e_(e),o=e_(t),a=PC*o-LC*i,s=LC*r-IC*o,u=IC*i-PC*r,l=Jb(a,s,u),c=o_(l),f=l&&-c/l;DC.add(f*a),AC.add(f*s),jC.add(f*u),xC+=c,SC+=c*(IC+(IC=r)),TC+=c*(PC+(PC=i)),CC+=c*(LC+(LC=o)),BC(IC,PC,LC)}var QC="intersect",KC="index:unit";function XC(e,t){for(var n,r,i=t.fields,o=t.values,a=i.length,s=0;s<a;++s)if((r=i[s]).getter=ee.u.getter||Object(ee.u)(r.field),n=r.getter(e),Object(ee.D)(n)&&(n=Object(ee.eb)(n)),Object(ee.D)(o[s])&&(o[s]=Object(ee.eb)(o[s])),Object(ee.D)(o[s][0])&&(o[s]=o[s].map(ee.eb)),"E"===r.type){if(Object(ee.B)(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if("R"===r.type){if(!Object(ee.A)(n,o[s]))return!1}else if("R-RE"===r.type){if(!Object(ee.A)(n,o[s],!0,!1))return!1}else if("R-E"===r.type){if(!Object(ee.A)(n,o[s],!1,!1))return!1}else if("R-LE"===r.type&&!Object(ee.A)(n,o[s],!1,!0))return!1;return!0}var JC={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(ee.eb)(t[0]),r=Object(ee.eb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(ee.eb)(t[0]),r=Object(ee.eb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function $C(e,t,n,r){t[0].type!==zS&&Object(ee.o)("First argument to selection functions must be a string literal.");var i=t[0].value,o=":"+i;(t.length>=2&&Object(ee.W)(t).value)!==QC||Object(ee.w)(r,"@unit")||(r["@unit"]=n.getData(i).indataRef(n,"unit")),Object(ee.w)(r,o)||(r[o]=n.getData(i).tuplesRef())}function ZC(e){var t=this.context.data[e];return t?t.values.value:[]}var eD=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},tD=eD("format"),nD=eD("timeFormat"),rD=eD("utcFormat"),iD=eD("timeParse"),oD=eD("utcParse"),aD=new Date(2e3,0,1);function sD(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(aD.setYear(2e3),aD.setMonth(e),aD.setDate(t),nD.call(this,aD,n)):""}function uD(e,t,n,r){t[0].type!==zS&&Object(ee.o)("First argument to data functions must be a string literal.");var i=t[0].value,o=":"+i;if(!Object(ee.w)(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(e){}}function lD(e,t,n,r){if(t[0].type===zS)cD(n,r,t[0].value);else for(e in n.scales)cD(n,r,e)}function cD(e,t,n){var r="%"+n;if(!Object(ee.w)(t,r))try{t[r]=e.scaleRef(n)}catch(e){}}function fD(e,t){var n;return Object(ee.E)(e)?e:Object(ee.J)(e)?(n=t.scales[e])&&n.value:void 0}function dD(e,t){return function(n,r,i){if(n){var o=fD(n,(i||this).context);return o&&o.path[e](r)}return t(r)}}var hD=dD("area",(function(e){return YT=new Fb,Lb(e,QT),2*YT})),pD=dD("bounds",(function(e){var t,n,r,i,o,a,s;if(nC=tC=-(ZT=eC=1/0),uC=[],Lb(e,cC),n=uC.length){for(uC.sort(bC),t=1,o=[r=uC[0]];t<n;++t)_C(r,(i=uC[t])[0])||_C(r,i[1])?(yC(r[0],i[1])>yC(r[0],r[1])&&(r[1]=i[1]),yC(i[0],r[1])>yC(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=yC(r[1],i[0]))>a&&(a=s,ZT=i[0],tC=r[1])}return uC=lC=null,ZT===1/0||eC===1/0?[[NaN,NaN],[NaN,NaN]]:[[ZT,eC],[tC,nC]]})),vD=dD("centroid",(function(e){wC=xC=OC=kC=EC=SC=TC=CC=0,DC=new Fb,AC=new Fb,jC=new Fb,Lb(e,FC);var t=+DC,n=+AC,r=+jC,i=Jb(t,n,r);return i<1e-12&&(t=SC,n=TC,r=CC,xC<Rb&&(t=OC,n=kC,r=EC),(i=Jb(t,n,r))<1e-12)?[NaN,NaN]:[Yb(n,t)*Vb,o_(r/i)*Vb]}));function mD(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function gD(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yD(e){var t=uc(e);return.2126*gD(t.r)+.7152*gD(t.g)+.0722*gD(t.b)}function bD(e,t){return e===t||e!=e&&t!=t||(Object(ee.B)(e)?!(!Object(ee.B)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!bD(e[n],t[n]))return!1;return!0}(e,t):!(!Object(ee.H)(e)||!Object(ee.H)(t))&&_D(e,t))}function _D(e,t){for(var n in e)if(!bD(e[n],t[n]))return!1;return!0}function wD(e){return function(t){return _D(e,t)}}var xD=function(e){return e.data};function OD(e,t){var n=ZC.call(t,e);return n.root&&n.root.lookup||{}}var kD=function(){return"undefined"!=typeof window&&window||null},ED={random:function(){return ra()},cumulativeNormal:pa,cumulativeLogNormal:_a,cumulativeUniform:Sa,densityNormal:ha,densityLogNormal:ba,densityUniform:Ea,quantileNormal:va,quantileLogNormal:wa,quantileUniform:Ta,sampleNormal:da,sampleLogNormal:ya,sampleUniform:ka,isArray:ee.B,isBoolean:ee.C,isDate:ee.D,isDefined:function(e){return void 0!==e},isNumber:ee.G,isObject:ee.H,isRegExp:ee.I,isString:ee.J,isTuple:so,isValid:function(e){return null!=e&&e==e},toBoolean:ee.cb,toDate:ee.db,toNumber:ee.eb,toString:ee.gb,flush:ee.v,lerp:ee.L,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),Object(ee.p).apply(void 0,m(e))},pad:ee.R,peek:ee.W,span:ee.Z,inrange:ee.A,truncate:ee.hb,rgb:uc,lab:Vf,hcl:Xf,hsl:vc,luminance:yD,contrast:function(e,t){var n=yD(e),r=yD(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Ga,format:tD,utcFormat:rD,utcParse:oD,utcOffset:$n,utcSequence:tr,timeFormat:nD,timeParse:iD,timeOffset:Jn,timeSequence:er,timeUnitSpecifier:On,monthFormat:function(e){return sD.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return sD.call(this,e,1,"%b")},dayFormat:function(e){return sD.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return sD.call(this,0,2+e,"%a")},quarter:ee.X,utcquarter:ee.jb,week:Tn,utcweek:Mn,dayofyear:Sn,utcdayofyear:Nn,warn:function(){return mD(this.context.dataflow,"warn",arguments)},info:function(){return mD(this.context.dataflow,"info",arguments)},debug:function(){return mD(this.context.dataflow,"debug",arguments)},extent:ee.q,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=p(e,2),i=r[0],o=r[1],a=(new xp).set(i[0],i[1],o[0],o[1]);return Vg(n||this.context.dataflow.scenegraph().root,a,function(e){var t=null;if(e){var n=Object(ee.i)(e.marktype),r=Object(ee.i)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:ee.k,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=kD();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=kD();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return pd(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(ee.ib).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?qh(n,t=t||Ih(e)):e}},panLinear:ee.S,panLog:ee.T,panPow:ee.U,panSymlog:ee.V,zoomLinear:ee.nb,zoomLog:ee.ob,zoomPow:ee.pb,zoomSymlog:ee.qb,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,o){var a,s,u=this.context.dataflow,l=this.context.data[e],c=l.input,f=u.stamp(),d=l.changes;if(!1===u._trigger||!(c.value.length||t||r))return 0;if((!d||d.stamp<f)&&(l.changes=d=u.changeset(),d.stamp=f,u.runAfter((function(){l.modified=!0,u.pulse(c,d).run()}),!0,1)),n&&(a=!0===n?ee.ib:Object(ee.B)(n)||so(n)?n:wD(n),d.remove(a)),t&&d.insert(t),r&&(a=wD(r),c.value.some(a)?d.remove(a):d.insert(r)),i)for(s in o)d.modify(i,s,o[s]);return 1}},SD=["view","item","group","xy","x","y"],TD="this.",CD={},DD={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(Object(ee.bb)("$"+e),"]")},functions:function(e){var t=zT(e);for(var n in SD.forEach((function(e){return t[e]="event.vega."+e})),ED)t[n]=TD+n;return Object(ee.p)(t,function(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=lD,n._range=lD,n._scale=lD;var r=function(t){return"_["+(t.type===zS?Object(ee.bb)("%"+t.value):Object(ee.bb)("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(r(e[0]),")")},_range:function(e){return"".concat(r(e[0]),".range()")},_scale:function(t){return"".concat(r(t[0]),"(").concat(e(t[1]),")")}}}(e,ED,CD)),t},constants:BT,visitors:CD},AD=function(e){var t=(e=e||{}).allowed?Object(ee.fb)(e.allowed):{},n=e.forbidden?Object(ee.fb)(e.forbidden):{},r=e.constants||BT,i=(e.functions||zT)(f),o=e.globalvar,a=e.fieldvar,s=Object(ee.E)(o)?o:function(e){return"".concat(o,'["').concat(e,'"]')},u={},l={},c=0;function f(e){if(Object(ee.J)(e))return e;var t=d[e.type];return null==t&&Object(ee.o)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return c>0?i:Object(ee.w)(n,i)?Object(ee.o)("Illegal identifier: "+i):Object(ee.w)(r,i)?r[i]:Object(ee.w)(t,i)?i:(u[i]=1,s(i))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(c+=1);var r=f(e.property);return n===a&&(l[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(c-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(ee.o)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(ee.w)(i,t)&&i[t];return r||Object(ee.o)("Unrecognized function: "+t),Object(ee.E)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){c+=1;var t=f(e.key);return c-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},t}return h.functions=i,h.constants=r,h}(DD);function jD(e,t,n){return 1===arguments.length?ED[e]:(ED[e]=t,n&&(CD[e]=n),AD&&(AD.functions[e]=TD+e),this)}function ND(e,t){var n,r={};try{n=RT(e=Object(ee.J)(e)?e:Object(ee.bb)(e)+"")}catch(t){Object(ee.o)("Expression parse error: "+e)}n.visit((function(e){if(e.type===US){var n=e.callee.name,i=DD.visitors[n];i&&i(n,e.arguments,t,r)}}));var i=AD(n);return i.globals.forEach((function(e){var n="$"+e;!Object(ee.w)(r,n)&&t.getSignal(e)&&(r[n]=t.signalRef(e))})),{$expr:Object(ee.p)({code:i.code},t.options.ast?{ast:n}:null),$fields:i.fields,$params:r}}jD("bandwidth",(function(e,t){var n=fD(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),lD),jD("copy",(function(e,t){var n=fD(e,(t||this).context);return n?n.copy():void 0}),lD),jD("domain",(function(e,t){var n=fD(e,(t||this).context);return n?n.domain():[]}),lD),jD("range",(function(e,t){var n=fD(e,(t||this).context);return n&&n.range?n.range():[]}),lD),jD("invert",(function(e,t,n){var r=fD(e,(n||this).context);return r?Object(ee.B)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),lD),jD("scale",(function(e,t,n){var r=fD(e,(n||this).context);return r?r(t):void 0}),lD),jD("gradient",(function(e,t,n,r,i){e=fD(e,(i||this).context);var o=Dh(t,n),a=e.domain(),s=a[0],u=Object(ee.W)(a),l=ee.y;return u-s?l=eh(e,s,u):e=(e.interpolator?Ud("sequential")().interpolator(e.interpolator()):Ud("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,u=1]),e.ticks&&(s!==(a=e.ticks(+r||15))[0]&&a.unshift(s),u!==Object(ee.W)(a)&&a.push(u)),a.forEach((function(t){return o.stop(l(t),e(t))})),o}),lD),jD("geoArea",hD,lD),jD("geoBounds",pD,lD),jD("geoCentroid",vD,lD),jD("geoShape",(function(e,t,n){var r=fD(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),lD),jD("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){t[0].type!==zS&&Object(ee.o)("First argument to indata must be a string literal."),t[1].type!==zS&&Object(ee.o)("Second argument to indata must be a string literal.");var i=t[0].value,o=t[1].value,a="@"+o;Object(ee.w)(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),jD("data",ZC,uD),jD("treePath",(function(e,t,n){var r=OD(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(xD):void 0}),uD),jD("treeAncestors",(function(e,t){var n=OD(e,this)[t];return n?n.ancestors().map(xD):void 0}),uD),jD("vlSelectionTest",(function(e,t,n){for(var r,i,o,a,s,u=this.context.data[e],l=u?u.values.value:[],c=u?u[KC]&&u[KC].value:void 0,f=n===QC,d=l.length,h=0;h<d;++h)if(r=l[h],c&&f){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(s=XC(t,r),i[a]=s?-1:++o,s&&1===c.size)return!0;if(!s&&o===c.get(a).count)return!1}else if(f^(s=XC(t,r)))return s;return d&&f}),$C),jD("vlSelectionResolve",(function(e,t,n){for(var r,i,o,a,s,u,l,c,f,d,h,p=this.context.data[e],v=p?p.values.value:[],g={},y={},b={},_=v.length,w=0;w<_;++w){for(a=(r=v[w]).unit,i=r.fields,o=r.values,d=0,h=i.length;d<h;++d)s=i[d],l=(u=g[s.field]||(g[s.field]={}))[a]||(u[a]=[]),b[s.field]=c=s.type.charAt(0),f=JC[c+"_union"],u[a]=f(l,Object(ee.i)(o[d]));n&&(l=y[a]||(y[a]=[])).push(Object(ee.i)(o).reduce((function(e,t,n){return e[i[n].field]=t,e}),{}))}return t=t||"union",Object.keys(g).forEach((function(e){g[e]=Object.keys(g[e]).map((function(t){return g[e][t]})).reduce((function(n,r){return void 0===n?r:JC[b[e]+"_"+t](n,r)}))})),v=Object.keys(y),n&&v.length&&(g.vlMulti="union"===t?{or:v.reduce((function(e,t){return e.push.apply(e,m(y[t])),e}),[])}:{and:v.map((function(e){return{or:y[e]}}))}),g}),$C);var MD=Object(ee.fb)(["rule"]),ID=Object(ee.fb)(["group","image","rect"]);function PD(e){return(e+"").toLowerCase()}function LD(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(void 0,m(t.concat(n)));return e&&e.functions?r.bind(e.functions):r}var FD={operator:function(e,t){return LD(e,["_"],t.code)},parameter:function(e,t){return LD(e,["datum","_"],t.code)},event:function(e,t){return LD(e,["event"],t.code)},handler:function(e,t){return LD(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,r=t.channels,i="var o=item,datum=o.datum,m=0,$;";for(var o in r){var a="o["+Object(ee.bb)(o)+"]";i+="$=".concat(r[o].code,";if(").concat(a,"!==$)").concat(a,"=$,m=1;")}return i+=function(e,t){var n="";return MD[t]||(e.x2&&(e.x?(ID[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(ID[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),LD(e,["item","_"],i+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(ee.bb).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,r=Function("a","b","var u, v; return "+e.map((function(e,r){var i,o,a=t[r];return e.path?(i="a".concat(e.path),o="b".concat(e.path)):((n=n||{})["f"+r]=e,i="this.f".concat(r,"(a)"),o="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(i,o,-a,a)})).join("")+"0;");return n?r.bind(n):r}}};function RD(e,t,n){if(!e||!Object(ee.H)(e))return e;for(var r,i=0,o=BD.length;i<o;++i)if(r=BD[i],Object(ee.w)(e,r.key))return r.parse(e,t,n);return e}var BD=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(ee.o)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(ee.K)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(ee.f)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(ee.u)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,r={};for(var i in n){var o=n[i];r[i]=Object(ee.f)(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(ee.i)(e.$compare).map((function(e){return e&&e.$tupleid?uo:e}));return t.fn[n]||(t.fn[n]=Object(ee.l)(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var o=t.fork().parse(n),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(i),a.detachSubflow=function(){return t.detach(o)},a}}},{key:"$tupleid",parse:function(){return uo}}],zD={skip:!0};function UD(e,t,n,r){return new HD(e,t,n,r)}function HD(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||FD,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function VD(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function WD(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}HD.prototype=VD.prototype={fork:function(){var e=new VD(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,r=t;n<r.length;n++){var i=r[n];e.nodes[i]._targets=null}for(var o=0,a=t;o<a.length;o++){var s=a[o];e.nodes[s].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),"collect"===PD(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){var o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push((function(){o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var a=function(r){var i=n.data[r]||(n.data[r]={});e.data[r].forEach((function(e){return i[e]=t}))};for(var s in e.data)a(s)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[PD(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){var t=this;"operator"!==PD(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){var t=this;if(e.params){var n=t.get(e.id);n||Object(ee.o)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var r in e){var i=e[r];t[r]=Object(ee.B)(i)?i.map((function(e){return RD(e,n,t)})):RD(i,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,i=null!=e.stream?n.get(e.stream):void 0;e.source?i=n.events(e.source,e.type,r):e.merge&&(i=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),i=i.between(t[0],t[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Object(ee.o)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),n.stream(e,i)},parseUpdate:function(e){var t,n=this,r=Object(ee.H)(r=e.source)?r.$ref:r,i=n.get(r),o=e.update,a=void 0;i||Object(ee.o)("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),o&&o.$expr&&(o.$params&&(a=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(e,i,t,o,a)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((function(e){n.update(t.signals[e],i[e],zD)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(ee.ib).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var qD="default";function GD(e,t){var n=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function YD(e,t){var n=e._runtime.data;return Object(ee.w)(n,t)||Object(ee.o)("Unrecognized data set: "+t),n[t]}function QD(e,t){mo(t)||Object(ee.o)("Second argument to changes must be a changeset.");var n=YD(this,e);return n.modified=!0,this.pulse(n.input,t)}function KD(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function XD(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function JD(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}var $D={trap:!1};function ZD(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(ee.H)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function eA(e){return e.item}function tA(e){return e.item.mark.source}function nA(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function rA(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}function iA(e,t,n,r){var i=rA("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){return e.update(i.value)})),e.elements=[i],e.set=function(e){return i.value=e}}function oA(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=rA("input",i);t.appendChild(o),o.addEventListener("change",(function(){return e.update(o.checked)})),e.elements=[o],e.set=function(e){return o.checked=!!e||null}}function aA(e,t,n,r){var i=rA("select",{name:n.signal}),o=n.labels||[];n.options.forEach((function(e,t){var n={value:e};lA(e,r)&&(n.selected=!0),i.appendChild(rA("option",n,(o[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(lA(n.options[t],e))return void(i.selectedIndex=t)}}function sA(e,t,n,r){var i=rA("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,a){var s={type:"radio",name:n.signal,value:t};lA(t,r)&&(s.checked=!0);var u=rA("input",s);u.addEventListener("change",(function(){return e.update(t)}));var l=rA("label",{},(o[a]||t)+"");return l.prepend(u),i.appendChild(l),u})),e.set=function(t){for(var n=e.elements,r=n.length,i=0;i<r;++i)lA(n[i].value,t)&&(n[i].checked=!0)}}function uA(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||Qe(o,i,100),s=rA("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;var u=rA("span",{},+r);t.appendChild(s),t.appendChild(u);var l=function(){u.textContent=s.value,e.update(+s.value)};s.addEventListener("input",l),s.addEventListener("change",l),e.elements=[s],e.set=function(e){s.value=e,u.textContent=e}}function lA(e,t){return e===t||e+""==t+""}function cA(e,t,n,r,i,o){return(t=t||new r(e.loader())).initialize(n,KD(e),XD(e),JD(e),i,o).background(e.background())}function fA(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}function dA(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var hA=function(e){return+e||0};function pA(e){return Object(ee.H)(e)?{top:hA(e.top),bottom:hA(e.bottom),left:hA(e.left),right:hA(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(hA(e))}function vA(e,t,n,r){return mA.apply(this,arguments)}function mA(){return(mA=h(v.mark((function e(t,n,r,i){var o,a;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Hg(n),(a=o&&o.headless)||Object(ee.o)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",cA(t,null,null,a,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gA="padding",yA={skip:!0};function bA(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===gA?r.left+r.right:0)}function _A(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===gA?r.top+r.bottom:0)}function wA(e,t){return t.modified&&Object(ee.B)(t.input.value)&&e.indexOf("_:vega:_")}function xA(e,t){return!("parent"===e||t instanceof Ho.proxy)}function OA(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":Object(ee.B)(e)?kA(e):Object(ee.H)(e)&&!Object(ee.D)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(ee.B)(n)?kA(n):EA(n))})).join("\n")):e+"";var t}(r))}function kA(e){return"["+e.map(EA).join(", ")+"]"}function EA(e){return Object(ee.B)(e)?"[\u2026]":Object(ee.H)(e)&&!Object(ee.D)(e)?"{\u2026}":e}function SA(e,t){var n=this;if(t=t||{},Bo.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){var r=Object(ee.p)({},e.locale,t.locale);n.locale(Ji(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||zg.Canvas,n._scenegraph=new Om;var i=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||OA,n._redraw=!0,n._handler=(new Xm).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){var t=Object(ee.p)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(ee.B)(e[t])&&(e[t]=Object(ee.fb)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var o=function(e,t,n){return UD(e,Ho,ED,n).parse(t)}(n,e,t.expr);n._runtime=o,n._signals=o.signals,n._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(ee.p)({},e)}})),o.root&&o.root.set(i),i.source=o.data.root.input,n.pulse(o.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=bA(n,n._width),n._viewHeight=_A(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=bA(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=_A(e,t.size),o()}),{size:r});var a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(n),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(n),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:qD,item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?Object(ee.J)(r)?r:r.user:qD,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),e.add(null,(function(t){var n=t.cursor,r=this.value;return Object(ee.J)(n)||(r=n.item,n=n.user),GD(e,n&&n!==qD?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function TA(e,t){return Object(ee.w)(e._signals,t)?e._signals[t]:Object(ee.o)("Unrecognized signal name: "+Object(ee.bb)(t))}function CA(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function DA(e,t,n,r){var i=CA(n,r);return i||((i=fA(e,(function(){return r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function AA(e,t,n){var r=CA(t,n);return r&&t._targets.remove(r),e}Object(ee.z)(SA,Bo,{evaluate:function(e,t,n){var r=this;return h(v.mark((function i(){var o,a,s,u;return v.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Bo.prototype.evaluate.call(r,e,t);case 2:if(!r._redraw&&!r._resize){i.next=15;break}if(i.prev=3,i.t0=r._renderer,!i.t0){i.next=9;break}return r._resize&&(r._resize=0,a=JD(o=r),s=KD(o),u=XD(o),o._renderer.background(o.background()),o._renderer.resize(s,u,a),o._handler.origin(a),o._resizeListeners.forEach((function(e){try{e(s,u)}catch(e){o.error(e)}}))),i.next=9,r._renderer.renderAsync(r._scenegraph.root);case 9:r._redraw=!1,i.next=15;break;case 12:i.prev=12,i.t1=i.catch(3),r.error(i.t1);case 15:return i.abrupt("return",(n&&ro(r,n),r));case 16:case"end":return i.stop()}}),i,null,[[3,12]])})))()},dirty:function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description:function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&WD(this._el,this._desc=t),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(e,t,n){var r=TA(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width:function(e){return arguments.length?this.signal("width",e):this.signal("width")},height:function(e){return arguments.length?this.signal("height",e):this.signal("height")},padding:function(e){return arguments.length?this.signal("padding",pA(e)):pA(this.signal("padding"))},autosize:function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background:function(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer:function(e){return arguments.length?(Hg(e)||Object(ee.o)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip:function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader:function(e){return arguments.length?(e!==this._loader&&(Bo.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(TA(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,i,o){this.runAfter((function(a){var s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal("width",n,yA),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal("height",r,yA),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter((function(e){return e.resize()}))}),!1,1)},addEventListener:function(e,t,n){var r=t;return n&&!1===n.trap||((r=fA(this,t)).raw=t),this._handler.on(e,r),this},removeEventListener:function(e,t){for(var n,r,i=this._handler.handlers(e),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener:function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener:function(e,t){return DA(this,e,TA(this,e),t)},removeSignalListener:function(e,t){return AA(this,TA(this,e),t)},addDataListener:function(e,t){return DA(this,e,YD(this,e).values,t)},removeDataListener:function(e,t){return AA(this,YD(this,e).values,t)},globalCursor:function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=GD(this,null);this._globalCursor=!!e,t&&GD(this,t)}return this}return this._globalCursor},preventDefault:function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new GO,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?WO():+n,r._restart((function o(a){a+=i,r._restart(o,i+=t,n),e(a)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,i=this,o=new Eo(n),a=function(n,r){i.runAsync(null,(function(){"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),o.receive(function(e,t,n){var r,i,o=e._renderer,a=o&&o.canvas();return a&&(i=JD(e),(r=Am(t.changedTouches?t.changedTouches[0]:t,a))[0]-=i[0],r[1]-=i[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;Object(ee.J)(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(ee.m)(e),item:Object(ee.m)(t||{}),group:i,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,n,r),t}(i,n,r))}))};if("timer"===e)ZD(i,"timer",t)&&i.timer(a,t);else if("view"===e)ZD(i,"view",t)&&i.addEventListener(t,a,$D);else if("window"===e?ZD(i,"window",t)&&"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&ZD(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var s=0,u=r.length;s<u;++s)r[s].addEventListener(t,a);i._eventListeners.push({type:t,sources:r,handler:a})}else i.warn("Can not resolve event source: "+e);return o},finalize:function(){var e,t,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",eA),tA,nA(e)),this.on(this.events("view","mouseout",eA),tA,nA(t)),this},data:function(e,t){return arguments.length<2?YD(this,e).values.value:QD.call(this,e,go().remove(ee.ib).insert(t))},change:QD,insert:function(e,t){return QD.call(this,e,go().insert(t))},remove:function(e,t){return QD.call(this,e,go().remove(t))},scale:function(e){var t=this._runtime.scales;return Object(ee.w)(t,e)||Object(ee.o)("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,o=Hg(r);e=n._el=e?dA(n,e):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),WD(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+r);var a=o.handler||Xm,s=e?o.renderer:o.headless;return n._renderer=s?cA(n,n._renderer,e,s):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),fA(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,JD(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,a),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=dA(n,t):e.appendChild(rA("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=dA(n,e.param.element))})),n._bind.forEach((function(e){!function(e,t,n){if(t){var r=n.param,i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=Object(ee.n)(r.debounce,i.update))),function(e,t,n,r){var i=rA("div",{class:"vega-bind"}),o="radio"===n.input?i:i.appendChild(rA("label"));o.appendChild(rA("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);var a=iA;switch(n.input){case"checkbox":a=oA;break;case"select":a=aA;break;case"radio":a=sA;break;case"range":a=uA}a(e,o,n,r)}(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0)}}(n,e.element||t,e)}))),n},toImageURL:function(){var e=h(v.mark((function e(t,n){var r;return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==zg.Canvas&&t!==zg.SVG&&t!==zg.PNG&&Object(ee.o)("Unrecognized image type: "+t),e.next=3,vA(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===zg.SVG?function(e,t){var n=new Blob([e],{type:"image/svg+xml"});return window.URL.createObjectURL(n)}(r.svg()):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),toCanvas:function(){var e=h(v.mark((function e(t,n){return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vA(this,zg.Canvas,t,n);case 2:return e.abrupt("return",e.sent.canvas());case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),toSVG:function(){var e=h(v.mark((function e(t){return v.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vA(this,zg.SVG,t);case 2:return e.abrupt("return",e.sent.svg());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),getState:function(e){return this._runtime.getState(e||{data:wA,signals:xA,recurse:!0})},setState:function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this}});var jA,NA,MA=/[[\]{}]/,IA={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function PA(e,t,n){return jA=t||"view",NA=n||IA,FA(e.trim()).map(RA)}function LA(e,t,n,r,i){for(var o,a=e.length,s=0;t<a;++t){if(o=e[t],!s&&o===n)return t;i&&i.indexOf(o)>=0?--s:r&&r.indexOf(o)>=0&&++s}return t}function FA(e){for(var t=[],n=e.length,r=0,i=0;i<n;)i=LA(e,i,",","[{","]}"),t.push(e.substring(r,i).trim()),r=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function RA(e){return"["===e[0]?function(e){var t,n=e.length,r=1;if((r=LA(e,r,"]","[","]"))===n)throw"Empty between selector: "+e;if(2!==(t=FA(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(RA);var i=RA(e.slice(1).trim());return i.between?{between:t,stream:i}:(i.between=t,i)}(e):function(e){var t,n,r,i={source:jA},o=[],a=[0,0],s=0,u=0,l=e.length,c=0;if("}"===e[l-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{a=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!=n)throw e;return n}))}(e.substring(c+1,l-1))}catch(i){throw"Invalid throttle specification: "+e}l=(e=e.slice(0,c).trim()).length,c=0}if(!l)throw e;if("@"===e[0]&&(s=++c),(t=LA(e,c,":"))<l&&(o.push(e.substring(u,t).trim()),u=c=++t),(c=LA(e,c,"["))===l)o.push(e.substring(u,l).trim());else if(o.push(e.substring(u,c).trim()),n=[],(u=++c)===l)throw"Unmatched left bracket: "+e;for(;c<l;){if((c=LA(e,c,"]"))===l)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,c).trim()),c<l-1&&"["!==e[++c])throw"Expected left bracket: "+e;u=++c}if(!(l=o.length)||MA.test(o[l-1]))throw"Invalid event selector: "+e;return l>1?(i.type=o[1],s?i.markname=o[0].slice(1):(r=o[0],NA[r]?i.marktype=o[0]:i.source=o[0])):i.type=o[0],"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1)),null!=n&&(i.filter=n),a[0]&&(i.throttle=a[0]),a[1]&&(i.debounce=a[1]),i}(e)}function BA(e){return Object(ee.H)(e)?e:{type:e||"pad"}}var zA=function(e){return+e||0};function UA(e){return Object(ee.H)(e)?e.signal?e:{top:zA(e.top),bottom:zA(e.bottom),left:zA(e.left),right:zA(e.right)}:{top:t=zA(e),bottom:t,left:t,right:t};var t}var HA=function(e){return Object(ee.H)(e)&&!Object(ee.B)(e)?Object(ee.p)({},e):{value:e}};function VA(e,t,n,r){return null!=n?(Object(ee.H)(n)&&!Object(ee.B)(n)||Object(ee.B)(n)&&n.length&&Object(ee.H)(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function WA(e,t,n){for(var r in t)VA(e,r,t[r]);for(var i in n)VA(e,i,n[i],"update")}function qA(e,t,n){for(var r in t)n&&Object(ee.w)(n,r)||(e[r]=Object(ee.p)(e[r]||{},t[r]));return e}function GA(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var YA="mark",QA="frame",KA="scope",XA="legend-label";function JA(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var $A=function(e){return Object(ee.J)(e)?Object(ee.bb)(e):e.signal?"(".concat(e.signal,")"):nj(e)};function ZA(e){if(null!=e.gradient)return function(e){for(var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:Object(ee.bb)(e)}));t.length&&null==Object(ee.W)(t);)t.pop();return t.unshift($A(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?ej("hcl",e.h,e.c,e.l):e.h||e.s?ej("hsl",e.h,e.s,e.l):e.l||e.a?ej("lab",e.l,e.a,e.b):e.r||e.g||e.b?ej("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?nj(e.field):void 0!==e.value?Object(ee.bb)(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=$A(e.scale);return null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1==+e.band?"":"*"+tj(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(tj(e.exponent),")")),null!=e.mult&&(t+="*".concat(tj(e.mult))),null!=e.offset&&(t+="+".concat(tj(e.offset))),e.round&&(t="round(".concat(t,")")),t}var ej=function(e,t,n,r){return"(".concat(e,"(").concat([t,n,r].map(ZA).join(","),")+'')")};function tj(e){return Object(ee.H)(e)?"("+ZA(e)+")":e}function nj(e){return function e(t){var n,r,i;if(t.signal)n="datum",i=t.signal;else if(t.group||t.parent){for(r=Math.max(1,t.level||1),n="item";r-- >0;)n+=".mark.group";t.parent?(i=t.parent,n+=".datum"):i=t.group}else t.datum?(n="datum",i=t.datum):Object(ee.o)("Invalid field reference: "+Object(ee.bb)(t));return t.signal||(i=Object(ee.J)(i)?Object(ee.ab)(i).map(ee.bb).join("]["):e(i)),n+"["+i+"]"}(Object(ee.H)(e)?e:{datum:e})}function rj(e,t,n,r,i,o){var a={};for(var s in(o=o||{}).encoders={$encode:a},e=function(e,t,n,r,i){var o,a,s,u={},l={};for(a in a="lineBreak","text"!==t||null==i[a]||GA(a,e)||JA(u,a,i[a]),("legend"==n||String(n).startsWith("axis"))&&(n=null),s=n===QA?i.group:n===YA?Object(ee.p)({},i.mark,i[t]):null)GA(a,e)||("fill"===a||"stroke"===a)&&(GA("fill",e)||GA("stroke",e))||JA(u,a,s[a]);for(a in Object(ee.i)(r).forEach((function(t){var n=i.style&&i.style[t];for(var r in n)GA(r,e)||JA(u,r,n[r])})),e=Object(ee.p)({},e),u)(s=u[a]).signal?(o=o||{})[a]=s:l[a]=s;return e.enter=Object(ee.p)(l,e.enter),o&&(e.update=Object(ee.p)(o,e.update)),e}(e,t,n,r,i.config))a[s]=ij(e[s],t,o,i);return o}function ij(e,t,n,r){var i,o={},a={};for(var s in e)null!=e[s]&&(o[s]=oj((i=e[s],Object(ee.B)(i)?function(e){var t="";return e.forEach((function(e){var n=ZA(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===Object(ee.W)(t)&&(t+="null"),t}(i):ZA(i)),r,n,a));return{$expr:{marktype:t,channels:o},$fields:Object.keys(a),$output:Object.keys(e)}}function oj(e,t,n,r){var i=ND(e,t);return i.$fields.forEach((function(e){return r[e]=1})),Object(ee.p)(n,i.$params),i.$expr}var aj=["value","update","init","react","bind"];function sj(e,t){Object(ee.o)(e+' for "outer" push: '+Object(ee.bb)(t))}function uj(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||sj("No prior signal definition",n),aj.forEach((function(t){void 0!==e[t]&&sj("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function lj(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function cj(e,t,n,r){return new lj(e,t,n,r)}function fj(e,t){return cj("operator",e,t)}function dj(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function hj(e,t){return t?{$field:e,$name:t}:{$field:e}}var pj=hj("key");function vj(e,t){return{$compare:e,$order:t}}function mj(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var gj="scope",yj="view";function bj(e){return e&&e.signal}function _j(e){if(bj(e))return!0;if(Object(ee.H)(e))for(var t in e)if(_j(e[t]))return!0;return!1}function wj(e,t){return null!=e?e:t}function xj(e){return e&&e.signal||e}function Oj(e,t){return(e.merge?kj:e.stream?Ej:e.type?Sj:Object(ee.o)("Invalid stream specification: "+Object(ee.bb)(e)))(e,t)}function kj(e,t){var n=Tj({merge:e.merge.map((function(e){return Oj(e,t)}))},e,t);return t.addStream(n).id}function Ej(e,t){var n=Tj({stream:Oj(e.stream,t)},e,t);return t.addStream(n).id}function Sj(e,t){var n,r;"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event((r=e.source)===gj?yj:r||yj,e.type);var i=Tj({stream:n},e,t);return 1===Object.keys(i).length?n:t.addStream(i).id}function Tj(e,t,n){var r=t.between;return r&&(2!==r.length&&Object(ee.o)('Stream "between" parameter must have 2 entries: '+Object(ee.bb)(t)),e.between=[Oj(r[0],n),Oj(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===gj&&r.push("inScope(event.item)"),r.length&&(e.filter=ND("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var Cj={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Dj(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var Aj=function(e){return function(t,n,r){return cj(e,n,t||void 0,r)}},jj=Aj("aggregate"),Nj=Aj("axisticks"),Mj=Aj("bound"),Ij=Aj("collect"),Pj=Aj("compare"),Lj=Aj("datajoin"),Fj=Aj("encode"),Rj=Aj("expression"),Bj=Aj("facet"),zj=Aj("field"),Uj=Aj("key"),Hj=Aj("legendentries"),Vj=Aj("load"),Wj=Aj("mark"),qj=Aj("multiextent"),Gj=Aj("multivalues"),Yj=Aj("overlap"),Qj=Aj("params"),Kj=Aj("prefacet"),Xj=Aj("projection"),Jj=Aj("proxy"),$j=Aj("relay"),Zj=Aj("render"),eN=Aj("scale"),tN=Aj("sieve"),nN=Aj("sortitems"),rN=Aj("viewlayout"),iN=Aj("values"),oN=0,aN={min:"min",max:"max",count:"sum"};function sN(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=fN(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=n.config.range,o=t.range;if(o.signal)return n.signalRef(o.signal);if(Object(ee.J)(o)){if(i&&Object(ee.w)(i,o))return e(t=Object(ee.p)({},t,{range:i[o]}),n,r);"width"===o?o=[0,{signal:"width"}]:"height"===o?o=qd(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(ee.o)("Unrecognized scale range value: "+Object(ee.bb)(o))}else{if(o.scheme)return r.scheme=Object(ee.B)(o.scheme)?lN(o.scheme,n):uN(o.scheme,n),o.extent&&(r.schemeExtent=lN(o.extent,n)),void(o.count&&(r.schemeCount=uN(o.count,n)));if(o.step)return void(r.rangeStep=uN(o.step,n));if(qd(t.type)&&!Object(ee.B)(o))return fN(o,t,n);Object(ee.B)(o)||Object(ee.o)("Unsupported range type: "+Object(ee.bb)(o))}return o.map((function(e){return(Object(ee.B)(e)?lN:uN)(e,n)}))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=uN(e.type||e),null!=e.gamma&&(t.interpolateGamma=uN(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(ee.H)(r)?{interval:uN(r.interval),step:uN(r.step)}:uN(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(ee.B)(e)?lN(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(ee.w)(i,n)||"name"===n||(i[n]=uN(e[n],t))}function uN(e,t){return Object(ee.H)(e)?e.signal?t.signalRef(e.signal):Object(ee.o)("Unsupported object: "+Object(ee.bb)(e)):e}function lN(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return uN(e,t)}))}function cN(e){Object(ee.o)("Can not find data set: "+Object(ee.bb)(e))}function fN(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(ee.B)(e)?dN:e.fields?pN:hN)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(ee.o)("No scale domain defined for domainMin/domainMax to override.")}function dN(e,t,n){return e.map((function(e){return uN(e,n)}))}function hN(e,t,n){var r=n.getData(e.data);return r||cN(e.data),qd(t.type)?r.valuesRef(n,e.field,mN(e.sort,!1)):Kd(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function pN(e,t,n){var r=e.data,i=e.fields.reduce((function(e,t){return t=Object(ee.J)(t)?{data:r,field:t}:Object(ee.B)(t)||t.signal?function(e,t){var n="_:vega:_"+oN++,r=Ij({});if(Object(ee.B)(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+Object(ee.bb)(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,tN({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(qd(t.type)?vN:Kd(t.type)?gN:yN)(e,n,i)}function vN(e,t,n){var r,i,o=mN(e.sort,!0),a=n.map((function(e){var n=t.getData(e.data);return n||cN(e.data),n.countsRef(t,e.field,o)})),s={groupby:pj,pulse:a};o&&(r=o.op||"count",i=o.field?mj(r,o.field):"count",s.ops=[aN[r]],s.fields=[t.fieldRef(i)],s.as=[i]),r=t.add(jj(s));var u=t.add(Ij({pulse:dj(r)}));return i=t.add(iN({field:pj,sort:t.sortRef(o),pulse:dj(u)})),dj(i)}function mN(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!aN[e.op]&&Object(ee.o)("Multiple domain scales can not be sorted using "+e.op):Object(ee.o)("No field provided for sort aggregate op: "+e.op):Object(ee.H)(e)?e.field="key":e={field:"key"}),e}function gN(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||cN(e.data),n.domainRef(t,e.field)}));return dj(t.add(Gj({values:r})))}function yN(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||cN(e.data),n.extentRef(t,e.field)}));return dj(t.add(qj({extents:r})))}function bN(e,t,n){return Object(ee.B)(e)?e.map((function(e){return bN(e,t,n)})):Object(ee.H)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(ee.o)("Unsupported parameter object: "+Object(ee.bb)(e)):e}var _N="top",wN="left",xN="right",ON="bottom",kN="label",EN="perc",SN="value",TN="guide-label",CN="guide-title",DN="gradient",AN="discrete",jN="size",NN=[jN,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],MN={name:1,style:1,interactive:1},IN={value:0},PN={value:1},LN="group",FN="rule",RN="text";function BN(e){return e.type=LN,e.interactive=e.interactive||!1,e}function zN(e,t){var n=function(n,r){return wj(e[n],wj(t[n],r))};return n.isVertical=function(n){return"vertical"===wj(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return wj(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return wj(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return wj(e.columns,wj(t.columns,+n.isVertical(!0)))},n}function UN(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function HN(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var VN=HN(Object(ee.bb)(wN),Object(ee.bb)(xN),Object(ee.bb)("center"));function WN(e,t){return t?e?Object(ee.H)(e)?Object.assign({},e,{offset:WN(e.offset,t)}):{value:e,offset:t}:t:e}function qN(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=qA(e.encode,t,MN)):e.interactive=!1,e}function GN(e,t,n,r){var i,o,a,s,u,l=zN(e,n),c=l.isVertical(),f=l.gradientThickness(),d=l.gradientLength();c?(o=[0,1],a=[0,0],s=f,u=d):(o=[0,0],a=[1,0],s=d,u=f);var h={enter:i={opacity:IN,x:IN,y:IN,width:HA(s),height:HA(u)},update:Object(ee.p)({},i,{opacity:PN,fill:{gradient:t,start:o,stop:a}}),exit:{opacity:IN}};return WA(h,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),qN({type:"rect",role:"legend-gradient",encode:h},r)}function YN(e,t,n,r,i){var o,a,s,u,l=zN(e,n),c=l.isVertical(),f=l.gradientThickness(),d=l.gradientLength(),h="";c?(o="y",s="y2",a="x",u="width",h="1-"):(o="x",s="x2",a="y",u="height");var p={opacity:IN,fill:{scale:t,field:SN}};p[o]={signal:h+"datum."+EN,mult:d},p[a]=IN,p[s]={signal:h+"datum.perc2",mult:d},p[u]=HA(f);var v={enter:p,update:Object(ee.p)({},p,{opacity:PN}),exit:{opacity:IN}};return WA(v,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),qN({type:"rect",role:"legend-band",key:SN,from:i,encode:v},r)}var QN="datum.".concat(EN,'<=0?"').concat(wN,'":datum.').concat(EN,'>=1?"').concat(xN,'":"').concat("center",'"'),KN="datum.".concat(EN,'<=0?"').concat(ON,'":datum.').concat(EN,'>=1?"').concat(_N,'":"').concat("middle",'"');function XN(e,t,n,r){var i,o,a,s,u=zN(e,t),l=u.isVertical(),c=HA(u.gradientThickness()),f=u.gradientLength(),d=u("labelOverlap"),h="",p={enter:i={opacity:IN},update:o={opacity:PN,text:{field:kN}},exit:{opacity:IN}};return WA(p,{fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontStyle:u("labelFontStyle"),fontWeight:u("labelFontWeight"),limit:wj(e.labelLimit,t.gradientLabelLimit)}),l?(i.align={value:"left"},i.baseline=o.baseline={signal:KN},a="y",s="x",h="1-"):(i.align=o.align={signal:QN},i.baseline={value:"top"},a="x",s="y"),i[a]=o[a]={signal:h+"datum."+EN,mult:f},i[s]=o[s]=c,c.offset=wj(e.labelOffset,t.gradientLabelOffset)||0,d=d?{separation:u("labelSeparation"),method:d,order:"datum.index"}:void 0,qN({type:RN,role:XA,style:TN,key:SN,from:r,encode:p,overlap:d},n)}function JN(e,t,n,r,i){var o,a,s,u,l,c=zN(e,t),f=n.entries,d=!(!f||!f.interactive),h=f?f.name:void 0,p=c("clipHeight"),v=c("symbolOffset"),m={data:"value"},g="(".concat(i,") ? datum.").concat("offset"," : datum.").concat(jN),y=p?HA(p):{field:jN},b="datum.".concat("index"),_="max(1, ".concat(i,")");y.mult=.5,o={enter:a={opacity:IN,x:{signal:g,mult:.5,offset:v},y:y},update:s={opacity:PN,x:a.x,y:a.y},exit:{opacity:IN}};var w=null,x=null;e.fill||(w=t.symbolBaseFillColor,x=t.symbolBaseStrokeColor),WA(o,{fill:c("symbolFillColor",w),shape:c("symbolType"),size:c("symbolSize"),stroke:c("symbolStrokeColor",x),strokeDash:c("symbolDash"),strokeDashOffset:c("symbolDashOffset"),strokeWidth:c("symbolStrokeWidth")},{opacity:c("symbolOpacity")}),NN.forEach((function(t){e[t]&&(s[t]=a[t]={scale:e[t],field:SN})}));var O=qN({type:"symbol",role:"legend-symbol",key:SN,from:m,clip:!!p||void 0,encode:o},n.symbols),k=HA(v);k.offset=c("labelOffset"),WA(o={enter:a={opacity:IN,x:{signal:g,offset:k},y:y},update:s={opacity:PN,text:{field:kN},x:a.x,y:a.y},exit:{opacity:IN}},{align:c("labelAlign"),baseline:c("labelBaseline"),fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontStyle:c("labelFontStyle"),fontWeight:c("labelFontWeight"),limit:c("labelLimit")});var E=qN({type:RN,role:XA,style:TN,key:SN,from:m,encode:o},n.labels);return o={enter:{noBound:{value:!p},width:IN,height:p?HA(p):IN,opacity:IN},exit:{opacity:IN},update:s={opacity:PN,row:{signal:null},column:{signal:null}}},c.isVertical(!0)?(u="ceil(item.mark.items.length / ".concat(_,")"),s.row.signal="".concat(b,"%").concat(u),s.column.signal="floor(".concat(b," / ").concat(u,")"),l={field:["row",b]}):(s.row.signal="floor(".concat(b," / ").concat(_,")"),s.column.signal="".concat(b," % ").concat(_),l={field:b}),s.column.signal="(".concat(i,")?").concat(s.column.signal,":").concat(b),BN({role:KA,from:r={facet:{data:r,name:"value",groupby:"index"}},encode:qA(o,f,MN),marks:[O,E],name:h,interactive:d,sort:l})}var $N='item.orient === "left"',ZN='item.orient === "right"',eM="(".concat($N," || ").concat(ZN,")"),tM="datum.vgrad && ".concat(eM),nM=HN('"top"','"bottom"','"middle"'),rM=HN('"right"','"left"','"center"'),iM="datum.vgrad && ".concat(ZN," ? (").concat(rM,") : (").concat(eM," && !(datum.vgrad && ").concat($N,')) ? "left" : ').concat(VN),oM="item._anchor || (".concat(eM,' ? "middle" : "start")'),aM="".concat(tM," ? (").concat($N," ? -90 : 90) : 0"),sM="".concat(eM," ? (datum.vgrad ? (").concat(ZN,' ? "bottom" : "top") : ').concat(nM,') : "top"');function uM(e,t){var n;return Object(ee.H)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+lM(e.path)+")":e.sphere&&(n="geoShape("+lM(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function lM(e){return Object(ee.H)(e)&&e.signal?e.signal:Object(ee.bb)(e)}function cM(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===LN?KA:t||YA:t}function fM(e){return{marktype:e.type,name:e.name||void 0,role:e.role||cM(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function dM(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function hM(e,t){var n=Vo(e.type);n||Object(ee.o)("Unrecognized transform type: "+Object(ee.bb)(e.type));var r=cj(n.type.toLowerCase(),null,pM(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function pM(e,t,n){for(var r={},i=e.params.length,o=0;o<i;++o){var a=e.params[o];r[a.name]=vM(a,t,n)}return r}function vM(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){return Object(ee.J)(t.from)||Object(ee.o)('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(ee.B)(r)||Object(ee.o)("Expected an array of sub-parameters. Instead: "+Object(ee.bb)(r)),r.map((function(t){return gM(e,t,n)}))):gM(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!bj(i)?i.map((function(t){return mM(e,t,n)})):mM(e,i,n):void(e.required&&Object(ee.o)("Missing required "+Object(ee.bb)(t.type)+" parameter: "+Object(ee.bb)(e.name)))}function mM(e,t,n){var r=e.type;if(bj(t))return wM(r)?Object(ee.o)("Expression references can not be signals."):xM(r)?n.fieldRef(t):OM(r)?n.compareRef(t):n.signalRef(t.signal);var i=e.expr||xM(r);return i&&yM(t)?n.exprRef(t.expr,t.as):i&&bM(t)?hj(t.field,t.as):wM(r)?ND(t,n):_M(r)?dj(n.getData(t).values):xM(r)?hj(t):OM(r)?n.compareRef(t):t}function gM(e,t,n){for(var r,i=e.params.length,o=0;o<i;++o){for(var a in(r=e.params[o]).key)if(r.key[a]!==t[a]){r=null;break}if(r)break}r||Object(ee.o)("Unsupported parameter: "+Object(ee.bb)(t));var s=Object(ee.p)(pM(r,t,n),r.key);return dj(n.add(Qj(s)))}var yM=function(e){return e&&e.expr},bM=function(e){return e&&e.field},_M=function(e){return"data"===e},wM=function(e){return"expr"===e},xM=function(e){return"field"===e},OM=function(e){return"compare"===e};function kM(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:dj(t.getData(e.data).output)}function EM(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function SM(e){return Object(ee.J)(e)?e:null}function TM(e,t,n){var r,i=mj(n.op,n.field);if(t.ops){for(var o=0,a=t.as.length;o<a;++o)if(t.as[o]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function CM(e,t,n,r,i,o,a){var s,u,l=t[n]||(t[n]={}),c=function(e){return Object(ee.H)(e)?("descending"===e.order?"-":"+")+mj(e.op,e.field):""}(o),f=SM(i);if(null!=f&&(e=t.scope,s=l[f+=c?"|"+c:""]),!s){var d=o?{field:pj,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:dj(t.output)};c&&(d.sort=e.sortRef(o)),u=e.add(cj(r,void 0,d)),a&&(t.index[i]=u),s=dj(u),null!=f&&(l[f]=s)}return s}function DM(e,t,n){var r=e.remove,i=e.insert,o=e.toggle,a=e.modify,s=e.values,u=t.add(fj()),l=ND("if("+e.trigger+',modify("'+n+'",'+[i,r,o,a,s].map((function(e){return null==e?"null":e})).join(",")+"),0)",t);u.update=l.$expr,u.params=l.$params}function AM(e,t){var n,r,i,o,a,s,u,l=cM(e),c=e.type===LN,f=e.from&&e.from.facet,d=e.overlap,h=e.layout||l===KA||l===QA,p=l===YA||h||f,v=function(e,t,n){var r,i,o,a,s;return e?(r=e.facet)&&(t||Object(ee.o)("Only group marks can be faceted."),null!=r.field?a=s=kM(r,n):(e.data?s=dj(n.getData(e.data).aggregate):((o=hM(Object(ee.p)({type:"aggregate",groupby:Object(ee.i)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),o.params.pulse=kM(r,n),a=s=dj(n.add(o))),i=n.keyRef(r.groupby,!0))):a=dj(n.add(Ij(null,[{}]))),a||(a=kM(e,n)),{key:i,pulse:a,parent:s}}(e.from,c,t),m=dj(r=t.add(Lj({key:v.key||(e.key?hj(e.key):void 0),pulse:v.pulse,clean:!c})));r=i=t.add(Ij({pulse:m})),r=t.add(Wj({markdef:fM(e),interactive:dM(e.interactive,t),clip:uM(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:dj(r)}));var g=dj(r);(r=o=t.add(Fj(rj(e.encode,e.type,l,e.style,t,{mod:!1,pulse:g})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=hM(e,t),i=n.metadata;(i.generates||i.changes)&&Object(ee.o)("Mark transforms should not generate new data."),i.nomod||(o.params.mod=!0),n.params.pulse=dj(r),t.add(r=n)})),e.sort&&(r=t.add(nN({sort:t.compareRef(e.sort),pulse:dj(r)})));var y=dj(r);(f||h)&&(s=dj(h=t.add(rN({layout:t.objectProperty(e.layout),legends:t.legends,mark:g,pulse:y}))));var b=t.add(Mj({mark:g,pulse:s||y}));u=dj(b),c&&(p&&((n=t.operators).pop(),h&&n.pop()),t.pushState(y,s||u,m),f?function(e,t,n){var r,i=e.from.facet,o=i.name,a=kM(i,t);i.name||Object(ee.o)("Facet must have a name: "+Object(ee.bb)(i)),i.data||Object(ee.o)("Facet must reference a data set: "+Object(ee.bb)(i)),i.field?r=t.add(Kj({field:t.fieldRef(i.field),pulse:a})):i.groupby?r=t.add(Bj({key:t.keyRef(i.groupby),group:dj(t.proxy(n.parent)),pulse:a})):Object(ee.o)("Facet must specify groupby or field: "+Object(ee.bb)(i));var s=t.fork(),u=s.add(Ij()),l=s.add(tN({pulse:dj(u)}));s.addData(o,new EM(s,u,u,l)),s.addSignal("parent",null),r.params.subflow={$subflow:s.parse(e).toRuntime()}}(e,t,v):p?function(e,t,n){var r=t.add(Kj({pulse:n.pulse})),i=t.fork();i.add(tN()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),p&&(h&&n.push(h),n.push(b))),d&&(u=function(e,t,n){var r=e.method,i=e.bound,o=e.separation,a={separation:bj(o)?n.signalRef(o.signal):o,method:bj(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=n.compareRef({field:e.order})),i){var s=i.tolerance;a.boundTolerance=bj(s)?n.signalRef(s.signal):+s,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return dj(n.add(Yj(a)))}(d,u,t));var _=t.add(Zj({pulse:u})),w=t.add(tN({pulse:dj(_)},void 0,t.parent()));null!=e.name&&(a=e.name,t.addData(a,new EM(t,i,_,w)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(ee.o)("Marks only support modify triggers."),DM(e,t,a)})))}function jM(e,t,n){var r={enter:{},update:{}};return WA(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function NM(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):UN(e,n[0].encode)}EM.fromEntries=function(e,t){var n=t.length,r=t[n-1],i=t[n-2],o=t[0],a=null,s=1;for(o&&"load"===o.type&&(o=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=dj(t[s-1]),e.add(t[s]),"aggregate"===t[s].type&&(a=t[s]);return new EM(e,o,i,r,a)},EM.prototype={countsRef:function(e,t,n){var r,i,o,a=this,s=a.counts||(a.counts={}),u=SM(t);return null!=u&&(e=a.scope,r=s[u]),r?n&&n.field&&TM(e,r.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:dj(a.output)},n&&n.field&&TM(e,o,n),i=e.add(jj(o)),r=e.add(Ij({pulse:dj(i)})),r={agg:i,ref:dj(r)},null!=u&&(s[u]=r)),r.ref},tuplesRef:function(){return dj(this.values)},extentRef:function(e,t){return CM(e,this,"extent","extent",t,!1)},domainRef:function(e,t){return CM(e,this,"domain","values",t,!1)},valuesRef:function(e,t,n){return CM(e,this,"vals","values",t,n||!0)},lookupRef:function(e,t){return CM(e,this,"lookup","tupleindex",t,!1)},indataRef:function(e,t){return CM(e,this,"indata","tupleindex",t,!0,!0)}};var MM='item.orient==="'.concat(wN,'"?-90:item.orient==="').concat(xN,'"?90:0');function IM(e,t){var n={enter:{},update:{}};return WA(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:VN},angle:{signal:MM},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),qA(n,t,MN)}function PM(e){var t=Ij({},e);return t.metadata={source:!0},t}function LM(e,t){return Vj({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var FM=function(e){return e===ON||e===_N},RM=function(e,t,n){return bj(e)?WM(e.signal,t,n):e===wN||e===_N?t:n},BM=function(e,t,n){return bj(e)?HM(e.signal,t,n):FM(e)?t:n},zM=function(e,t,n){return bj(e)?VM(e.signal,t,n):FM(e)?n:t},UM=function(e,t,n){return bj(e)?qM(e.signal,t,n):e===_N?{value:t}:{value:n}},HM=function(e,t,n){return GM("".concat(e," === '").concat(_N,"' || ").concat(e," === '").concat(ON,"'"),t,n)},VM=function(e,t,n){return GM("".concat(e," !== '").concat(_N,"' && ").concat(e," !== '").concat(ON,"'"),t,n)},WM=function(e,t,n){return QM("".concat(e," === '").concat(wN,"' || ").concat(e," === '").concat(_N,"'"),t,n)},qM=function(e,t,n){return QM("".concat(e," === '").concat(_N,"'"),t,n)},GM=function(e,t,n){return t=null!=t?HA(t):t,n=null!=n?HA(n):n,YM(t)&&YM(n)?(t=t?t.signal||Object(ee.bb)(t.value):null,n=n?n.signal||Object(ee.bb)(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Object(ee.p)({test:e},t)].concat(n||[])},YM=function(e){return null==e||1===Object.keys(e).length},QM=function(e,t,n){return{signal:"".concat(e," ? (").concat(KM(t),") : (").concat(KM(n),")")}},KM=function(e){return bj(e)?e.signal:null==e?null:Object(ee.bb)(e)},XM=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function JM(e,t,n,r){var i;if(t&&Object(ee.w)(t,e))return t[e];if(Object(ee.w)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][i]}if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][i]}return null}function $M(e){var t,n={},r=g(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i)for(var o in i)n[o]=1}}catch(a){r.e(a)}finally{r.f()}return Object.keys(n)}function ZM(e,t){return{scale:e.scale,range:t}}function eI(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function tI(e,t,n,r,i,o){var a,s=zN(e,t),u=e.orient,l=e.scale,c=RM(u,-1,1),f=xj(s("labelFlush")),d=xj(s("labelFlushOffset")),h=s("labelAlign"),p=s("labelBaseline"),v=0===f||!!f,m=HA(i);m.mult=c,m.offset=HA(s("labelPadding")||0),m.offset.mult=c;var g={scale:l,field:SN,band:.5,offset:WN(o.offset,s("labelOffset"))},y=BM(u,v?eI(l,f,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return bj(e)?function(e,t,n){return QM("".concat(e," === '").concat(xN,"'"),t,n)}(e.signal,t,n):e===xN?{value:t}:{value:n}}(u,"left","right")),b=BM(u,UM(u,"bottom","top"),v?eI(l,f,'"top"','"bottom"','"middle"'):{value:"middle"}),_=eI(l,f,"-(".concat(d,")"),d,0);v=v&&d;var w={opacity:IN,x:BM(u,g,m),y:zM(u,g,m)},x={enter:w,update:a={opacity:PN,text:{field:kN},x:w.x,y:w.y,align:y,baseline:b},exit:{opacity:IN,x:w.x,y:w.y}};WA(x,{dx:!h&&v?BM(u,_):null,dy:!p&&v?zM(u,_):null}),WA(x,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:h,baseline:p});var O=s("labelBound"),k=s("labelOverlap");return k=k||O?{separation:s("labelSeparation"),method:k,order:"datum.index",bound:O?{scale:l,orient:u,tolerance:O}:null}:void 0,a.align!==y&&(a.align=XM(a.align,y)),a.baseline!==b&&(a.baseline=XM(a.baseline,b)),qN({type:RN,role:"axis-label",style:TN,key:SN,from:r,encode:x,overlap:k},n)}function nI(e,t){var n,r=function(e,t){var n,r,i,o,a,s,u,l,c=t.config,f=c.style,d=c.axis,h="band"===t.scaleType(e.scale)&&c.axisBand,p=e.orient;if(bj(p)){var v,m=$M([c.axisX,c.axisY]),y=$M([c.axisTop,c.axisBottom,c.axisLeft,c.axisRight]),b=g((n={},m));try{for(b.s();!(v=b.n()).done;)n[i=v.value]=BM(p,JM(i,c.axisX,d,f),JM(i,c.axisY,d,f))}catch(x){b.e(x)}finally{b.f()}var _,w=g((r={},y));try{for(w.s();!(_=w.n()).done;)r[i=_.value]=(o=p.signal,a=JM(i,c.axisTop,d,f),s=JM(i,c.axisBottom,d,f),u=JM(i,c.axisLeft,d,f),l=JM(i,c.axisRight,d,f),{signal:(null!=u?"".concat(o," === '").concat(wN,"' ? (").concat(KM(u),") : "):"")+(null!=s?"".concat(o," === '").concat(ON,"' ? (").concat(KM(s),") : "):"")+(null!=l?"".concat(o," === '").concat(xN,"' ? (").concat(KM(l),") : "):"")+(null!=a?"".concat(o," === '").concat(_N,"' ? (").concat(KM(a),") : "):"")+"(null)"})}catch(x){w.e(x)}finally{w.f()}}else n=p===_N||p===ON?c.axisX:c.axisY,r=c["axis"+p[0].toUpperCase()+p.slice(1)];return n||r||h?Object(ee.p)({},d,n,r,h):d}(e,t),i=e.encode||{},o=i.axis||{},a=o.name||void 0,s=o.interactive,u=o.style,l=zN(e,r),c=function(e){var t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},Object(ee.H)(i)||(i={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}(l),f={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:null!=e.title},d=dj(t.add(Ij({},[f]))),h=dj(t.add(Nj({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];return f.grid&&p.push(function(e,t,n,r,i){var o,a,s,u=zN(e,t),l=e.orient,c=e.gridScale,f=RM(l,1,-1),d=function(e,t){if(1===t);else if(Object(ee.H)(e)){for(var n=e=Object(ee.p)({},e);null!=n.mult;){if(!Object(ee.H)(n.mult))return n.mult=bj(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Object(ee.p)({},n.mult)}n.mult=t}else e=bj(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f),h={enter:o={opacity:IN},update:s={opacity:PN},exit:a={opacity:IN}};WA(h,{stroke:u("gridColor"),strokeCap:u("gridCap"),strokeDash:u("gridDash"),strokeDashOffset:u("gridDashOffset"),strokeOpacity:u("gridOpacity"),strokeWidth:u("gridWidth")});var p={scale:e.scale,field:SN,band:i.band,extra:i.extra,offset:i.offset,round:u("tickRound")},v=BM(l,{signal:"height"},{signal:"width"}),m=c?{scale:c,range:0,mult:f,offset:d}:{value:0,offset:d},g=c?{scale:c,range:1,mult:f,offset:d}:Object(ee.p)(v,{mult:f,offset:d});return o.x=s.x=BM(l,p,m),o.y=s.y=zM(l,p,m),o.x2=s.x2=zM(l,g),o.y2=s.y2=BM(l,g),a.x=BM(l,p),a.y=zM(l,p),qN({type:FN,role:"axis-grid",key:SN,from:r,encode:h},n)}(e,r,i.grid,h,c)),f.ticks&&(n=l("tickSize"),p.push(function(e,t,n,r,i,o){var a,s,u,l=zN(e,t),c=e.orient,f=RM(c,-1,1),d={enter:a={opacity:IN},update:u={opacity:PN},exit:s={opacity:IN}};WA(d,{stroke:l("tickColor"),strokeCap:l("tickCap"),strokeDash:l("tickDash"),strokeDashOffset:l("tickDashOffset"),strokeOpacity:l("tickOpacity"),strokeWidth:l("tickWidth")});var h=HA(i);h.mult=f;var p={scale:e.scale,field:SN,band:o.band,extra:o.extra,offset:o.offset,round:l("tickRound")};return u.y=a.y=BM(c,IN,p),u.y2=a.y2=BM(c,h),s.x=BM(c,p),u.x=a.x=zM(c,IN,p),u.x2=a.x2=zM(c,h),s.y=zM(c,p),qN({type:FN,role:"axis-tick",key:SN,from:r,encode:d},n)}(e,r,i.ticks,h,n,c))),f.labels&&(n=f.ticks?n:0,p.push(tI(e,r,i.labels,h,n,c))),f.domain&&p.push(function(e,t,n,r){var i,o,a=zN(e,t),s=e.orient,u={enter:i={opacity:IN},update:o={opacity:PN},exit:{opacity:IN}};WA(u,{stroke:a("domainColor"),strokeCap:a("domainCap"),strokeDash:a("domainDash"),strokeDashOffset:a("domainDashOffset"),strokeWidth:a("domainWidth"),strokeOpacity:a("domainOpacity")});var l=ZM(e,0),c=ZM(e,1);return i.x=o.x=BM(s,l,IN),i.x2=o.x2=BM(s,c),i.y=o.y=zM(s,l,IN),i.y2=o.y2=zM(s,c),qN({type:FN,role:"axis-domain",from:r,encode:u},n)}(e,r,i.domain,d)),f.title&&p.push(function(e,t,n,r){var i,o,a=zN(e,t),s=e.orient,u=RM(s,-1,1),l={enter:i={opacity:IN,anchor:HA(a("titleAnchor",null)),align:{signal:VN}},update:o=Object(ee.p)({},i,{opacity:PN,text:HA(e.title)}),exit:{opacity:IN}},c={signal:'lerp(range("'.concat(e.scale,'"), ').concat(HN(0,1,.5),")")};return o.x=BM(s,c),o.y=zM(s,c),i.angle=BM(s,IN,function(e,t){return bj(e)?{signal:"(".concat(e.signal,") * ").concat(90)}:{value:90*e}}(u)),i.baseline=BM(s,UM(s,ON,_N),{value:ON}),o.angle=i.angle,o.baseline=i.baseline,WA(l,{fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),angle:a("titleAngle"),baseline:a("titleBaseline")}),function(e,t,n,r){var i=function(e,t){return null!=e?(n.update[t]=XM(HA(e),n.update[t]),!1):!GA(t,r)},o=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===o?HA(a):BM(t,HA(a),HA(o))}(a,s,l,n),l.update.align=XM(l.update.align,i.align),l.update.angle=XM(l.update.angle,i.angle),l.update.baseline=XM(l.update.baseline,i.baseline),qN({type:RN,role:"axis-title",style:CN,from:r,encode:l},n)}(e,r,i.title,d)),AM(BN({role:"axis",from:d,encode:qA(rI(l,e),o,MN),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:s,style:u}),t)}function rI(e,t){var n={enter:{},update:{}};return WA(n,{orient:e("orient"),offset:e("offset")||0,position:wj(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function iI(e,t,n){var r=Object(ee.i)(e.signals),i=Object(ee.i)(e.scales);return n||r.forEach((function(e){return uj(e,t)})),Object(ee.i)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=bN(e[i],i,t));for(var o in n)null==r[o]&&(r[o]=bN(n[o],o,t));t.addProjection(e.name,r)}(e,t)})),i.forEach((function(e){return function(e,t){var n=e.type||"linear";Hd(n)||Object(ee.o)("Unrecognized scale type: "+Object(ee.bb)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(ee.i)(e.data).forEach((function(e){return function(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(hM(e,t))})),e.on&&e.on.forEach((function(n){DM(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,o,a,s,u=[],l=null,c=!1,f=!1;for(e.values?_j(e.values)||_j(e.format)?(u.push(LM(t,e)),u.push(l=PM())):u.push(l=PM({$ingest:e.values,$format:e.format})):e.url?_j(e.url)||_j(e.format)?(u.push(LM(t,e)),u.push(l=PM())):u.push(l=PM({$request:e.url,$format:e.format})):e.source&&(l=r=Object(ee.i)(e.source).map((function(e){return dj(t.getData(e).output)})),u.push(null)),i=0,o=n.length;i<o;++i)s=(a=n[i]).metadata,l||s.source||u.push(l=PM()),u.push(a),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?l=a:s.changes&&(l=null);return r&&(o=r.length-1,u[0]=$j({derive:c,pulse:o?r:r[0]}),(c||o)&&u.splice(1,0,PM())),l||u.push(PM()),u.push(tN({})),u}(e,t,n))}(e,t)})),i.forEach((function(e){return sN(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?Object(ee.o)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=ND(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){return function(e,t,n){var r=e.encode,i={target:n},o=e.events,a=e.update,s=[];o||Object(ee.o)("Signal update missing events specification."),Object(ee.J)(o)&&(o=PA(o,t.isSubscope()?gj:yj)),o=Object(ee.i)(o).filter((function(e){return e.signal||e.scale?(s.push(e),0):1})),s.length>1&&(s=[Dj(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&Object(ee.o)("Signal encode and update are mutually exclusive."),a="encode(item(),"+Object(ee.bb)(r)+")"),i.update=Object(ee.J)(a)?ND(a,t):null!=a.expr?ND(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:Cj,$params:{$value:t.signalRef(a.signal)}}:Object(ee.o)("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach((function(e){return t.addUpdate(Object(ee.p)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Oj(e,t)}}(e,t),i))}))}(e,t,n.id)}))}(e,t)})),Object(ee.i)(e.axes).forEach((function(e){return nI(e,t)})),Object(ee.i)(e.marks).forEach((function(e){return AM(e,t)})),Object(ee.i)(e.legends).forEach((function(e){return function(e,t){var n,r,i,o=t.config.legend,a=e.encode||{},s=zN(e,o),u=a.legend||{},l=u.name||void 0,c=u.interactive,f=u.style,d={},h=0;NN.forEach((function(t){return e[t]?(d[t]=e[t],h=h||e[t]):0})),h||Object(ee.o)("Missing valid scale for legend.");var p=function(e,t){var n=e.type||"symbol";return e.type||1!==function(e){return NN.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Wd(t)?DN:Gd(t)?AN:"symbol"),n!==DN?n:Gd(t)?AN:DN}(e,t.scaleType(h)),v={title:null!=e.title,scales:d,type:p,vgrad:"symbol"!==p&&s.isVertical()},m=dj(t.add(Ij(null,[v]))),g=dj(t.add(Hj(r={type:p,scale:t.scaleRef(h),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===DN?(i=[GN(e,h,o,a.gradient),XN(e,o,a.labels,g)],r.count=r.count||t.signalRef("max(2,2*floor((".concat(xj(s.gradientLength()),")/100))"))):p===AN?i=[YN(e,h,o,a.gradient,g),XN(e,o,a.labels,g)]:(n=function(e,t){var n=zN(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,o),i=[JN(e,o,a,g,xj(n.columns))],r.size=function(e,t,n){var r=xj(NM("size",e,n)),i=xj(NM("strokeWidth",e,n)),o=xj(function(e,t,n){return UN("fontSize",e)||function(e,t,n){var r=t.config.style["guide-label"];return r&&r.fontSize}(0,t)}(n[1].encode,t));return ND("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),t)}(e,t,i[0].marks)),i=[BN({role:"legend-entry",from:m,encode:{enter:{x:{value:0},y:{value:0}}},marks:i,layout:n,interactive:c})],v.title&&i.push(function(e,t,n,r){var i=zN(e,t),o={enter:{opacity:IN},update:{opacity:PN,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:IN}};return WA(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:oM},angle:{signal:aM},align:{signal:iM},baseline:{signal:sM},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),qN({type:RN,role:"legend-title",style:CN,from:r,encode:o},n)}(e,o,a.title,m)),AM(BN({role:"legend",from:m,encode:qA(jM(s,e,o),u,MN),marks:i,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:l,interactive:c,style:f}),t)}(e,t)})),e.title&&function(e,t){var n=zN(e=Object(ee.J)(e)?{text:e}:e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,s=i.style,u=[],l=dj(t.add(Ij(null,[{}])));u.push(function(e,t,n,r){var i={value:0},o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return WA(o,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),qN({type:RN,role:"title-text",style:"group-title",from:r,encode:o},n)}(e,n,function(e){var t=e.encode;return t&&t.title||Object(ee.p)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),l)),e.subtitle&&u.push(function(e,t,n,r){var i={value:0},o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return WA(o,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),qN({type:RN,role:"title-subtitle",style:"group-subtitle",from:r,encode:o},n)}(e,n,r.subtitle,l)),AM(BN({role:"title",from:l,encode:IM(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:s}),t)}(e.title,t),t.parseLambdas(),t}function oI(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function aI(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function sI(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function uI(e){return(Object(ee.B)(e)?lI:cI)(e)}function lI(e){for(var t=e.length,n="[",r=0;r<t;++r){var i=e[r];n+=(r>0?",":"")+(Object(ee.H)(i)?i.signal||uI(i):Object(ee.bb)(i))}return n+"]"}function cI(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(ee.bb)(t)+":"+(Object(ee.H)(n)?n.signal||uI(n):Object(ee.bb)(n));return r+"}"}function fI(e,t,n){return Object(ee.H)(e)||Object(ee.o)("Input Vega specification must be an object."),function(e,t){var n=t.config,r=dj(t.root=t.add(fj())),i=function(e,t){var n=function(n){return wj(e[n],t[n])},r=[oI("background",n("background")),oI("autosize",BA(n("autosize"))),oI("padding",UA(n("padding"))),oI("width",n("width")||0),oI("height",n("height")||0)],i=r.reduce((function(e,t){return e[t.name]=t,e}),{}),o={};return Object(ee.i)(e.signals).forEach((function(e){Object(ee.w)(i,e.name)?e=Object(ee.p)(i[e.name],e):r.push(e),o[e.name]=e})),Object(ee.i)(t.signals).forEach((function(e){Object(ee.w)(o,e.name)||Object(ee.w)(i,e.name)||r.push(e)})),r}(e,n);i.forEach((function(e){return uj(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var o=t.add(Ij()),a=t.add(Fj(rj(function(e){return qA({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),LN,QA,e.style,t,{pulse:dj(o)}))),s=t.add(rN({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:dj(a)}));t.operators.pop(),t.pushState(dj(a),dj(s),null),iI(e,t,i),t.operators.push(s);var u=t.add(Mj({mark:r,pulse:dj(s)}));return u=t.add(Zj({pulse:dj(u)})),u=t.add(tN({pulse:dj(u)})),t.addData("root",new EM(t,o,o,u)),t}(e,new aI(t=Object(ee.P)(function(){var e="sans-serif",t="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),n)).toRuntime()}aI.prototype=sI.prototype={parse:function(e){return iI(e,this)},fork:function(){return new sI(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},proxy:function(e){var t=e instanceof lj?dj(e):e;return this.add(Jj({value:t}))},addStream:function(e){return this.streams.push(e),e.id=this.id(),e},addUpdate:function(e){return this.updates.push(e),e},finish:function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},pushState:function(e,t,n){this._encode.push(dj(this.add(tN({pulse:e})))),this._parent.push(t),this._lookup.push(n?dj(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return Object(ee.W)(this._parent)},encode:function(){return Object(ee.W)(this._encode)},lookup:function(){return Object(ee.W)(this._lookup)},markpath:function(){var e=this._markpath;return++e[e.length-1]},fieldRef:function(e,t){if(Object(ee.J)(e))return hj(e,t);e.signal||Object(ee.o)("Unsupported field reference: "+Object(ee.bb)(e));var n=e.signal,r=this.field[n];if(!r){var i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=dj(this.add(zj(i)))}return r},compareRef:function(e){var t=this,n=!1,r=function(e){return bj(e)?(n=!0,t.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(n=!0,t.exprRef(e.expr)):e},i=Object(ee.i)(e.field).map(r),o=Object(ee.i)(e.order).map(r);return n?dj(this.add(Pj({fields:i,orders:o}))):vj(i,o)},keyRef:function(e,t){var n=!1,r=this.signals;return e=Object(ee.i)(e).map((function(e){return bj(e)?(n=!0,dj(r[e.signal])):e})),n?dj(this.add(Uj({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef:function(e){if(!e)return e;var t=mj(e.op,e.field),n=e.order||"ascending";return n.signal?dj(this.add(Pj({fields:t,orders:this.signalRef(n.signal)}))):vj(t,n)},event:function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(e){return Object(ee.w)(this.signals,e)},addSignal:function(e,t){this.hasOwnSignal(e)&&Object(ee.o)("Duplicate signal name: "+Object(ee.bb)(e));var n=t instanceof lj?t:this.add(fj(t));return this.signals[e]=n},getSignal:function(e){return this.signals[e]||Object(ee.o)("Unrecognized signal name: "+Object(ee.bb)(e)),this.signals[e]},signalRef:function(e){return this.signals[e]?dj(this.signals[e]):(Object(ee.w)(this.lambdas,e)||(this.lambdas[e]=this.add(fj(null))),dj(this.lambdas[e]))},parseLambdas:function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=ND(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property:function(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty:function(e){return e&&Object(ee.H)(e)?this.signalRef(e.signal||uI(e)):e},exprRef:function(e,t){var n={expr:ND(e,this)};return t&&(n.expr.$name=t),dj(this.add(Rj(n)))},addBinding:function(e,t){this.bindings||Object(ee.o)("Nested signals do not support binding: "+Object(ee.bb)(e)),this.bindings.push(Object(ee.p)({signal:e},t))},addScaleProj:function(e,t){Object(ee.w)(this.scales,e)&&Object(ee.o)("Duplicate scale or projection name: "+Object(ee.bb)(e)),this.scales[e]=this.add(t)},addScale:function(e,t){this.addScaleProj(e,eN(t))},addProjection:function(e,t){this.addScaleProj(e,Xj(t))},getScale:function(e){return this.scales[e]||Object(ee.o)("Unrecognized scale name: "+Object(ee.bb)(e)),this.scales[e]},scaleRef:function(e){return dj(this.getScale(e))},scaleType:function(e){return this.getScale(e).params.type},projectionRef:function(e){return this.scaleRef(e)},projectionType:function(e){return this.scaleType(e)},addData:function(e,t){return Object(ee.w)(this.data,e)&&Object(ee.o)("Duplicate data set name: "+Object(ee.bb)(e)),this.data[e]=t},getData:function(e){return this.data[e]||Object(ee.o)("Undefined data set name: "+Object(ee.bb)(e)),this.data[e]},addDataPipeline:function(e,t){return Object(ee.w)(this.data,e)&&Object(ee.o)("Duplicate data set name: "+Object(ee.bb)(e)),this.addData(e,EM.fromEntries(this,t))}};var dI="5.17.0";Object(ee.p)(Ho,D,j,N,M,I,L,P,F,R,B,z);var hI=n(32);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var pI=n(35),vI=n.n(pI),mI=n(36),gI=n.n(mI),yI=n(7),bI=n.n(yI);function _I(e){return!!e.or}function wI(e){return!!e.and}function xI(e){return!!e.not}function OI(e,t){return xI(e)?{not:OI(e.not,t)}:wI(e)?{and:e.and.map((function(e){return OI(e,t)}))}:_I(e)?{or:e.or.map((function(e){return OI(e,t)}))}:t(e)}var kI=gI.a,EI=vI.a;function SI(e,t){var n,r={},i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;Object(ee.w)(e,o)&&(r[o]=e[o])}}catch(a){i.e(a)}finally{i.f()}return r}function TI(e,t){var n,r=Object.assign({},e),i=g(t);try{for(i.s();!(n=i.n()).done;)delete r[n.value]}catch(o){i.e(o)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(m(this).map((function(e){return bI()(e)})).join(","),")")};var CI=bI.a;function DI(e){if(Object(ee.G)(e))return e;var t=Object(ee.J)(e)?e:bI()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n&=n;return n}function AI(e){return!1===e||null===e}function jI(e,t){return e.indexOf(t)>-1}function NI(e,t){var n,r=0,i=g(e.entries());try{for(i.s();!(n=i.n()).done;){var o=p(n.value,2),a=o[0];if(t(o[1],a,r++))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}function MI(e,t){var n,r=0,i=g(e.entries());try{for(i.s();!(n=i.n()).done;){var o=p(n.value,2),a=o[0];if(!t(o[1],a,r++))return!1}}catch(s){i.e(s)}finally{i.f()}return!0}function II(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];PI(e,null!=a?a:{})}return e}function PI(e,t){var n,r=g(VI(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;Object(ee.lb)(e,i,t[i],!0)}}catch(o){r.e(o)}finally{r.f()}}function LI(e,t){var n,r,i=[],o={},a=g(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;(n=t(s))in o||(o[n]=1,i.push(s))}}catch(u){a.e(u)}finally{a.f()}return i}function FI(e,t){var n=VI(e),r=VI(t);if(n.length!==r.length)return!1;var i,o=g(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e[a]!==t[a])return!1}}catch(s){o.e(s)}finally{o.f()}return!0}function RI(e,t){if(e.size!==t.size)return!1;var n,r=g(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}function BI(e,t){var n,r=g(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.has(i))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function zI(e){var t,n=new Set,r=g(e);try{var i=function(){var e,r=t.value,i=Object(ee.ab)(r).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),o=i.map((function(e,t){return i.slice(0,t+1).join("")})),a=g(o);try{for(a.s();!(e=a.n()).done;){var s=e.value;n.add(s)}}catch(u){a.e(u)}finally{a.f()}};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}function UI(e,t){return void 0===e||void 0===t||BI(zI(e),zI(t))}function HI(e){return 0===VI(e).length}var VI=Object.keys,WI=Object.values,qI=Object.entries;function GI(e){return!0===e||!1===e}function YI(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function QI(e,t){return xI(e)?"!("+QI(e.not,t)+")":wI(e)?"("+e.and.map((function(e){return QI(e,t)})).join(") && (")+")":_I(e)?"("+e.or.map((function(e){return QI(e,t)})).join(") || (")+")":t(e)}function KI(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&KI(e[n],t)&&delete e[n],HI(e)}function XI(e){return e.charAt(0).toUpperCase()+e.substr(1)}function JI(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Object(ee.ab)(e),r=[],i=1;i<=n.length;i++){var o="[".concat(n.slice(0,i).map(ee.bb).join("]["),"]");r.push("".concat(t).concat(o))}return r.join(" && ")}function $I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(Object(ee.bb)(Object(ee.ab)(e).join(".")),"]")}function ZI(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function eP(e){return"".concat(Object(ee.ab)(e).map(ZI).join("\\."))}function tP(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function nP(e){return"".concat(Object(ee.ab)(e).join("."))}function rP(e){return e?Object(ee.ab)(e).length:0}function iP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(void 0!==o)return o}}var oP=42;function aP(e){var t=++oP;return e?String(e)+t:t}function sP(){oP=42}function uP(e){return lP(e)?e:"__".concat(e)}function lP(e){return 0===e.indexOf("__")}function cP(e){if(void 0!==e)return(e%360+360)%360}function fP(e){return!!Object(ee.G)(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var dP={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function hP(e){return e&&e.condition}var pP=["domain","grid","labels","ticks","title"],vP={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},mP={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},gP=Object.assign(Object.assign({},mP),{style:1,labelExpr:1,encoding:1});function yP(e){return!!gP[e]}VI(gP);var bP=VI({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),_P={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},wP={count:1,min:1,max:1};function xP(e){return!!e&&!!e.argmin}function OP(e){return!!e&&!!e.argmax}function kP(e){return Object(ee.J)(e)&&!!_P[e]}VI(_P);var EP=["count","valid","missing","distinct"];function SP(e){return Object(ee.J)(e)&&jI(EP,e)}var TP=["count","sum","distinct","valid","missing"],CP=Object(ee.fb)(["mean","average","median","q1","q3","min","max"]),DP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},AP="row",jP="column",NP="facet",MP="x",IP="y",PP="x2",LP="y2",FP="radius",RP="radius2",BP="theta",zP="theta2",UP="latitude",HP="longitude",VP="latitude2",WP="longitude2",qP="color",GP="fill",YP="stroke",QP="shape",KP="size",XP="angle",JP="opacity",$P="fillOpacity",ZP="strokeOpacity",eL="strokeWidth",tL="strokeDash",nL="text",rL="order",iL="detail",oL="key",aL="tooltip",sL="href",uL="url",lL="description",cL={theta:1,theta2:1,radius:1,radius2:1};function fL(e){return e in cL}var dL={longitude:1,longitude2:1,latitude:1,latitude2:1},hL=VI(dL),pL=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),cL),dL),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function vL(e){return e===qP||e===GP||e===YP}var mL={row:1,column:1,facet:1},gL=VI(mL),yL=Object.assign(Object.assign({},pL),mL),bL=VI(yL),_L=(yL.order,yL.detail,yL.tooltip,DP(yL,["order","detail","tooltip"])),wL=(_L.row,_L.column,_L.facet,DP(_L,["row","column","facet"]));function xL(e){return!!yL[e]}VI(_L),VI(wL);var OL=[PP,LP,VP,WP,zP,RP];function kL(e){return EL(e)!==e}function EL(e){switch(e){case PP:return MP;case LP:return IP;case VP:return UP;case WP:return HP;case zP:return BP;case RP:return FP}return e}function SL(e){if(fL(e))switch(e){case BP:return"startAngle";case zP:return"endAngle";case FP:return"outerRadius";case RP:return"innerRadius"}return e}function TL(e){switch(e){case MP:return PP;case IP:return LP;case UP:return VP;case HP:return WP;case BP:return zP;case FP:return RP}}function CL(e){switch(e){case MP:case PP:return"width";case IP:case LP:return"height"}}VI(pL),pL.x,pL.y,pL.x2,pL.y2,pL.latitude,pL.longitude,pL.latitude2,pL.longitude2,pL.theta,pL.theta2,pL.radius,pL.radius2;var DL=DP(pL,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),AL=VI(DL),jL={x:1,y:1},NL=VI(jL);function ML(e){return e in jL}var IL={theta:1,radius:1},PL=VI(IL);function LL(e){return"width"===e?MP:IP}DL.text,DL.tooltip,DL.href,DL.url,DL.description,DL.detail,DL.key,DL.order;var FL=DP(DL,["text","tooltip","href","url","description","detail","key","order"]),RL=VI(FL),BL=Object.assign(Object.assign(Object.assign({},jL),IL),FL),zL=VI(BL);function UL(e){return!!BL[e]}var HL={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},VL=(HL.geoshape,DP(HL,["geoshape"]));function WL(e){switch(e){case MP:case IP:case BP:case FP:case KP:case XP:case eL:case JP:case $P:case ZP:case PP:case LP:case zP:case RP:return;case NP:case AP:case jP:case QP:case tL:case nL:case aL:case sL:case uL:case lL:return"discrete";case qP:case GP:case YP:return"flexible";case UP:case HP:case VP:case WP:case iL:case oL:case rL:return}}function qL(e){return Object(ee.C)(e)&&(e=mU(e,void 0)),"bin"+VI(e).map((function(t){return KL(e[t])?YI("_".concat(t,"_").concat(qI(e[t]))):YI("_".concat(t,"_").concat(e[t]))})).join("")}function GL(e){return!0===e||QL(e)&&!e.binned}function YL(e){return"binned"===e||QL(e)&&!0===e.binned}function QL(e){return Object(ee.H)(e)}function KL(e){return null==e?void 0:e.selection}function XL(e){switch(e){case AP:case jP:case KP:case qP:case GP:case YP:case eL:case JP:case $P:case ZP:case QP:return 6;case tL:return 4;default:return 10}}function JL(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var $L='Autosize "fit" only works for single views and layered views.';function ZL(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function eF(e){return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat("width"==e?"x":"y",'".')}function tF(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(CL(e),"."):'Dropping "fit" because spec has discrete size.'}function nF(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function rF(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function iF(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function oF(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}function aF(e){return"Selection not supported for ".concat(e," yet.")}function sF(e){return'Cannot find a selection named "'.concat(e,'".')}var uF="Scale bindings are currently only supported for scales with unbinned, continuous domains.",lF="Legend bindings are only supported for selections over an individual field or encoding channel.";function cF(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. Try moving the lookup into a second, layered view?')}var fF="The same selection must be used to override scale domains in a layered view.",dF='Interval selections should be initialized using "x" and/or "y" keys.';function hF(e){return'Unknown repeated value "'.concat(e,'".')}function pF(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}var vF="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function mF(e){return'Unrecognized parse "'.concat(e,'".')}function gF(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}var yF="Attempt to add the same child twice.";function bF(e){return"Ignoring an invalid transform: ".concat(CI(e),".")}var _F='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function wF(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function xF(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(CI(t)," is overridden by a child projection ").concat(CI(n),".")}var OF="Arc marks uses theta channel rather than angle, replacing angle with theta.";function kF(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(CI(n),"}.")}function EF(e){return'Invalid field type "'.concat(e,'".')}function SF(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function TF(e){return'Invalid aggregation operator "'.concat(e,'".')}function CF(e,t){return'Missing type for channel "'.concat(e,'", using "').concat(t,'" instead.')}function DF(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function AF(e,t){return"Dropping ".concat(CI(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function jF(e,t,n){return"".concat(e,"-encoding with type ").concat(t," is deprecated. Replacing with ").concat(n,"-encoding.")}var NF="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function MF(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function IF(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}function PF(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function LF(e){return"Facet encoding dropped as ".concat(e.join(" and ")," ").concat(e.length>1?"are":"is"," also specified.")}function FF(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function RF(e){return"The ".concat(e," for range marks cannot be an expression")}function BF(e,t){return"Line mark is for continuous lines and thus cannot be used with ".concat(e&&t?"x2 and y2":e?"x2":"y2",". We will use the rule mark (line segments) instead.")}function zF(e,t){return'Specified orient "'.concat(e,'" overridden with "').concat(t,'".')}var UF="Custom domain scale cannot be unioned with default field-based domain.",HF='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function VF(e){return'Cannot use the scale property "'.concat(e,'" with non-color channel.')}function WF(e){return"Using unaggregated domain with raw field has no effect (".concat(CI(e),").")}function qF(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function GF(e){return"Unaggregated domain is currently unsupported for log scale (".concat(CI(e),").")}function YF(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}function QF(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function KF(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function XF(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function JF(e,t){return'Scale type "'.concat(t,'" does not work with mark "').concat(e,'".')}function $F(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}function ZF(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(CI(n)," and ").concat(CI(r),"). Using ").concat(CI(n),".")}function eR(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(CI(n)," and ").concat(CI(r),"). Using the union of the two domains.")}function tR(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}function nR(e){return"Dropping sort property ".concat(CI(e),' as unioned domains only support boolean or op "count", "min", and "max".')}var rR="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",iR="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",oR="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",aR="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",sR="Invalid channel for axis.";function uR(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function lR(e){return"Cannot stack non-linear scale (".concat(e,").")}function cR(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function fR(e,t){return"Invalid ".concat(e,": ").concat(CI(t),".")}function dR(e){return"Dropping day from datetime ".concat(CI(e)," as day cannot be combined with other units.")}function hR(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}function pR(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}function vR(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}function mR(e){return"1D error band does not support ".concat(e,".")}function gR(e){return"Channel ".concat(e,' is required for "binned" bin.')}function yR(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}function bR(e){return"Domain for ".concat(e," is required for threshold scale.")}var _R=Object(ee.M)(ee.e),wR=_R;function xR(){return wR=_R}function OR(){var e;(e=wR).warn.apply(e,arguments)}function kR(e){if(e&&Object(ee.H)(e)){var t,n=g(MR);try{for(n.s();!(t=n.n()).done;)if(t.value in e)return!0}catch(r){n.e(r)}finally{n.f()}}return!1}new WeakMap;var ER=["january","february","march","april","may","june","july","august","september","october","november","december"],SR=ER.map((function(e){return e.substr(0,3)})),TR=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],CR=TR.map((function(e){return e.substr(0,3)}));function DR(e,t){var n=[];if(t&&void 0!==e.day&&VI(e).length>1&&(OR(H.droppedDay(e)),delete(e=EI(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(fP(e)&&(e=+e),Object(ee.G)(e))return e-1;var t=e.toLowerCase(),n=ER.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=SR.indexOf(r);if(-1!==i)return i;throw new Error(H.invalidTimeUnit("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?function(e){if(fP(e)&&(e=+e),Object(ee.G)(e))return e>4&&OR(H.invalidTimeUnit("quarter",e)),e-1;throw new Error(H.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(Object(ee.G)(i)?3*i:i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var o=t?function(e){if(fP(e)&&(e=+e),Object(ee.G)(e))return e%7;var t=e.toLowerCase(),n=TR.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=CR.indexOf(r);if(-1!==i)return i;throw new Error(H.invalidTimeUnit("day",e))}(e.day):e.day;n.push(Object(ee.G)(o)?o+1:o+"+1")}else n.push(1);for(var a=0,s=["hours","minutes","seconds","milliseconds"];a<s.length;a++){var u=e[s[a]];n.push(void 0===u?0:u)}return n}function AR(e){var t=DR(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}var jR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},NR={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},MR=VI(NR);function IR(e){return e.startsWith("utc")}var PR={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function LR(e){var t,n=[],r=g(MR);try{for(r.s();!(t=r.n()).done;){var i=t.value;FR(e,i)&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}function FR(e,t){var n=e.indexOf(t);return!(n<0)&&!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))}function RR(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},a=o.end,s=JI(t),u=IR(e)?"utc":"",l={},c=g(MR);try{for(c.s();!(r=c.n()).done;){var f=r.value;FR(e,f)&&(l[f]="quarter"===(i=f)?"(".concat(u,"quarter(").concat(s,")-1)"):"".concat(u).concat(i,"(").concat(s,")"),n=f)}}catch(d){c.e(d)}finally{c.f()}return a&&(l[n]+="+1"),function(e){var t=DR(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}(l)}function BR(e){if(e){var t=LR(e);return"timeUnitSpecifier(".concat(bI()(t),", ").concat(bI()(PR),")")}}function zR(e){var t;if(e)return Object(ee.J)(e)?t={unit:e}:Object(ee.H)(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),IR(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function UR(e){return e&&!!e.signal}function HR(e){return!!e.step}function VR(e){return!Object(ee.B)(e)&&"field"in e&&"data"in e}var WR=VI({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),qR={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},GR=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function YR(e){return e&&!!e.field&&void 0!==e.equal}function QR(e){return e&&!!e.field&&void 0!==e.lt}function KR(e){return e&&!!e.field&&void 0!==e.lte}function XR(e){return e&&!!e.field&&void 0!==e.gt}function JR(e){return e&&!!e.field&&void 0!==e.gte}function $R(e){if(e&&e.field){if(Object(ee.B)(e.range)&&2===e.range.length)return!0;if(UR(e.range))return!0}return!1}function ZR(e){return e&&!!e.field&&(Object(ee.B)(e.oneOf)||Object(ee.B)(e.in))}function eB(e){return ZR(e)||YR(e)||$R(e)||QR(e)||XR(e)||KR(e)||JR(e)}function tB(e,t){return bU(e,{timeUnit:t,wrapTime:!0})}function nB(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,i=null===(t=zR(e.timeUnit))||void 0===t?void 0:t.unit,o=i?"time("+RR(i,r)+")":tU(e,{expr:"datum"});if(YR(e))return o+"==="+tB(e.equal,i);if(QR(e))return"".concat(o,"<").concat(tB(e.lt,i));if(XR(e))return"".concat(o,">").concat(tB(e.gt,i));if(KR(e))return"".concat(o,"<=").concat(tB(e.lte,i));if(JR(e))return"".concat(o,">=").concat(tB(e.gte,i));if(ZR(e))return"indexof([".concat(function(e,t){return e.map((function(e){return tB(e,t)}))}(e.oneOf,i).join(","),"], ").concat(o,") !== -1");if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return rB(o,e.valid);if($R(e)){var a=e.range,s=UR(a)?{signal:"".concat(a.signal,"[0]")}:a[0],u=UR(a)?{signal:"".concat(a.signal,"[1]")}:a[1];if(null!==s&&null!==u&&n)return"inrange("+o+", ["+tB(s,i)+", "+tB(u,i)+"])";var l=[];return null!==s&&l.push("".concat(o," >= ").concat(tB(s,i))),null!==u&&l.push("".concat(o," <= ").concat(tB(u,i))),l.length>0?l.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function rB(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function iB(e){var t;return eB(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=zR(e.timeUnit))||void 0===t?void 0:t.unit}):e}var oB={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},aB=oB.quantitative,sB=oB.ordinal,uB=oB.temporal,lB=oB.nominal,cB=oB.geojson;VI(oB);var fB="linear",dB="time",hB="utc",pB={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function vB(e,t){var n=pB[e],r=pB[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}VI(pB);var mB={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function gB(e){return mB[e]}var yB=["linear","log","pow","sqrt","symlog","time","utc"],bB=Object(ee.fb)(yB),_B=Object(ee.fb)(["linear","log","pow","sqrt","symlog"]),wB=Object(ee.fb)(["quantile","quantize","threshold"]),xB=yB.concat(["quantile","quantize","threshold","sequential","identity"]),OB=Object(ee.fb)(xB),kB=Object(ee.fb)(["ordinal","bin-ordinal","point","band"]);function EB(e){return e in kB}function SB(e){return e in OB}function TB(e){return e in bB}function CB(e){return e in wB}function DB(e){return null==e?void 0:e.selection}var AB={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},jB=(VI(AB),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(AB,["type","domain","range","rangeMax","rangeMin","scheme"])),NB=VI(jB);function MB(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!jI(["point","band","identity"],e);case"bins":return!jI(["point","band","identity","ordinal"],e);case"round":return TB(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return TB(e)||jI(["point","band"],e);case"paddingOuter":case"align":return jI(["point","band"],e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return TB(e);case"nice":return TB(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return SB(e)&&!jI(["log","time","utc","threshold","quantile"],e)}}function IB(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return vL(e)?void 0:H.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function PB(e){return e&&!!e.expr}function LB(e){var t,n=VI(e||{}),r={},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o]=SU(e[o])}}catch(a){i.e(a)}finally{i.f()}return r}var FB={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},RB=FB.arc,BB=FB.area,zB=FB.bar,UB=FB.image,HB=FB.line,VB=FB.point,WB=FB.rect,qB=FB.rule,GB=FB.text,YB=FB.tick,QB=FB.trail,KB=FB.circle,XB=FB.square,JB=FB.geoshape;function $B(e){return jI(["line","area","trail"],e)}function ZB(e){return jI(["rect","bar","image","arc"],e)}var ez=VI(FB);function tz(e){return e.type}Object(ee.fb)(ez);var nz=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],rz=VI({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),iz=VI({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),oz={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]};function az(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,o=e.config,a=dz(e);return Hz(n)&&!SP(n.aggregate)&&i&&TB(i.get("type"))&&!1===i.get("zero")?sz({fieldDef:n,channel:t,markDef:r,ref:a,config:o}):a}function sz(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref,o=e.config;return $B(r.type)||null===NU("invalid",r,o)?i:[uz(t,n),i]}function uz(e,t){var n=lz(e,!0),r="y"===EL(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function lz(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return rB(Object(ee.J)(e)?e:tU(e,{expr:"datum"}),!t)}function cz(e,t,n,r){var i={};if(t&&(i.scale=t),Wz(e)){var o=e.datum;kR(o)?i.signal=AR(o):UR(o)?i.signal=o.signal:PB(o)?i.signal=o.expr:i.value=o}else i.field=tU(e,n);if(r){var a=r.offset,s=r.band;a&&(i.offset=a),s&&(i.band=s)}return i}function fz(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,i=e.offset,o=e.startSuffix,a=e.band,s=void 0===a?.5:a,u=0<s&&s<1?"datum":void 0,l=tU(n,{expr:u,suffix:o}),c=void 0!==r?tU(r,{expr:u}):tU(n,{suffix:"end",expr:u}),f={};if(0===s||1===s){f.scale=t;var d=0===s?l:c;f.field=d}else{var h="".concat(s," * ").concat(l," + ").concat(1-s," * ").concat(c);f.signal='scale("'.concat(t,'", ').concat(h,")")}return i&&(f.offset=i),f}function dz(e){var t,n=e.channel,r=e.channelDef,i=e.channel2Def,o=e.markDef,a=e.config,s=e.scaleName,u=e.scale,l=e.stack,c=e.offset,f=e.defaultRef,d=e.band;if(r){if(Yz(r)){if(Qz(r)){d=null!=d?d:Fz({channel:n,fieldDef:r,fieldDef2:i,markDef:o,stack:l,config:a,isMidPoint:!0});var h=r.bin,p=r.timeUnit,v=r.type;if(GL(h)||d&&p&&v===uB)return l&&l.impute?cz(r,s,{binSuffix:"mid"},{offset:c}):d?fz({scaleName:s,fieldOrDatumDef:r,band:d,offset:c}):cz(r,s,wU(r,n)?{binSuffix:"range"}:{},{offset:c});if(YL(h)){if(Hz(i))return fz({scaleName:s,fieldOrDatumDef:r,fieldOrDatumDef2:i,band:d,offset:c});var m=n===MP?PP:LP;OR(H.channelRequiredForBinned(m))}}var g=null==u?void 0:u.get("type");return cz(r,s,EB(g)?{binSuffix:"range"}:{},{offset:c,band:"band"===g?null!==(t=null!=d?d:r.band)&&void 0!==t?t:.5:void 0})}if(Kz(r)){var y=r.value,b=c?{offset:c}:{};return Object.assign(Object.assign({},hz(n,y)),b)}}return Object(ee.E)(f)&&(f=f()),f?Object.assign(Object.assign({},f),c?{offset:c}:{}):f}function hz(e,t){return jI(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:jI(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:CU(t)}function pz(e){return e&&"number"!==e&&"time"!==e}function vz(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(JSON.stringify(n)):"",")")}function mz(e){var t,n,r=e.fieldOrDatumDef,i=e.format,o=e.formatType,a=e.expr,s=e.normalizeStack,u=e.config;if(pz(o))return yz({fieldOrDatumDef:r,format:i,formatType:o,expr:a,config:u});var l=gz(r,a,s);if(yU(r)){var c=function(e,t,n,r,i){return!t||n?"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n=Object(ee.J)(n)?n:r,"')"):function(e,t,n){if(e){var r=BR(e);return"".concat(n||IR(e)?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,i)}(l,Hz(r)?null===(t=zR(r.timeUnit))||void 0===t?void 0:t.unit:void 0,i,u.timeFormat,Xz(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===hB);return c?{signal:c}:void 0}return i=wz(Vz(r),i,u),Hz(r)&&GL(r.bin)?{signal:kz(l,tU(r,{expr:a,binSuffix:"end"}),i,o,u)}:i||"quantitative"===Vz(r)?{signal:"".concat(xz(l,i))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function gz(e,t,n){return Hz(e)?n?"".concat(tU(e,{expr:t,suffix:"end"}),"-").concat(tU(e,{expr:t,suffix:"start"})):tU(e,{expr:t}):function(e){var t=e.datum;return kR(t)?AR(t):"".concat(JSON.stringify(t))}(e)}function yz(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,i=e.expr,o=e.normalizeStack,a=e.config,s=e.field;return s=null!=s?s:gz(t,i,o),Hz(t)&&GL(t.bin)?{signal:kz(s,tU(t,{expr:i,binSuffix:"end"}),n,r,a)}:{signal:vz(r,s,n)}}function bz(e,t,n,r,i,o){var a;if(!pz(r))return yU(e)?function(e,t,n,r){return e||(t?{signal:BR(t)}:r?void 0:n.timeFormat)}(n,Hz(e)?null===(a=zR(e.timeUnit))||void 0===a?void 0:a.unit:void 0,i,o):wz(t,n,i)}function _z(e,t,n){return e&&(UR(e)||"number"===e||"time"===e)?e:yU(t)&&"time"!==n&&"utc"!==n?"time":void 0}function wz(e,t,n){return Object(ee.J)(t)?t:e===aB?n.numberFormat:void 0}function xz(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function Oz(e,t,n,r){var i;return pz(n)?vz(n,e,t):xz(e,null!==(i=Object(ee.J)(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function kz(e,t,n,r,i){var o=Oz(e,n,r,i),a=Oz(t,n,r,i);return"".concat(rB(e,!1),' ? "null" : ').concat(o,' + " \u2013 " + ').concat(a)}var Ez="min",Sz={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Tz(e){return e in Sz}function Cz(e){return!!e&&!!e.encoding}function Dz(e){return!(!e||"count"!==e.op&&!e.field)}function Az(e){return!!e&&Object(ee.B)(e)}function jz(e){return"row"in e||"column"in e}function Nz(e){return!!e&&"header"in e}function Mz(e){return"facet"in e}var Iz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Pz(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function Lz(e){return"sort"in e}function Fz(e){var t=e.channel,n=e.fieldDef,r=e.fieldDef2,i=e.markDef,o=e.stack,a=e.config,s=e.isMidPoint;if(Yz(n)&&void 0!==n.band)return n.band;if(Hz(n)){var u=n.timeUnit,l=n.bin;if(u&&!r)return s?MU("timeUnitBandPosition",i,a):ZB(i.type)?MU("timeUnitBand",i,a):0;if(GL(l))return ZB(i.type)&&!s?1:.5}return(null==o?void 0:o.fieldChannel)===t&&s?.5:void 0}function Rz(e,t,n,r,i,o){return!!(GL(t.bin)||t.timeUnit&&Qz(t)&&"temporal"===t.type)&&!!Fz({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:i,config:o})}function Bz(e){return!!e&&"condition"in e}function zz(e){var t=e&&e.condition;return!!t&&!Object(ee.B)(t)&&Hz(t)}function Uz(e){var t=e&&e.condition;return!!t&&!Object(ee.B)(t)&&Yz(t)}function Hz(e){return!(!e||!e.field&&"count"!==e.aggregate)}function Vz(e){return e&&e.type}function Wz(e){return!!e&&"datum"in e}function qz(e){return Qz(e)&&rU(e)||Gz(e)}function Gz(e){return Wz(e)&&Object(ee.G)(e.datum)}function Yz(e){return Hz(e)||Wz(e)}function Qz(e){return!!e&&("field"in e||"count"===e.aggregate)&&"type"in e}function Kz(e){return e&&"value"in e&&"value"in e}function Xz(e){return!!e&&("scale"in e||"sort"in e)}function Jz(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function $z(e){return!!e&&"legend"in e}function Zz(e){return!!e&&("format"in e||"formatType"in e)}function eU(e){return TI(e,["legend","axis","header","scale"])}function tU(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.field,a=i.prefix,s=i.suffix,u="";if(function(e){return"count"===e.aggregate}(e))o=uP("count");else{var l;if(!i.nofn)if(function(e){return"op"in e}(e))l=e.op;else{var c=e.bin,f=e.aggregate,d=e.timeUnit;GL(c)?(l=qL(c),s=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?OP(f)?(u='["'.concat(o,'"]'),o="argmax_".concat(f.argmax)):xP(f)?(u='["'.concat(o,'"]'),o="argmin_".concat(f.argmin)):l=String(f):d&&(l=function(e){var t=zR(e),n=t.utc,r=jR(t,["utc"]);return r.unit?(n?"utc":"")+VI(r).map((function(e){return YI("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+VI(r).map((function(e){return YI("_".concat(e,"_").concat(r[e]))})).join("")}(d),s=(!jI(["range","mid"],i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}l&&(o=o?"".concat(l,"_").concat(o):l)}return s&&(o="".concat(o,"_").concat(s)),a&&(o="".concat(a,"_").concat(o)),i.forAs?nP(o):i.expr?$I(o,i.expr)+u:eP(o)+u}function nU(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Hz(e)&&!!e.bin;case"temporal":return!1}throw new Error(H.invalidFieldType(e.type))}function rU(e){return!nU(e)}var iU=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(OP(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(xP(t))return"".concat(i," for argmin(").concat(t.argmin,")");var o=zR(r),a=t||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&"timeunit"||GL(n)&&"bin";return a?a.toUpperCase()+"("+i+")":i}(e);default:return function(e,t){var n,r=e.field,i=e.bin,o=e.timeUnit,a=e.aggregate;if("count"===a)return t.countTitle;if(GL(i))return"".concat(r," (binned)");if(o){var s=null===(n=zR(o))||void 0===n?void 0:n.unit;if(s)return"".concat(r," (").concat(LR(s).join("-"),")")}else if(a)return OP(a)?"".concat(r," for max ").concat(a.argmax):xP(a)?"".concat(r," for min ").concat(a.argmin):"".concat(XI(a)," of ").concat(r);return r}(e,t)}},oU=iU;function aU(e){oU=e}function sU(e,t,n){var r,i,o=n.allowDisabling,a=n.includeDefault,s=void 0===a||a,u=null===(r=uU(e))||void 0===r?void 0:r.title;if(!Hz(e))return u;var l=e,c=s?lU(l,t):void 0;return o?iP(u,l.title,c):null!==(i=null!=u?u:l.title)&&void 0!==i?i:c}function uU(e){return Jz(e)&&e.axis?e.axis:$z(e)&&e.legend?e.legend:Nz(e)&&e.header?e.header:void 0}function lU(e,t){return oU(e,t)}function cU(e){var t;if(Zz(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=uU(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function fU(e){return Hz(e)?e:zz(e)?e.condition:void 0}function dU(e){return Yz(e)?e:Uz(e)?e.condition:void 0}function hU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object(ee.J)(e)||Object(ee.G)(e)||Object(ee.C)(e)){var i=Object(ee.J)(e)?"string":Object(ee.G)(e)?"number":"boolean";return OR(H.primitiveChannelDef(t,i,e)),{value:e}}return Yz(e)?pU(e,t,n,r):Uz(e)?Object.assign(Object.assign({},e),{condition:pU(e.condition,t,n,r)}):e}function pU(e,t,n,r){if(Zz(e)){e.format;var i=e.formatType,o=Iz(e,["format","formatType"]);if(pz(i)&&!n.customFormatTypes)return OR(H.customFormatTypeNotAllowed(t)),pU(o,t,n,r)}else{var a=Jz(e)?"axis":$z(e)?"legend":Nz(e)?"header":null;if(a&&e[a]){var s=e[a],u=(s.format,s.formatType),l=Iz(s,["format","formatType"]);if(pz(u)&&!n.customFormatTypes)return OR(H.customFormatTypeNotAllowed(t)),pU(Object.assign(Object.assign({},e),d({},a,l)),t,n,r)}}return Hz(e)?vU(e,t,r):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=Object(ee.G)(n)?"quantitative":Object(ee.J)(n)?"nominal":kR(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function vU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.compositeMark,i=void 0!==r&&r,o=e.aggregate,a=e.timeUnit,s=e.bin,u=e.field,l=Object.assign({},e);if(i||!o||kP(o)||OP(o)||xP(o)||(OR(H.invalidAggregate(o)),delete l.aggregate),a&&(l.timeUnit=zR(a)),u&&(l.field="".concat(u)),GL(s)&&(l.bin=mU(s,t)),YL(s)&&!ML(t)&&OR(H.channelShouldNotBeUsedForBinned(t)),Qz(l)){var c=l.type,f=function(e){if(e)switch(e=e.toLowerCase()){case"q":case aB:return"quantitative";case"t":case uB:return"temporal";case"o":case sB:return"ordinal";case"n":case lB:return"nominal";case cB:return"geojson"}}(c);c!==f&&(l.type=f),"quantitative"!==c&&SP(o)&&(OR(H.invalidFieldTypeForCountAggregate(c,o)),l.type="quantitative")}else if(!kL(t)){var d=function(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Lz(e)&&Object(ee.B)(e.sort))return"ordinal";var r=e.aggregate,i=e.bin;if(e.timeUnit)return"temporal";if(i||r&&!OP(r)&&!xP(r))return"quantitative";if(Xz(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(pB[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(l,t);l.type=d}if(Qz(l)){var h=function(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case AP:case jP:case NP:return rU(e)?{compatible:!1,warning:H.facetChannelShouldBeDiscrete(t)}:gU;case MP:case IP:case qP:case GP:case YP:case nL:case iL:case oL:case aL:case sL:case uL:case XP:case BP:case FP:case lL:return gU;case HP:case WP:case UP:case VP:return n!==aB?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:gU;case JP:case $P:case ZP:case eL:case KP:case zP:case RP:case PP:case LP:return"nominal"!==n||e.sort?gU:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case tL:return jI(["ordinal","nominal"],e.type)?gU:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case QP:return jI(["ordinal","nominal","geojson"],e.type)?gU:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case rL:return"nominal"!==e.type||"sort"in e?gU:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(l,t)||{},p=h.compatible,v=h.warning;!1===p&&OR(v)}if(Lz(l)&&Object(ee.J)(l.sort)){var m=l.sort;if(Tz(m))return Object.assign(Object.assign({},l),{sort:{encoding:m}});var g=m.substr(1);if("-"===m.charAt(0)&&Tz(g))return Object.assign(Object.assign({},l),{sort:{encoding:g,order:"descending"}})}if(Nz(l)){var y=l.header,b=y.orient,_=Iz(y,["orient"]);if(b)return Object.assign(Object.assign({},l),{header:Object.assign(Object.assign({},_),{labelOrient:y.labelOrient||b,titleOrient:y.titleOrient||b})})}return l}function mU(e,t){return Object(ee.C)(e)?{maxbins:XL(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:XL(t)})}var gU={compatible:!0};function yU(e){var t,n=cU(e).formatType;return"time"===n||!n&&(t=e)&&("temporal"===t.type||Hz(t)&&!!t.timeUnit)}function bU(e,t){var n,r,i=t.timeUnit,o=t.type,a=t.wrapTime,s=t.undefinedIfExprNotRequired,u=i&&(null===(n=zR(i))||void 0===n?void 0:n.unit),l=u||"temporal"===o;return PB(e)?r=e.expr:UR(e)?r=e.signal:kR(e)?(l=!0,r=AR(e)):(Object(ee.J)(e)||Object(ee.G)(e))&&l&&(r="datetime(".concat(JSON.stringify(e),")"),function(e){return!!NR[e]}(u)&&(Object(ee.G)(e)&&e<1e4||Object(ee.J)(e)&&isNaN(Date.parse(e)))&&(r=AR(d({},u,e)))),r?a&&l?"time(".concat(r,")"):r:s?void 0:JSON.stringify(e)}function _U(e,t){var n=e.type;return t.map((function(t){var r=bU(t,{timeUnit:Hz(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function wU(e,t){return GL(e.bin)?UL(t)&&jI(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function xU(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,o=e.color,a=e.subtitleColor,s=e.subtitleFont,u=e.subtitleFontSize,l=e.subtitleFontStyle,c=e.subtitleFontWeight,f=e.subtitleLineHeight,d=e.subtitlePadding,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},h),o?{fill:o}:{}),v=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{subtitleColor:a}:{}),s?{subtitleFont:s}:{}),u?{subtitleFontSize:u}:{}),l?{subtitleFontStyle:l}:{}),c?{subtitleFontWeight:c}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{});return{titleMarkConfig:p,subtitleMarkConfig:SI(p,["align","baseline","dx","dy","limit"]),nonMark:v,subtitle:m}}function OU(e){return Object(ee.J)(e)||Object(ee.B)(e)&&Object(ee.J)(e[0])}var kU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function EU(e){var t=Object(ee.B)(e.condition)?e.condition.map(TU):TU(e.condition);return Object.assign(Object.assign({},SU(e)),{condition:t})}function SU(e){if(PB(e)){var t=e.expr,n=kU(e,["expr"]);return Object.assign({signal:t},n)}return e}function TU(e){if(PB(e)){var t=e.expr,n=kU(e,["expr"]);return Object.assign({signal:t},n)}return e}function CU(e){if(PB(e)){var t=e.expr,n=kU(e,["expr"]);return Object.assign({signal:t},n)}return UR(e)?e:void 0!==e?{value:e}:void 0}function DU(e){return UR(e)?e.signal:Object(ee.bb)(e.value)}function AU(e){return UR(e)?e.signal:null==e?null:Object(ee.bb)(e)}function jU(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function NU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,o=r.ignoreVgConfig;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!o||i&&i!==e?MU(e,t,n,r):void 0}function MU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return iP(i?IU(e,t,n.style):void 0,IU(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function IU(e,t,n){return PU(e,jU(t),n)}function PU(e,t,n){var r;t=Object(ee.i)(t);var i,o=g(t);try{for(o.s();!(i=o.n()).done;){var a=n[i.value];a&&void 0!==a[e]&&(r=a[e])}}catch(s){o.e(s)}finally{o.f()}return r}function LU(e,t){return Object(ee.i)(e).reduce((function(e,n){var r;return e.field.push(tU(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function FU(e,t){var n=m(e);return t.forEach((function(e){var t,r=g(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(kI(i,e))return}}catch(o){r.e(o)}finally{r.f()}n.push(e)})),n}function RU(e,t){return kI(e,t)||!t?e:e?[].concat(m(Object(ee.i)(e)),m(Object(ee.i)(t))).join(", "):t}function BU(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((OU(n)||UR(n))&&(OU(r)||UR(r)))return{explicit:e.explicit,value:RU(n,r)};if(OU(n)||UR(n))return{explicit:e.explicit,value:n};if(OU(r)||UR(r))return{explicit:e.explicit,value:r};if(!(OU(n)||UR(n)||OU(r)||UR(r)))return{explicit:e.explicit,value:FU(n,r)};throw new Error("It should never reach here")}function zU(e){return"mark"in e}var UU=function(){function e(t,n){y(this,e),this.name=t,this.run=n}return b(e,[{key:"hasMatchingType",value:function(e){return!!zU(e)&&(tz(t=e.mark)?t.type:t)===this.name;var t}}]),e}();function HU(e,t){var n=e&&e[t];return!!n&&(Object(ee.B)(n)?NI(n,(function(e){return!!e.field})):Hz(n)||zz(n))}function VU(e){return NI(bL,(function(t){if(HU(e,t)){var n=e[t];if(Object(ee.B)(n))return NI(n,(function(e){return!!e.aggregate}));var r=fU(n);return r&&!!r.aggregate}return!1}))}function WU(e,t){var n=[],r=[],i=[],o=[],a={};return YU(e,(function(s,u){if(Hz(s)){var l=s.field,c=s.aggregate,f=s.bin,d=s.timeUnit,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(s,["field","aggregate","bin","timeUnit"]);if(c||d||f){var p,v=uU(s),m=v&&v.title,g=tU(s,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},m?[]:{title:sU(s,t,{allowDisabling:!0})}),h),{field:g});if(c){if(OP(c)?(p="argmax",g=tU({op:"argmax",field:c.argmax},{forAs:!0}),y.field="".concat(g,".").concat(l)):xP(c)?(p="argmin",g=tU({op:"argmin",field:c.argmin},{forAs:!0}),y.field="".concat(g,".").concat(l)):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(p=c),p){var b={op:p,as:g};l&&(b.field=l),o.push(b)}}else if(n.push(g),Qz(s)&&GL(f)){if(r.push({bin:f,field:l,as:g}),n.push(tU(s,{binSuffix:"end"})),wU(s,u)&&n.push(tU(s,{binSuffix:"range"})),ML(u)){var _={field:g+"_end"};a[u+"2"]=_}y.bin="binned",kL(u)||(y.type=aB)}else if(d){i.push({timeUnit:d,field:l,as:g});var w=Qz(s)&&s.type!==uB&&"time";w&&(u===nL||u===aL?y.formatType=w:function(e){return!!DL[e]}(u)?y.legend=Object.assign({formatType:w},y.legend):ML(u)&&(y.axis=Object.assign({formatType:w},y.axis)))}a[u]=y}else n.push(l),a[u]=e[u]}else a[u]=e[u]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function qU(e,t,n,r){return VI(e).reduce((function(i,o){if(!xL(o))return OR(H.invalidEncodingChannel(o)),i;var a=e[o];if("angle"!==o||"arc"!==t||e.theta||(OR(H.REPLACE_ANGLE_WITH_THETA),o=BP),!function(e,t,n){var r=function(e,t){return function(e){switch(e){case qP:case GP:case YP:case lL:case iL:case oL:case aL:case sL:case rL:case JP:case $P:case ZP:case eL:case NP:case AP:case jP:return HL;case MP:case IP:case UP:case HP:return VL;case PP:case LP:case VP:case WP:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case KP:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case tL:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case QP:return{point:"always",geoshape:"always"};case nL:return{text:"always"};case XP:return{point:"always",square:"always",text:"always"};case uL:return{image:"always"};case BP:case FP:return{text:"always",arc:"always"};case zP:case RP:return{arc:"always"}}}(e)[t]}(t,n);if(!r)return!1;if("binned"===r){var i=e[t===PP?MP:IP];return!!(Hz(i)&&Hz(e[t])&&YL(i.bin))}return!0}(e,o,t))return OR(H.incompatibleChannel(o,t)),i;if(o===KP&&"line"===t){var s=fU(e[o]);if(null==s?void 0:s.aggregate)return OR(H.LINE_WITH_VARYING_SIZE),i}if(o===qP&&(n?"fill"in e:"stroke"in e))return OR(H.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),i;if(o===iL||o===rL&&!Object(ee.B)(a)&&!Kz(a)||o===aL&&Object(ee.B)(a))a&&(i[o]=Object(ee.i)(a).reduce((function(e,t){return Hz(t)?e.push(vU(t,o)):OR(H.emptyFieldDef(t,o)),e}),[]));else{if(o===aL&&null===a)i[o]=null;else if(!(Hz(a)||Wz(a)||Kz(a)||Bz(a)||UR(a)))return OR(H.emptyFieldDef(a,o)),i;i[o]=hU(a,o,r)}return i}),{})}function GU(e,t){var n,r={},i=g(VI(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=hU(e[o],o,t,{compositeMark:!0});r[o]=a}}catch(s){i.e(s)}finally{i.f()}return r}function YU(e,t,n){if(e){var r,i=g(VI(e));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e[o];if(Object(ee.B)(a)){var s,u=g(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;t.call(n,l,o)}}catch(c){u.e(c)}finally{u.f()}}else t.call(n,a,o)}}catch(c){i.e(c)}finally{i.f()}}}function QU(e,t){return VI(t).reduce((function(n,r){switch(r){case MP:case IP:case sL:case lL:case uL:case PP:case LP:case BP:case zP:case FP:case RP:case UP:case HP:case VP:case WP:case nL:case QP:case XP:case aL:return n;case rL:if("line"===e||"trail"===e)return n;case iL:case oL:var i=t[r];if(Object(ee.B)(i)||Hz(i)){var o,a=g(Object(ee.i)(i));try{for(a.s();!(o=a.n()).done;){var s=o.value;s.aggregate||n.push(tU(s,{}))}}catch(l){a.e(l)}finally{a.f()}}return n;case KP:if("trail"===e)return n;case qP:case GP:case YP:case JP:case $P:case ZP:case tL:case eL:var u=fU(t[r]);return u&&!u.aggregate&&n.push(tU(u,{})),n}}),[])}var KU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function XU(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"tooltip"in n?{tooltip:n.tooltip}:{tooltip:[].concat(m(e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix,o=r?" of ".concat(JU(t)):"";return{field:n+t.field,type:t.type,title:UR(i)?{signal:i+'"'.concat(escape(o),'"')}:i+o}}))),m(LI(function(e){var t,n=[],r=g(VI(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(HU(e,i)){var o,a=e[i],s=Object(ee.i)(a),u=g(s);try{for(u.s();!(o=u.n()).done;){var l=o.value;Hz(l)?n.push(l):zz(l)&&n.push(l.condition)}}catch(c){u.e(c)}finally{u.f()}}}}catch(c){r.e(c)}finally{r.f()}return n}(n).map(eU),DI)))}}function JU(e){return iP(e.title,e.field)}function $U(e,t,n,r,i){var o=n.scale,a=n.axis;return function(s){var u=s.partName,l=s.mark,c=s.positionPrefix,f=s.endPositionPrefix,h=s.extraEncoding,p=void 0===h?{}:h,v=JU(n);return ZU(e,u,i,{mark:l,encoding:Object.assign(Object.assign(Object.assign(d({},t,Object.assign(Object.assign(Object.assign({field:c+"_"+n.field,type:n.type},void 0!==v?{title:v}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})),Object(ee.J)(f)?d({},t+"2",{field:f+"_"+n.field}):{}),r),p)})}}function ZU(e,t,n,r){var i=e.clip,o=e.color,a=e.opacity,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),o?{color:o}:{}),a?{opacity:a}:{}),tz(r.mark)?r.mark:{type:r.mark}),{style:"".concat(s,"-").concat(t)}),Object(ee.C)(e[t])?{}:e[t])})]:[]}function eH(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",o=r[i],a=r[i+"2"],s=r[i+"Error"],u=r[i+"Error2"];return{continuousAxisChannelDef:tH(o,n),continuousAxisChannelDef2:tH(a,n),continuousAxisChannelDefError:tH(s,n),continuousAxisChannelDefError2:tH(u,n),continuousAxis:i}}function tH(e,t){if(e&&e.aggregate){var n=e.aggregate,r=KU(e,["aggregate"]);return n!==t&&OR(H.errorBarContinuousAxisHasCustomizedAggregate(n,t)),r}return e}function nH(e,t){var n=e.mark,r=e.encoding,i=r.x,o=r.y;if(tz(n)&&n.orient)return n.orient;if(qz(i)){if(qz(o)){var a=Hz(i)&&i.aggregate,s=Hz(o)&&o.aggregate;if(a||s!==t){if(s||a!==t){if(a===t&&s===t)throw new Error("Both x and y cannot have aggregate");return yU(o)&&!yU(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(qz(o))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}var rH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},iH="boxplot",oH=new UU(iH,sH);function aH(e){return Object(ee.G)(e)?"tukey":e}function sH(e,t){var n,r,i,o=t.config,a=e=Object.assign(Object.assign({},e),{encoding:GU(e.encoding,o)}),s=a.mark,u=(a.encoding,a.selection),l=(a.projection,rH(e,["mark","encoding","selection","projection"])),c=tz(s)?s:{type:s};u&&OR(H.selectionNotSupported("boxplot"));var f=null!==(r=c.extent)&&void 0!==r?r:o.boxplot.extent,h=NU("size",c,o),p=aH(f),v=function(e,t,n){var r=nH(e,iH),i=eH(e,r,iH),o=i.continuousAxisChannelDef,a=i.continuousAxis,s=o.field,u=aH(t),l=[].concat(m(uH(s)),[{op:"median",field:s,as:"mid_box_"+s},{op:"min",field:s,as:("min-max"===u?"lower_whisker_":"min_")+s},{op:"max",field:s,as:("min-max"===u?"upper_whisker_":"max_")+s}]),c="min-max"===u||"tukey"===u?[]:[{calculate:'datum["upper_box_'.concat(s,'"] - datum["lower_box_').concat(s,'"]'),as:"iqr_"+s},{calculate:'min(datum["upper_box_'.concat(s,'"] + datum["iqr_').concat(s,'"] * ').concat(t,', datum["max_').concat(s,'"])'),as:"upper_whisker_"+s},{calculate:'max(datum["lower_box_'.concat(s,'"] - datum["iqr_').concat(s,'"] * ').concat(t,', datum["min_').concat(s,'"])'),as:"lower_whisker_"+s}],f=e.encoding,d=a,h=function(e){var t,n,r=e.tooltip,i=KU(e,["tooltip"]);if(!r)return{filteredEncoding:i};if(Object(ee.B)(r)){var o,a=g(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.aggregate?(t||(t=[]),t.push(s)):(n||(n=[]),n.push(s))}}catch(u){a.e(u)}finally{a.f()}t&&(i.tooltip=t)}else r.aggregate?i.tooltip=r:n=r;return Object(ee.B)(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}((f[d],rH(f,["symbol"==typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,v=WU(h.filteredEncoding,n),y=v.bins,b=v.timeUnits,_=v.aggregate,w=v.groupby,x=v.encoding,O="vertical"===r?"horizontal":"vertical",k=r;return{bins:y,timeUnits:b,transform:[].concat(m(y),m(b),[{aggregate:[].concat(m(_),l),groupby:w}],c),groupby:w,aggregate:_,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:x,ticksOrient:O,boxOrient:k,customTooltipWithoutAggregatedField:p}}(e,f,o),y=v.bins,b=v.timeUnits,_=v.transform,w=v.continuousAxisChannelDef,x=v.continuousAxis,O=v.groupby,k=v.aggregate,E=v.encodingWithoutContinuousAxis,S=v.ticksOrient,T=v.boxOrient,C=v.customTooltipWithoutAggregatedField,D=E.color,A=E.size,j=rH(E,["color","size"]),N=function(e){return $U(c,x,w,e,o.boxplot)},M=N(j),I=N(E),P=N(Object.assign(Object.assign({},j),A?{size:A}:{})),L=XU([{fieldPrefix:"min-max"===p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],w,E),F={type:"tick",color:"black",opacity:1,orient:S,invalid:null,aria:!1},R="min-max"===p?L:XU([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],w,E),B=[].concat(m(M({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:R})),m(M({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:R})),m(M({partName:"ticks",mark:F,positionPrefix:"lower_whisker",extraEncoding:R})),m(M({partName:"ticks",mark:F,positionPrefix:"upper_whisker",extraEncoding:R}))),z=[].concat(m("tukey"!==p?B:[]),m(I({partName:"box",mark:Object.assign(Object.assign({type:"bar"},h?{size:h}:{}),{orient:T,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:L})),m(P({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Object(ee.H)(o.boxplot.median)&&o.boxplot.median.color?{color:o.boxplot.median.color}:{}),h?{size:h}:{}),{orient:S,aria:!1}),positionPrefix:"mid_box",extraEncoding:L})));if("min-max"===p)return Object.assign(Object.assign({},l),{transform:(null!==(i=l.transform)&&void 0!==i?i:[]).concat(_),layer:z});var U,V='datum["lower_box_'.concat(w.field,'"]'),W='datum["upper_box_'.concat(w.field,'"]'),q="(".concat(W," - ").concat(V,")"),G="".concat(V," - ").concat(f," * ").concat(q),Y="".concat(W," + ").concat(f," * ").concat(q),Q='datum["'.concat(w.field,'"]'),K={joinaggregate:uH(w.field),groupby:O},X={transform:[{filter:"(".concat(G," <= ").concat(Q,") && (").concat(Q," <= ").concat(Y,")")},{aggregate:[{op:"min",field:w.field,as:"lower_whisker_"+w.field},{op:"max",field:w.field,as:"upper_whisker_"+w.field},{op:"min",field:"lower_box_"+w.field,as:"lower_box_"+w.field},{op:"max",field:"upper_box_"+w.field,as:"upper_box_"+w.field}].concat(m(k)),groupby:O}],layer:B},J=(j.tooltip,rH(j,["tooltip"])),$=w.scale,Z=w.axis,te=JU(w),ne=TI(Z,["title"]),re=ZU(c,"outliers",o.boxplot,{transform:[{filter:"(".concat(Q," < ").concat(G,") || (").concat(Q," > ").concat(Y,")")}],mark:"point",encoding:Object.assign(Object.assign(Object.assign(d({},x,Object.assign(Object.assign(Object.assign({field:w.field,type:w.type},void 0!==te?{title:te}:{}),void 0!==$?{scale:$}:{}),HI(ne)?{}:{axis:ne})),J),D?{color:D}:{}),C?{tooltip:C}:{})})[0],ie=[].concat(m(y),m(b),[K]);return re?U={transform:ie,layer:[re,X]}:(n=(U=X).transform).unshift.apply(n,m(ie)),Object.assign(Object.assign({},l),{layer:[U,{transform:_,layer:z}]})}function uH(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var lH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},cH="errorbar",fH=new UU(cH,dH);function dH(e,t){var n=t.config,r=hH(e=Object.assign(Object.assign({},e),{encoding:GU(e.encoding,n)}),cH,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,s=r.encodingWithoutContinuousAxis,u=r.ticksOrient,l=r.markDef,c=r.outerSpec,f=r.tooltipEncoding;delete s.size;var d=$U(l,a,o,s,n.errorbar),h=l.thickness,p=l.size,v=Object.assign(Object.assign({type:"tick",orient:u,aria:!1},void 0!==h?{thickness:h}:{}),void 0!==p?{size:p}:{}),g=[].concat(m(d({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:f})),m(d({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:f})),m(d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==h?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},c),{transform:i}),g.length>1?{layer:g}:Object.assign({},g[0]))}function hH(e,t,n){var r,i=e.mark,o=e.encoding,a=e.selection,s=(e.projection,lH(e,["mark","encoding","selection","projection"])),u=tz(i)?i:{type:i};a&&OR(H.selectionNotSupported(t));var l=function(e,t){var n=e.encoding;if(function(e){return(Yz(e.x)||Yz(e.y))&&!Yz(e.x2)&&!Yz(e.y2)&&!Yz(e.xError)&&!Yz(e.xError2)&&!Yz(e.yError)&&!Yz(e.yError2)}(n))return{orient:nH(e,t),inputType:"raw"};var r=function(e){return Yz(e.x2)||Yz(e.y2)}(n),i=function(e){return Yz(e.xError)||Yz(e.xError2)||Yz(e.yError)||Yz(e.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var s=n.x2,u=n.y2;if(Yz(s)&&Yz(u))throw new Error("".concat(t," cannot have both x2 and y2"));if(Yz(s)){if(qz(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(Yz(u)){if(qz(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var l=n.xError,c=n.xError2,f=n.yError,d=n.yError2;if(Yz(c)&&!Yz(l))throw new Error("".concat(t," cannot have xError2 without xError"));if(Yz(d)&&!Yz(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(Yz(l)&&Yz(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(Yz(l)){if(qz(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Yz(f)){if(qz(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}(e,t),c=l.orient,f=l.inputType,d=eH(e,c,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,v=d.continuousAxisChannelDefError,y=d.continuousAxisChannelDefError2,b=d.continuousAxis,_=function(e,t,n,r,i,o,a,s){var u,l=[],c=[],f=t.field,d=!1;if("raw"===o){var h,p,v,m=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,y=e.extent?e.extent:"mean"===m?"stderr":"iqr";"median"===m!=("iqr"===y)&&OR(H.errorBarCenterIsUsedWithWrongExtent(m,y,a)),"stderr"===y||"stdev"===y?(l=[{op:y,field:f,as:"extent_"+f},{op:m,field:f,as:"center_"+f}],c=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],u=[{fieldPrefix:"center_",titlePrefix:XI(m)},{fieldPrefix:"upper_",titlePrefix:pH(m,y,"+")},{fieldPrefix:"lower_",titlePrefix:pH(m,y,"-")}],d=!0):("ci"===y?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),l=[{op:p,field:f,as:"lower_"+f},{op:v,field:f,as:"upper_"+f},{op:h,field:f,as:"center_"+f}],u=[{fieldPrefix:"upper_",titlePrefix:sU({field:f,aggregate:v,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:sU({field:f,aggregate:p,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:sU({field:f,aggregate:h,type:"quantitative"},s,{allowDisabling:!1})}])}else{(e.center||e.extent)&&OR(H.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===o?(u=[],c=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===o&&(u=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],i?c.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_"+f}):c.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var b,_=g(c);try{for(_.s();!(b=_.n()).done;){var w=b.value;u.push({fieldPrefix:w.as.substring(0,6),titlePrefix:tP(tP(w.calculate,'datum["',""),'"]',"")})}}catch(x){_.e(x)}finally{_.f()}}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:u,tooltipTitleWithFieldName:d}}(u,h,p,v,y,f,t,n),w=_.errorBarSpecificAggregate,x=_.postAggregateCalculates,O=_.tooltipSummary,k=_.tooltipTitleWithFieldName,E=o,S=b,T=(E[S],"x"===b?"x2":"y2"),C=(E[T],"x"===b?"xError":"yError"),D=(E[C],"x"===b?"xError2":"yError2"),A=WU((E[D],lH(E,["symbol"==typeof S?S:S+"","symbol"==typeof T?T:T+"","symbol"==typeof C?C:C+"","symbol"==typeof D?D:D+""])),n),j=A.bins,N=A.timeUnits,M=A.aggregate,I=A.groupby,P=A.encoding,L=[].concat(m(M),m(w)),F="raw"!==f?[]:I,R=XU(O,h,P,k);return{transform:[].concat(m(null!==(r=s.transform)&&void 0!==r?r:[]),m(j),m(N),m(0===L.length?[]:[{aggregate:L,groupby:F}]),m(x)),groupby:F,continuousAxisChannelDef:h,continuousAxis:b,encodingWithoutContinuousAxis:P,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:s,tooltipEncoding:R}}function pH(e,t,n){return XI(e)+" "+n+" "+t}var vH="errorband",mH=new UU(vH,gH);function gH(e,t){var n=t.config,r=hH(e=Object.assign(Object.assign({},e),{encoding:GU(e.encoding,n)}),vH,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,s=r.encodingWithoutContinuousAxis,u=r.markDef,l=r.outerSpec,c=r.tooltipEncoding,f=u,d=$U(f,a,o,s,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},v={type:h?"line":"rule"},g=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),g),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign(Object.assign({},v),g),{aria:!1})):f.interpolate?OR(H.errorBand1DNotSupport("interpolate")):f.tension&&OR(H.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},l),{transform:i,layer:[].concat(m(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})),m(d({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:c})),m(d({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:c})))})}var yH={};function bH(e,t,n){var r=new UU(e,t);yH[e]={normalizer:r,parts:n}}bH(iH,sH,["box","median","outliers","rule","ticks"]),bH(cH,dH,["ticks","rule"]),bH(vH,gH,["band","borders"]);var _H=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],wH={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},xH={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},OH=VI(wH),kH=VI(xH),EH=VI({header:1,headerRow:1,headerColumn:1,headerFacet:1}),SH=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],TH={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1};VI(TH);var CH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function DH(e){var t,n=[],r=g(e||[]);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.expr,a=i.bind,s=CH(i,["expr","bind"]);if(a&&o){var u=Object.assign(Object.assign({},s),{bind:a,init:o});n.push(u)}else{var l=Object.assign(Object.assign(Object.assign({},s),o?{update:o}:{}),a?{bind:a}:{});n.push(l)}}}catch(c){r.e(c)}finally{r.f()}return n}var AH="_vgsid_",jH={single:{on:"click",fields:[AH],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[AH],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function NH(e){return!(!e||"legend"!==e&&!e.legend)}function MH(e){return NH(e)&&Object(ee.H)(e)}function IH(e){return"concat"in e}function PH(e){return"vconcat"in e}function LH(e){return"hconcat"in e}function FH(e){return Object(ee.H)(e)&&void 0!==e.step}function RH(e){return e.view||e.width||e.height}var BH=VI({align:1,bounds:1,center:1,columns:1,spacing:1}),zH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function UH(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function HH(e,t){var n=VH(e,t);return FH(n)?n.step:WH}function VH(e,t){var n;return iP(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var WH=20,qH={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:WH},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:jH,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},GH=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],YH={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},QH={blue:GH[0],orange:GH[1],red:GH[2],teal:GH[3],green:GH[4],yellow:GH[5],purple:GH[6],pink:GH[7],brown:GH[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function KH(e){var t,n=VI(e||{}),r={},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e[o];r[o]=hP(a)?EU(a):SU(a)}}catch(s){i.e(s)}finally{i.f()}return r}var XH=[].concat(m(iz),m(bP),m(EH),["background","padding","legend","lineBreak","scale","style","title","view"]);function JH(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,i=zH(e,["color","font","fontSize"]),o=Object(ee.P)({},qH,n?function(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(n):{},t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:Object(ee.H)(e)?Object.assign(Object.assign({},QH),e):QH}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function(e){return{signals:[{name:"fontSize",value:Object(ee.H)(e)?Object.assign(Object.assign({},YH),e):YH}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},i||{}),a=TI(o,XH),s=0,u=["background","lineBreak","padding"];s<u.length;s++){var l=u[s];o[l]&&(a[l]=SU(o[l]))}var c,f=g(iz);try{for(f.s();!(c=f.n()).done;){var d=c.value;o[d]&&(a[d]=LB(o[d]))}}catch(_){f.e(_)}finally{f.f()}var h,p=g(bP);try{for(p.s();!(h=p.n()).done;){var v=h.value;o[v]&&(a[v]=KH(o[v]))}}catch(_){p.e(_)}finally{p.f()}var m,y=g(EH);try{for(y.s();!(m=y.n()).done;){var b=m.value;o[b]&&(a[b]=LB(o[b]))}}catch(_){y.e(_)}finally{y.f()}return o.legend&&(a.legend=LB(o.legend)),o.scale&&(a.scale=LB(o.scale)),o.style&&(a.style=function(e){var t,n=VI(e),r={},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o]=KH(e[o])}}catch(_){i.e(_)}finally{i.f()}return r}(o.style)),o.title&&(a.title=LB(o.title)),o.view&&(a.view=LB(o.view)),a}var $H=["view"].concat(m(ez)),ZH=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],eV=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function tV(e){e=EI(e);var t,n=g(ZH);try{for(n.s();!(t=n.n()).done;)delete e[t.value]}catch(k){n.e(k)}finally{n.f()}if(e.axis)for(var r in e.axis)hP(e.axis[r])&&delete e.axis[r];if(e.legend){var i,o=g(_H);try{for(o.s();!(i=o.n()).done;){var a=i.value;delete e.legend[a]}}catch(k){o.e(k)}finally{o.f()}}if(e.mark){var s,u=g(rz);try{for(u.s();!(s=u.n()).done;){var l=s.value;delete e.mark[l]}}catch(k){u.e(k)}finally{u.f()}e.mark.tooltip&&Object(ee.H)(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(DH(e.params)),delete e.params);var c,f=g($H);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=g(rz);try{for(p.s();!(d=p.n()).done;){var v=d.value;delete e[h][v]}}catch(k){p.e(k)}finally{p.f()}var m=eV[h];if(m){var y,b=g(m);try{for(b.s();!(y=b.n()).done;){var _=y.value;delete e[h][_]}}catch(k){b.e(k)}finally{b.f()}}nV(e,h)}}catch(k){f.e(k)}finally{f.f()}var w,x=g(VI(yH));try{for(x.s();!(w=x.n()).done;)delete e[w.value]}catch(k){x.e(k)}finally{x.f()}for(var O in function(e){var t=xU(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,i=t.subtitle;HI(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n)),HI(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r)),HI(i)?delete e.title:e.title=i}(e),e)Object(ee.H)(e[O])&&HI(e[O])&&delete e[O];return HI(e)?void 0:e}function nV(e,t,n,r){var i=r?e[t][r]:e[t];"view"===t&&(n="cell");var o=Object.assign(Object.assign({},i),e.style[null!=n?n:t]);HI(o)||(e.style[null!=n?n:t]=o),r||delete e[t]}function rV(e){return"layer"in e}var iV={zero:1,center:1,normalize:1},oV=new Set([RB,zB,BB,qB,VB,KB,XB,HB,GB,YB]),aV=new Set([zB,BB,RB]);function sV(e,t){var n,r,i="x"===t?"y":"radius",o=e[t],a=e[i];if(Hz(o)&&Hz(a))if("quantitative"===Vz(o)&&"quantitative"===Vz(a)){if(o.stack)return t;if(a.stack)return i;var s=Hz(o)&&!!o.aggregate;if(s!==(Hz(a)&&!!a.aggregate))return s?t:i;var u=null===(n=o.scale)||void 0===n?void 0:n.type,l=null===(r=a.scale)||void 0===r?void 0:r.type;if(u&&"linear"!==u)return i;if(l&&"linear"!==l)return t}else{if("quantitative"===Vz(o))return t;if("quantitative"===Vz(a))return i}else{if("quantitative"===Vz(o))return t;if("quantitative"===Vz(a))return i}}function uV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=tz(e)?e.type:e;if(!oV.has(r))return null;var i=sV(t,"x")||sV(t,"theta");if(!i)return null;var o=t[i],a=Hz(o)?tU(o,{}):void 0,s=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(i),u=t[s],l=Hz(u)?tU(u,{}):void 0;l===a&&(l=void 0,u=void 0,s=void 0);var c,f=AL.reduce((function(e,n){if("tooltip"!==n&&HU(t,n)){var r,i=t[n],o=g(Object(ee.i)(i));try{for(o.s();!(r=o.n()).done;){var a=fU(r.value);if(!a.aggregate){var s=tU(a,{});s&&s===l||e.push({channel:n,fieldDef:a})}}}catch(u){o.e(u)}finally{o.f()}}return e}),[]);if(void 0!==o.stack?c=Object(ee.C)(o.stack)?o.stack?"zero":null:o.stack:f.length>0&&aV.has(r)&&(c="zero"),!c||!(c in iV))return null;if(VU(t)&&0===f.length)return null;if(o.scale&&o.scale.type&&o.scale.type!==fB){if(n.disallowNonLinearStack)return null;OR(H.cannotStackNonLinearScale(o.scale.type))}return Yz(t[TL(i)])?(void 0!==o.stack&&OR(H.cannotStackRangedMark(i)),null):(Hz(o)&&o.aggregate&&!jI(TP,o.aggregate)&&OR(H.stackNonSummativeAggregate(o.aggregate)),{groupbyChannel:u?s:void 0,groupbyField:l,fieldChannel:i,impute:null!==o.impute&&$B(r),stackBy:f,offset:c})}var lV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function cV(e){e.point,e.line;var t=lV(e,["point","line"]);return VI(t).length>1?t:t.type}function fV(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),d({},r,TI(e[r],["point","line"]))))}return e}function dV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?Object(ee.H)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(ee.H)(t.point)?t.point:{}:void 0}function hV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var pV=function(){function e(){y(this,e),this.name="path-overlay"}return b(e,[{key:"hasMatchingType",value:function(e,t){if(zU(e)){var n=e.mark,r=e.encoding,i=tz(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!dV(i,t[i.type],r);case"area":return!!dV(i,t[i.type],r)||!!hV(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.selection,o=e.projection,a=e.mark,s=e.encoding,u=lV(e,["selection","projection","mark","encoding"]),l=GU(s,r),c=tz(a)?a:{type:a},f=dV(c,r[c.type],l),h="area"===c.type&&hV(c,r[c.type]),p=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:cV(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:TI(l,["shape"])})],v=uV(c,l),m=l;if(v){var g=v.fieldChannel,y=v.offset;m=Object.assign(Object.assign({},l),d({},g,Object.assign(Object.assign({},l[g]),y?{stack:y}:{})))}return h&&p.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},SI(c,["clip","interpolate","tension","tooltip"])),h),encoding:m})),f&&p.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},SI(c,["clip","tooltip"])),f),encoding:m})),n(Object.assign(Object.assign({},u),{layer:p}),Object.assign(Object.assign({},t),{config:fV(r)}))}}]),e}(),vV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mV=function(){function e(){y(this,e),this.name="RangeStep"}return b(e,[{key:"hasMatchingType",value:function(e){var t;if(zU(e)&&e.encoding){var n,r=g(NL);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e.encoding[i];if(o&&Yz(o)&&(null===(t=null==o?void 0:o.scale)||void 0===t?void 0:t.rangeStep))return!0}}catch(a){r.e(a)}finally{r.f()}}return!1}},{key:"run",value:function(e){var t,n,r={},i=Object.assign({},e.encoding),o=g(NL);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=CL(a),u=i[a];if(u&&Yz(u)&&(null===(t=null==u?void 0:u.scale)||void 0===t?void 0:t.rangeStep)){var l=u.scale,c=vV(u,["scale"]),f=l,h=(f.rangeStep,vV(f,["rangeStep"]));r[s]={step:l.rangeStep},OR(H.RANGE_STEP_DEPRECATED),i=Object.assign(Object.assign({},i),d({},a,Object.assign(Object.assign({},c),HI(h)?{}:{scale:h})))}}}catch(p){o.e(p)}finally{o.f()}return Object.assign(Object.assign(Object.assign({},r),e),{encoding:i})}}]),e}();function gV(e,t){return t?jz(e)?OV(e,t):_V(e,t):e}function yV(e,t){return t?OV(e,t):e}function bV(e,t,n){var r,i=t[e];return(r=i)&&!Object(ee.J)(r)&&"repeat"in r?i.repeat in n?Object.assign(Object.assign({},t),d({},e,n[i.repeat])):void OR(H.noSuchRepeatedValue(i.repeat)):t}function _V(e,t){if(void 0!==(e=bV("field",e,t))){if(null===e)return null;if(Lz(e)&&Dz(e.sort)){var n=bV("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function wV(e,t){if(Hz(e))return _V(e,t);var n=bV("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function xV(e,t){if(!Yz(e)){if(Uz(e)){var n=wV(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):(e.condition,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["condition"]))}return e}var r=wV(e,t);return r||(Bz(e)?{condition:e.condition}:void 0)}function OV(e,t){var n={};for(var r in e)if(Object(ee.w)(e,r)){var i=e[r];if(Object(ee.B)(i))n[r]=i.map((function(e){return xV(e,t)})).filter((function(e){return e}));else{var o=xV(i,t);void 0!==o&&(n[r]=o)}}return n}var kV=function(){function e(){y(this,e),this.name="RuleForRangedLine"}return b(e,[{key:"hasMatchingType",value:function(e){if(zU(e)){var t=e.encoding;if("line"===e.mark){var n,r=g(OL);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t[EL(i)];if(t[i]&&(Hz(o)&&!YL(o.bin)||Wz(o)))return!0}}catch(a){r.e(a)}finally{r.f()}}}return!1}},{key:"run",value:function(e,t,n){var r=e.encoding;return OR(H.lineWithRange(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}(),EV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function SV(e){var t=e.parentEncoding,n=e.encoding,r=void 0===n?{}:n,i=e.layer,o={};if(t){var a,s=new Set([].concat(m(VI(t)),m(VI(r)))),u=g(s);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=r[l],f=t[l];if(Yz(c)){var d=Object.assign(Object.assign({},f),c);o[l]=d}else Uz(c)?o[l]=Object.assign(Object.assign({},c),{condition:Object.assign(Object.assign({},f),c.condition)}):c||null===c?o[l]=c:(i||Kz(f)||UR(f)||Yz(f)||Object(ee.B)(f))&&(o[l]=f)}}catch(h){u.e(h)}finally{u.f()}}else o=r;return!o||HI(o)?void 0:o}function TV(e){var t=e.parentProjection,n=e.projection;return t&&n&&OR(H.projectionOverridden({parentProjection:t,projection:n})),null!=n?n:t}function CV(e,t){void 0===t&&(t=JH(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return DV.map(e,{config:t})}(e,t),r=function(e,t,n){var r=t.width,i=t.height,o=zU(e)||rV(e),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(OR(H.containerSizeNonSingle("width")),r=void 0),"container"==i&&(OR(H.containerSizeNonSingle("height")),i=void 0));var s=Object.assign(Object.assign(Object.assign({type:"pad"},a),n?AV(n.autosize):{}),AV(e.autosize));if("fit"!==s.type||o||(OR(H.FIT_NON_SINGLE),s.type="pad"),"container"==r&&"fit"!=s.type&&"fit-x"!=s.type&&OR(H.containerSizeNotCompatibleWithAutosize("width")),"container"==i&&"fit"!=s.type&&"fit-y"!=s.type&&OR(H.containerSizeNotCompatibleWithAutosize("height")),!kI(s,{type:"pad"}))return s}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var DV=new(function(e){c(n,e);var t=f(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[oH,fH,mH,new pV,new kV,new mV],e}return b(n,[{key:"map",value:function(e,t){if(zU(e)){var r=HU(e.encoding,AP),i=HU(e.encoding,jP),o=HU(e.encoding,NP);if(r||i||o)return this.mapFacetedUnit(e,t)}return u(l(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,i=yV(e.encoding,t.repeater),o=Object.assign(Object.assign({},e),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(o,t);var a,s=this.mapLayerOrUnit.bind(this),u=g(this.nonFacetUnitNormalizers);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(l.hasMatchingType(o,t.config))return l.run(o,t,s)}}catch(c){u.e(c)}finally{u.f()}return o}},{key:"mapRepeat",value:function(e,t){return function(e){return!Object(ee.B)(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,i=e.spec,o=EV(e,["repeat","spec"]),a=r.row,s=r.column,u=r.layer,l=t.repeater,c=void 0===l?{}:l,f=t.repeaterPrefix,d=void 0===f?"":f;return a||s?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},a?{row:a}:{}),s?{column:s}:{}),spec:{repeat:{layer:u},spec:i}}),t):Object.assign(Object.assign({},o),{layer:u.map((function(e){var r=Object.assign(Object.assign({},c),{layer:e}),o=(i.name||"")+d+"child__layer_".concat(YI(e)),a=n.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:o}));return a.name=o,a}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,i=r.repeat,o=r.spec,a=r.data,s=EV(e,["repeat","spec","data"]);!Object(ee.B)(i)&&e.columns&&(e=TI(e,["columns"]),OR(H.columnsNotSupportByRowCol("repeat")));var u,l=[],c=t.repeater,f=void 0===c?{}:c,d=t.repeaterPrefix,h=void 0===d?"":d,p=!Object(ee.B)(i)&&i.row||[f?f.row:null],v=!Object(ee.B)(i)&&i.column||[f?f.column:null],m=Object(ee.B)(i)&&i||[f?f.repeat:null],y=g(m);try{for(y.s();!(u=y.n()).done;){var b,_=u.value,w=g(p);try{for(w.s();!(b=w.n()).done;){var x,O=b.value,k=g(v);try{for(k.s();!(x=k.n()).done;){var E=x.value,S={repeat:_,row:O,column:E,layer:f.layer},T=(o.name||"")+h+"child__"+(Object(ee.B)(i)?"".concat(YI(_)):(i.row?"row_".concat(YI(O)):"")+(i.column?"column_".concat(YI(E)):"")),C=this.map(o,Object.assign(Object.assign({},t),{repeater:S,repeaterPrefix:T}));C.name=T,l.push(TI(C,["data"]))}}catch(A){k.e(A)}finally{k.f()}}}catch(A){w.e(A)}finally{w.f()}}}catch(A){y.e(A)}finally{y.f()}var D=Object(ee.B)(i)?e.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=o.data)&&void 0!==n?n:a,align:"all"},s),{columns:D,concat:l})}},{key:"mapFacet",value:function(e,t){return jz(e.facet)&&e.columns&&(e=TI(e,["columns"]),OR(H.columnsNotSupportByRowCol("facet"))),u(l(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,o=t.parentProjection,a=t.config,s=TV({parentProjection:o,projection:r}),u=SV({parentEncoding:i,encoding:yV(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),s?{projection:s}:{}),u?{encoding:u}:{}),{config:a})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,o=n.facet,a=EV(n,["row","column","facet"]),s=e.mark,u=e.width,l=e.projection,c=e.height,f=e.view,d=e.selection,h=(e.encoding,EV(e,["mark","width","projection","height","view","selection","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:i,facet:o},t),v=p.facetMapping,m=p.layout,g=yV(a,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),m),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{width:u}:{}),c?{height:c}:{}),f?{view:f}:{}),l?{projection:l}:{}),{mark:s,encoding:g}),d?{selection:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,i=e.column,o=e.facet;if(r||i){o&&OR(H.facetChannelDropped([].concat(m(r?[AP]:[]),m(i?[jP]:[]))));for(var a={},s={},u=0,l=[AP,jP];u<l.length;u++){var c=l[u],f=e[c];if(f){f.align,f.center,f.spacing,f.columns;var d=EV(f,["align","center","spacing","columns"]);a[c]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var v=p[h];void 0!==f[v]&&(s[v]=null!==(n=s[v])&&void 0!==n?n:{},s[v][c]=f[v])}}}return{facetMapping:a,layout:s}}var g=o.align,y=o.center,b=o.spacing,_=o.columns;return{facetMapping:gV(EV(o,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},g?{align:g}:{}),y?{center:y}:{}),b?{spacing:b}:{}),_?{columns:_}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,i=t.parentProjection,o=EV(t,["parentEncoding","parentProjection"]),a=e.encoding,s=e.projection,c=EV(e,["encoding","projection"]),f=Object.assign(Object.assign({},o),{parentEncoding:SV({parentEncoding:r,encoding:a,layer:!0}),parentProjection:TV({parentProjection:i,projection:s})});return u(l(n.prototype),"mapLayer",this).call(this,c,f)}}]),n}(function(){function e(){y(this,e)}return b(e,[{key:"map",value:function(e,t){return Mz(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):LH(e)?this.mapHConcat(e,t):PH(e)?this.mapVConcat(e,t):IH(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(rV(e))return this.mapLayer(e,t);if(zU(e))return this.mapUnit(e,t);throw new Error(H.invalidSpec(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}()));function AV(e){return Object(ee.J)(e)?{type:e}:null!=e?e:{}}var jV=["background","padding"];function NV(e,t){var n,r={},i=g(jV);try{for(i.s();!(n=i.n()).done;){var o=n.value;e&&void 0!==e[o]&&(r[o]=SU(e[o]))}}catch(a){i.e(a)}finally{i.f()}return t&&(r.params=e.params),r}var MV=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.explicit=t,this.implicit=n}return b(e,[{key:"clone",value:function(){return new e(EI(this.explicit),EI(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return iP(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=g(VI(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(o){n.e(o)}finally{n.f()}}}]),e}();function IV(e){return{explicit:!0,value:e}}function PV(e){return{explicit:!1,value:e}}function LV(e){return function(t,n,r,i){var o=e(t.value,n.value);return o>0?t:o<0?n:FV(t,n,r,i)}}function FV(e,t,n,r){return e.explicit&&t.explicit&&OR(H.mergeConflictingProperty(n,r,e.value,t.value)),e}function RV(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:FV;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:kI(e.value,t.value)?e:i(e,t,n,r)}var BV,zV=function(e){c(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(this,n),(e=t.call(this,r,i)).explicit=r,e.implicit=i,e.parseNothing=o,e}return b(n,[{key:"clone",value:function(){var e=u(l(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(MV);function UV(e){return"url"in e}function HV(e){return"values"in e}function VV(e){return"name"in e&&!UV(e)&&!HV(e)&&!WV(e)}function WV(e){return e&&(qV(e)||GV(e)||YV(e))}function qV(e){return"sequence"in e}function GV(e){return"sphere"in e}function YV(e){return"graticule"in e}function QV(e){return"filter"in e}function KV(e){return"lookup"in e}function XV(e){return"pivot"in e}function JV(e){return"density"in e}function $V(e){return"quantile"in e}function ZV(e){return"regression"in e}function eW(e){return"loess"in e}function tW(e){return"sample"in e}function nW(e){return"window"in e}function rW(e){return"joinaggregate"in e}function iW(e){return"flatten"in e}function oW(e){return"calculate"in e}function aW(e){return"bin"in e}function sW(e){return"impute"in e}function uW(e){return"timeUnit"in e}function lW(e){return"aggregate"in e}function cW(e){return"stack"in e}function fW(e){return"fold"in e}function dW(e,t,n,r){var i=Bz(t)&&t.condition,o=r(t);return i?d({},n,[].concat(m(Object(ee.i)(i).map((function(t){var n=r(t),i=function(e){return e.selection}(t)?Tq(e,t.selection):Dq(e,t.test);return Object.assign({test:i},n)}))),m(void 0!==o?[o]:[]))):void 0!==o?d({},n,o):{}}function hW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return dW(e,n,t,(function(t){return pW(t,e.config)}))}function pW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(Kz(e))return CU(e.value);if(Yz(e)){var r=cU(e),i=r.format,o=r.formatType;return mz({fieldOrDatumDef:e,format:i,formatType:o,expr:n,config:t})}}}function vW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,o=e.stack,a=n.tooltip;if(Object(ee.B)(a))return{tooltip:gW({tooltip:a},o,i,t)};var s=t.reactiveGeom?"datum.datum":"datum";return dW(e,a,"tooltip",(function(e){var a=pW(e,i,s);if(a)return a;if(null!==e){var u=NU("tooltip",r,i);return!0===u&&(u={content:"encoding"}),Object(ee.J)(u)?{value:u}:Object(ee.H)(u)?UR(u)?u:"encoding"===u.content?gW(n,o,i,t):{signal:s}:void 0}}))}function mW(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,o={},a=i?"datum.datum":"datum",s=[];function u(r,i){var u,l=EL(i),c=Qz(r)?r:Object.assign(Object.assign({},r),{type:e[l].type}),f=c.title||lU(c,n),d=Object(ee.i)(f).join(", ");if(ML(i)){var h="x"===i?"x2":"y2",p=fU(e[h]);if(YL(c.bin)&&p){var v=tU(c,{expr:a}),m=tU(p,{expr:a}),g=cU(c);u=kz(v,m,g.format,g.formatType,n),o[h]=!0}else if(t&&t.fieldChannel===i&&"normalize"===t.offset){var y=cU(c);u=mz({fieldOrDatumDef:c,format:y.format,formatType:y.formatType,expr:a,config:n,normalizeStack:!0}).signal}}u=null!=u?u:pW(c,n,a).signal,s.push({channel:i,key:d,value:u})}YU(e,(function(e,t){Hz(e)?u(e,t):zz(e)&&u(e.condition,t)}));for(var l={},c=0,f=s;c<f.length;c++){var d=f[c],h=d.channel,p=d.key,v=d.value;o[h]||l[p]||(l[p]=v)}return l}function gW(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,o=mW(e,t,n,{reactiveGeom:i}),a=qI(o).map((function(e){var t=p(e,2),n=t[0],r=t[1];return'"'.concat(n,'": ').concat(r)}));return a.length>0?{signal:"{".concat(a.join(", "),"}")}:void 0}function yW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,o=t.config,a=n.vgChannel,s=n.defaultRef,u=n.defaultValue;void 0===s&&void 0!==(u=null!=u?u:NU(e,r,o,{vgChannel:a,ignoreVgConfig:!0}))&&(s=CU(u));var l=i[e];return dW(t,l,null!=a?a:e,(function(n){return dz({channel:e,channelDef:n,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s})}))}function bW(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},a=e.markDef,s=e.encoding,u=e.config,l=a.type,c=null!==(t=o.filled)&&void 0!==t?t:NU("filled",a,u),f=jI(["bar","point","circle","square","geoshape"],l)?"transparent":void 0,d=null!==(r=null!==(n=NU(!0===c?"color":void 0,a,u,{vgChannel:"fill"}))&&void 0!==n?n:u.mark[!0===c&&"color"])&&void 0!==r?r:f,h=null!==(i=NU(!1===c?"color":void 0,a,u,{vgChannel:"stroke"}))&&void 0!==i?i:u.mark[!1===c&&"color"],p=c?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:CU(d)}:{}),h?{stroke:CU(h)}:{});return a.color&&(c?a.fill:a.stroke)&&OR(H.droppingColor("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},v),yW("color",e,{vgChannel:p,defaultValue:c?d:h})),yW("fill",e,{defaultValue:s.fill?d:void 0})),yW("stroke",e,{defaultValue:s.stroke?h:void 0}))}function _W(e,t){var n=t[function(e){switch(e){case MP:return"xOffset";case IP:return"yOffset";case PP:return"x2Offset";case LP:return"y2Offset";case BP:return"thetaOffset";case FP:return"radiusOffset";case zP:return"theta2Offset";case RP:return"radius2Offset"}}(e)];if(n)return n}function wW(e,t,n){var r=n.defaultPos,i=n.vgChannel,o=n.isMidPoint,a=t.encoding,s=t.markDef,u=t.config,l=t.stack,c=a[e],f=a[TL(e)],h=t.scaleName(e),p=t.getScaleComponent(e),v=_W(e,s),m=xW({model:t,defaultPos:r,channel:e,scaleName:h,scale:p}),g=!c&&ML(e)&&(a.latitude||a.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.isMidPoint,i=e.scaleName,o=e.stack,a=e.offset,s=e.markDef,u=e.config;if(Yz(n)&&o&&t===o.fieldChannel){if(Hz(n)){var l=Fz({channel:t,fieldDef:n,isMidPoint:r,markDef:s,stack:o,config:u});if(void 0!==l)return fz({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",band:l,offset:a})}return cz(n,i,{suffix:"end"},{offset:a})}return az(e)}({channel:e,channelDef:c,channel2Def:f,markDef:s,config:u,isMidPoint:o,scaleName:h,scale:p,stack:l,offset:v,defaultRef:m});return g?d({},i||e,g):void 0}function xW(e){var t=e.model,n=e.defaultPos,r=e.channel,i=e.scaleName,o=e.scale,a=t.markDef,s=t.config;return function(){var e=EL(r),u=SL(r),l=NU(r,a,s,{vgChannel:u});if(void 0!==l)return hz(r,l);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var c=o.get("type");if(jI(["log",dB,hB],c));else if(o.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[CL(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(BV||(BV={}));var OW={left:"x",center:"xc",right:"x2"},kW={top:"y",middle:"yc",bottom:"y2"};function EW(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return SL(e);var i,o="x"===e?"align":"baseline",a=NU(o,t,n);return UR(a)?(OR(H.rangeMarkAlignmentCannotBeExpression(o)),i=void 0):i=a,"x"===e?OW[i||("top"===r?"left":"center")]:kW[i||r]}function SW(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?TW(e,t,{defaultPos:r,defaultPos2:i}):wW(e,t,{defaultPos:r})}function TW(e,t,n){var r=n.defaultPos,i=n.defaultPos2,o=t.markDef,a=t.config,s=TL(e),u=CL(e),l=function(e,t,n){var r,i=e.encoding,o=e.mark,a=e.markDef,s=e.stack,u=e.config,l=EL(n),c=CL(n),f=SL(n),h=i[l],p=e.scaleName(l),v=e.getScaleComponent(l),m=_W(n in i||n in a?n:l,e.markDef);if(!h&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude))return d({},f,{field:e.getName(n)});var g=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,o=e.config,a=e.scaleName,s=e.scale,u=e.stack,l=e.offset,c=e.defaultRef;return Yz(n)&&u&&t.charAt(0)===u.fieldChannel.charAt(0)?cz(n,a,{suffix:"start"},{offset:l}):az({channel:t,channelDef:r,scaleName:a,scale:s,stack:u,markDef:i,config:o,offset:l,defaultRef:c})}({channel:n,channelDef:h,channel2Def:i[n],markDef:a,config:u,scaleName:p,scale:v,stack:s,offset:m,defaultRef:void 0});return void 0!==g?d({},f,g):CW(n,a)||CW(n,(d(r={},n,IU(n,a,u.style)),d(r,c,IU(c,a,u.style)),r))||CW(n,u[o])||CW(n,u.mark)||d({},f,xW({model:e,defaultPos:t,channel:n,scaleName:p,scale:v})())}(t,i,s),c=l[u]?EW(e,o,a):SL(e);return Object.assign(Object.assign({},wW(e,t,{defaultPos:r,vgChannel:c})),l)}function CW(e,t){var n=CL(e),r=SL(e);return void 0!==t[r]?d({},r,hz(e,t[r])):void 0!==t[e]?d({},r,hz(e,t[e])):t[n]?d({},n,hz(e,t[n])):void 0}function DW(e,t,n){var r,i,o,a,s=e.config,u=e.encoding,l=e.markDef,c=e.stack,f=TL(t),h=CL(t),p=u[t],v=u[f],m=e.getScaleComponent(t),g=m?m.get("type"):void 0,y=e.scaleName(t),b=l.orient,_=null!==(i=null!==(r=u[h])&&void 0!==r?r:u.size)&&void 0!==i?i:NU("size",l,s,{vgChannel:h}),w="bar"===n&&("x"===t?"vertical"===b:"horizontal"===b);if(Hz(p)&&(GL(p.bin)||YL(p.bin)||p.timeUnit&&!v)&&!_&&!EB(g)){var x=Fz({channel:t,fieldDef:p,stack:c,markDef:l,config:s}),O=null===(o=e.component.axes[t])||void 0===o?void 0:o[0];return function(e){var t,n=e.fieldDef,r=e.fieldDef2,i=e.channel,o=e.band,a=e.scaleName,s=e.markDef,u=e.spacing,l=void 0===u?0:u,c=e.axisTranslate,f=e.reverse,h=e.config,p=TL(i),v=SL(i),m=SL(p),g=_W(i,s);if(GL(n.bin)||n.timeUnit)return d(t={},m,jW({channel:i,fieldDef:n,scaleName:a,markDef:s,band:(1-o)/2,offset:AW(p,l,f,c,g),config:h})),d(t,v,jW({channel:i,fieldDef:n,scaleName:a,markDef:s,band:1-(1-o)/2,offset:AW(i,l,f,c,g),config:h})),t;if(YL(n.bin)){var y,b,_=cz(n,a,{},{offset:AW(p,l,f,c,g)});if(Hz(r))return d(y={},m,_),d(y,v,cz(r,a,{},{offset:AW(i,l,f,c,g)})),y;if(QL(n.bin)&&n.bin.step)return d(b={},m,_),d(b,v,{signal:'scale("'.concat(a,'", ').concat(tU(n,{expr:"datum"})," + ").concat(n.bin.step,")"),offset:AW(i,l,f,c,g)}),b}OR(H.channelRequiredForBinned(p))}({fieldDef:p,fieldDef2:v,channel:t,markDef:l,scaleName:y,band:x,axisTranslate:null!==(a=null==O?void 0:O.get("translate"))&&void 0!==a?a:.5,spacing:ML(t)?NU("binSpacing",l,s):void 0,reverse:m.get("reverse"),config:s})}return(Yz(p)&&EB(g)||w)&&!v?function(e,t,n,r){var i,o,a=r.markDef,s=r.encoding,u=r.config,l=r.stack,c=a.orient,f=r.scaleName(n),h=r.getScaleComponent(n),p=CL(n),v=TL(n),m="horizontal"===c&&"y"===n||"vertical"===c&&"x"===n,g=NU(m?"size":p,a,u,{vgChannel:p});(s.size||void 0!==g)&&(m?o=yW("size",r,{vgChannel:p,defaultValue:g}):OR(H.cannotApplySizeToNonOrientedMark(a.type)));var y=null!==(i=Yz(t)?Fz({channel:n,fieldDef:t,markDef:a,stack:l,config:u}):void 0)&&void 0!==i?i:1;o=o||d({},p,function(e,t,n,r,i,o){if(r){var a=r.get("type");if("point"===a||"band"===a){if(void 0!==i[e].discreteBandSize)return{value:i[e].discreteBandSize};if("point"===a){var s=r.get("range");return HR(s)&&Object(ee.G)(s.step)?{value:s.step-2}:{value:WH-2}}return{scale:n,band:o}}return{value:i[e].continuousBandSize}}var u=HH(i.view,t),l=iP(i[e].discreteBandSize,u-2);return void 0!==l?{value:l}:void 0}(e,p,f,h,u,y));var b="band"!==(null==h?void 0:h.get("type"))||!("band"in o[p]),_=EW(n,a,u,b?"middle":"top"),w=_W(n,a),x=az({channel:n,channelDef:t,markDef:a,config:u,scaleName:f,scale:h,stack:l,offset:w,defaultRef:xW({model:r,defaultPos:"mid",channel:n,scaleName:f,scale:h}),band:b?.5:(1-y)/2});if(p)return Object.assign(d({},_,x),o);var O,k=SL(v),E=o[p],S=w?Object.assign(Object.assign({},E),{offset:w}):E;return d(O={},_,x),d(O,k,Object(ee.B)(x)?[x[0],Object.assign(Object.assign({},x[1]),{offset:S})]:Object.assign(Object.assign({},x),{offset:S})),O}(n,p,t,e):TW(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function AW(e,t,n,r,i){if(fL(e))return 0;var o="x"===e||"y2"===e?-t/2:t/2;if(UR(n)||UR(i)||UR(r)){var a=AU(n),s=AU(i),u=AU(r);return{signal:(u?"".concat(u," + "):"")+(a?"(".concat(a," ? -1 : 1) * "):"")+(s?"(".concat(s," + ").concat(o,")"):o)}}return i=i||0,r+(n?-i-o:+i+o)}function jW(e){var t=e.channel,n=e.fieldDef,r=e.scaleName,i=e.markDef,o=e.band,a=e.offset,s=e.config;return sz({fieldDef:n,channel:t,markDef:i,ref:fz({scaleName:r,fieldOrDatumDef:n,band:o,offset:a}),config:s})}var NW=new Set(["aria"]);function MW(e,t){var n="include"===t.color?bW(e):{},r=n.fill,i=n.stroke;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return WR.reduce((function(n,r){return NW.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=CU(e[r])),n}),{})}(e.markDef,t)),IW(e,"fill",r)),IW(e,"stroke",i)),yW("opacity",e)),yW("fillOpacity",e)),yW("strokeOpacity",e)),yW("strokeWidth",e)),yW("strokeDash",e)),function(e){var t=e.encoding,n=e.mark,r=t.order;return!$B(n)&&Kz(r)?dW(e,r,"zindex",(function(e){return CU(e.value)})):{}}(e)),vW(e)),hW(e,"href")),function(e){var t=NU("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var i=NU("ariaRoleDescription",n,r);return null!=i?{ariaRoleDescription:{value:i}}:t in qR?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,i=e.stack,o=t.description;if(o)return dW(e,o,"description",(function(t){return pW(t,e.config)}));var a=NU("description",n,r);if(null!=a)return{description:CU(a)};if(!1===r.aria)return{};var s=mW(t,i,r);return HI(s)?void 0:{description:{signal:qI(s).map((function(e,t){var n=p(e,2),r=n[0],i=n[1];return'"'.concat(t>0?"; ":"").concat(r,': " + (').concat(i,")")})).join(" + ")}}}(e))}(e))}function IW(e,t,n){var r=e.config,i=e.mark;if("hide"===NU("invalid",e.markDef,r)&&n&&!$B(i)){var o=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&SB(i)&&(t[o]=!0)}return t}),{}),o=VI(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(e){return lz(e,r)})).join(" ".concat(a," "))}}(e,{invalid:!0,channels:zL});if(o)return d({},t,[{test:o,value:null}].concat(m(Object(ee.i)(n))))}return n?d({},t,n):{}}function PW(e){var t=e.config;if(NU("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&SB(i)&&(t[o]=!0)}return t}),{}),o=VI(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(e){return lz(e,r)})).join(" ".concat(a," "))}}(e,{channels:NL});if(n)return{defined:{signal:n}}}return{}}function LW(e,t){if(void 0!==t)return d({},e,CU(t))}var FW="voronoi",RW={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=g(t.events);try{for(r.s();!(n=r.n()).done;)n.value.markname=e.getName(FW)}catch(i){r.e(i)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,i=r.x,o=r.y,a=e.mark;if($B(a))return OR(H.nearestNotSupportForContinuous(a)),n;var s={name:e.getName(FW),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},vW(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!o?"datum.datum.x || 0":"0"},y:{expr:o||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},u=0,l=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?u=n:i.indexOf(FW)>=0&&(l=!0)})),l||n.splice(u+1,0,s),n}},BW=function(){function e(t,n){y(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return b(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?OR(H.ADD_SAME_CHILD_TWICE):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=g(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=g(this._children);try{for(r.s();!(e=r.n()).done;)e.value.parent=t}catch(i){r.e(i)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}}]),e}(),zW=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var a;return y(this,n),(a=t.call(this,e,r)).type=i,a.refCounts=o,a._source=a._name=r,a.refCounts&&!(a._name in a.refCounts)&&(a.refCounts[a._name]=0),a}return b(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(aP())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(BW),UW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},HW=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).formula=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n,r=g(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeChild(i),i.parent=this}}catch(o){r.e(o)}finally{r.f()}e.remove()}},{key:"removeFormulas",value:function(e){var t,n={},r=g(qI(this.formula));try{for(r.s();!(t=r.n()).done;){var i=p(t.value,2),o=i[0],a=i[1];e.has(a.as)||(n[o]=a)}}catch(s){r.e(s)}finally{r.f()}this.formula=n}},{key:"producedFields",value:function(){return new Set(WI(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(WI(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(DI(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=g(WI(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.field,o=r.as,a=zR(r.timeUnit),s=a.unit,u=a.utc,l=UW(a,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:eP(i),type:"timeunit"},s?{units:LR(s)}:{}),u?{timezone:"utc"}:{}),l),{as:[o,"".concat(o,"_end")]}))}}catch(c){n.e(c)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){var i=n.field,o=n.timeUnit,a=WY(t)?t.encoding[TL(r)]:void 0,s=WY(t)&&Rz(r,n,a,t.stack,t.markDef,t.config);if(o){var u=tU(n,{forAs:!0});e[DI({as:u,field:i,timeUnit:o})]=Object.assign({as:u,field:i,timeUnit:o},s?{band:!0}:{})}return e}),{});return HI(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t),i=r.timeUnit,o=UW(r,["timeUnit"]),a=zR(i),s=Object.assign(Object.assign({},o),{timeUnit:a});return new n(e,d({},DI(s),s))}}]),n}(BW),VW="_tuple_fields",WW=function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}},qW={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!NH(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,o=t.bind,a=t.init&&t.init[0],s=RW.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var u,l,c=YI("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===c})).length||n.unshift(Object.assign(Object.assign({name:c},a?{init:uq(a[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(s,"[").concat(Object(ee.bb)(e.field),"] : null")}]:[],bind:null!==(l=null!==(u=o[e.field])&&void 0!==u?u:o[e.channel])&&void 0!==l?l:o}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,o=n.filter((function(e){return e.name===r+bq}))[0],a=r+VW,s=i.items.map((function(e){return YI("".concat(r,"_").concat(e.field))})),u=s.map((function(e){return"".concat(e," !== null")})).join(" && ");return s.length&&(o.update="".concat(u," ? {fields: ").concat(a,", values: [").concat(s.join(", "),"]} : null")),delete o.value,delete o.on,n}},GW="_toggle",YW={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+GW,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+bq,r=t.name+GW;return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(Oq(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},QW={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=Object(ee.J)(n.clear)?PA(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){if(qW.has(t)){var r,i=g(t.project.items);try{var o=function(){var e=r.value,i=n.findIndex((function(n){return n.name===YI("".concat(t.name,"_").concat(e.field))}));-1!==i&&n[i].on.push({events:t.clear,update:"null"})};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var i,o=g(t.project.items);try{var a=function(){var e=i.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));r(t,"[0, 0]"),-1===t&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")};for(o.s();!(i=o.n()).done;)a()}catch(u){o.e(u)}finally{o.f()}}else{var s=n.findIndex((function(e){return e.name===t.name+bq}));r(s,"null"),YW.has(t)&&r(s=n.findIndex((function(e){return e.name===t.name+GW})),"false")}return n}},KW={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],i=g(t.project.items);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.channel;if(UL(a)){var s=e.getScaleComponent(a),u=s?s.get("type"):void 0;if(s&&SB(u)){var l={selection:t.name,field:o.field};s.set("selectionExtent",l,!0),r.push(o)}else OR(H.SCALE_BINDINGS_CONTINUOUS)}}}catch(c){i.e(c)}finally{i.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||JW(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],o=i.update;if(o.indexOf(_q)>=0)i.update="{".concat(r.map((function(e){return"".concat(Object(ee.bb)(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var a,s=g(r);try{for(s.s();!(a=s.n()).done;){var u=a.value,l="".concat(Object(ee.bb)(u.field),": ").concat(u.signals.data);o.indexOf(l)<0&&(o="".concat(o.substring(0,o.length-1),", ").concat(l,"}"))}}catch(c){s.e(c)}finally{s.f()}i.update=o}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!JW(e)){var r,i=g(t.scales);try{var o=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n}};function XW(e,t){return"domain(".concat(Object(ee.bb)(e.scaleName(t)),")")}function JW(e){var t;return e.parent&&YY(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:JW(e.parent.parent))}var $W={has:function(e){var t="global"===e.resolve&&e.bind&&NH(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==AH;return t&&!n&&OR(H.LEGEND_BINDINGS_MUST_HAVE_PROJECTION),t&&n},parse:function(e,t,n,r){var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var o,a='event.item && indexof(event.item.mark.role, "legend") < 0',s=g(t.events);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.filter=Object(ee.i)(null!==(i=u.filter)&&void 0!==i?i:[]),u.filter.indexOf(a)<0&&u.filter.push(a)}}catch(f){s.e(f)}finally{s.f()}}var l=MH(t.bind)?t.bind.legend:"click",c=Object(ee.J)(l)?PA(l,"view"):Object(ee.i)(l);t.bind={legend:{merge:c}}},topLevelSignals:function(e,t,n){var r,i=t.name,o=MH(t.bind)&&t.bind.legend,a=function(e){return function(t){var n=EI(t);return n.markname=e,n}},s=g(t.project.items);try{var u=function(){var e=r.value;if(!e.hasLegend)return"continue";var s="".concat(YI(e.field),"_legend"),u="".concat(i,"_").concat(s);if(0===n.filter((function(e){return e.name===u})).length){var l=o.merge.map(a("".concat(s,"_symbols"))).concat(o.merge.map(a("".concat(s,"_labels")))).concat(o.merge.map(a("".concat(s,"_entries"))));n.unshift(Object.assign(Object.assign({name:u},t.init?{}:{value:null}),{on:[{events:l,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:"!event.item || !datum ? null : ".concat(u),force:!0}]}))}};for(s.s();!(r=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}return n},signals:function(e,t,n){var r=t.name,i=t.project,o=n.find((function(e){return e.name===r+bq})),a=r+VW,s=i.items.filter((function(e){return e.hasLegend})).map((function(e){return YI("".concat(r,"_").concat(YI(e.field),"_legend"))})),u="".concat(s.map((function(e){return"".concat(e," !== null")})).join(" && ")," ? {fields: ").concat(a,", values: [").concat(s.join(", "),"]} : null");t.events&&s.length>0?o.on.push({events:s.map((function(e){return{signal:e}})),update:u}):s.length>0&&(o.update=u,delete o.value,delete o.on);var l=n.find((function(e){return e.name===r+GW})),c=MH(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:c})):l.on[0].events=c),n}},ZW="_translate_anchor",eq="_translate_delta",tq={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=KW.has(t),o=r+ZW,a=t.project.hasChannel,s=a.x,u=a.y,l=PA(t.translate,"scope");return i||(l=l.map((function(e){return e.between[0].markname=r+fq,e}))),n.push({name:o,value:{},on:[{events:l.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==s?", extent_x: "+(i?XW(e,MP):"slice(".concat(s.signals.visual,")")):"")+(void 0!==u?", extent_y: "+(i?XW(e,IP):"slice(".concat(u.signals.visual,")")):"")+"}"}]},{name:r+eq,value:{},on:[{events:l,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==s&&nq(e,t,s,"width",n),void 0!==u&&nq(e,t,u,"height",n),n}};function nq(e,t,n,r,i){var o,a=t.name,s=a+ZW,u=a+eq,l=n.channel,c=KW.has(t),f=i.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(l),p=h.get("type"),v="".concat(s,".extent_").concat(l),m="".concat(c?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(v,", ").concat("".concat(c&&l===MP?"-":"").concat(u,".").concat(l," / ")+(c?"".concat(d):"span(".concat(v,")")))+(c&&"pow"===p?", ".concat(null!==(o=h.get("exponent"))&&void 0!==o?o:1):"")+")";f.on.push({events:{signal:u},update:c?m:"clampRange(".concat(m,", 0, ").concat(d,")")})}var rq="_zoom_delta",iq={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=KW.has(t),o=r+rq,a=t.project.hasChannel,s=a.x,u=a.y,l=Object(ee.bb)(e.scaleName(MP)),c=Object(ee.bb)(e.scaleName(IP)),f=PA(t.zoom,"scope");return i||(f=f.map((function(e){return e.markname=r+fq,e}))),n.push({name:r+"_zoom_anchor",on:[{events:f,update:i?"{"+[l?"x: invert(".concat(l,", x(unit))"):"",c?"y: invert(".concat(c,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==s&&oq(e,t,s,"width",n),void 0!==u&&oq(e,t,u,"height",n),n}};function oq(e,t,n,r,i){var o,a=t.name,s=n.channel,u=KW.has(t),l=i.filter((function(e){return e.name===n.signals[u?"data":"visual"]}))[0],c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(s),d=f.get("type"),h=u?XW(e,s):l.name,p=a+rq,v="".concat(u?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ","".concat(a,"_zoom_anchor.").concat(s),", ").concat(p)+(u&&"pow"===d?", ".concat(null!==(o=f.get("exponent"))&&void 0!==o?o:1):"")+")";l.on.push({events:{signal:p},update:u?v:"clampRange(".concat(v,", 0, ").concat(c,")")})}var aq=[{has:function(){return!0},parse:function(e,t,n){var r,i,o,a=t.name,s=null!==(r=t.project)&&void 0!==r?r:t.project=new WW,u={},l={},c=new Set,f=function(e,t){for(var n="visual"===t?e.channel:e.field,r=YI("".concat(a,"_").concat(n)),i=1;c.has(r);i++)r=YI("".concat(a,"_").concat(n,"_").concat(i));return c.add(r),d({},t,r)};if(!n.fields&&!n.encodings){var h=e.config.selection[n.type];if(n.init){var p,v=g(Object(ee.i)(n.init));try{for(v.s();!(p=v.n()).done;){var m,y=p.value,b=g(VI(y));try{for(b.s();!(m=b.n()).done;){var _=m.value;wL[_]?(n.encodings||(n.encodings=[])).push(_):"interval"===n.type?(OR(H.INTERVAL_INITIALIZED_WITH_X_Y),n.encodings=h.encodings):(n.fields||(n.fields=[])).push(_)}}catch(P){b.e(P)}finally{b.f()}}}catch(P){v.e(P)}finally{v.f()}}else n.encodings=h.encodings,n.fields=h.fields}var w,x=g(null!==(i=n.fields)&&void 0!==i?i:[]);try{for(x.s();!(w=x.n()).done;){var O=w.value,k={type:"E",field:O};k.signals=Object.assign({},f(k,"data")),s.items.push(k),s.hasField[O]=k}}catch(P){x.e(P)}finally{x.f()}var E,S=g(null!==(o=n.encodings)&&void 0!==o?o:[]);try{for(S.s();!(E=S.n()).done;){var T=E.value,C=e.fieldDef(T);if(C){var D=C.field;if(C.aggregate){OR(H.cannotProjectAggregate(T,C.aggregate));continue}if(!D){OR(H.cannotProjectOnChannelWithoutField(T));continue}if(C.timeUnit){D=e.vgField(T);var A={timeUnit:C.timeUnit,as:D,field:C.field};l[DI(A)]=A}if(!u[D]){var j="E";"interval"===t.type?SB(e.getScaleComponent(T).get("type"))&&(j="R"):C.bin&&(j="R-RE");var N={field:D,channel:T,type:j};N.signals=Object.assign(Object.assign({},f(N,"data")),f(N,"visual")),s.items.push(u[D]=N),s.hasField[D]=s.hasChannel[T]=u[D]}}else OR(H.cannotProjectOnChannelWithoutField(T))}}catch(P){S.e(P)}finally{S.f()}if(n.init){var M=function(e){return s.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=M(n.init);else{var I=Object(ee.i)(n.init);t.init=I.map(M)}}HI(l)||(s.timeUnit=new HW(null,l))},signals:function(e,t,n){var r=t.name+VW;return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["signals","hasLegend"]);return t.field=eP(t.field),t}))})}},YW,KW,$W,tq,iq,qW,RW,QW];function sq(e,t){var n,r=g(aq);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.has(e)&&t(i)}}catch(o){r.e(o)}finally{r.f()}}function uq(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.y;if(Object(ee.B)(e)){var r=e.map((function(e){return uq(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return kR(e)?n(t?AR(e):function(e){var t=DR(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,m(t))):+s(Date,m(t))}(e)):t?n(JSON.stringify(e)):e}function lq(e,t){return xq(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,sq(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function cq(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var fq="_brush",dq="_scale_trigger",hq={signals:function(e,t){var n=t.name,r=n+VW,i=KW.has(t),o=[],a=[],s=[];if(t.translate&&!i){var u="!event.item || event.item.mark.name !== ".concat(Object(ee.bb)(n+fq));pq(t,(function(e,t){var n,r=Object(ee.i)(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(u)<0&&r.push(u),e}))}t.project.items.forEach((function(n,r){var i=n.channel;if(i===MP||i===IP){var u=t.init?t.init[r]:null,l=function(e,t,n,r){var i=n.channel,o=n.signals.visual,a=n.signals.data,s=KW.has(t),u=Object(ee.bb)(e.scaleName(i)),l=e.getScaleComponent(i),c=l?l.get("type"):void 0,f=function(e){return"scale(".concat(u,", ").concat(e,")")},d=e.getSizeSignalRef(i===MP?"width":"height").signal,h="".concat(i,"(unit)"),p=pq(t,(function(e,t){return[].concat(m(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(o,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+dq},update:SB(c)?"[".concat(f("".concat(a,"[0]")),", ").concat(f("".concat(a,"[1]")),"]"):"[0, 0]"}),s?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:uq(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},r?{init:uq(r)}:{}),{on:[{events:{signal:o},update:"".concat(o,"[0] === ").concat(o,"[1] ? null : invert(").concat(u,", ").concat(o,")")}]})]}(e,t,n,u),c=n.signals.data,f=n.signals.visual,d=Object(ee.bb)(e.scaleName(i)),h=SB(e.getScaleComponent(i).get("type"))?"+":"";o.push.apply(o,m(l)),a.push(c),s.push({scaleName:e.scaleName(i),expr:"(!isArray(".concat(c,") || (").concat(h,"invert(").concat(d,", ").concat(f,")[0] === ").concat(h).concat(c,"[0] && ").concat(h,"invert(").concat(d,", ").concat(f,")[1] === ").concat(h).concat(c,"[1]))")})}else OR("Interval selections only support x and y encoding channels.")})),i||o.push({name:n+dq,value:{},on:[{events:s.map((function(e){return{scale:e.scaleName}})),update:s.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+dq," : {}")}]});var l=t.init,c="unit: ".concat(Oq(e),", fields: ").concat(r,", values");return o.concat(Object.assign(Object.assign({name:n+bq},l?{init:"{".concat(c,": ").concat(uq(l),"}")}:{}),{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+" ? {".concat(c,": [").concat(a,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+bq+", "+("global"===t.resolve?"true":"{unit: ".concat(Oq(e),"}"))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,o=i.x,a=i.y,s=o&&o.signals.visual,u=a&&a.signals.visual,l="data(".concat(Object(ee.bb)(t.name+yq),")");if(KW.has(t))return n;var c={x:void 0!==o?{signal:"".concat(s,"[0]")}:{value:0},y:void 0!==a?{signal:"".concat(u,"[0]")}:{value:0},x2:void 0!==o?{signal:"".concat(s,"[1]")}:{field:{group:"width"}},y2:void 0!==a?{signal:"".concat(u,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=g(VI(c));try{for(d.s();!(f=d.n()).done;){var h=f.value;c[h]=[Object.assign({test:"".concat(l,".length && ").concat(l,"[0].unit === ").concat(Oq(e))},c[h]),{value:0}]}}catch(x){d.e(x)}finally{d.f()}}var p=t.mark,v=p.fill,y=p.fillOpacity,b=p.cursor,_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(p,["fill","fillOpacity","cursor"]),w=VI(_).reduce((function(e,t){return e[t]=[{test:[void 0!==o&&"".concat(s,"[0] !== ").concat(s,"[1]"),void 0!==a&&"".concat(u,"[0] !== ").concat(u,"[1]")].filter((function(e){return e})).join(" && "),value:_[t]},{value:null}],e}),{});return[{name:r+fq+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:y}},update:c}}].concat(m(n),[{name:r+fq,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},b?{cursor:{value:b}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),w)}}])}};function pq(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(OR("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function vq(e,t){var n=t.name,r=n+VW,i=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=i.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(o,"[").concat(Object(ee.bb)(e.vgField(t.channel,{})),"], ").concat(o,"[").concat(Object(ee.bb)(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(o,"[").concat(Object(ee.bb)(t.field),"]")})).join(", "),s="unit: ".concat(Oq(e),", fields: ").concat(r,", values"),u=t.events;return[{name:n+bq,on:u?[{events:u,update:"datum && item().mark.marktype !== 'group' ? {".concat(s,": [").concat(a,"]} : null"),force:!0}]:[]}]}var mq={signals:vq,modifyExpr:function(e,t){return t.name+bq+", "+("global"===t.resolve?"null":"{unit: ".concat(Oq(e),"}"))}},gq={signals:vq,modifyExpr:function(e,t){return t.name+bq+", "+("global"===t.resolve?"true":"{unit: ".concat(Oq(e),"}"))}},yq="_store",bq="_tuple",_q="vlSelectionResolve",wq={single:gq,multi:mq,interval:hq};function xq(e,t){var n=e.component.selection;if(n){var r,i=g(WI(n));try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!0===t(o,wq[o.type]))break}}catch(a){i.e(a)}finally{i.f()}}}function Oq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?Object(ee.bb)(e.name):e.name,i=function(e){for(var t=e.parent;t&&!qY(t);)t=t.parent;return t}(e);if(i){var o,a=i.facet,s=g(gL);try{for(s.s();!(o=s.n()).done;){var u=o.value;a[u]&&(r+=" + '__facet_".concat(u,"_' + (facet[").concat(Object(ee.bb)(i.vgField(u)),"])"))}}catch(l){s.e(l)}finally{s.f()}}return r}function kq(e){var t=!1;return xq(e,(function(e){t=t||e.project.items.some((function(e){return e.field===AH}))})),t}function Eq(e){var t=RT(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){var n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push.apply(n,m(e(t.object))),n.push.apply(n,m(e(t.property)))),n)}(e).slice(1).join("."))})),n}var Sq=function(e){c(n,e);var t=f(n);function n(e,r,i){var o;return y(this,n),(o=t.call(this,e)).model=r,o.filter=i,o.expr=Dq(o.model,o.filter,a(o)),o._dependentFields=Eq(o.expr),o}return b(n,[{key:"clone",value:function(){return new n(null,this.model,EI(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(BW);function Tq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",i=[],o=QI(t,(function(t){var o=YI(t),a=e.getSelectionComponent(o,t),s=Object(ee.bb)(o+yq);if(a.project.timeUnit){var u=null!=n?n:e.component.data.raw,l=a.project.timeUnit.clone();u.parent?l.insertAsParentOf(u):u.parent=l}return"none"!==a.empty&&i.push(s),"vlSelectionTest(".concat(s,", ").concat(r)+("global"===a.resolve?")":", ".concat(Object(ee.bb)(a.resolve),")"))}));return(i.length?"!("+i.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(o,")")}function Cq(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var i=e.project.items.filter((function(e){return e.channel===n}));!i.length||i.length>1?(r=e.project.items[0].field,OR((i.length?"Multiple ":"No ")+"matching ".concat(Object(ee.bb)(n)," encoding found for selection ").concat(Object(ee.bb)(t.selection),". ")+'Using "field": '.concat(Object(ee.bb)(r),"."))):r=i[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&OR('A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": '.concat(Object(ee.bb)(r),"."));return"".concat(e.name,"[").concat(Object(ee.bb)(r),"]")}function Dq(e,t,n){return QI(t,(function(t){return Object(ee.J)(t)?t:function(e){return null==e?void 0:e.selection}(t)?Tq(e,t.selection,n):nB(t)}))}var Aq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jq(e,t,n,r){var i,o,a;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=r}function Nq(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},a=e.combine(),s=a.disable,u=a.orient,l=a.scale,c=a.labelExpr,f=a.title,d=a.zindex,h=Aq(a,["disable","orient","scale","labelExpr","title","zindex"]);if(!s){for(var p in h){var v=vP[p],y=h[p];if(v&&v!==t&&"both"!==v)delete h[p];else if(hP(y)){var b=y.condition,_=Aq(y,["condition"]),w=Object(ee.i)(b),x=dP[p];if(x){var O=x.vgProp,k=x.part;jq(h,k,O,[].concat(m(w.map((function(e){var t=e.test,n=Aq(e,["test"]);return Object.assign({test:Dq(null,t)},n)}))),[_])),delete h[p]}else if(null===x){var E={signal:w.map((function(e){var t=e.test,n=Aq(e,["test"]);return"".concat(Dq(null,t)," ? ").concat(DU(n)," : ")})).join("")+DU(_)};h[p]=E}}else if(UR(y)){var S=dP[p];if(S){var T=S.vgProp,C=S.part;jq(h,C,T,y),delete h[p]}}}if("grid"===t){if(!h.grid)return;if(h.encode){var D=h.encode.grid;h.encode=Object.assign({},D?{grid:D}:{}),HI(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:l,orient:u},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:iP(d,0)})}if(!o.header&&e.mainExtracted)return;if(void 0!==c){var A=c;(null===(i=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&UR(h.encode.labels.update.text)&&(A=tP(c,"datum.label",h.encode.labels.update.text.signal)),jq(h,"labels","text",{signal:A})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var j,N=g(pP);try{for(N.s();!(j=N.n()).done;){var M=j.value;e.hasAxisPart(M)||delete h.encode[M]}}catch(P){N.e(P)}finally{N.f()}HI(h.encode)&&delete h.encode}var I=function(e,t){if(e)return Object(ee.B)(e)&&!OU(e)?e.map((function(e){return lU(e,t)})).join(", "):e}(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:l,orient:u,grid:!1},I?{title:I}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:iP(d,0)})}}function Mq(e){var t,n=e.component.axes,r=[],i=g(NL);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(n[o]){var a,s=g(n[o]);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!u.get("disable")&&!u.get("gridScale")){var l="x"===o?"height":"width",c=e.getSizeSignalRef(l).signal;l!==c&&r.push({name:l,update:c})}}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return r}function Iq(e,t,n,r){return Object.assign.apply(null,[{}].concat(m(e.map((function(e){if("axisOrient"===e){var i,o="x"===n?"bottom":"left",a=t["x"===n?"axisBottom":"axisLeft"]||{},s=t["x"===n?"axisTop":"axisRight"]||{},u=new Set([].concat(m(VI(a)),m(VI(s)))),l={},c=g(u.values());try{for(c.s();!(i=c.n()).done;){var f=i.value;l[f]={signal:"".concat(r.signal,' === "').concat(o,'" ? ').concat(AU(a[f])," : ").concat(AU(s[f]))}}}catch(d){c.e(d)}finally{c.f()}return l}return t[e]})))))}function Pq(e,t){var n,r,i=[{}],o=g(e);try{for(o.s();!(r=o.n()).done;){var a=null===(n=t[r.value])||void 0===n?void 0:n.style;if(a){a=Object(ee.i)(a);var s,u=g(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;i.push(t.style[l])}}catch(c){u.e(c)}finally{u.f()}}}}catch(c){o.e(c)}finally{o.f()}return Object.assign.apply(null,i)}function Lq(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=PU(e,n,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(var a=0,s=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];a<s.length;a++){var u=s[a];if(void 0!==(null===(r=i[u])||void 0===r?void 0:r[e]))return{configFrom:u,configValue:i[u][e]}}return{}}var Fq={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,i=r.format,o=r.formatType;return bz(t,t.type,i,o,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType;return _z(t.formatType,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,i=e.scaleType;return(!Hz(n)||!YL(n.bin))&&(null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!EB(e)&&Hz(t)&&!GL(null==t?void 0:t.bin)}(i,n))},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelAlign||zq(n,r,i)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelBaseline||Bq(n,r,i)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&jI(["quantitative","temporal"],e))return!0}(r.type,i)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,r){if(n&&!Object(ee.H)(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy"}(r.type,i,Hz(r)&&!!r.timeUnit,Hz(r)?r.sort:void 0)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,i=e.axis,o=e.fieldOrDatumDef,a=e.scaleType,s="x"===n?"width":"y"===n?"height":void 0,u=s?r.getSizeSignalRef(s):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,i=e.size;if(!e.values&&!EB(r)&&"log"!==r){if(Hz(n)){if(GL(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&jI(["month","hours","day","quarter"],null===(t=zR(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}}({fieldOrDatumDef:o,scaleType:a,size:u,values:i.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var i=Uq(n,r);if(void 0!==i)return i;var o=n.typedFieldDef(r),a="x"===r?"x2":"y2",s=n.fieldDef(a);return FU(o?[Pz(o)]:[],Hz(s)?[Pz(s)]:[])},values:function(e){return function(e,t){var n=e.values;return Object(ee.B)(n)?_U(t,n):UR(n)?n:void 0}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){return"rect"===e&&nU(t)?1:0}(i,r)}};function Rq(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function Bq(e,t,n,r){if(void 0!==e){if("x"===n){if(UR(e)){var i=Rq(e);return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :(').concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(UR(t)?"(".concat(t.signal,' === "top")'):"top"===t,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(UR(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(UR(e)){var a=Rq(e);return{signal:"".concat(a," <= 45 || 315 <= ").concat(a," || (135 <= ").concat(a," && ").concat(a," <= 225) ? ").concat(r?'"middle"':"null"," : (45 <= ").concat(a," && ").concat(a," <= 135) === ").concat(UR(t)?"(".concat(t.signal,' === "left")'):"left"===t,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(UR(t)){var s=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(s,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function zq(e,t,n){if(void 0!==e){var r="x"===n,i=r?0:90,o=r?"bottom":"left";if(UR(e)){var a=Rq(e);return{signal:"(".concat(i?"("+a+" + 90)":a," % 180 === 0) ? ").concat(r?null:'"center"'," :(").concat(i," < ").concat(a," && ").concat(a," < ").concat(180+i,") === ").concat(UR(t)?"(".concat(t.signal,' === "').concat(o,'")'):t===o,' ? "left" : "right"')}}if((e+i)%180==0)return r?null:"center";if(UR(t)){var s=i<e&&e<180+i?"===":"!==";return{signal:"".concat("".concat(t.signal," ").concat(s,' "').concat(o,'"'),' ? "left" : "right"')}}return(i<e&&e<180+i)==(t===o)?"left":"right"}}function Uq(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?RU(o,a):o||a||(void 0!==o?o:void 0!==a?a:void 0)}var Hq=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).transform=r,i._dependentFields=Eq(i.transform.calculate),i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(DI(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(Xz(t)&&Az(t.sort)){var i=t.field,o=t.timeUnit,a=t.sort,s=a.map((function(e,t){return"".concat(nB({field:i,timeUnit:o,equal:e})," ? ").concat(t," : ")})).join("")+a.length;e=new n(e,{calculate:s,as:Vq(t,r,{forAs:!0})})}})),e}}]),n}(BW);function Vq(e,t,n){return tU(e,Object.assign({prefix:t,suffix:"sort_index"},null!=n?n:{}))}function Wq(e,t){return jI(["top","bottom"],t)?"column":jI(["left","right"],t)||"row"===e?"row":"column"}function qq(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return iP((t||{})[e],i[e],n.header[e])}function Gq(e,t,n,r){var i,o={},a=g(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=qq(s,t||{},n,r);void 0!==u&&(o[s]=u)}}catch(l){a.e(l)}finally{a.f()}return o}var Yq=["row","column"],Qq=["header","footer"];function Kq(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,o=Gq(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),a=o.titleAnchor,s=o.titleAngle,u=Wq(t,o.titleOrient),l=cP(s);return{name:"".concat(t,"-title"),type:"group",role:"".concat(u,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),Jq(l,u)),Xq(u,l,a)),iG(r,i,t,OH,wH))}}function Xq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=zq(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function Jq(e,t){var n=Bq(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function $q(e,t){var n,r=e.component.layoutHeaders[t],i=[],o=g(Qq);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r[a]){var s,u=g(r[a]);try{for(u.s();!(s=u.n()).done;){var l=tG(e,t,a,r,s.value);null!=l&&i.push(l)}}catch(c){u.e(c)}finally{u.f()}}}}catch(c){o.e(c)}finally{o.f()}return i}function Zq(e,t){var n,r=e.sort;return Dz(r)?{field:tU(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:Object(ee.B)(r)?{field:Vq(e,t,{expr:"datum"}),order:"ascending"}:{field:tU(e,{expr:"datum"}),order:null!=r?r:"ascending"}}function eG(e,t,n){var r=Gq(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),i=r.format,o=r.formatType,a=r.labelAngle,s=r.labelAnchor,u=r.labelOrient,l=r.labelExpr,c=mz({fieldOrDatumDef:e,format:i,formatType:o,expr:"parent",config:n}).signal,f=Wq(t,u);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?tP(tP(l,"datum.label",c),"datum.value",tU(e,{expr:"parent"})):c}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),Jq(a,f)),Xq(f,a,s)),iG(n,e,t,kH,xH))}function tG(e,t,n,r,i){if(i){var o=null,a=r.facetFieldDef,s=e.config?e.config:void 0;if(a&&i.labels){var u=Gq(["labelOrient"],a.header,s,t).labelOrient;("row"===t&&!jI(["top","bottom"],u)||"column"===t&&!jI(["left","right"],u))&&(o=eG(a,t,s))}var l=qY(e)&&!jz(e.facet),c=i.axes,f=(null==c?void 0:c.length)>0;if(o||f){var h="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:Zq(a,t)}:{}),f&&l?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:d({},h,i.sizeSignal)}}:{}),f?{axes:c}:{})}}return null}var nG={column:{start:0,end:1},row:{start:1,end:0}};function rG(e,t){return nG[t][e]}function iG(e,t,n,r,i){var o,a={},s=g(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(i[u]){var l=qq(u,null==t?void 0:t.header,e,n);void 0!==l&&(a[i[u]]=l)}}}catch(c){s.e(c)}finally{s.f()}return a}function oG(e){return[].concat(m(aG(e,"width")),m(aG(e,"height")),m(aG(e,"childWidth")),m(aG(e,"childHeight")))}function aG(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var o=e.getScaleComponent(n);if(o){var a=o.get("type"),s=o.get("range");if(EB(a)&&HR(s)){var u=e.scaleName(n);return qY(e.parent)&&"independent"===e.parent.component.resolve.scale[n]?[sG(u,s)]:[sG(u,s),{name:i,update:uG(u,o,"domain('".concat(u,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var l=i.endsWith("width"),c=l?"containerSize()[0]":"containerSize()[1]",f="isFinite(".concat(c,") ? ").concat(c," : ").concat(UH(e.config.view,l?"width":"height"));return[{name:i,init:f,on:[{update:f,events:"window:resize"}]}]}return[{name:i,value:r}]}function sG(e,t){return{name:e+"_step",value:t.step}}function uG(e,t,n){var r=t.get("type"),i=t.get("padding"),o=iP(t.get("paddingOuter"),i),a=t.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace(".concat(n,", ").concat(AU(a),", ").concat(AU(o),") * ").concat(e,"_step")}function lG(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function cG(e,t){return VI(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),dW(t,i,r,(function(e){return CU(e.value)})))}),{})}function fG(e,t){if(YY(t)||qY(t))return"shared";if(GY(t))return ML(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function dG(e,t){var n=e.scale[t],r=ML(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&OR(H.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}var hG=Object.assign(Object.assign({},TH),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),pG=VI(hG),vG=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return n}(MV),mG={symbols:function(e,t){var n,r,i,o,a,s,u,l,c=t.fieldOrDatumDef,f=t.model,d=t.channel,h=t.legendCmpt;if("symbol"===t.legendType){var p=f.markDef,v=f.encoding,m=f.config,y=f.mark,b=p.filled&&"trail"!==y,_=Object.assign(Object.assign({},function(e,t,n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=MU(o,t.markDef,t.config);void 0!==a&&(e[o]=CU(a))}}catch(s){i.e(s)}finally{i.f()}return e}({},f,nz)),bW(f,{filled:b})),w=null!==(n=h.get("symbolOpacity"))&&void 0!==n?n:m.legend.symbolOpacity,x=null!==(r=h.get("symbolFillColor"))&&void 0!==r?r:m.legend.symbolFillColor,O=null!==(i=h.get("symbolStrokeColor"))&&void 0!==i?i:m.legend.symbolStrokeColor,k=void 0===w?null!==(o=gG(v.opacity))&&void 0!==o?o:p.opacity:void 0;if(_.fill)if("fill"===d||b&&d===qP)delete _.fill;else if(_.fill.field)x?delete _.fill:(_.fill=CU(null!==(a=m.legend.symbolBaseFillColor)&&void 0!==a?a:"black"),_.fillOpacity=CU(null!=k?k:1));else if(Object(ee.B)(_.fill)){var E=null!==(l=null!==(u=yG(null!==(s=v.fill)&&void 0!==s?s:v.color))&&void 0!==u?u:p.fill)&&void 0!==l?l:b&&p.color;E&&(_.fill=CU(E))}if(_.stroke)if("stroke"===d||!b&&d===qP)delete _.stroke;else if(_.stroke.field||O)delete _.stroke;else if(Object(ee.B)(_.stroke)){var S=iP(yG(v.stroke||v.color),p.stroke,b?p.color:void 0);S&&(_.stroke={value:S})}if(d!==JP){var T=Hz(c)&&_G(0,h,c);T?_.opacity=[Object.assign({test:T},CU(null!=k?k:1)),CU(m.legend.unselectedOpacity)]:k&&(_.opacity=CU(k))}return HI(_=Object.assign(Object.assign({},_),e))?void 0:_}},gradient:function(e,t){var n,r=t.model,i=t.legendType,o=t.legendCmpt;if("gradient"===i){var a=r.config,s=r.markDef,u=r.encoding,l={},c=void 0===(null!==(n=o.get("gradientOpacity"))&&void 0!==n?n:a.legend.gradientOpacity)?gG(u.opacity)||s.opacity:void 0;return c&&(l.opacity=CU(c)),HI(l=Object.assign(Object.assign({},l),e))?void 0:l}},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,i=t.channel,o=t.legendCmpt,a=r.legend(i)||{},s=r.config,u=Hz(n)?_G(0,o,n):void 0,l=u?[{test:u,value:1},{value:s.legend.unselectedOpacity}]:void 0,c=a.format,f=a.formatType,d=pz(f)?yz({fieldOrDatumDef:n,field:"datum.value",format:c,formatType:f,config:s}):void 0,h=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),d?{text:d}:{}),e);return HI(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null==n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function gG(e){return bG(e,(function(e,t){return Math.max(e,t.value)}))}function yG(e){return bG(e,(function(e,t){return iP(e,t.value)}))}function bG(e,t){return function(e){var t=e&&e.condition;return!!t&&(Object(ee.B)(t)||Kz(t))}(e)?Object(ee.i)(e.condition).reduce(t,e.value):Kz(e)?e.value:void 0}function _G(e,t,n){var r=t.get("selections");if(null==r?void 0:r.length){var i=Object(ee.bb)(n.field);return r.map((function(e){return"(!length(data(".concat(Object(ee.bb)(YI(e)+yq),")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var wG={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,i=n.format,o=n.formatType;return bz(t,t.type,i,o,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType;return _z(t.formatType,n,r)},gradientLength:function(e){var t,n,r=e.legend,i=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,i=e.orient,o=e.scaleType,a=t.gradientHorizontalMaxLength,s=t.gradientHorizontalMinLength,u=t.gradientVerticalMaxLength,l=t.gradientVerticalMinLength;if(TB(o))return"horizontal"===r?"top"===i||"bottom"===i?OG(n,"width",s,a):s:OG(n,"height",l,u)}(e)},labelOverlap:function(e){var t,n,r=e.legend,i=e.legendConfig,o=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:i.labelOverlap)&&void 0!==n?n:function(e){if(jI(["quantile","threshold","log","symlog"],e))return"greedy"}(o)},symbolType:function(e){var t,n=e.legend,r=e.markDef,i=e.channel,o=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var i;if("shape"!==t){var o=null!==(i=yG(n))&&void 0!==i?i:r;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,o.shape,r.shape)},title:function(e){return sU(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(vL(e.channel)&&TB(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;return Object(ee.B)(n)?_U(t,n):UR(n)?n:void 0}(e.legend,t)}};function xG(e){var t,n,r=e.legendConfig,i=e.legendType,o=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,i)}function OG(e,t,n,r){return{signal:"clamp(".concat(e.getSizeSignalRef(t).signal,", ").concat(n,", ").concat(r,")")}}function kG(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null==n?void 0:n.values);case"title":if("title"===t&&e===(null==r?void 0:r.title))return!0}return e===(n||{})[t]}function EG(e,t){var n,r,i,o=e.legend(t),a=e.markDef,s=e.encoding,u=e.config,l=u.legend,c=new vG({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:d({},t,n)}(e,t));!function(e,t,n){var r,i=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;xq(e,(function(e){var r,o,a=null!==(r=e.project.hasField[i])&&void 0!==r?r:e.project.hasChannel[t];if(a&&$W.has(e)){var s=null!==(o=n.get("selections"))&&void 0!==o?o:[];s.push(e.name),n.set("selections",s,!1),a.hasLegend=!0}}))}(e,t,c);var f=void 0!==o?!o:l.disable;if(c.set("disable",f,void 0!==o),f)return c;o=o||{};var h,p=e.getScaleComponent(t).get("type"),v=dU(s[t]),m=Hz(v)?null===(n=zR(v.timeUnit))||void 0===n?void 0:n.unit:void 0,y=o.orient||u.legend.orient||"right",b=function(e){return iP(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(vL(t)){if(jI(["quarter","month","day"],n))return"symbol";if(TB(r))return"gradient"}return"symbol"}(e))}({legend:o,channel:t,timeUnit:m,scaleType:p}),_={legend:o,channel:t,model:e,markDef:a,encoding:s,fieldOrDatumDef:v,legendConfig:l,config:u,scaleType:p,orient:y,legendType:b,direction:xG({legend:o,legendType:b,orient:y,legendConfig:l})},w=g(pG);try{for(w.s();!(h=w.n()).done;){var x=h.value;if(!("gradient"===b&&x.startsWith("symbol")||"symbol"===b&&x.startsWith("gradient"))){var O=x in wG?wG[x](_):o[x];if(void 0!==O){var k=kG(O,x,o,e.fieldDef(t));(k||void 0===u.legend[x])&&c.set(x,O,k)}}}}catch(I){w.e(I)}finally{w.f()}for(var E=null!==(r=null==o?void 0:o.encoding)&&void 0!==r?r:{},S=c.get("selections"),T={},C={fieldOrDatumDef:v,model:e,channel:t,legendCmpt:c,legendType:b},D=0,A=["labels","legend","title","symbols","gradient","entries"];D<A.length;D++){var j=A[D],N=cG(null!==(i=E[j])&&void 0!==i?i:{},e),M=j in mG?mG[j](N,C):N;void 0===M||HI(M)||(T[j]=Object.assign(Object.assign(Object.assign({},(null==S?void 0:S.length)&&Hz(v)?{name:"".concat(YI(v.field),"_legend_").concat(j)}:{}),(null==S?void 0:S.length)?{interactive:!!S}:{}),{update:M}))}return HI(T)||c.set("encode",T,!!(null==o?void 0:o.encoding)),c}function SG(e,t){var n,r,i,o;if(!e)return t.clone();var a=e.getWithExplicit("orient"),s=t.getWithExplicit("orient");if(!a.explicit||!s.explicit||a.value===s.value){var u,l=!1,c=g(pG);try{var f=function(){var n=u.value,r=RV(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){return"circle"===t.value?t:e}(e,t);case"title":return BU(e,t);case"type":return l=!0,PV("symbol")}return FV(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(c.s();!(u=c.n()).done;)f()}catch(d){c.e(d)}finally{c.f()}return l&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&KI(e.implicit,["encode","gradient"]),(null===(o=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===o?void 0:o.gradient)&&KI(e.explicit,["encode","gradient"])),e}}function TG(e){var t,n=e.component.legends,r={},i=g(VI(n));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.getScaleComponent(o),s=CI(a.get("domains"));if(r[s]){var u,l=g(r[s]);try{for(l.s();!(u=l.n()).done;)SG(u.value,n[o])||r[s].push(n[o])}catch(c){l.e(c)}finally{l.f()}}else r[s]=[n[o].clone()]}}catch(c){i.e(c)}finally{i.f()}return WI(r).flat().map((function(t){return function(e,t){var n,r,i,o=e.combine(),a=o.disable,s=o.labelExpr,u=(o.selections,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(o,["disable","labelExpr","selections"]));if(!a){if(!1===t.aria&&null==u.aria&&(u.aria=!1),null===(n=u.encode)||void 0===n?void 0:n.symbols){var l=u.encode.symbols.update;!l.fill||"transparent"===l.fill.value||l.stroke||u.stroke||(l.stroke={value:"transparent"});var f,d=g(SH);try{for(d.s();!(f=d.n()).done;){var h=f.value;u[h]&&delete l[h]}}catch(c){d.e(c)}finally{d.f()}}if(u.title||delete u.title,void 0!==s){var p=s;(null===(i=null===(r=u.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&UR(u.encode.labels.update.text)&&(p=tP(s,"datum.label",u.encode.labels.update.text.signal)),function(e,t,n,r){var i,o,a;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update.text=r}(u,"labels",0,{signal:p})}return u}}(t,e.config)})).filter((function(e){return void 0!==e}))}function CG(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var i={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},o=t.data.reduce((function(t,n){var r=UR(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return jI(t,r)||t.push(r),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var DG=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],AG=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var a;return y(this,n),(a=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,a.size=i,a.data=o,a.merged=!1,a}return b(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(MV);function jG(e,t){return"".concat(qL(e),"_").concat(t)}function NG(e,t,n){var r,i=jG(null!==(r=mU(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function MG(e,t,n){var r,i;r=function(e){return"as"in e}(e)?Object(ee.J)(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[tU(e,{forAs:!0}),tU(e,{binSuffix:"end",forAs:!0})];var o=Object.assign({},mU(t,void 0)),a=jG(o,e.field),s=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,a),u=s.signal,l=s.extentSignal;if(KL(o.extent)){var c=o.extent,f=c.selection;i=Cq(n.getSelectionComponent(YI(f),f),c),delete o.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},u?{signal:u}:{}),l?{extentSignal:l}:{}),i?{span:i}:{})}}var IG=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).bins=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.bins))}},{key:"merge",value:function(e,t){var n,r=g(VI(e.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(t(e.bins[i].signal,this.bins[i].signal),this.bins[i].as=LI([].concat(m(this.bins[i].as),m(e.bins[i].as)),DI)):this.bins[i]=e.bins[i]}}catch(u){r.e(u)}finally{r.f()}var o,a=g(e.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.removeChild(s),s.parent=this}}catch(u){a.e(u)}finally{a.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(WI(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(WI(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(DI(this.bins))}},{key:"assemble",value:function(){return WI(this.bins).flatMap((function(e){var t=[],n=o(e.as),r=n[0],i=n.slice(1),a=e.bin,s=a.extent,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(a,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:eP(e.field),as:r,signal:e.signal},KL(s)?{extent:null}:{extent:s}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!s&&e.extentSignal&&(t.push({type:"extent",field:eP(e.field),signal:e.extentSignal}),l.extent={signal:e.extentSignal}),t.push(l);var c,f=g(i);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,h=0;h<2;h++)t.push({type:"formula",expr:tU({field:r[h]},{expr:"datum"}),as:d[h]})}catch(p){f.e(p)}finally{f.f()}return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(Qz(n)&&GL(n.bin)){var i=MG(n,n.bin,t),o=i.key,a=i.binComponent;e[o]=Object.assign(Object.assign(Object.assign({},a),e[o]),function(e,t,n,r){var i,o;if(wU(t,n)){var a=WY(e)&&null!==(o=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==o?o:{},s=tU(t,{expr:"datum"}),u=tU(t,{expr:"datum",binSuffix:"end"});return{formulaAs:tU(t,{binSuffix:"range",forAs:!0}),formula:kz(s,u,a.format,a.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return HI(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var i=MG(t,t.bin,r),o=i.key,a=i.binComponent;return new n(e,d({},o,a))}}]),n}(BW),PG=function(e){c(n,e);var t=f(n);function n(e,r,i){var o;return y(this,n),(o=t.call(this,e)).dimensions=r,o.measures=i,o}return b(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),EI(this.measures))}},{key:"merge",value:function(e){return RI(this.dimensions,e.dimensions)?(function(e,t){var n,r,i=g(VI(t));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,s=t[a],u=g(VI(s));try{for(u.s();!(o=u.n()).done;){var l=o.value;a in e?e[a][l]=new Set([].concat(m(null!==(n=e[a][l])&&void 0!==n?n:[]),m(s[l]))):e[a]=d({},l,s[l])}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}}(this.measures,e.measures),!0):(function(){var e;(e=wR).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(m(this.dimensions),m(VI(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=g(VI(this.measures));try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=g(VI(this.measures[i]));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=this.measures[i][a];0===s.size?t.add("".concat(a,"_").concat(i)):s.forEach(t.add,t)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(DI({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=g(VI(this.measures));try{for(i.s();!(e=i.n()).done;){var o,a=e.value,s=g(VI(this.measures[a]));try{for(s.s();!(o=s.n()).done;){var u,l=o.value,c=g(this.measures[a][l]);try{for(c.s();!(u=c.n()).done;){var f=u.value;r.push(f),t.push(l),n.push("*"===a?null:eP(a))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}return{type:"aggregate",groupby:m(this.dimensions).map(eP),ops:t,fields:n,as:r}}},{key:"groupBy",get:function(){return this.dimensions}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},o=new Set;return r?(t.forEachFieldDef((function(e,n){var r,a,s,u,l=e.aggregate,c=e.field;if(l)if("count"===l)i["*"]=null!==(r=i["*"])&&void 0!==r?r:{},i["*"].count=new Set([tU(e,{forAs:!0})]);else{if(xP(l)||OP(l)){var f=xP(l)?"argmin":"argmax",d=l[f];i[d]=null!==(a=i[d])&&void 0!==a?a:{},i[d][f]=new Set([tU({op:f,field:d},{forAs:!0})])}else i[c]=null!==(s=i[c])&&void 0!==s?s:{},i[c][l]=new Set([tU(e,{forAs:!0})]);UL(n)&&"unaggregated"===t.scaleDomain(n)&&(i[c]=null!==(u=i[c])&&void 0!==u?u:{},i[c].min=new Set([tU({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([tU({field:c,aggregate:"max"},{forAs:!0})]))}else!function(e,t,n,r){var i=WY(r)?r.encoding[TL(t)]:void 0;if(Qz(n)&&WY(r)&&Rz(t,n,i,r.stack,r.markDef,r.config))e.add(tU(n,{})),e.add(tU(n,{suffix:"end"})),n.bin&&wU(n,t)&&e.add(tU(n,{binSuffix:"range"}));else if(t in dL){var o=function(e){switch(e){case UP:return"y";case VP:return"y2";case HP:return"x";case WP:return"x2"}}(t);e.add(r.getName(o))}else e.add(tU(n))}(o,n,e,t)})),o.size+VI(i).length===0?null:new n(e,o,i)):null}},{key:"makeFromTransform",value:function(e,t){var r,i,o,a,s=new Set,u={},l=g(t.aggregate);try{for(l.s();!(a=l.n()).done;){var c=a.value,f=c.op,d=c.field,h=c.as;f&&("count"===f?(u["*"]=null!==(r=u["*"])&&void 0!==r?r:{},u["*"].count=new Set([h||tU(c,{forAs:!0})])):(u[d]=null!==(i=u[d])&&void 0!==i?i:{},u[d][f]=new Set([h||tU(c,{forAs:!0})])))}}catch(y){l.e(y)}finally{l.f()}var p,v=g(null!==(o=t.groupby)&&void 0!==o?o:[]);try{for(v.s();!(p=v.n()).done;){var m=p.value;s.add(m)}}catch(y){v.e(y)}finally{v.f()}return s.size+VI(u).length===0?null:new n(e,s,u)}}]),n}(BW),LG=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var a;y(this,n),(a=t.call(this,e)).model=r,a.name=i,a.data=o;var s,u=g(gL);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=r.facet[l];if(c){var f=c.bin,d=c.sort;a[l]=Object.assign({name:r.getName("".concat(l,"_domain")),fields:[tU(c)].concat(m(GL(f)?[tU(c,{binSuffix:"end"})]:[]))},Dz(d)?{sortField:d}:Object(ee.B)(d)?{sortIndexField:Vq(c,l)}:{})}}}catch(h){u.e(h)}finally{u.f()}return a.childModel=r.child,a}return b(n,[{key:"hash",value:function(){var e,t="Facet",n=g(gL);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(DI(this[r])))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=g(gL);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=g(NL);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this.childModel.component.scales[r];if(i&&!i.merged){var o=i.get("type"),a=i.get("range");if(EB(o)&&HR(a)){var s=kY(EY(this.childModel,r));s?t[r]=s:OR(H.unknownField(r))}}}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],i=[],o=[],a=[];n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_".concat(n[r])));var s=this[e],u=s.sortField,l=s.sortIndexField;if(u){var c=u.op,f=void 0===c?Ez:c,d=u.field;i.push(d),o.push(f),a.push(tU(u,{forAs:!0}))}else l&&(i.push(l),o.push("max"),a.push(l));return{name:this[e].name,source:null!=t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:o,as:a}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,i=this.model.layout.columns,o=this.model.component.layoutHeaders,a=[],s={},u=g(Yq);try{for(u.s();!(r=u.n()).done;){var l,c=r.value,f=g(Qq);try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=null!==(t=o[c]&&o[c][h])&&void 0!==t?t:[],v=g(p);try{for(v.s();!(d=v.n()).done;)if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){s[c]=!0;break}}catch(w){v.e(w)}finally{v.f()}}}catch(w){f.e(w)}finally{f.f()}if(s[c]){var m='length(data("'.concat(this.facet.name,'"))'),y="row"===c?i?{signal:"ceil(".concat(m," / ").concat(i,")")}:1:i?{signal:"min(".concat(m,", ").concat(i,")")}:{signal:m};a.push({name:"".concat(this.facet.name,"_").concat(c),transform:[{type:"sequence",start:0,stop:y}]})}}}catch(w){u.e(w)}finally{u.f()}var b=s.row,_=s.column;return(b||_)&&a.unshift(this.assembleRowColumnHeaderData("facet",null,e)),a}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),o=this.column,a=this.row,s=this.facet;if(o&&a&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var u=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),l=u.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:u,ops:l}]})}for(var c=0,f=[jP,AP];c<f.length;c++){var d=f[c];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(s){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,m(h))}return n}},{key:"fields",get:function(){var e,t,n=[],r=g(gL);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===(e=this[i])||void 0===e?void 0:e.fields)&&n.push.apply(n,m(this[i].fields))}}catch(o){r.e(o)}finally{r.f()}return n}}]),n}(BW);function FG(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function RG(e){var t={};return function e(t,n){if(xI(t))e(t.not,n);else if(wI(t)){var r,i=g(t.and);try{for(i.s();!(r=i.n()).done;)e(r.value,n)}catch(s){i.e(s)}finally{i.f()}}else if(_I(t)){var o,a=g(t.or);try{for(a.s();!(o=a.n()).done;)e(o.value,n)}catch(s){a.e(s)}finally{a.f()}}else n(t)}(e.filter,(function(e){var n;if(eB(e)){var r=null;YR(e)?r=SU(e.equal):KR(e)?r=SU(e.lte):QR(e)?r=SU(e.lt):XR(e)?r=SU(e.gt):JR(e)?r=SU(e.gte):$R(e)?r=e.range[0]:ZR(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(kR(r)?t[e.field]="date":Object(ee.G)(r)?t[e.field]="number":Object(ee.J)(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}var BG,zG=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e))._parse=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(DI(this._parse))}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=g(VI(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this._parse[r];1===rP(r)&&(t[r]=i)}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(VI(this._parse))}},{key:"dependentFields",value:function(){return new Set(VI(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return VI(this._parse).filter((function(e){return!t||rP(e)>1})).map((function(t){var n=function(e,t){var n=JI(e);return"number"===t?"toNumber(".concat(n,")"):"boolean"===t?"toBoolean(".concat(n,")"):"string"===t?"toString(".concat(n,")"):"date"===t?"toDate(".concat(n,")"):"flatten"===t?n:0===t.indexOf("date:")?"timeParse(".concat(n,",'").concat(FG(t.slice(5,t.length)),"')"):0===t.indexOf("utc:")?"utcParse(".concat(n,",'").concat(FG(t.slice(4,t.length)),"')"):(OR(H.unrecognizedParse(t)),null)}(t,e._parse[t]);return n?{type:"formula",expr:n,as:nP(t)}:null})).filter((function(e){return null!==e}))}},{key:"parse",get:function(){return this._parse}}],[{key:"makeExplicit",value:function(e,t,n){var r={},i=t.data;return!WV(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,i){var o,a=g(VI(r));try{for(a.s();!(o=a.n()).done;){var s=o.value,u=i.getWithExplicit(s);void 0!==u.value&&(u.explicit||u.value===r[s]||"derived"===u.value||"flatten"===r[s]?delete r[s]:OR(H.differentParse(s,r[s],u.value)))}}catch(_){a.e(_)}finally{a.f()}var l,c=g(VI(t));try{for(c.s();!(l=c.n()).done;){var f=l.value,d=i.get(f);void 0!==d&&(d===t[f]?delete t[f]:OR(H.differentParse(f,t[f],d)))}}catch(_){c.e(_)}finally{c.f()}var h=new MV(t,r);i.copyAll(h);var p,v={},m=g(VI(h.combine()));try{for(m.s();!(p=m.n()).done;){var y=p.value,b=h.get(y);null!==b&&(v[y]=b)}}catch(_){m.e(_)}finally{m.f()}return 0===VI(v).length||i.parseNothing?null:new n(e,v)}}]),n}(BW),UG=function(e){c(n,e);var t=f(n);function n(e){return y(this,n),t.call(this,e)}return b(n,[{key:"clone",value:function(){return new n(null)}}]),b(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([AH])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:AH}}}]),n}(BW),HG=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).params=r,i}return b(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(DI(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(BW),VG=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).params=r,i}return b(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(DI(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(BW),WG=function(e){c(n,e);var t=f(n);function n(e){var r,o;if(y(this,n),r=t.call(this,null),WV(e=null!=e?e:{name:"source"})||(o=e.format?Object.assign({},TI(e.format,["parse"])):{}),HV(e))r._data={values:e.values};else if(UV(e)){if(r._data={url:e.url},!o.type){var a=/(?:\.([^.]+))?$/.exec(e.url)[1];jI(["json","csv","tsv","dsv","topojson"],a)||(a="json"),o.type=a}}else GV(e)?r._data={values:[{type:"Sphere"}]}:(VV(e)||WV(e))&&(r._data={});return r._generator=WV(e),e.name&&(r._name=e.name),o&&!HI(o)&&(r._data.format=o),i(r)}return b(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hasName",value:function(){return!!this._name}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}},{key:"data",get:function(){return this._data}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}}]),n}(BW),qG=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};function GG(e){return e instanceof WG||e instanceof HG||e instanceof VG}var YG=function(){function e(){y(this,e),BG.set(this,void 0),qG(this,BG,!1)}return b(e,[{key:"setModified",value:function(){qG(this,BG,!0)}},{key:"modifiedFlag",get:function(){return function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(this,BG)}}]),e}();BG=new WeakMap;var QG=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"getNodeDepths",value:function(e,t,n){n.set(e,t);var r,i=g(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.getNodeDepths(o,t+1,n)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"optimize",value:function(e){var t,n=m(this.getNodeDepths(e,0,new Map).entries()).sort((function(e,t){return t[1]-e[1]})),r=g(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.run(i[0])}}catch(o){r.e(o)}finally{r.f()}return this.modifiedFlag}}]),n}(YG),KG=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"optimize",value:function(e){this.run(e);var t,n=g(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.optimize(r)}}catch(i){n.e(i)}finally{n.f()}return this.modifiedFlag}}]),n}(YG),XG=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.removeChild(o),o.parent=r,o.remove()}}catch(a){i.e(a)}finally{i.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i,o=g(VI(n));try{for(o.s();!(i=o.n()).done;){var a=i.value;n[a].length>1&&(this.setModified(),this.mergeNodes(e,n[a]))}}catch(s){o.e(s)}finally{o.f()}}}]),n}(KG),JG=function(e){c(n,e);var t=f(n);function n(e){var r;return y(this,n),(r=t.call(this)).requiresSelectionId=e&&kq(e),r}return b(n,[{key:"run",value:function(e){e instanceof UG&&(this.requiresSelectionId&&(GG(e.parent)||e.parent instanceof PG||e.parent instanceof zG)||(this.setModified(),e.remove()))}}]),n}(KG),$G=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"optimize",value:function(e){return this.run(e,new Set),this.modifiedFlag}},{key:"run",value:function(e,t){var n=new Set;e instanceof HW&&BI(n=e.producedFields(),t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove());var r,i=g(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.run(o,new Set([].concat(m(t),m(n))))}}catch(a){i.e(a)}finally{i.f()}}}]),n}(YG),ZG=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.call(this)}return b(n,[{key:"run",value:function(e){e instanceof zW&&!e.isRequired()&&(this.setModified(),e.remove())}}]),n}(KG),eY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"run",value:function(e){if(!(GG(e)||e.numChildren()>1)){var t,n=g(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof zG)if(e instanceof zG)this.setModified(),e.merge(r);else{if(UI(e.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}catch(i){n.e(i)}finally{n.f()}}}}]),n}(QG),tY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"run",value:function(e){var t=m(e.children),n=e.children.filter((function(e){return e instanceof zG}));if(e.numChildren()>1&&n.length>=1){var r,i={},o=new Set,a=g(n);try{for(a.s();!(r=a.n()).done;){var s,u=r.value.parse,l=g(VI(u));try{for(l.s();!(s=l.n()).done;){var c=s.value;c in i?i[c]!==u[c]&&o.add(c):i[c]=u[c]}}catch(x){l.e(x)}finally{l.f()}}}catch(x){a.e(x)}finally{a.f()}var f,d=g(o);try{for(d.s();!(f=d.n()).done;)delete i[f.value]}catch(x){d.e(x)}finally{d.f()}if(!HI(i)){this.setModified();var h,p=new zG(e,i),v=g(t);try{for(v.s();!(h=v.n()).done;){var y=h.value;if(y instanceof zG){var b,_=g(VI(i));try{for(_.s();!(b=_.n()).done;){var w=b.value;delete y.parse[w]}}catch(x){_.e(x)}finally{_.f()}}e.removeChild(y),y.parent=p,y instanceof zG&&0===VI(y.parse).length&&y.remove()}}catch(x){v.e(x)}finally{v.f()}}}}}]),n}(QG),nY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"run",value:function(e){e instanceof zW||e.numChildren()>0||e instanceof LG||e instanceof WG||(this.setModified(),e.remove())}}]),n}(QG),rY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"run",value:function(e){var t,n=e.children.filter((function(e){return e instanceof HW})),r=n.pop(),i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.setModified(),r.merge(o)}}catch(a){i.e(a)}finally{i.f()}}}]),n}(QG),iY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"run",value:function(e){var t,n=e.children.filter((function(e){return e instanceof PG})),r={},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=DI(o.groupBy);a in r||(r[a]=[]),r[a].push(o)}}catch(p){i.e(p)}finally{i.f()}var s,u=g(VI(r));try{for(u.s();!(s=u.n()).done;){var l=r[s.value];if(l.length>1){var c,f=l.pop(),d=g(l);try{for(d.s();!(c=d.n()).done;){var h=c.value;f.merge(h)&&(e.removeChild(h),h.parent=f,h.remove(),this.setModified())}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){u.e(p)}finally{u.f()}}}]),n}(QG),oY=function(e){c(n,e);var t=f(n);function n(e){var r;return y(this,n),(r=t.call(this)).model=e,r}return b(n,[{key:"run",value:function(e){var t,n=!(GG(e)||e instanceof Sq||e instanceof zG||e instanceof UG),r=[],i=[],o=g(e.children);try{for(o.s();!(t=o.n()).done;){var a=t.value;a instanceof IG&&(n&&!UI(e.producedFields(),a.dependentFields())?r.push(a):i.push(a))}}catch(v){o.e(v)}finally{o.f()}if(r.length>0){var s,u=r.pop(),l=g(r);try{for(l.s();!(s=l.n()).done;){var c=s.value;u.merge(c,this.model.renameSignal.bind(this.model))}}catch(v){l.e(v)}finally{l.f()}this.setModified(),e instanceof IG?e.merge(u,this.model.renameSignal.bind(this.model)):u.swapWithParent()}if(i.length>1){var f,d=i.pop(),h=g(i);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p,this.model.renameSignal.bind(this.model))}}catch(v){h.e(v)}finally{h.f()}this.setModified()}}}]),n}(QG),aY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"run",value:function(e){var t=m(e.children);if(NI(t,(function(e){return e instanceof zW}))&&!(e.numChildren()<=1)){var n,r,i=[],o=g(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a instanceof zW){for(var s=a;1===s.numChildren();){var u=p(s.children,1)[0];if(!(u instanceof zW))break;s=u}i.push.apply(i,m(s.children)),n?(e.removeChild(a),a.parent=n.parent,n.parent.removeChild(n),n.parent=s,this.setModified()):n=s}else i.push(a)}}catch(d){o.e(d)}finally{o.f()}if(i.length){this.setModified();var l,c=g(i);try{for(c.s();!(l=c.n()).done;){var f=l.value;f.parent.removeChild(f),f.parent=n}}catch(d){c.e(d)}finally{c.f()}}}}}]),n}(QG),sY=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).transform=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=LI(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:tU(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=g(this.transform.joinaggregate);try{for(i.s();!(e=i.n()).done;){var o=e.value;n.push(o.op),r.push(this.getDefaultName(o)),t.push(void 0===o.field?null:o.field)}}catch(s){i.e(s)}finally{i.f()}var a=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==a?{groupby:a}:{})}}]),n}(BW),uY=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e))._stack=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this._stack))}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,m(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(DI(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[tU(t,{binSuffix:"mid"})]:[tU(t,{}),tU(t,{binSuffix:"end"})]:[tU(t)]:null!=r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,i=t.stackField,o=t.stackby,a=t.sort,s=t.offset,u=t.impute,l=t.as;if(u&&r){var c=r.band,f=void 0===c?.5:c;r.bin&&e.push({type:"formula",expr:"".concat(f,"*")+tU(r,{expr:"datum"})+"+".concat(1-f,"*")+tU(r,{expr:"datum",binSuffix:"end"}),as:tU(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[].concat(m(o),m(n)),key:tU(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(m(this.getGroupbyFields()),m(n)),field:i,sort:a,as:l,offset:s}),e}},{key:"stack",get:function(){return this._stack}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,i=t.groupby,o=t.as,a=t.offset,s=void 0===a?"zero":a,u=[],l=[];if(void 0!==t.sort){var c,f=g(t.sort);try{for(f.s();!(c=f.n()).done;){var d=c.value;u.push(d.field),l.push(iP(d.order,"ascending"))}}catch(v){f.e(v)}finally{f.f()}}var h,p={field:u,order:l};return h=function(e){return Object(ee.B)(e)&&e.every((function(e){return Object(ee.J)(e)}))&&e.length>1}(o)?o:Object(ee.J)(o)?[o,o+"_end"]:[t.stack+"_start",t.stack+"_end"],new n(e,{stackField:r,groupby:i,offset:s,sort:p,facetby:[],as:h})}},{key:"makeFromEncoding",value:function(e,t){var r=t.stack,i=t.encoding;if(!r)return null;var o,a=r.groupbyChannel,s=r.fieldChannel,u=r.offset,l=r.impute;a&&(o=fU(i[a]));var c,f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=tU(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return c=Object(ee.B)(d)||Hz(d)?LU(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===s?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDef:o,stackField:t.vgField(s),facetby:[],stackby:f,sort:c,offset:u,impute:l,as:[t.vgField(s,{suffix:"start",forAs:!0}),t.vgField(s,{suffix:"end",forAs:!0})]})}}]),n}(BW),lY=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).transform=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=LI(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:tU(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],i=[],o=[],a=g(this.transform.window);try{for(a.s();!(t=a.n()).done;){var s=t.value;r.push(s.op),i.push(this.getDefaultName(s)),o.push(void 0===s.param?null:s.param),n.push(void 0===s.field?null:s.field)}}catch(y){a.e(y)}finally{a.f()}var u=this.transform.frame,l=this.transform.groupby;if(u&&null===u[0]&&null===u[1]&&r.every((function(e){return kP(e)})))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},void 0!==l?{groupby:l}:{});var c=[],f=[];if(void 0!==this.transform.sort){var d,h=g(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;c.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(y){h.e(y)}finally{h.f()}}var v={field:c,order:f},m=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:i,ops:r,fields:n,sort:v},void 0!==m?{ignorePeers:m}:{}),void 0!==l?{groupby:l}:{}),void 0!==u?{frame:u}:{})}}]),n}(BW);function cY(e){if(e instanceof LG)if(1!==e.numChildren()||e.children[0]instanceof zW){var t=e.model.component.data.main;!function e(t){if(t instanceof zW&&t.type===BV.Main&&1===t.numChildren()){var n=t.children[0];n instanceof LG||(n.swapWithParent(),e(t))}}(t);var n,r=(s=e,function e(t){if(!(t instanceof LG)){var n=t.clone();if(n instanceof zW){var r=fY+n.getSource();n.setSource(r),s.model.component.data.outputNodes[r]=n}else(n instanceof PG||n instanceof uY||n instanceof lY||n instanceof sY)&&n.addDimensions(s.fields);var i,o=g(t.children.flatMap(e));try{for(o.s();!(i=o.n()).done;)i.value.parent=n}catch(a){o.e(a)}finally{o.f()}return[n]}return t.children.flatMap(e)}),i=e.children.map(r).flat(),o=g(i);try{for(o.s();!(n=o.n()).done;)n.value.parent=t}catch(u){o.e(u)}finally{o.f()}}else{var a=e.children[0];(a instanceof PG||a instanceof uY||a instanceof lY||a instanceof sY)&&a.addDimensions(e.fields),a.swapWithParent(),cY(e)}else e.children.map(cY);var s}var fY="scale_";function dY(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=g(i.children);try{for(o.s();!(r=o.n()).done;)if(r.value.parent!==i)return!1}catch(a){o.e(a)}finally{o.f()}if(!dY(i.children))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}function hY(e,t){var n,r=!1,i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=e.optimize(o)||r}}catch(a){i.e(a)}finally{i.f()}return r}function pY(e,t,n){var r=e.sources,i=!1;return i=hY(new ZG,r)||i,i=hY(new JG(t),r)||i,r=r.filter((function(e){return e.numChildren()>0})),i=hY(new nY,r)||i,r=r.filter((function(e){return e.numChildren()>0})),n||(i=hY(new eY,r)||i,i=hY(new oY(t),r)||i,i=hY(new $G,r)||i,i=hY(new tY,r)||i,i=hY(new iY,r)||i,i=hY(new rY,r)||i,i=hY(new XG,r)||i,i=hY(new aY,r)||i),e.sources=r,i}var vY=function(){function e(t){y(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return b(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function mY(e){WY(e)?function(e){var t,n=e.component.scales,r=g(VI(n));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=gY(e,i);if(n[i].setWithExplicit("domains",o),wY(e,i),e.component.data.isFaceted){for(var a=e;!qY(a)&&a.parent;)a=a.parent;if("shared"===a.component.resolve.scale[i]){var s,u=g(o.value);try{for(u.s();!(s=u.n()).done;){var l=s.value;VR(l)&&(l.data=fY+l.data.replace(fY,""))}}catch(c){u.e(c)}finally{u.f()}}}}}catch(c){r.e(c)}finally{r.f()}}(e):function(e){var t,n=g(e.children);try{for(n.s();!(t=n.n()).done;)mY(t.value)}catch(h){n.e(h)}finally{n.f()}var r,i=e.component.scales,o=g(VI(i));try{for(o.s();!(r=o.n()).done;){var a,s=r.value,u=void 0,l=null,c=g(e.children);try{for(c.s();!(a=c.n()).done;){var f=a.value.component.scales[s];if(f){u=void 0===u?f.getWithExplicit("domains"):RV(u,f.getWithExplicit("domains"),"domains","scale",OY);var d=f.get("selectionExtent");l&&d&&l.selection!==d.selection&&OR(H.NEEDS_SAME_SELECTION),l=d}}}catch(h){c.e(h)}finally{c.f()}i[s].setWithExplicit("domains",u),l&&i[s].set("selectionExtent",l,!0)}}catch(h){o.e(h)}finally{o.f()}}(e)}function gY(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,i=function(e,t,n,r){if("unaggregated"===e){var i=xY(t,n),o=i.valid,a=i.reason;if(!o)return void OR(a)}else if(void 0===e&&r.useUnaggregatedDomain&&xY(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&dU(r.x2)?dU(r.x)?RV(bY(n,i,e,"x"),bY(n,i,e,"x2"),"domain","scale",OY):bY(n,i,e,"x2"):"y"===t&&dU(r.y2)?dU(r.y)?RV(bY(n,i,e,"y"),bY(n,i,e,"y2"),"domain","scale",OY):bY(n,i,e,"y2"):bY(n,i,e,t)}function yY(e,t,n){var r,i=null===(r=zR(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((function(e){return{signal:"{data: ".concat(bU(e,{timeUnit:n,type:t}),"}")}}))}(e,t,i):[e]}function bY(e,t,n,r){var i=dU(n.encoding[r]),o=i.type,a=i.timeUnit;if(function(e){return e&&e.unionWith}(t)){var s=bY(e,void 0,n,r),u=yY(t.unionWith,o,a);return IV([].concat(m(s.value),m(u)))}if(UR(t))return IV([t]);if(t&&"unaggregated"!==t&&!DB(t))return IV(yY(t,o,a));var l=n.stack;if(l&&r===l.fieldChannel){if("normalize"===l.offset)return PV([[0,1]]);var c=n.requestDataName(BV.Main);return PV([{data:c,field:n.vgField(r,{suffix:"start"})},{data:c,field:n.vgField(r,{suffix:"end"})}])}var f=UL(r)&&Hz(i)?function(e,t,n){if(EB(n)){var r=e.fieldDef(t),i=r.sort;if(Az(i))return{op:"min",field:Vq(r,t),order:"ascending"};var o=e.stack,a=o?[].concat(m(o.groupbyField?[o.groupbyField]:[]),m(o.stackBy.map((function(e){return e.fieldDef.field})))):void 0;if(Dz(i))return _Y(i,o&&!jI(a,i.field));if(Cz(i)){var s=i.encoding,u=i.order,l=e.fieldDef(s),c=l.aggregate,f=l.field,d=o&&!jI(a,f);if(xP(c)||OP(c))return _Y({field:tU(l),order:u},d);if(kP(c)||!c)return _Y({op:c,field:f,order:u},d)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(jI(["ascending",void 0],i))return!0}}}(n,r,e):void 0;if(Wz(i))return PV(yY([i.datum],o,a));var d=i;if("unaggregated"===t){var h=n.requestDataName(BV.Main),p=i.field;return PV([{data:h,field:tU({field:p,aggregate:"min"})},{data:h,field:tU({field:p,aggregate:"max"})}])}if(GL(d.bin)){if(EB(e))return PV("bin-ordinal"===e?[]:[{data:GI(f)?n.requestDataName(BV.Main):n.requestDataName(BV.Raw),field:n.vgField(r,wU(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&Object(ee.H)(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=d.bin;if(GL(v)){var g=NG(n,d.field,v);return PV([new vY((function(){var e=n.getSignalName(g);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return PV([{data:n.requestDataName(BV.Main),field:n.vgField(r,{})}])}if(d.timeUnit&&jI(["time","utc"],e)&&Rz(r,d,WY(n)?n.encoding[TL(r)]:void 0,n.stack,n.markDef,n.config)){var y=n.requestDataName(BV.Main);return PV([{data:y,field:n.vgField(r)},{data:y,field:n.vgField(r,{suffix:"end"})}])}return PV(f?[{data:GI(f)?n.requestDataName(BV.Main):n.requestDataName(BV.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(BV.Main),field:n.vgField(r)}])}function _Y(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!=n?n:t?"sum":Ez},r?{field:eP(r)}:{}),i?{order:i}:{})}function wY(e,t){var n,r=e.component.scales[t],i=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=DB(i)&&i,s=QL(o)&&KL(o.extent)&&o.extent;(a||s)&&r.set("selectionExtent",null!=a?a:s,!0)}function xY(e,t){var n=e.aggregate,r=e.type;return n?Object(ee.J)(n)&&!CP[n]?{valid:!1,reason:H.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:H.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:H.unaggregateDomainHasNoEffectForRawField(e)}}function OY(e,t,n,r){return e.explicit&&t.explicit&&OR(H.mergeConflictingDomainProperty(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(m(e.value),m(t.value))}}function kY(e){if(VR(e)&&Object(ee.J)(e.field))return e.field;if(function(e){return!Object(ee.B)(e)&&"fields"in e&&!("data"in e)}(e)){var t,n,r=g(e.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(VR(i)&&Object(ee.J)(i.field))if(t){if(t!==i.field)return OR(H.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=i.field}}catch(a){r.e(a)}finally{r.f()}return OR(H.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(e){return!Object(ee.B)(e)&&"fields"in e&&"data"in e}(e)){OR(H.FACETED_INDEPENDENT_SAME_SOURCE);var o=e.fields[0];return Object(ee.J)(o)?o:void 0}}function EY(e,t){return function(e){var t=LI(e.map((function(e){return VR(e)?(e.sort,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["sort"])):e})),DI),n=LI(e.map((function(e){if(VR(e)){var t=e.sort;return void 0===t||GI(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),DI);if(0!==t.length){if(1===t.length){var r=e[0];if(VR(r)&&n.length>0){var i=n[0];if(n.length>1)OR(H.MORE_THAN_ONE_SORT),i=!0;else if(Object(ee.H)(i)&&"field"in i){var o=i.field;r.field===o&&(i=!i.order||{order:i.order})}return Object.assign(Object.assign({},r),{sort:i})}return r}var a,s=LI(n.map((function(e){return GI(e)||!("op"in e)||Object(ee.J)(e.op)&&e.op in wP?e:(OR(H.domainSortDropped(e)),!0)})),DI);1===s.length?a=s[0]:s.length>1&&(OR(H.MORE_THAN_ONE_SORT),a=!0);var u=LI(e.map((function(e){return VR(e)?e.data:null})),(function(e){return e}));return 1===u.length&&null!==u[0]?Object.assign({data:u[0],fields:t.map((function(e){return e.field}))},a?{sort:a}:{}):Object.assign({fields:t},a?{sort:a}:{})}}(e.component.scales[t].get("domains").map((function(t){return VR(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function SY(e){return YY(e)||GY(e)?e.children.reduce((function(e,t){return e.concat(SY(t))}),TY(e)):TY(e)}function TY(e){return VI(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i,o=r.combine(),a=o.name,s=o.type,u=o.selectionExtent,l=(o.domains,o.range,o.reverse),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(o,["name","type","selectionExtent","domains","range","reverse"]),f=function(e,t,n,r){if(ML(n)){if(HR(e))return{step:{signal:t+"_step"}}}else if(Object(ee.H)(e)&&VR(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(o.range,a,n,e);u&&(i=function(e,t){var n=t.selection;return{signal:Cq(e.getSelectionComponent(n,YI(n)),t)}}(e,u));var d=EY(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:s},d?{domain:d}:{}),i?{domainRaw:i}:{}),{range:f}),void 0!==l?{reverse:l}:{}),c)),t}),[])}var CY=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,{},{name:e})).merged=!1,i.setWithExplicit("type",r),i}return b(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||NI(this.get("domains"),(function(e){return Object(ee.B)(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(MV),DY=["range","scheme"];function AY(e){return"x"===e?"width":"y"===e?"height":void 0}function jY(e,t){var n=e.fieldDef(t);if(n&&n.bin&&GL(n.bin)){var r=NG(e,n.field,n.bin),i=AY(t),o=e.getName(i);return new vY((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(o)," / (").concat(n,")")}))}}function NY(e,t){var n,r=t.specifiedScales[e],i=t.size,o=t.getScaleComponent(e).get("type"),a=g(DY);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(void 0!==r[s]){var u=MB(o,s),l=IB(e,s);if(u)if(l)OR(l);else switch(s){case"range":var c=r.range;if(Object(ee.B)(c)){if(ML(e))return IV(c.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return vY.fromName(r,n)}return e})))}else if(Object(ee.H)(c))return IV({data:t.requestDataName(BV.Main),field:c.field,sort:{op:"min",field:t.vgField(e)}});return IV(c);case"scheme":return IV(MY(r[s]))}else OR(H.scalePropertyNotWorkWithScaleType(o,s,e))}}}catch(m){a.e(m)}finally{a.f()}if(e===MP||e===IP){var f=e===MP?"width":"height",d=i[f];if(FH(d)){if(EB(o))return IV({step:d.step});OR(H.stepDropped(f))}}var h=r.rangeMin,p=r.rangeMax,v=function(e,t){var n=t.size,r=t.config,i=t.mark,o=t.encoding,a=t.getSignalName.bind(t),s=dU(o[e]).type,u=t.getScaleComponent(e).get("type"),l=t.specifiedScales[e],c=l.domain,f=l.domainMid;switch(e){case MP:case IP:if(jI(["point","band"],u))if(e!==MP||n.width){if(e===IP&&!n.height){var d=VH(r.view,"height");if(FH(d))return d}}else{var h=VH(r.view,"width");if(FH(h))return h}var p=AY(e),v=t.getName(p);return e===IP&&SB(u)?[vY.fromName(a,v),0]:[0,vY.fromName(a,v)];case KP:var m=function e(t,n,r){if(n)return UR(n)?{signal:"".concat(n.signal," ? 0 : ").concat(e(t,!1,r))}:0;switch(t){case"bar":case"tick":return r.scale.minBandSize;case"line":case"trail":case"rule":return r.scale.minStrokeWidth;case"text":return r.scale.minFontSize;case"point":case"square":case"circle":return r.scale.minSize}throw new Error(H.incompatibleChannel("size",t))}(i,t.component.scales[e].get("zero"),r),g=function(e,t,n,r){var i={x:jY(n,"x"),y:jY(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var o=PY(t,i,r.view);return Object(ee.G)(o)?o-1:new vY((function(){return"".concat(o.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var a=PY(t,i,r.view);return Object(ee.G)(a)?Math.pow(IY*a,2):new vY((function(){return"pow(0.95 * ".concat(a.signal,", 2)")}))}throw new Error(H.incompatibleChannel("size",e))}(i,n,t,r);return CB(u)?function(e,t,n){var r=function(){var r=AU(t),i=AU(e),o="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(o,", ").concat(o,")")};return UR(t)?new vY(r):{signal:r()}}(m,g,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&Object(ee.B)(n)?n.length+1:(OR(H.domainRequiredForThresholdScale(r)),3)}}(u,r,c,e)):[m,g];case BP:return[0,2*Math.PI];case XP:return[0,360];case FP:return[0,new vY((function(){return"min(".concat(t.getSignalName("width"),",").concat(t.getSignalName("height"),")/2")}))];case eL:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case tL:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case QP:return"symbol";case qP:case GP:case YP:return"ordinal"===u?"nominal"===s?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case JP:case $P:case ZP:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t);return(void 0!==h||void 0!==p)&&MB(o,"rangeMin")&&Object(ee.B)(v)&&2===v.length?IV([null!=h?h:v[0],null!=p?p:v[1]]):PV(v)}function MY(e){return function(e){return!Object(ee.J)(e)&&!!e.name}(e)?Object.assign({scheme:e.name},TI(e,["name"])):{scheme:e}}var IY=.95;function PY(e,t,n){var r=FH(e.width)?e.width.step:HH(n,"width"),i=FH(e.height)?e.height.step:HH(n,"height");return t.x||t.y?new vY((function(){return"min(".concat([t.x?t.x.signal:r,t.y?t.y.signal:i].join(", "),")")})):Math.min(r,i)}function LY(e,t){WY(e)?function(e,t){var n,r=e.component.scales,i=e.config,o=e.encoding,a=e.markDef,s=e.specifiedScales,u=g(VI(r));try{for(u.s();!(n=u.n()).done;){var l=n.value,c=s[l],f=r[l],d=e.getScaleComponent(l),h=dU(o[l]),p=c[t],v=d.get("type"),m=d.get("padding"),y=d.get("paddingInner"),b=MB(v,t),_=IB(l,t);if(void 0!==p&&(b?_&&OR(_):OR(H.scalePropertyNotWorkWithScaleType(v,t,l))),b&&void 0===_)if(void 0!==p){var w=h.timeUnit,x=h.type;switch(t){case"domainMax":case"domainMin":kR(c[t])||"temporal"===x||w?f.set(t,{signal:bU(c[t],{type:x,timeUnit:w})},!0):f.set(t,c[t],!0);break;default:f.copyKeyFromObject(t,c)}}else{var O=t in FY?FY[t]({model:e,channel:l,fieldOrDatumDef:h,scaleType:v,scalePadding:m,scalePaddingInner:y,domain:c.domain,markDef:a,config:i}):i.scale[t];void 0!==O&&f.set(t,O,!1)}}}catch(k){u.e(k)}finally{u.f()}}(e,t):BY(e,t)}var FY={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return Hz(n)?function(e,t){var n=t.bin;if(GL(n)){var r=NG(e,t.field,n);return new vY((function(){return e.getSignalName(r)}))}if(YL(n)&&QL(n)&&void 0!==n.step)return{step:n.step}}(t,n):void 0},interpolate:function(e){return function(e,t){if(jI([qP,GP,YP],e)&&"nominal"!==t)return"hcl"}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n){var r;if(!(null===(r=fU(n))||void 0===r?void 0:r.bin)&&!jI([dB,hB],e))return t in jL||void 0}(e.scaleType,e.channel,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,i=e.markDef,o=e.config;return function(e,t,n,r,i,o){if(e in jL){if(TB(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,s=i.orient;if("bar"===a&&(!Hz(r)||!r.bin&&!r.timeUnit)&&("vertical"===s&&"x"===e||"horizontal"===s&&"y"===e))return o.continuousBandSize}if("point"===t)return n.pointPadding}}(t,n,o.scale,r,i,o.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,i=e.config;return function(e,t,n,r){if(void 0===e&&t in jL){var i=r.bandPaddingInner,o=r.barBandPaddingInner,a=r.rectBandPaddingInner;return iP(i,"bar"===n?o:a)}}(t,n,r.type,i.scale)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,i=e.markDef,o=e.scalePaddingInner,a=e.config;return function(e,t,n,r,i,o){if(void 0===e&&t in jL&&"band"===n)return iP(o.bandPaddingOuter,UR(i)?{signal:"".concat(i.signal,"/2")}:i/2)}(t,n,r,i.type,o,a.scale)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,i=e.config;return function(e,t,n,r){return"x"===n&&void 0!==r.xReverse?SB(e)&&"descending"===t?UR(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse:!(!SB(e)||"descending"!==t)||void 0}(n,Hz(t)?t.sort:void 0,r,i.scale)},zero:function(e){return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&SB(i)){if(Object(ee.B)(n)){var o=n[0],a=n[n.length-1];if(o<=0&&a>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!CB(i))return!0;if((!Hz(t)||!t.bin)&&jI([].concat(m(NL),m(PL)),e)){var s=r.orient;return!jI(["bar","area","line","trail"],r.type)||!("horizontal"===s&&"y"===e||"vertical"===s&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function RY(e){WY(e)?function(e){var t,n=e.component.scales,r=g(zL);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=n[i];if(o){var a=NY(i,e);o.setWithExplicit("range",a)}}}catch(s){r.e(s)}finally{r.f()}}(e):BY(e,"range")}function BY(e,t){var n,r=e.component.scales,i=g(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;"range"===t?RY(o):LY(o,t)}}catch(h){i.e(h)}finally{i.f()}var a,s=g(VI(r));try{for(s.s();!(a=s.n()).done;){var u,l=a.value,c=void 0,f=g(e.children);try{for(f.s();!(u=f.n()).done;){var d=u.value.component.scales[l];d&&(c=RV(c,d.getWithExplicit(t),t,"scale",LV((function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))))}}catch(h){f.e(h)}finally{f.f()}r[l].setWithExplicit(t,c)}}catch(h){s.e(h)}finally{s.f()}}function zY(e){WY(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return zL.reduce((function(r,i){var o=dU(t[i]);if(o&&n===JB&&i===QP&&o.type===cB)return r;var a=o&&o.scale;if(o&&null!==a&&!1!==a){var s=function(e,t,n,r){var i,o,a=function(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(vL(e)||"discrete"===WL(e))return"shape"===e&&"ordinal"===t.type&&OR(H.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(e in jL){if(jI(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&e in IL)return"band";return void 0!==t.band||Jz(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return vL(e)?"time":"discrete"===WL(e)?(OR(H.discreteChannelCannotEncode(e,"temporal")),"ordinal"):Hz(t)&&t.timeUnit&&zR(t.timeUnit).utc?"utc":"time";case"quantitative":return vL(e)?Hz(t)&&GL(t.bin)?"bin-ordinal":"linear":"discrete"===WL(e)?(OR(H.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(H.invalidFieldType(t.type))}(t,n,r),s=e.type;return UL(t)?void 0!==s?function(e,t){if(!UL(e))return!1;switch(e){case MP:case IP:case BP:case FP:return TB(t)||jI(["band","point"],t);case KP:case eL:case JP:case $P:case ZP:case XP:return TB(t)||CB(t)||jI(["band","point","ordinal"],t);case qP:case GP:case YP:return"band"!==t;case tL:return"ordinal"===t||CB(t);case QP:return"ordinal"===t}}(t,s)?Hz(n)&&(i=s,o=n.type,!(jI([sB,lB],o)?void 0===i||EB(i):o===uB?jI([dB,hB,void 0],i):o!==aB||jI(["log","pow","sqrt","symlog","quantile","quantize","threshold",fB,void 0],i)))?(OR(H.scaleTypeNotWorkWithFieldDef(s,a)),a):s:(OR(H.scaleTypeNotWorkWithChannel(t,s,a)),a):a:null}(a=null!=a?a:{},i,o,n);r[i]=new CY(e.scaleName(i+"",!0),{value:s,explicit:a.type===s})}return r}),{})}(e):e.component.scales=function(e){var t,n,r=e.component.scales={},i={},o=e.component.resolve,a=g(e.children);try{for(a.s();!(n=a.n()).done;){var s=n.value;zY(s);var u,l=g(VI(s.component.scales));try{for(l.s();!(u=l.n()).done;){var c=u.value;if(o.scale[c]=null!==(t=o.scale[c])&&void 0!==t?t:fG(c,e),"shared"===o.scale[c]){var f=i[c],d=s.component.scales[c].getWithExplicit("type");f?vB(f.value,d.value)?i[c]=RV(f,d,"type","scale",UY):(o.scale[c]="independent",delete i[c]):i[c]=d}}}catch(O){l.e(O)}finally{l.f()}}}catch(O){a.e(O)}finally{a.f()}var h,p=g(VI(i));try{for(p.s();!(h=p.n()).done;){var v=h.value,m=e.scaleName(v,!0),y=i[v];r[v]=new CY(m,y);var b,_=g(e.children);try{for(_.s();!(b=_.n()).done;){var w=b.value,x=w.component.scales[v];x&&(w.renameScale(x.get("name"),m),x.merged=!0)}}catch(O){_.e(O)}finally{_.f()}}}catch(O){p.e(O)}finally{p.f()}return r}(e)}var UY=LV((function(e,t){return gB(e)-gB(t)})),HY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VY=function(){function e(){y(this,e),this.nameMap={}}return b(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function WY(e){return"unit"===(null==e?void 0:e.type)}function qY(e){return"facet"===(null==e?void 0:e.type)}function GY(e){return"concat"===(null==e?void 0:e.type)}function YY(e){return"layer"===(null==e?void 0:e.type)}var QY=function(){function e(t,n,r,i,o,a,s){var u,l,c=this;y(this,e),this.type=n,this.parent=r,this.config=o,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=c.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=c.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=o,this.view=LB(s),this.name=null!==(u=t.name)&&void 0!==u?u:i,this.title=OU(t.title)?{text:t.title}:t.title?this.initTitle(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new VY,this.projectionNameMap=r?r.projectionNameMap:new VY,this.signalNameMap=r?r.signalNameMap:new VY,this.data=t.data,this.description=t.description,this.transforms=(null!==(l=t.transform)&&void 0!==l?l:[]).map((function(e){return QV(e)?{filter:OI(e.filter,iB)}:e})),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,i,o=n[t],a={},s=o.spacing,u=o.columns;void 0!==s&&(a.spacing=s),void 0!==u&&(Mz(e)&&!jz(e.facet)||IH(e))&&(a.columns=u),PH(e)&&(a.columns=1);var l,c=g(BH);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];a[f]=Object(ee.G)(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:s,column:null!==(i=d.column)&&void 0!==i?i:s}}else a[f]=e[f]}}catch(h){c.e(h)}finally{c.f()}return a}(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Mz(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new MV,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},a?EI(a):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return b(e,[{key:"initTitle",value:function(e){var t,n=VI(e),r={text:SU(e.text)},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o]=SU(e[o])}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreRange;zY(e),mY(e);var r,i=g(NB);try{for(i.s();!(r=i.n()).done;){var o=r.value;LY(e,o)}}catch(a){i.e(a)}finally{i.f()}n||RY(e)}(this)}},{key:"parseProjection",value:function(){!function e(t){t.component.projection=WY(t)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?function(e){for(var t=[],n=e.encoding,r=0,i=[[HP,UP],[WP,VP]];r<i.length;r++){var o=i[r];(dU(n[o[0]])||dU(n[o[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}return e.channelHasField(QP)&&e.typedFieldDef(QP).type===cB&&t.push({signal:e.getName("geojson_".concat(t.length))}),0===t.length&&t.push(e.requestDataName(BV.Main)),t}(e):void 0;return new AG(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!=n?n:{}),i,o)}}(t):function(t){if(0!==t.children.length){var n,r,i=g(t.children);try{for(i.s();!(r=i.n()).done;)e(r.value)}catch(h){i.e(h)}finally{i.f()}var o=MI(t.children,(function(e){var t=e.component.projection;if(t){if(n){var r=function(e,t){var n=MI(DG,(function(n){return!Object(ee.w)(e.explicit,n)&&!Object(ee.w)(t.explicit,n)||!(!Object(ee.w)(e.explicit,n)||!Object(ee.w)(t.explicit,n)||CI(e.get(n))!==CI(t.get(n)))}));if(CI(e.size)===CI(t.size)){if(n)return e;if(CI(e.explicit)===CI({}))return t;if(CI(t.explicit)===CI({}))return e}return null}(n,t);return r&&(n=r),!!r}return n=t,!0}return!0}));if(n&&o){var a,s=t.projectionName(!0),u=new AG(s,n.specifiedProjection,n.size,EI(n.data)),l=g(t.children);try{for(l.s();!(a=l.n()).done;){var c,f=a.value,d=f.component.projection;d&&(d.isFit&&(c=u.data).push.apply(c,m(f.component.projection.data)),f.renameProjection(d.get("name"),s),d.merged=!0)}}catch(h){l.e(h)}finally{l.f()}return u}}}(t)}(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){!function e(t){var n=WY(t)?function(e){for(var t=e.encoding,n={},r=0,i=[qP].concat(SH);r<i.length;r++){var o=i[r],a=dU(t[o]);a&&e.getScaleComponent(o)&&(o===QP&&Hz(a)&&a.type===cB||(n[o]=EG(e,o)))}return n}(t):function(t){var n,r=t.component,i=r.legends,o=r.resolve,a=g(t.children);try{for(a.s();!(n=a.n()).done;){var s=n.value;e(s);var u,l=g(VI(s.component.legends));try{for(l.s();!(u=l.n()).done;){var c=u.value;o.legend[c]=dG(t.component.resolve,c),"shared"===o.legend[c]&&(i[c]=SG(i[c],s.component.legends[c]),i[c]||(o.legend[c]="independent",delete i[c]))}}catch(y){l.e(y)}finally{l.f()}}}catch(y){a.e(y)}finally{a.f()}var f,d=g(VI(i));try{for(d.s();!(f=d.n()).done;){var h,p=f.value,v=g(t.children);try{for(v.s();!(h=v.n()).done;){var m=h.value;m.component.legends[p]&&"shared"===o.legend[p]&&delete m.component.legends[p]}}catch(y){v.e(y)}finally{v.f()}}}catch(y){d.e(y)}finally{d.f()}return i}(t);return t.component.legends=n,n}(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=HY(e,["style"]),r={},i=g(VI(n));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=n[o];void 0!==a&&(r[o]=CU(a))}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=CU(this.description)),"unit"!==this.type&&"layer"!==this.type)?HI(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=HY(e,["spacing"]),r=this.component,i=this.config,o=function(e,t){var n,r={},i=g(gL);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e[o];if(null==a?void 0:a.facetFieldDef){var s=Gq(["titleAnchor","titleOrient"],a.facetFieldDef.header,t,o),u=s.titleAnchor,l=Wq(o,s.titleOrient),c=rG(u,l);void 0!==c&&(r[l]=c)}}}catch(f){i.e(f)}finally{i.f()}return HI(r)?void 0:r}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=g(gL);try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i].title&&n.push(Kq(this,i))}}catch(u){r.e(u)}finally{r.f()}var o,a=g(Yq);try{for(a.s();!(o=a.n()).done;){var s=o.value;n=n.concat($q(this,s))}}catch(u){a.e(u)}finally{a.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,o=void 0===i?[]:i;return[].concat(m(r.map((function(e){return Nq(e,"grid",t)}))),m(o.map((function(e){return Nq(e,"grid",t)}))),m(r.map((function(e){return Nq(e,"main",t)}))),m(o.map((function(e){return Nq(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return TG(this)}},{key:"assembleProjections",value:function(){return function(e){return YY(e)||GY(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),CG(e))}(e):CG(e)}(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,o=HY(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},xU(this.config.title).nonMark),o),i?{encode:{update:i}}:{});if(a.text)return jI(["unit","layer"],this.type)?jI(["middle",void 0],a.anchor)&&(a.frame=null!==(t=a.frame)&&void 0!==t?t:"group"):a.anchor=null!==(n=a.anchor)&&void 0!==n?n:"start",HI(a)?void 0:a}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||qY(this.parent)?SY(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var o=this.assembleLegends();return o.length>0&&(t.legends=o),t}},{key:"getName",value:function(e){return YI((this.name?this.name+"_":"")+e)}},{key:"getDataName",value:function(e){return this.getName(BV[e].toLowerCase())}},{key:"requestDataName",value:function(e){var t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}},{key:"getSizeSignalRef",value:function(e){if(qY(this.parent)){var t=LL(lG(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(EB(r)&&HR(i)){var o=n.get("name"),a=kY(EY(this,t));return a?{signal:uG(o,n,tU({aggregate:"distinct",field:a},{expr:"datum"}))}:(OR(H.unknownField(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):xL(e)&&UL(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(H.selectionNotFound(t));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}},{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}}]),e}(),KY=function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return tU(n,t)}},{key:"reduceFieldDef",value:function(e,t){return function(e,t,n,r){return e?VI(e).reduce((function(n,i){var o=e[i];return Object(ee.B)(o)?o.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,o,i)}),n):n}(this.getMapping(),(function(t,n,r){var i=fU(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){YU(this.getMapping(),(function(t,n){var r=fU(t);r&&e(r,n)}),t)}}]),n}(QY),XY=function(e){c(n,e);var t=f(n);function n(e,r){var i,o,a,s;y(this,n),(i=t.call(this,e)).transform=r,i.transform=EI(r);var u=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=u[0])&&void 0!==a?a:"value",null!==(s=u[1])&&void 0!==s?s:"density"],i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(m(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(BW),JY=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).filter=r,i}return b(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(VI(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(DI(this.filter))}},{key:"assemble",value:function(){var e=this,t=VI(this.filter).reduce((function(t,n){var r=e.filter[n],i=tU(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,i=t.mark;if("filter"!==NU("invalid",t.markDef,r))return null;var o=t.reduceFieldDef((function(e,n,r){var o=UL(r)&&t.getScaleComponent(r);return o&&SB(o.get("type"))&&"count"!==n.aggregate&&!$B(i)&&(e[n.field]=n),e}),{});return VI(o).length?new n(e,o):null}}]),n}(BW),$Y=function(e){c(n,e);var t=f(n);function n(e,r){var i;y(this,n),(i=t.call(this,e)).transform=r,i.transform=EI(r);var o=i.transform,a=o.flatten,s=o.as,u=void 0===s?[]:s;return i.transform.as=a.map((function(e,t){var n;return null!==(n=u[t])&&void 0!==n?n:e})),i}return b(n,[{key:"clone",value:function(){return new n(this.parent,EI(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(BW),ZY=function(e){c(n,e);var t=f(n);function n(e,r){var i,o,a,s;y(this,n),(i=t.call(this,e)).transform=r,i.transform=EI(r);var u=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=u[0])&&void 0!==a?a:"key",null!==(s=u[1])&&void 0!==s?s:"value"],i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(BW),eQ=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var a;return y(this,n),(a=t.call(this,e)).fields=r,a.geojson=i,a.signal=o,a}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(ee.J);return new Set([].concat(m(this.geojson?[this.geojson]:[]),m(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(DI(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,i=0,o=[[HP,UP],[WP,VP]];i<o.length;i++){var a=o[i].map((function(e){var n=dU(t.encoding[e]);return Hz(n)?n.field:Wz(n)?{expr:"".concat(n.datum)}:Kz(n)?{expr:"".concat(n.value)}:void 0}));(a[0]||a[1])&&(e=new n(e,a,null,t.getName("geojson_"+r++)))}if(t.channelHasField(QP)){var s=t.typedFieldDef(QP);s.type===cB&&(e=new n(e,null,s.field,t.getName("geojson_"+r++)))}return e}}]),n}(BW),tQ=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var a;return y(this,n),(a=t.call(this,e)).projection=r,a.fields=i,a.as=o,a}return b(n,[{key:"clone",value:function(){return new n(null,this.projection,EI(this.fields),EI(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(ee.J))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(DI(this.fields)," ").concat(DI(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,i=[[HP,UP],[WP,VP]];r<i.length;r++){var o=i[r],a=o.map((function(e){var n=dU(t.encoding[e]);return Hz(n)?n.field:Wz(n)?{expr:"".concat(n.datum)}:Kz(n)?{expr:"".concat(n.value)}:void 0})),s=o[0]===WP?"2":"";(a[0]||a[1])&&(e=new n(e,t.projectionName(),a,[t.getName("x"+s),t.getName("y"+s)]))}return e}}]),n}(BW),nQ=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).transform=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(m(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step;return{signal:"sequence(".concat([n,r].concat(m(i?[i]:[])).join(","),")")}}},{key:"hash",value:function(){return"Impute ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,i=t.keyvals,o=t.method,a=t.groupby,s=t.value,u=t.frame,l=void 0===u?[null,null]:u,c=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},i?{keyvals:(e=i,void 0!==(null==e?void 0:e.stop)?this.processSequence(i):i)}:{}),{method:"value"}),a?{groupby:a}:{}),{value:o&&"value"!==o?null:s});return o&&"value"!==o?[c,Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[o],fields:[n],frame:l,ignorePeers:!1},a?{groupby:a}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:[c]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,i=r.x,o=r.y;if(Hz(i)&&Hz(o)){var a=i.impute?i:o.impute?o:void 0;if(void 0===a)return;var s=i.impute?o:o.impute?i:void 0,u=a.impute,l=u.method,c=u.value,f=u.frame,d=u.keyvals,h=QU(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:a.field,key:s.field},l?{method:l}:{}),void 0!==c?{value:c}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(BW),rQ=function(e){c(n,e);var t=f(n);function n(e,r){var i,o,a,s;y(this,n),(i=t.call(this,e)).transform=r,i.transform=EI(r);var u=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=u[0])&&void 0!==a?a:r.on,null!==(s=u[1])&&void 0!==s?s:r.loess],i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(m(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(BW),iQ=function(e){c(n,e);var t=f(n);function n(e,r,i){var o;return y(this,n),(o=t.call(this,e)).transform=r,o.secondary=i,o}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Object(ee.i)(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(DI({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(ee.i)(this.transform.as)}:{});else{var t=this.transform.as;Object(ee.J)(t)||(OR(H.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,i){var o=t.component.data.sources,a=r.from,s=null;if(function(e){return"data"in e}(a)){var u=yQ(a.data,o);u||(u=new WG(a.data),o.push(u));var l=t.getName("lookup_".concat(i));s=new zW(u,l,BV.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[l]=s}else if(function(e){return"selection"in e}(a)){var c=a.selection;if(r=Object.assign({as:c},r),!(s=t.getSelectionComponent(YI(c),c).materialized))throw new Error(H.noSameUnitLookup(c))}return new n(e,r,s.getSource())}}]),n}(BW),oQ=function(e){c(n,e);var t=f(n);function n(e,r){var i,o,a,s;y(this,n),(i=t.call(this,e)).transform=r,i.transform=EI(r);var u=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=u[0])&&void 0!==a?a:"prob",null!==(s=u[1])&&void 0!==s?s:"value"],i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(m(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(BW),aQ=function(e){c(n,e);var t=f(n);function n(e,r){var i,o,a,s;y(this,n),(i=t.call(this,e)).transform=r,i.transform=EI(r);var u=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=u[0])&&void 0!==a?a:r.on,null!==(s=u[1])&&void 0!==s?s:r.regression],i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(m(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(BW),sQ=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).transform=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=LI((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(m(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,o=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==o?{op:o}:{}),void 0!==r?{groupby:r}:{})}}]),n}(BW),uQ=function(e){c(n,e);var t=f(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).transform=r,i}return b(n,[{key:"clone",value:function(){return new n(null,EI(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(DI(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(BW);function lQ(e){var t=0;return function n(r,i){var o,a,s;if(r instanceof WG&&!r.isGenerator&&!UV(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof zG&&(r.parent instanceof WG&&!i.source?(i.format=Object.assign(Object.assign({},null!==(s=i.format)&&void 0!==s?s:{}),{parse:r.assembleFormatParse()}),(o=i.transform).push.apply(o,m(r.assembleTransforms(!0)))):(a=i.transform).push.apply(a,m(r.assembleTransforms()))),r instanceof LG){i.name||(i.name="data_"+t++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source;var u,l=g(r.assemble());try{for(l.s();!(u=l.n()).done;){var c=u.value;e.push(c)}}catch(v){l.e(v)}finally{l.f()}}else{var f;switch((r instanceof HG||r instanceof VG||r instanceof JY||r instanceof Sq||r instanceof Hq||r instanceof tQ||r instanceof eQ||r instanceof PG||r instanceof iQ||r instanceof lY||r instanceof sY||r instanceof ZY||r instanceof $Y||r instanceof XY||r instanceof rQ||r instanceof oQ||r instanceof aQ||r instanceof UG||r instanceof uQ||r instanceof sQ)&&i.transform.push(r.assemble()),(r instanceof IG||r instanceof HW||r instanceof nQ||r instanceof uY)&&(f=i.transform).push.apply(f,m(r.assemble())),r instanceof zW&&(i.source&&0===i.transform.length?r.setSource(i.source):r.parent instanceof zW?r.setSource(i.name):(i.name||(i.name="data_"+t++),r.setSource(i.name),1===r.numChildren()&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof zW&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_"+t++);var d=i.name;!i.source||i.transform.length>0?e.push(i):d=i.source;var h,p=g(r.children);try{for(p.s();!(h=p.n()).done;)n(h.value,{name:null,source:d,transform:[]})}catch(v){p.e(v)}finally{p.f()}}}}}function cQ(e,t){var n,r=e.facet,i=e.config,o=e.child,a=e.component;if(e.channelHasField(t)){var s=r[t],u=qq("title",null,i,t),l=sU(s,i,{allowDisabling:!0,includeDefault:void 0===u||!!u});o.component.layoutHeaders[t].title&&(l=Object(ee.B)(l)?l.join(", "):l,l+=" / "+o.component.layoutHeaders[t].title,o.component.layoutHeaders[t].title=null);var c=qq("labelOrient",s,i,t),f=iP((null!==(n=s.header)&&void 0!==n?n:{}).labels,i.header.labels,!0),h=jI(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]=d({title:l,facetFieldDef:s},h,"facet"===t?[]:[fQ(e,t,f)])}}function fQ(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function dQ(e,t){var n,r,i=e.child;if(i.component.axes[t]){var o=e.component,a=o.layoutHeaders,s=o.resolve;if(s.axis[t]=dG(s,t),"shared"===s.axis[t]){var u,l="x"===t?"column":"row",c=a[l],f=g(i.component.axes[t]);try{for(f.s();!(u=f.n()).done;){var d=u.value,h="top"===(r=d.get("orient"))||"left"===r||UR(r)?"header":"footer";c[h]=null!==(n=c[h])&&void 0!==n?n:[fQ(e,l,!1)];var p=Nq(d,"main",e.config,{header:!0});p&&c[h][0].axes.push(p),d.mainExtracted=!0}}catch(v){f.e(v)}finally{f.f()}}}}function hQ(e){var t,n=g(e.children);try{for(n.s();!(t=n.n()).done;)t.value.parseLayoutSize()}catch(r){n.e(r)}finally{n.f()}}function pQ(e,t){var n,r,i=lG(t),o=LL(i),a=e.component.resolve,s=e.component.layoutSize,u=g(e.children);try{for(u.s();!(r=u.n()).done;){var l=r.value.component.layoutSize.getWithExplicit(i),c=a.scale[o];if("independent"===c&&"step"===l.value){n=void 0;break}if(n){if("independent"===c&&n.value!==l.value){n=void 0;break}n=RV(n,l,i,"")}else n=l}}catch(p){u.e(p)}finally{u.f()}if(n){var f,d=g(e.children);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.renameSignal(h.getName(i),e.getName(t)),h.component.layoutSize.set(i,"merged",!1)}}catch(p){d.e(p)}finally{d.f()}s.setWithExplicit(t,n)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function vQ(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var o=i.get("type"),a=i.get("range");if(EB(o)){var s=VH(r.view,t);return HR(a)||FH(s)?"step":s}return UH(r.view,t)}if(e.hasProjection||"arc"===e.mark)return UH(r.view,t);var u=VH(r.view,t);return FH(u)?u.step:u}function mQ(e,t,n){return tU(t,Object.assign({suffix:"by_".concat(tU(e))},null!=n?n:{}))}var gQ=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var s;return y(this,n),(s=t.call(this,e,"facet",r,i,o,e.resolve)).child=BQ(e.spec,a(s),s.getName("child"),void 0,o),s.children=[s.child],s.facet=s.initFacet(e.facet),s}return b(n,[{key:"initFacet",value:function(e){if(!jz(e))return{facet:this.initFacetFieldDef(e,"facet")};var t,n=VI(e),r={},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(!jI([AP,jP],o)){OR(H.incompatibleChannel(o,"facet"));break}var a=e[o];if(void 0===a.field){OR(H.emptyFieldDef(a,o));break}r[o]=this.initFacetFieldDef(a,o)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"initFacetFieldDef",value:function(e,t){var n=e.header,r=vU(function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["header"]),t);return n&&(r.header=LB(n)),r}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=bQ(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){hQ(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=g(gL);try{for(n.s();!(t=n.n()).done;)cQ(e,t.value)}catch(r){n.e(r)}finally{n.f()}dQ(e,"x"),dQ(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,i={},o=g(gL);try{for(o.s();!(r=o.n()).done;){var a,s=r.value,u=g(Qq);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=this.component.layoutHeaders[s],f=c[l],d=c.facetFieldDef;if(d){var h=qq("titleOrient",d.header,this.config,s);if(jI(["right","bottom"],h)){var p=Wq(s,h);i.titleAnchor=null!==(e=i.titleAnchor)&&void 0!==e?e:{},i.titleAnchor[p]="end"}}if(null==f?void 0:f[0]){var v="row"===s?"height":"width",m="header"===l?"headerBand":"footerBand";"facet"===s||this.child.component.layoutSize.get(v)||(i[m]=null!==(t=i[m])&&void 0!==t?t:{},i[m][s]=.5),c.title&&(i.offset=null!==(n=i.offset)&&void 0!==n?n:{},i.offset["row"===s?"rowTitle":"columnTitle"]=10)}}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}return i}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n))return{signal:"length(data('".concat(this.getName("column_domain"),"'))")}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:tU(this.facet.column,{prefix:"distinct"})}}}}:{}),u(l(n.prototype),"assembleGroup",this).call(this,e)):u(l(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=tU(this.child.facet.column);e.push(i),t.push("distinct"),r.push("distinct_".concat(i))}}else{var o,a=g(NL);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.child.component.scales[s];if(u&&!u.merged){var l=u.get("type"),c=u.get("range");if(EB(l)&&HR(c)){var f=kY(EY(this.child,s));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):OR(H.unknownField(s))}}}}catch(d){a.e(d)}finally{a.f()}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,i=this.facet,o=i.row,a=i.column,s=this.getCardinalityAggregateForChild(),u=s.fields,l=s.ops,c=s.as,f=[],d=g(gL);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(tU(p));var v=p.bin,m=p.sort;if(GL(v)&&f.push(tU(p,{binSuffix:"end"})),Dz(m)){var y=m.field,b=m.op,_=void 0===b?Ez:b,w=mQ(p,m);o&&a?(u.push(w),l.push("max"),c.push(w)):(u.push(y),l.push(_),c.push(w))}else if(Object(ee.B)(m)){var x=Vq(p,h);u.push(x),l.push("max"),c.push(x)}}}}catch(k){d.e(k)}finally{d.f()}var O=!!o&&!!a;return Object.assign({name:n,data:r,groupby:f},O||u.length>0?{aggregate:Object.assign(Object.assign({},O?{cross:O}:{}),u.length?{fields:u,ops:l,as:c}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?Dz(t.sort)?[mQ(t,t.sort,{expr:"datum"})]:Object(ee.B)(t.sort)?[Vq(t,e,{expr:"datum"})]:[tU(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(Dz(n)?n.order:!Object(ee.B)(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e,t=this.facet,n=this.config;if(t.facet)return eG(t.facet,"facet",n);var r,i={row:["top","bottom"],column:["left","right"]},o=g(Yq);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t[a]){var s=qq("labelOrient",null===(e=t[a])||void 0===e?void 0:e.header,n,a);if(jI(i[a],s))return eG(t[a],a,n)}}}catch(u){o.e(u)}finally{o.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],r=lQ(n),i=g(e.children);try{for(i.s();!(t=i.n()).done;)r(t.value,{source:e.name,name:null,transform:[]})}catch(o){i.e(o)}finally{i.f()}return n}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:gL.map((function(t){return e.facetSortFields(t)})).flat(),order:gL.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&VI(e.component.selection).length){var n=Object(ee.bb)(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:PA("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return cq(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),n}(KY);function yQ(e,t){var n,r,i,o,a,s=g(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u.data;if(!e.name||!u.hasName()||e.name===u.dataName){var c=null===(n=e.format)||void 0===n?void 0:n.mesh,f=null===(r=l.format)||void 0===r?void 0:r.feature;if(!c||!f){var d=null===(i=e.format)||void 0===i?void 0:i.feature;if(!d&&!f||d===f){var h=null===(o=l.format)||void 0===o?void 0:o.mesh;if(!c&&!h||c===h)if(HV(e)&&HV(l)){if(kI(e.values,l.values))return u}else if(UV(e)&&UV(l)){if(e.url===l.url)return u}else if(VV(e)&&e.name===u.dataName)return u}}}}}catch(p){s.e(p)}finally{s.f()}return null}function bQ(e){var t,n,r,i,o,a,s,u,l,c,f=function(e,t){if(e.data||!e.parent){if(null===e.data){var n=new WG({values:[]});return t.push(n),n}var r=yQ(e.data,t);if(r)return WV(e.data)||(r.data.format=II({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new WG(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources),h=e.component.data,p=h.outputNodes,v=h.outputNodeRefCounts,m=e.parent?e.parent.component.data.ancestorParse.clone():new zV,y=e.data;WV(y)?(qV(y)?f=new VG(f,y.sequence):YV(y)&&(f=new HG(f,y.graticule)),m.parseNothing=!0):null===(null===(t=null==y?void 0:y.format)||void 0===t?void 0:t.parse)&&(m.parseNothing=!0),f=null!==(n=zG.makeExplicit(f,e,m))&&void 0!==n?n:f,f=new UG(f);var b=e.parent&&YY(e.parent);(WY(e)||qY(e))&&b&&(f=null!==(r=IG.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,i,o,a=0,s=g(t.transforms);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=void 0,c=void 0;if(oW(u))c=e=new Hq(e,u),l="derived";else if(QV(u)){var f=RG(u);c=e=null!==(r=zG.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new Sq(e,t,u.filter)}else if(aW(u))c=e=IG.makeFromTransform(e,u,t),l="number";else if(uW(u))l="date",void 0===n.getWithExplicit(u.field).value&&(e=new zG(e,d({},u.field,l)),n.set(u.field,l,!1)),c=e=HW.makeFromTransform(e,u);else if(lW(u))c=e=PG.makeFromTransform(e,u),l="number",kq(t)&&(e=new UG(e));else if(KV(u))c=e=iQ.make(e,t,u,a++),l="derived";else if(nW(u))c=e=new lY(e,u),l="number";else if(rW(u))c=e=new sY(e,u),l="number";else if(cW(u))c=e=uY.makeFromTransform(e,u),l="derived";else if(fW(u))c=e=new ZY(e,u),l="derived";else if(iW(u))c=e=new $Y(e,u),l="derived";else if(XV(u))c=e=new sQ(e,u),l="derived";else if(tW(u))e=new uQ(e,u);else if(sW(u))c=e=nQ.makeFromTransform(e,u),l="derived";else if(JV(u))c=e=new XY(e,u),l="derived";else if($V(u))c=e=new oQ(e,u),l="derived";else if(ZV(u))c=e=new aQ(e,u),l="derived";else{if(!eW(u)){OR(H.invalidTransformIgnored(u));continue}c=e=new rQ(e,u),l="derived"}if(c&&void 0!==l){var h,p=g(null!==(i=c.producedFields())&&void 0!==i?i:[]);try{for(p.s();!(h=p.n()).done;){var v=h.value;n.set(v,l,!1)}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){s.e(m)}finally{s.f()}return e}(f,e,m));var _=function(e){var t={};if(WY(e)&&e.component.selection){var n,r=g(VI(e.component.selection));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=e.component.selection[o],s=g(a.project.items);try{for(s.s();!(i=s.n()).done;){var u=i.value;!u.channel&&rP(u.field)>1&&(t[u.field]="flatten")}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}}return t}(e),w=function(e){var t={};function n(e){var n;yU(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,Object(ee.J)(n)&&jI(["min","max"],n))?t[e.field]="number":rP(e.field)>1?e.field in t||(t[e.field]="flatten"):Xz(e)&&Dz(e.sort)&&rP(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((WY(e)||qY(e))&&e.forEachFieldDef((function(t,r){if(Qz(t))n(t);else{var i=EL(r),o=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:o.type}))}})),WY(e)){var r=e.mark,i=e.markDef,o=e.encoding;if($B(r)&&!e.encoding.order){var a=o["horizontal"===i.orient?"y":"x"];Hz(a)&&"quantitative"===a.type&&!(a.field in t)&&(t[a.field]="number")}}return t}(e);f=null!==(i=zG.makeWithAncestors(f,{},Object.assign(Object.assign({},_),w),m))&&void 0!==i?i:f,WY(e)&&(f=eQ.parseAll(f,e),f=tQ.parseAll(f,e)),(WY(e)||qY(e))&&(b||(f=null!==(o=IG.makeFromEncoding(f,e))&&void 0!==o?o:f),f=null!==(a=HW.makeFromEncoding(f,e))&&void 0!==a?a:f,f=Hq.parseAllForSortIndex(f,e));var x=e.getDataName(BV.Raw),O=new zW(f,x,BV.Raw,v);if(p[x]=O,f=O,WY(e)){var k=PG.makeFromEncoding(f,e);k&&(f=k,kq(e)&&(f=new UG(f))),f=null!==(s=nQ.makeFromEncoding(f,e))&&void 0!==s?s:f,f=null!==(u=uY.makeFromEncoding(f,e))&&void 0!==u?u:f}WY(e)&&(f=null!==(l=JY.make(f,e))&&void 0!==l?l:f);var E=e.getDataName(BV.Main),S=new zW(f,E,BV.Main,v);p[E]=S,f=S,WY(e)&&function(e,t){xq(e,(function(n){var r=n.name,i=e.getName("lookup_".concat(r));e.component.data.outputNodes[i]=n.materialized=new zW(new Sq(t,e,{selection:r}),i,BV.Lookup,e.component.data.outputNodeRefCounts)}))}(e,S);var T=null;if(qY(e)){var C=e.getName("facet");f=null!==(c=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,o=0,a=[n,r];o<a.length;o++){var s=a[o];if(Dz(s.sort)){var u=s.sort,l=u.field,c=u.op;e=i=new sY(e,{joinaggregate:[{op:void 0===c?Ez:c,field:l,as:mQ(s,s.sort,{forAs:!0})}],groupby:[tU(s)]})}}return i}return null}(f,e.facet))&&void 0!==c?c:f,T=new LG(f,e,C,S.getSource()),p[C]=T}return Object.assign(Object.assign({},e.component.data),{outputNodes:p,outputNodeRefCounts:v,raw:O,main:S,facetRoot:T,ancestorParse:m})}var _Q=function(e){c(n,e);var t=f(n);function n(e,r,i,o){var s,u,l,c,f;return y(this,n),s=t.call(this,e,"concat",r,i,o,e.resolve),"shared"!==(null===(l=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===l?void 0:l.x)&&"shared"!==(null===(f=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===f?void 0:f.y)||OR(H.CONCAT_CANNOT_SHARE_AXIS),s.children=s.getChildren(e).map((function(e,t){return BQ(e,a(s),s.getName("concat_"+t),void 0,o)})),s}return b(n,[{key:"parseData",value:function(){this.component.data=bQ(this);var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;)e.value.parseData()}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=g(VI(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;)e.value.parseMarkGroup()}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;)e.value.parseAxesAndHeaders()}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return PH(e)?e.vconcat:LH(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){!function(e){hQ(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";pQ(e,t),pQ(e,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=oG(this),n=g(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,m(r.assembleLayoutSignals()))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(QY),wQ=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},mP),{labelExpr:1,encode:1}),xQ=VI(wQ),OQ=function(e){c(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(this,n),(e=t.call(this)).explicit=r,e.implicit=i,e.mainExtracted=o,e}return b(n,[{key:"clone",value:function(){return new n(EI(this.explicit),EI(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return UR(this.explicit.orient)}}]),n}(MV),kQ={bottom:"top",top:"bottom",left:"right",right:"left"};function EQ(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){var a=i.getWithExplicit("orient"),s=o.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;e[r]=SQ(i,o)}}return e}}function SQ(e,t){var n,r=g(xQ);try{var i=function(){var r=n.value,i=RV(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return BU(e,t);case"gridScale":return{explicit:e.explicit,value:iP(e.value,t.value)}}return FV(e,t,r,"axis")}));e.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return e}function TQ(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(UR(n.labelAngle)?n.labelAngle:cP(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Uq(r,i))return!0}return e===n[t]}var CQ=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function DQ(e,t){var n,r,i,o=t.axis(e),a=new OQ,s=dU(t.encoding[e]),u=t.mark,l=t.config,c=(null==o?void 0:o.orient)||(null===(n=l["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=l.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=function(e,t,n,r){var i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in _B?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=UR(n)?"axisOrient":"axis"+XI(n),s=[].concat(i,m(i.map((function(e){return o+e.substr(4)})))),u=["axis",a,o];return{vlOnlyAxisConfig:Iq(s,r,e,n),vgAxisConfig:Iq(u,r,e,n),axisConfigStyle:Pq([].concat(u,m(s)),r)}}(e,f,c,t.config),h=void 0!==o?!o:Lq("disable",l.style,null==o?void 0:o.style,d).configValue;if(a.set("disable",h,void 0!==o),h)return a;var p,v=function(e,t,n,r,i){var o=null==t?void 0:t.labelAngle;if(void 0!==o)return UR(o)?o:cP(o);var a=Lq("labelAngle",r,null==t?void 0:t.style,i).configValue;return void 0!==a?cP(a):n!==MP||!jI([lB,sB],e.type)||Hz(e)&&e.timeUnit?void 0:270}(s,o=o||{},e,l.style,d),y={fieldOrDatumDef:s,axis:o,channel:e,model:t,scaleType:f,orient:c,labelAngle:v,mark:u,config:l},b=g(xQ);try{for(b.s();!(p=b.n()).done;){var _=p.value,w=_ in Fq?Fq[_](y):yP(_)?o[_]:void 0,x=void 0!==w,O=TQ(w,_,o,t,e);if(x&&O)a.set(_,w,O);else{var k=yP(_)&&"values"!==_?Lq(_,l.style,o.style,d):{},E=k.configValue,S=k.configFrom,T=void 0!==E;x&&!T?a.set(_,w,O):("vgAxisConfig"!==S||CQ.has(_)&&T||hP(E)||UR(E))&&a.set(_,E,!1)}}}catch(A){b.e(A)}finally{b.f()}var C=null!==(i=o.encoding)&&void 0!==i?i:{},D=pP.reduce((function(n,r){var i;if(!a.hasAxisPart(r))return n;var o=cG(null!==(i=C[r])&&void 0!==i?i:{},t),s="labels"===r?function(e,t,n){var r,i=e.encoding,o=e.config,a=null!==(r=dU(i[t]))&&void 0!==r?r:dU(i[TL(t)]),s=e.axis(t)||{},u=s.format,l=s.formatType;return pz(l)?Object.assign({text:yz({fieldOrDatumDef:a,field:"datum.value",format:u,formatType:l,config:o})},n):n}(t,e,o):o;return void 0===s||HI(s)||(n[r]={update:s}),n}),{});return HI(D)||a.set("encode",D,!!o.encoding||void 0!==o.labelAngle),a}function AQ(e,t,n){var r=LB(e),i=NU("orient",r,n);if(r.orient=function(e,t,n){switch(e){case VB:case KB:case XB:case GB:case WB:case UB:return}var r=t.x,i=t.y,o=t.x2,a=t.y2;switch(e){case zB:if(Hz(r)&&(YL(r.bin)||Hz(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Hz(i)&&(YL(i.bin)||Hz(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&(Hz(r)&&r.type===aB&&!GL(r.bin)||Gz(r)))return"horizontal";if(!a&&(Hz(i)&&i.type===aB&&!GL(i.bin)||Gz(i)))return"vertical"}case qB:if(o&&(!Hz(r)||!YL(r.bin))&&a&&(!Hz(i)||!YL(i.bin)))return;case BB:if(a)return Hz(i)&&YL(i.bin)?"horizontal":"vertical";if(o)return Hz(r)&&YL(r.bin)?"vertical":"horizontal";if(e===qB){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case HB:case YB:var s=qz(r),u=qz(i);if(s&&!u)return"tick"!==e?"horizontal":"vertical";if(!s&&u)return"tick"!==e?"vertical":"horizontal";if(s&&u){var l=r,c=i,f=l.type===uB,d=c.type===uB;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!l.aggregate&&c.aggregate?"tick"!==e?"vertical":"horizontal":l.aggregate&&!c.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(r.type,t,i),void 0!==i&&i!==r.orient&&OR(H.orientOverridden(r.orient,i)),"bar"===r.type&&r.orient){var o=NU("cornerRadiusEnd",r,n);if(void 0!==o){var a,s="horizontal"===r.orient&&t.x2||"vertical"===r.orient&&t.y2?["cornerRadius"]:oz[r.orient],u=g(s);try{for(u.s();!(a=u.n()).done;)r[a.value]=o}catch(l){u.e(l)}finally{u.f()}void 0!==r.cornerRadiusEnd&&delete r.cornerRadiusEnd}}return void 0===NU("opacity",r,n)&&(r.opacity=function(e,t){if(jI([VB,YB,KB,XB],e)&&!VU(t))return.7}(r.type,t)),void 0===NU("cursor",r,n)&&(r.cursor=function(e,t,n){return t.href||e.href||NU("href",e,n)?"pointer":e.cursor}(r,t,n)),r}function jQ(e,t){return e.config,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),wW("x",e,{defaultPos:"mid"})),wW("y",e,{defaultPos:"mid"})),yW("size",e)),yW("angle",e)),function(e,t,n){return n?{shape:{value:n}}:yW("shape",e)}(e,0,t))}function NQ(e){var t,n=e.config,r=e.markDef,i=r.orient,o="horizontal"===i?"width":"height",a=e.getScaleComponent("horizontal"===i?"x":"y"),s=null!==(t=NU("size",r,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==s)return s;var u=a?a.get("range"):void 0;return u&&HR(u)&&Object(ee.G)(u.step)?3*u.step/4:3*HH(n.view,o)/4}var MQ={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),wW("x",e,{defaultPos:"mid"})),wW("y",e,{defaultPos:"mid"})),DW(e,"radius","arc")),DW(e,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),SW("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),SW("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),PW(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),DW(e,"x","bar")),DW(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return jQ(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&Hz(t)&&t.type===cB?{field:tU(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),DW(e,"x","image")),DW(e,"y","image")),hW(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),wW("x",e,{defaultPos:"mid"})),wW("y",e,{defaultPos:"mid"})),yW("size",e,{vgChannel:"strokeWidth"})),PW(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return jQ(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),DW(e,"x","rect")),DW(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),SW("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),SW("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),yW("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return jQ(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;return e.encoding,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),wW("x",e,{defaultPos:"mid"})),wW("y",e,{defaultPos:"mid"})),hW(e)),yW("size",e,{vgChannel:"fontSize"})),yW("angle",e)),LW("align",function(e,t,n){if(void 0===NU("align",e,n))return"center"}(e.markDef,0,t))),LW("baseline",function(e,t,n){if(void 0===NU("baseline",e,n))return"middle"}(e.markDef,0,t))),wW("radius",e,{defaultPos:null,isMidPoint:!0})),wW("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),wW("x",e,{defaultPos:"mid",vgChannel:"xc"})),wW("y",e,{defaultPos:"mid",vgChannel:"yc"})),yW("size",e,{defaultValue:NQ(e),vgChannel:i})),d({},o,CU(NU("thickness",n,t))))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MW(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),wW("x",e,{defaultPos:"mid"})),wW("y",e,{defaultPos:"mid"})),yW("size",e)),PW(e))}}},IQ="faceted_path_",PQ="stack_group_";function LQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,i=e.encoding,o=e.config,a=iP(r.clip,function(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}(e),function(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),s=jU(r),u=i.key,l=function(e){var t=e.encoding,n=e.stack,r=e.mark,i=e.markDef,o=e.config,a=t.order;if(!(!Object(ee.B)(a)&&Kz(a)&&AI(a.value)||!a&&AI(NU("order",i,o)))){if((Object(ee.B)(a)||Hz(a))&&!n)return LU(a,{expr:"datum"});if($B(r)){var s="horizontal"===i.orient?"y":"x",u=t[s];if(Hz(u)){var l=u.sort;return Object(ee.B)(l)?{field:tU(u,{prefix:s,suffix:"sort_index",expr:"datum"})}:Dz(l)?{field:tU({aggregate:VU(e.encoding)?l.op:void 0,field:l.field},{expr:"datum"})}:Cz(l)?{field:tU(e.fieldDef(l.encoding),{expr:"datum"}),order:l.order}:null===l?void 0:{field:tU(u,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}}}(e),c=function(e){if(!e.component.selection)return null;for(var t=VI(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=VI(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}(e),f=NU("aria",r,o),d=MQ[n].postEncodingTransform?MQ[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:MQ[n].vgMark},a?{clip:!0}:{}),s?{style:s}:{}),u?{key:u.field}:{}),l?{sort:l}:{}),c||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(BV.Main)},encode:{update:MQ[n].encodeEntry(e)}}),d?{transform:d}:{})]}var FQ=function(e){c(n,e);var t=f(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;y(this,n),(o=t.call(this,e,"unit",r,i,s,void 0,RH(e)?e.view:void 0)).specifiedScales={},o.specifiedAxes={},o.specifiedLegends={},o.specifiedProjection={},o.selection={},o.children=[];var u=tz(e.mark)?Object.assign({},e.mark):{type:e.mark},l=u.type;void 0===u.filled&&(u.filled=function(e,t,n){if(n.graticule)return!1;var r=MU("filled",e,t),i=e.type;return iP(r,i!==VB&&i!==HB&&i!==qB)}(u,s,{graticule:e.data&&YV(e.data)}));var c=o.encoding=qU(e.encoding||{},l,u.filled,s);return o.markDef=AQ(u,c,s),o.size=function(e){var t,n=e.encoding,r=e.size,i=g(NL);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=CL(o);FH(r[a])&&qz(n[o])&&(delete r[a],OR(H.stepDropped(a)))}}catch(s){i.e(s)}finally{i.f()}return r}({encoding:c,size:RH(e)?Object.assign(Object.assign(Object.assign({},a),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):a}),o.stack=uV(l,c),o.specifiedScales=o.initScales(l,c),o.specifiedAxes=o.initAxes(c),o.specifiedLegends=o.initLegends(c),o.specifiedProjection=e.projection,o.selection=e.selection,o}return b(n,[{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){var n=this;return zL.reduce((function(e,r){var i,o=dU(t[r]);return o&&(e[r]=n.initScale(null!==(i=o.scale)&&void 0!==i?i:{})),e}),{})}},{key:"initScale",value:function(e){var t=e.domain,n=e.range,r=LB(e);return Object(ee.B)(t)&&(r.domain=t.map(SU)),Object(ee.B)(n)&&(r.range=n.map(SU)),r}},{key:"initAxes",value:function(e){var t=this;return NL.reduce((function(n,r){var i=e[r];if(Yz(i)||r===MP&&Yz(e.x2)||r===IP&&Yz(e.y2)){var o=Yz(i)?i.axis:void 0;n[r]=o?t.initAxis(Object.assign({},o)):o}return n}),{})}},{key:"initAxis",value:function(e){var t,n=VI(e),r={},i=g(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e[o];r[o]=hP(a)?EU(a):SU(a)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"initLegends",value:function(e){return RL.reduce((function(t,n){var r=dU(e[n]);if(r&&function(e){switch(e){case qP:case GP:case YP:case KP:case QP:case JP:case eL:case tL:return!0;case $P:case ZP:case XP:return!1}}(n)){var i=r.legend;t[n]=i?LB(i):i}return t}),{})}},{key:"parseData",value:function(){this.component.data=bQ(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,i=g(NL);try{for(i.s();!(t=i.n()).done;){var o=CL(t.value);if(n[o]){var a=n[o];r.layoutSize.set(o,FH(a)?"step":a,!0)}else{var s=vQ(e,o);r.layoutSize.set(o,s,!1)}}}catch(u){i.e(u)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r,i={},o=e.config.selection,a=g(VI(null!=t?t:{}));try{var s=function(){var a=r.value,s=EI(t[a]),u=o[s.type],l=(u.fields,u.encodings,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(u,["fields","encodings"]));for(var c in l)"encodings"===c&&s.fields||"fields"===c&&s.encodings||("mark"===c&&(s[c]=Object.assign(Object.assign({},l[c]),s[c])),void 0!==s[c]&&!0!==s[c]||(s[c]=null!==(n=l[c])&&void 0!==n?n:s[c]));var f=YI(a),d=i[f]=Object.assign(Object.assign({},s),{name:f,events:Object(ee.J)(s.on)?PA(s.on,"scope"):EI(s.on)});sq(d,(function(n){n.has(d)&&n.parse&&n.parse(e,d,s,t[a])}))};for(a.s();!(r=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return i}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=function(e){if(jI([HB,BB,QB],e.mark)){var t=QU(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:IQ+e.requestDataName(BV.Main),data:e.requestDataName(BV.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:LQ(e,{fromPrefix:IQ})}]}(e,t)}else if(jI([zB],e.mark)){var n=GR.some((function(t){return NU(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n)return function(e){var t,n,r=LQ(e,{fromPrefix:PQ}),i=p(r,1)[0],o=e.scaleName(e.stack.fieldChannel),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},s=function(e,t){return"".concat(e,"(").concat([a({prefix:"min",suffix:"start",expr:t}),a({prefix:"max",suffix:"start",expr:t}),a({prefix:"min",suffix:"end",expr:t}),a({prefix:"max",suffix:"end",expr:t})].map((function(e){return"scale('".concat(o,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(t=Object.assign(Object.assign({},SI(i.encode.update,["y","yc","y2","height"].concat(GR))),{x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}}),n={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},TI(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(t=Object.assign(Object.assign({},SI(i.encode.update,["x","xc","x2","width"])),{y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}}),n={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},TI(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var u,l=g(GR);try{for(l.s();!(u=l.n()).done;){var c=u.value,f=MU(c,e.markDef,e.config);i.encode.update[c]?(t[c]=i.encode.update[c],delete i.encode.update[c]):f&&(t[c]=CU(f)),f&&(i.encode.update[c]={value:0})}}catch(m){l.e(m)}finally{l.f()}var h=e.fieldDef(e.stack.groupbyChannel),v=tU(h)?[tU(h)]:[];return((null==h?void 0:h.bin)||(null==h?void 0:h.timeUnit))&&v.push(tU(h,{binSuffix:"end"})),(t=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),d({},n,i.encode.update[n]));var r=MU(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),d({},n,CU(r))):t}),t)).stroke&&(t.strokeForeground={value:!0},t.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(BV.Main),name:PQ+e.requestDataName(BV.Main),groupby:v,aggregate:{fields:[a({suffix:"start"}),a({suffix:"start"}),a({suffix:"end"}),a({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:t},marks:[{type:"group",encode:{update:n},marks:[i]}]}]}(e)}return LQ(e)}(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,NL.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[DQ(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return xq(e,(function(r,i){var o=r.name,a=Object(ee.bb)(o+yq);if(0===t.filter((function(e){return e.name===o})).length){var s="global"===r.resolve?"union":r.resolve,u="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(_q,"(").concat(a,", ").concat(Object(ee.bb)(s)).concat(u)})}n=!0,i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),sq(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),cq(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(m(Mq(this)),m((t=[],xq(e=this,(function(n,r){var i,o=n.name,a=r.modifyExpr(e,n);(i=t).push.apply(i,m(r.signals(e,n))),sq(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(a=r.modifyExpr(e,n,a))})),t.push({name:o+"_modify",on:[{events:{signal:n.name+bq},update:"modify(".concat(Object(ee.bb)(n.name+yq),", ").concat(a,")")}]})})),cq(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=m(t);return xq(e,(function(t){var r={name:t.name+yq};if(t.init){var i=t.project.items.map((function(e){return e.signals,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["signals"])})),o=t.init.map((function(e){return uq(e,!1)}));r.values="interval"===t.type?[{unit:Oq(e,{escape:!1}),fields:i,values:o}]:o.map((function(t){return{unit:Oq(e,{escape:!1}),fields:i,values:t}}))}n.filter((function(e){return e.name===t.name+yq})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return oG(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&YY(this.parent)||(t=lq(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"channelHasField",value:function(e){return HU(this.encoding,e)}},{key:"fieldDef",value:function(e){return fU(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return Qz(t)?t:null}},{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===JB,n=e&&hL.some((function(t){return Yz(e[t])}));return t||n}},{key:"mark",get:function(){return this.markDef.type}}]),n}(KY),RQ=function(e){c(n,e);var t=f(n);function n(e,r,i,o,s){var u;y(this,n),u=t.call(this,e,"layer",r,i,s,e.resolve,e.view);var l=Object.assign(Object.assign(Object.assign({},o),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,t){if(rV(e))return new n(e,a(u),u.getName("layer_"+t),l,s);if(zU(e))return new FQ(e,a(u),u.getName("layer_"+t),l,s);throw new Error(H.invalidSpec(e))})),u}return b(n,[{key:"parseData",value:function(){this.component.data=bQ(this);var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;)e.value.parseData()}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){hQ(this),pQ(this,"width"),pQ(this,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=g(VI(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=g(this.children);try{for(t.s();!(e=t.n()).done;)e.value.parseMarkGroup()}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,i=r.axes,o=r.resolve,a={top:0,bottom:0,right:0,left:0},s=g(e.children);try{for(s.s();!(n=s.n()).done;){var u=n.value;u.parseAxesAndHeaders();var l,c=g(VI(u.component.axes));try{for(c.s();!(l=c.n()).done;){var f=l.value;o.axis[f]=dG(e.component.resolve,f),"shared"===o.axis[f]&&(i[f]=EQ(i[f],u.component.axes[f]),i[f]||(o.axis[f]="independent",delete i[f]))}}catch(D){c.e(D)}finally{c.f()}}}catch(D){s.e(D)}finally{s.f()}var d,h=g(NL);try{for(h.s();!(d=h.n()).done;){var p,v=d.value,m=g(e.children);try{for(m.s();!(p=m.n()).done;){var y=p.value;if(y.component.axes[v]){if("independent"===o.axis[v]){i[v]=(null!==(t=i[v])&&void 0!==t?t:[]).concat(y.component.axes[v]);var b,_=g(y.component.axes[v]);try{for(_.s();!(b=_.n()).done;){var w=b.value,x=w.getWithExplicit("orient"),O=x.value,k=x.explicit;if(!UR(O)){if(a[O]>0&&!k){var E=kQ[O];a[O]>a[E]&&w.set("orient",E,!1)}a[O]++}}}catch(D){_.e(D)}finally{_.f()}}delete y.component.axes[v]}}}catch(D){m.e(D)}finally{m.f()}if("independent"===o.axis[v]&&i[v]&&i[v].length>1){var S,T=g(i[v]);try{for(T.s();!(S=T.n()).done;){var C=S.value;C.get("grid")&&!C.explicit.grid&&(C.implicit.grid=!1)}}catch(D){T.e(D)}finally{T.f()}}}}catch(D){h.e(D)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),Mq(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),oG(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=u(l(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=g(this.children);try{for(r.s();!(t=r.n()).done;)if(e=t.value.assembleTitle())return e}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=g(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;WY(i)&&(t=lq(i,t))}}catch(o){r.e(o)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),TG(this))}}]),n}(QY);function BQ(e,t,n,r,i){if(Mz(e))return new gQ(e,t,n,i);if(rV(e))return new RQ(e,t,n,r,i);if(zU(e))return new FQ(e,t,n,r,i);if(function(e){return PH(e)||LH(e)||IH(e)}(e))return new _Q(e,t,n,i);throw new Error(H.invalidSpec(e))}var zQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function UQ(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.logger&&(t=n.logger,wR=t),n.fieldTitle&&aU(n.fieldTitle);try{var r=JH(Object(ee.P)(n.config,e.config)),i=CV(e,r),o=BQ(i,null,"",void 0,r);return o.parse(),function(e,t){dY(e.sources);for(var n=0,r=0,i=0;i<5&&pY(e,t,!0);i++)n++;e.sources.map(cY);for(var o=0;o<5&&pY(e,t,!1);o++)r++;dY(e.sources),5===Math.max(n,r)&&OR("Maximum optimization runs(5) reached.")}(o.component.data,o),{spec:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?tV(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){var n,r,i,o=[],a=lQ(o),s=0,u=g(e.sources);try{for(u.s();!(i=u.n()).done;){var l=i.value;l.hasName()||(l.dataName="source_"+s++);var c=l.assemble();a(l,c)}}catch(j){u.e(j)}finally{u.f()}for(var f=0,d=o;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var v,m=0,y=g(o.entries());try{for(y.s();!(v=y.n()).done;){var b=p(v.value,2),_=b[0],w=b[1];0!==(null!==(n=w.transform)&&void 0!==n?n:[]).length||w.source||o.splice(m++,0,o.splice(_,1)[0])}}catch(j){y.e(j)}finally{y.f()}for(var x=0,O=o;x<O.length;x++){var k,E=O[x],S=g(null!==(r=E.transform)&&void 0!==r?r:[]);try{for(S.s();!(k=S.n()).done;){var T=k.value;"lookup"===T.type&&(T.from=e.outputNodes[T.from].getSource())}}catch(j){S.e(j)}finally{S.f()}}for(var C=0,D=o;C<D.length;C++){var A=D[C];A.name in t&&(A.values=t[A.name])}return o}(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),u=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0),c=e.assembleLayoutSignals();c=c.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)}));var f=t.params,d=zQ(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),s?{title:s}:{}),u?{style:u}:{}),l?{encode:{update:l}}:{}),{data:o}),a.length>0?{projections:a}:{}),e.assembleGroup([].concat(m(c),m(e.assembleSelectionTopLevelSignals([])),m(DH(f))))),i?{config:i}:{}),r?{usermeta:r}:{})}(o,function(e,t,n,r){var i,o=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Object(ee.J)(t)&&(t={type:t}),o&&a&&("fit"===(i=t.type)||"fit-x"===i||"fit-y"===i))if("step"===o&&"step"===a)OR(H.droppingFit()),t.type="pad";else if("step"===o||"step"===a){var s="step"===o?"width":"height";OR(H.droppingFit(LL(s)));var u="width"===s?"height":"width";t.type=function(e){return e?"fit-".concat(LL(e)):"fit"}(u)}return Object.assign(Object.assign(Object.assign({},1===VI(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),NV(n,!1)),NV(e,!0))}(e,i.autosize,r,o),e.datasets,e.usermeta),normalized:i}}finally{n.logger&&xR(),n.fieldTitle&&aU(iU)}}var HQ,VQ=(HQ=function(e,t){return(HQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}HQ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),WQ=Object.prototype.hasOwnProperty;function qQ(e,t){return WQ.call(e,t)}function GQ(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);for(var r in t=[],e)qQ(e,r)&&t.push(r);return t}function YQ(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function QQ(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function KQ(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function XQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function JQ(e,t){var n=[e];for(var r in t){var i="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==i&&n.push(r+": "+i)}return n.join("\n")}var $Q=function(e){function t(t,n,r,i,o){var a=this.constructor,s=e.call(this,JQ(t,{name:n,index:r,operation:i,tree:o}))||this;return s.name=n,s.index=r,s.operation=i,s.tree=o,Object.setPrototypeOf(s,a.prototype),s.message=JQ(t,{name:n,index:r,operation:i,tree:o}),s}return VQ(t,e),t}(Error),ZQ=$Q,eK=YQ,tK={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=rK(n,this.path);r&&(r=YQ(r));var i=iK(n,{op:"remove",path:this.from}).removed;return iK(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=rK(n,this.from);return iK(n,{op:"add",path:this.path,value:YQ(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:lK(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},nK={add:function(e,t,n){return QQ(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:tK.move,copy:tK.copy,test:tK.test,_get:tK._get};function rK(e,t){if(""==t)return e;var n={op:"_get",path:t};return iK(e,n),n.value}function iK(e,t,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):sK(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=rK(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=lK(e,t.value),!1===a.test)throw new ZQ("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new ZQ("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}r||(e=YQ(e));var s=(t.path||"").split("/"),u=e,l=1,c=s.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:sK;;){if(d=s[l],i&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===u[d]?f=s.slice(0,l).join("/"):l==c-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),l++,Array.isArray(u)){if("-"===d)d=u.length;else{if(n&&!QQ(d))throw new ZQ("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);QQ(d)&&(d=~~d)}if(l>=c){if(n&&"add"===t.op&&d>u.length)throw new ZQ("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(a=nK[t.op].call(t,u,d,e)).test)throw new ZQ("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(d&&-1!=d.indexOf("~")&&(d=XQ(d)),l>=c){if(!1===(a=tK[t.op].call(t,u,d,e)).test)throw new ZQ("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}u=u[d]}}function oK(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new ZQ("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=YQ(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=iK(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function aK(e,t,n){var r=iK(e,t);if(!1===r.test)throw new ZQ("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function sK(e,t,n,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new ZQ("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!tK[e.op])throw new ZQ("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new ZQ("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new ZQ('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new ZQ("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new ZQ("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"==typeof t){var i=GQ(t),o=i.length;for(n=0;n<o;n++)if(e(t[i[n]]))return!0}return!1}(e.value))throw new ZQ("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new ZQ("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new ZQ("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=uK([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new ZQ("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function uK(e,t,n){try{if(!Array.isArray(e))throw new ZQ("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)oK(YQ(t),YQ(e),n||!0);else{n=n||sK;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(e){if(e instanceof ZQ)return e;throw e}}function lK(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!lK(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var s=Object.keys(e);if((r=s.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=r;0!=n--;)if(!lK(e[i=s[n]],t[i]))return!1;return!0}return e!=e&&t!=t}var cK=new WeakMap,fK=function(e){this.observers=new Map,this.obj=e},dK=function(e,t){this.callback=e,this.observer=t};function hK(e,t){t.unobserve()}function pK(e,t){var n,r=function(e){return cK.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new fK(e),cK.set(e,r);if(n)return n;if(n={},r.value=YQ(e),t){n.callback=t,n.next=null;var o=function(){vK(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){vK(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new dK(t,n)),n}function vK(e,t){void 0===t&&(t=!1);var n=cK.get(e.object);mK(n.value,e.object,e.patches,"",t),e.patches.length&&oK(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function mK(e,t,n,r,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=GQ(t),a=GQ(e),s=!1,u=a.length-1;u>=0;u--){var l=e[f=a[u]];if(!qQ(t,f)||void 0===t[f]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+KQ(f),value:YQ(l)}),n.push({op:"remove",path:r+"/"+KQ(f)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}));else{var c=t[f];"object"==typeof l&&null!=l&&"object"==typeof c&&null!=c?mK(l,c,n,r+"/"+KQ(f),i):l!==c&&(i&&n.push({op:"test",path:r+"/"+KQ(f),value:YQ(l)}),n.push({op:"replace",path:r+"/"+KQ(f),value:YQ(c)}))}}if(s||o.length!=a.length)for(u=0;u<o.length;u++){var f;qQ(e,f=o[u])||void 0===t[f]||n.push({op:"add",path:r+"/"+KQ(f),value:YQ(t[f])})}}}function gK(e,t,n){void 0===n&&(n=!1);var r=[];return mK(e,t,r,"",n),r}Object.assign({},W,q,{JsonPatchError:$Q,deepClone:YQ,escapePathComponent:KQ,unescapePathComponent:XQ});var yK=n(18),bK=n.n(yK),_K=n(28),wK=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3),n=p(t,2);return{library:n[0],version:n[1]}},xK="#fff",OK={background:"#333",title:{color:xK},style:{"guide-label":{fill:xK},"guide-title":{fill:xK}},axis:{domainColor:xK,gridColor:"#888",tickColor:xK}},kK="#4572a7",EK={background:"#fff",arc:{fill:kK},area:{fill:kK},line:{stroke:kK,strokeWidth:2},path:{stroke:kK},rect:{fill:kK},shape:{stroke:kK},symbol:{fill:kK,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},SK="#30a2da",TK="#cbcbcb",CK="#f0f0f0",DK={arc:{fill:SK},area:{fill:SK},axis:{domainColor:TK,grid:!0,gridColor:TK,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:TK,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:CK,group:{fill:CK},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:SK,strokeWidth:2},path:{stroke:SK,strokeWidth:.5},rect:{fill:SK},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:SK},bar:{binSpacing:2,fill:SK,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},AK="#000",jK={group:{fill:"#e5e5e5"},arc:{fill:AK},area:{fill:AK},line:{stroke:AK},path:{stroke:AK},rect:{fill:AK},shape:{stroke:AK},symbol:{fill:AK,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},NK="Benton Gothic, sans-serif",MK="#82c6df",IK="Benton Gothic Bold, sans-serif",PK={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},LK={background:"#ffffff",title:{anchor:"start",color:"#000000",font:IK,fontSize:22,fontWeight:"normal"},arc:{fill:MK},area:{fill:MK},line:{stroke:MK,strokeWidth:2},path:{stroke:MK},rect:{fill:MK},shape:{stroke:MK},symbol:{fill:MK,size:30},axis:{labelFont:NK,labelFontSize:11.5,labelFontWeight:"normal",titleFont:IK,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:NK,labelFontSize:11.5,symbolType:"square",titleFont:IK,titleFontSize:13,titleFontWeight:"normal"},range:{category:PK["category-6"],diverging:PK["fireandice-6"],heatmap:PK["fire-7"],ordinal:PK["fire-7"],ramp:PK["fire-7"]}},FK="#ab5787",RK="#979797",BK={background:"#f9f9f9",arc:{fill:FK},area:{fill:FK},line:{stroke:FK},path:{stroke:FK},rect:{fill:FK},shape:{stroke:FK},symbol:{fill:FK,size:30},axis:{domainColor:RK,domainWidth:.5,gridWidth:.2,labelColor:RK,tickColor:RK,tickWidth:.2,titleColor:RK},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},zK="#3e5c69",UK={background:"#fff",arc:{fill:zK},area:{fill:zK},line:{stroke:zK},path:{stroke:zK},rect:{fill:zK},shape:{stroke:zK},symbol:{fill:zK},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},HK="#1696d2",VK="#000000",WK="Lato",qK="Lato",GK={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},YK={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:WK},axisX:{domain:!0,domainColor:VK,domainWidth:1,grid:!1,labelFontSize:12,labelFont:qK,labelAngle:0,tickColor:VK,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:WK},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:qK,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:WK,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:qK,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:WK,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:GK["six-groups-cat-1"],diverging:GK["diverging-colors"],heatmap:GK["diverging-colors"],ordinal:GK["six-groups-seq"],ramp:GK["shades-blue"]},area:{fill:HK},rect:{fill:HK},line:{color:HK,stroke:HK,strokeWidth:5},trail:{color:HK,stroke:HK,strokeWidth:0,size:1},path:{stroke:HK,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:HK,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:HK,stroke:null}},arc:{fill:HK},shape:{stroke:HK},symbol:{fill:HK,size:30}},QK="#3366CC",KK="Arial, sans-serif",XK={arc:{fill:QK},area:{fill:QK},path:{stroke:QK},rect:{fill:QK},shape:{stroke:QK},symbol:{stroke:QK},circle:{fill:QK},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:KK,fontSize:12},"guide-title":{font:KK,fontSize:12},"group-title":{font:KK,fontSize:12}},title:{font:KK,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},JK="2.9.1",$K="vg-tooltip-element",ZK={offsetX:10,offsetY:10,id:$K,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function eX(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!=typeof r||null===r)return r;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var tX=function(){function e(t){y(this,e),this.options=Object.assign(Object.assign({},ZK),t);var n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace($K,e)}(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}return b(e,[{key:"tooltipHandler",value:function(e,t,n,r){if(null!=r&&""!==r){this.el.innerHTML=function(e,t,n){if(Object(ee.B)(e))return"[".concat(e.map((function(e){return t(Object(ee.J)(e)?e:eX(e,n))})).join(", "),"]");if(Object(ee.H)(e)){var r="",i=e,o=i.title,a=i.image,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["title","image"]);o&&(r+="<h2>".concat(t(o),"</h2>")),a&&(r+='<img src="'.concat(t(a),'">'));var u=Object.keys(s);if(u.length>0){r+="<table>";var l,c=g(u);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=s[f];void 0!==d&&(Object(ee.H)(d)&&(d=eX(d,n)),r+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(d),"</td></tr>"))}}catch(h){c.e(h)}finally{c.f()}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var i=function(e,t,n,r){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),o=i.x,a=i.y;this.el.setAttribute("style","top: ".concat(a,"px; left: ").concat(o,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();function nX(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var rX,iX='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function oX(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];aX(e,a)}return e}function aX(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object(ee.lb)(e,i,t[i],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var sX=U,uX=V,lX="undefined"!=typeof window?window:void 0;void 0===uX&&(null===(rX=null==lX?void 0:lX.vl)||void 0===rX?void 0:rX.compile)&&(uX=lX.vl);var cX={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},fX={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},dX={vega:"Vega","vega-lite":"Vega-Lite"},hX={vega:sX.version,"vega-lite":uX?uX.version:"not available"},pX={vega:function(e){return e},"vega-lite":function(e,t){return uX.compile(e,{config:t}).spec}},vX='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',mX="chart-wrapper";function gX(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(i+e+o),a.document.title="".concat(dX[r]," JSON Source")}function yX(e,t){var n;return nX(this,void 0,void 0,v.mark((function r(){var i,o;return v.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(ee.J)(e.config)){r.next=8;break}return r.t1=JSON,r.next=4,t.load(e.config);case 4:r.t2=r.sent,r.t0=r.t1.parse.call(r.t1,r.t2),r.next=9;break;case 8:r.t0=null!==(n=e.config)&&void 0!==n?n:{};case 9:if(i=r.t0,!Object(ee.J)(e.patch)){r.next=18;break}return r.t4=JSON,r.next=14,t.load(e.patch);case 14:r.t5=r.sent,r.t3=r.t4.parse.call(r.t4,r.t5),r.next=19;break;case 18:r.t3=e.patch;case 19:return o=r.t3,r.abrupt("return",Object.assign(Object.assign(Object.assign({},e),o?{patch:o}:{}),i?{config:i}:{}));case 21:case"end":return r.stop()}}),r)})))}var bX=function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return nX(this,void 0,void 0,v.mark((function a(){var s,u,l,c,f,d;return v.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=(u=o.loader)&&"load"in u?o.loader:sX.loader(o.loader),!Object(ee.J)(t)){a.next=9;break}return a.t1=JSON,a.next=5,s.load(t);case 5:a.t2=a.sent,a.t0=a.t1.parse.call(a.t1,a.t2),a.next=10;break;case 9:a.t0=t;case 10:return l=a.t0,a.next=13,yX(null!==(n=l.usermeta&&l.usermeta.embedOptions)&&void 0!==n?n:{},s);case 13:return c=a.sent,a.next=16,yX(o,s);case 16:return f=a.sent,d=Object.assign(Object.assign({},oX(f,c)),{config:Object(ee.P)(null!==(r=f.config)&&void 0!==r?r:{},null!==(i=c.config)&&void 0!==i?i:{})}),a.next=20,function(e,t){var n,r,i,o,a,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;return nX(this,void 0,void 0,v.mark((function c(){var f,d,h,p,m,g,y,b,_,w,x,O,k,E,S,T,C,D,A,j,N,M,I,P,L,F,R,B,z,U,H,V,W,q,Y,Q,K,X,J;return v.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(J=function(){I&&document.removeEventListener("click",I),N.finalize()},f=u.theme?Object(ee.P)(G[u.theme],null!==(n=u.config)&&void 0!==n?n:{}):u.config,d=Object(ee.C)(u.actions)?u.actions:oX({},cX,null!==(r=u.actions)&&void 0!==r?r:{}),h=Object.assign(Object.assign({},fX),u.i18n),p=null!==(i=u.renderer)&&void 0!==i?i:"canvas",m=null!==(o=u.logLevel)&&void 0!==o?o:sX.Warn,g=null!==(a=u.downloadFileName)&&void 0!==a?a:"visualization",y="string"==typeof e?document.querySelector(e):e){c.next=4;break}throw new Error("".concat(e," does not exist"));case 4:return!1!==u.defaultStyle&&(b="vega-embed-style",_=function(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}(y),w=_.root,x=_.rootContainer,w.getElementById(b)||((O=document.createElement("style")).id=b,O.innerText=void 0===u.defaultStyle||!0===u.defaultStyle?iX.toString():u.defaultStyle,x.appendChild(O))),k=function(e,t){var n;if(e.$schema){var r=wK(e.$schema);t&&t!==r.library&&console.warn("The given visualization spec is written in ".concat(dX[r.library],", but mode argument sets ").concat(null!==(n=dX[t])&&void 0!==n?n:t,"."));var i=r.library;return Object(_K.satisfies)(hX[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(dX[i]," ").concat(r.version,", but the current version of ").concat(dX[i]," is v").concat(hX[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}(t,u.mode),E=pX[k](t,f),"vega-lite"===k&&E.$schema&&(S=wK(E.$schema),Object(_K.satisfies)(hX.vega,"^".concat(S.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(S.version,", but current version is v").concat(hX.vega,"."))),y.classList.add("vega-embed"),d&&y.classList.add("has-actions"),y.innerHTML="",T=y,d&&((C=document.createElement("div")).classList.add(mX),y.appendChild(C),T=C),(D=u.patch)&&(E=D instanceof Function?D(E):oK(E,D,!0,!1).newDocument),u.formatLocale&&sX.formatLocale(u.formatLocale),u.timeFormatLocale&&sX.timeFormatLocale(u.timeFormatLocale),A=u.ast,j=sX.parse(E,"vega-lite"===k?{}:f,{ast:A}),N=new sX.View(j,Object.assign({loader:l,logLevel:m,renderer:p},A?{expr:sX.expressionInterpreter}:{})),!1!==u.tooltip&&(M="function"==typeof u.tooltip?u.tooltip:new tX(!0===u.tooltip?{}:u.tooltip).call,N.tooltip(M)),void 0===(P=u.hover)&&(P="vega"===k),P&&(F=(L="boolean"==typeof P?{}:P).hoverSet,R=L.updateSet,N.hover(F,R)),u&&(null!=u.width&&N.width(u.width),null!=u.height&&N.height(u.height),null!=u.padding&&N.padding(u.padding)),c.next=20,N.initialize(T,u.bind).runAsync();case 20:if(!1===d){c.next=28;break}if(B=y,!1!==u.defaultStyle&&((z=document.createElement("details")).title=h.CLICK_TO_VIEW_ACTIONS,y.append(z),B=z,(U=document.createElement("summary")).innerHTML=vX,z.append(U),I=function(e){z.contains(e.target)||z.removeAttribute("open")},document.addEventListener("click",I)),H=document.createElement("div"),B.append(H),H.classList.add("vega-actions"),!0===d||!1!==d.export)for(V=function(){var e=q[W];if(!0===d||!0===d.export||d.export[e]){var t=h["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(g,".").concat(e),n.addEventListener("mousedown",(function(t){return nX(this,void 0,void 0,v.mark((function n(){var r;return v.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,N.toImageURL(e,u.scaleFactor);case 3:r=n.sent,this.href=r;case 5:case"end":return n.stop()}}),n,this)})))})),H.append(n)}},W=0,q=["svg","png"];W<q.length;W++)V();!0!==d&&!1===d.source||((Y=document.createElement("a")).text=h.SOURCE_ACTION,Y.href="#",Y.addEventListener("click",(function(e){var n,r;gX(bK()(t),null!==(n=u.sourceHeader)&&void 0!==n?n:"",null!==(r=u.sourceFooter)&&void 0!==r?r:"",k),e.preventDefault()})),H.append(Y)),"vega-lite"!==k||!0!==d&&!1===d.compiled||((Q=document.createElement("a")).text=h.COMPILED_ACTION,Q.href="#",Q.addEventListener("click",(function(e){var t,n;gX(bK()(E),null!==(t=u.sourceHeader)&&void 0!==t?t:"",null!==(n=u.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),H.append(Q)),!0!==d&&!1===d.editor||(K=null!==(s=u.editorUrl)&&void 0!==s?s:"https://vega.github.io/editor/",(X=document.createElement("a")).text=h.EDITOR_ACTION,X.href="#",X.addEventListener("click",(function(e){!function(e,t,n){var r=e.open(t),i=new URL(t).origin,o=40;e.addEventListener("message",(function t(n){n.source===r&&(o=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){o<=0||(r.postMessage(n,i),setTimeout(e,250),o-=1)}),250)}(window,K,{config:f,mode:k,renderer:p,spec:bK()(t)}),e.preventDefault()})),H.append(X));case 28:return c.abrupt("return",{view:N,spec:t,vgSpec:E,finalize:J});case 29:case"end":return c.stop()}}),c)})))}(e,l,d,s);case 20:return a.abrupt("return",a.sent);case 21:case"end":return a.stop()}}),a)})))};function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_X(Object(n),!0).forEach((function(t){xX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OX=function(e){var t=e.el,n=e.config,r=e.dataSource,i=e.displayedData;return Object(Y.useEffect)((function(){if(r&&n&&i&&r.data){var e=wX(wX({$schema:"https://vega.github.io/schema/vega-lite/v4.json",description:"A simple bar chart with embedded data.",width:"container",height:"container",mark:"bar"},n),{},{data:{values:r.values}});try{t&&bX("#".concat(t),e)}catch(e){console.log(e)}}}),[JSON.stringify(n),JSON.stringify(r),i]),r?Q.a.createElement("div",{className:"widget-display"},Q.a.createElement("div",{style:{width:"100%",overflowY:"hidden"},id:t})):Q.a.createElement("div",null)};function kX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EX(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var SX=function(e){var t=e.model,n=e.config,r=e.setConfig,i=e.displayedData,o=kX(Object(Y.useState)(""),2),a=o[0],s=o[1],u=kX(Object(Y.useState)(""),2),l=u[0],c=u[1];return Object(Y.useEffect)((function(){!a&&n&&Object.keys(n).length&&"encoding"in n&&("theta"in n.encoding&&s("".concat(i,".").concat(n.encoding.theta.field)),"color"in n.encoding&&c("".concat(i,".").concat(n.encoding.color.field)))}),[]),K((function(){if(t){var e=a&&a.replace("".concat(i,"."),""),n=l&&l.replace("".concat(i,"."),"");r({data:i,encoding:{theta:{field:e,type:"quantitative"},color:{field:n,type:"nominal"}}})}}),[a,l,i]),Q.a.createElement("div",{className:"widget"},Q.a.createElement("div",{className:"widget-editor"},Q.a.createElement(X,{value:a,setValue:s,condition:function(e){if(t[e].typeInfo)return t[e].typeInfo.toString().includes("String")||t[e].typeInfo.toString().includes("Int")||t[e].typeInfo.toString().includes("Float")},title:"Category",model:t}),Q.a.createElement(X,{value:l,setValue:c,condition:function(e){if(t[e].typeInfo)return t[e].typeInfo.toString().includes("String")||t[e].typeInfo.toString().includes("Int")||t[e].typeInfo.toString().includes("Float")},title:"Color",model:t})))};function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TX(Object(n),!0).forEach((function(t){DX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AX=function(e){var t=e.el,n=e.config,r=e.dataSource,i=e.displayedData;return Object(Y.useEffect)((function(){if(r&&n&&n.data&&r.data){var e=CX(CX({$schema:"https://vega.github.io/schema/vega-lite/v4.json",description:"A simple bar chart with embedded data.",width:"container",height:"container",mark:"arc"},n),{},{data:{values:r.values},view:{stroke:null}});try{t&&bX("#".concat(t),e)}catch(e){console.log(e)}}}),[JSON.stringify(n),JSON.stringify(r),i]),r?Q.a.createElement("div",{className:"widget-display"},Q.a.createElement("div",{style:{width:"100%",overflowY:"hidden"},id:t})):Q.a.createElement("div",null)},jX=[new(function(){function e(){y(this,e),this.id="vega.bar",this.name="Bar Widget",this.editor=Z,this.renderer=OX}return b(e,[{key:"supportsModel",value:function(e){for(var t in e)return"["===e[t].typeInfo.toString()[0]&&"0"!==e[t].typeInfo.toString().slice(-2,-1)}}]),e}()),new(function(){function e(){y(this,e),this.id="vega.pie",this.name="Pie Widget",this.editor=SX,this.renderer=AX}return b(e,[{key:"supportsModel",value:function(e){for(var t in e)return"["===e[t].typeInfo.toString()[0]&&"0"!==e[t].typeInfo.toString().slice(-2,-1)}}]),e}())]}]))},function(e,t,n){var r,i=n(119),o=n(8),a=n(121);window,e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=96)}({0:function(e,t,n){(function(e,r){var i;(function(){var o,a="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",l=32,c=128,f=1/0,d=9007199254740991,h=NaN,p=4294967295,v=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",y="[object Boolean]",b="[object Date]",_="[object Error]",w="[object Function]",x="[object GeneratorFunction]",O="[object Map]",k="[object Number]",E="[object Object]",S="[object Promise]",T="[object RegExp]",C="[object Set]",D="[object String]",A="[object Symbol]",j="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",P="[object Float64Array]",L="[object Int8Array]",F="[object Int16Array]",R="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",U="[object Uint16Array]",H="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(G.source),K=RegExp(Y.source),X=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+|\s+$/g,oe=/^\s+/,ae=/\s+$/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,we=/['\n\r\u2028\u2029\\]/g,xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="["+Ee+"]",Te="["+xe+"]",Ce="\\d+",De="["+Oe+"]",Ae="[^\\ud800-\\udfff"+Ee+Ce+"\\u2700-\\u27bf"+Oe+ke+"]",je="\\ud83c[\\udffb-\\udfff]",Ne="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ie="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+ke+"]",Le="(?:"+De+"|"+Ae+")",Fe="(?:"+Pe+"|"+Ae+")",Re="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Be="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ze="(?:"+Te+"|"+je+")?",Ue="[\\ufe0e\\ufe0f]?",He=Ue+ze+"(?:\\u200d(?:"+[Ne,Me,Ie].join("|")+")"+Ue+ze+")*",Ve="(?:"+["[\\u2700-\\u27bf]",Me,Ie].join("|")+")"+He,We="(?:"+[Ne+Te+"?",Te,Me,Ie,"[\\ud800-\\udfff]"].join("|")+")",qe=RegExp("['\u2019]","g"),Ge=RegExp(Te,"g"),Ye=RegExp(je+"(?="+je+")|"+We+He,"g"),Qe=RegExp([Pe+"?"+De+"+"+Re+"(?="+[Se,Pe,"$"].join("|")+")",Fe+"+"+Be+"(?="+[Se,Pe+Le,"$"].join("|")+")",Pe+"?"+Le+"+"+Re,Pe+"+"+Be,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ce,Ve].join("|"),"g"),Ke=RegExp("[\\u200d\\ud800-\\udfff"+xe+"\\ufe0e\\ufe0f]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Je=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$e=-1,Ze={};Ze[I]=Ze[P]=Ze[L]=Ze[F]=Ze[R]=Ze[B]=Ze[z]=Ze[U]=Ze[H]=!0,Ze[m]=Ze[g]=Ze[N]=Ze[y]=Ze[M]=Ze[b]=Ze[_]=Ze[w]=Ze[O]=Ze[k]=Ze[E]=Ze[T]=Ze[C]=Ze[D]=Ze[j]=!1;var et={};et[m]=et[g]=et[N]=et[M]=et[y]=et[b]=et[I]=et[P]=et[L]=et[F]=et[R]=et[O]=et[k]=et[E]=et[T]=et[C]=et[D]=et[A]=et[B]=et[z]=et[U]=et[H]=!0,et[_]=et[w]=et[j]=!1;var tt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nt=parseFloat,rt=parseInt,it="object"==typeof e&&e&&e.Object===Object&&e,ot="object"==typeof self&&self&&self.Object===Object&&self,at=it||ot||Function("return this")(),st=t&&!t.nodeType&&t,ut=st&&"object"==typeof r&&r&&!r.nodeType&&r,lt=ut&&ut.exports===st,ct=lt&&it.process,ft=function(){try{return ut&&ut.require&&ut.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),dt=ft&&ft.isArrayBuffer,ht=ft&&ft.isDate,pt=ft&&ft.isMap,vt=ft&&ft.isRegExp,mt=ft&&ft.isSet,gt=ft&&ft.isTypedArray;function yt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function kt(e,t){return!(null==e||!e.length)&&It(e,t,0)>-1}function Et(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function St(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Tt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ct(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Rt("length");function Nt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Mt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function It(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Mt(e,Lt,n)}function Pt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Lt(e){return e!=e}function Ft(e,t){var n=null==e?0:e.length;return n?Ut(e,t)/n:h}function Rt(e){return function(t){return null==t?o:t[e]}}function Bt(e){return function(t){return null==e?o:e[t]}}function zt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ut(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Ht(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return function(t){return e(t)}}function Wt(e,t){return St(t,(function(t){return e[t]}))}function qt(e,t){return e.has(t)}function Gt(e,t){for(var n=-1,r=e.length;++n<r&&It(t,e[n],0)>-1;);return n}function Yt(e,t){for(var n=e.length;n--&&It(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Kt=Bt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Xt=Bt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Jt(e){return"\\"+tt[e]}function $t(e){return Ke.test(e)}function Zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,o[i++]=n)}return o}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){return $t(e)?function(e){for(var t=Ye.lastIndex=0;Ye.test(e);)++t;return t}(e):jt(e)}function on(e){return $t(e)?function(e){return e.match(Ye)||[]}(e):function(e){return e.split("")}(e)}var an=Bt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),sn=function e(t){var n,r=(t=null==t?at:sn.defaults(at.Object(),t,sn.pick(at,Je))).Array,i=t.Date,xe=t.Error,Oe=t.Function,ke=t.Math,Ee=t.Object,Se=t.RegExp,Te=t.String,Ce=t.TypeError,De=r.prototype,Ae=Oe.prototype,je=Ee.prototype,Ne=t["__core-js_shared__"],Me=Ae.toString,Ie=je.hasOwnProperty,Pe=0,Le=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=je.toString,Re=Me.call(Ee),Be=at._,ze=Se("^"+Me.call(Ie).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=lt?t.Buffer:o,He=t.Symbol,Ve=t.Uint8Array,We=Ue?Ue.allocUnsafe:o,Ye=en(Ee.getPrototypeOf,Ee),Ke=Ee.create,tt=je.propertyIsEnumerable,it=De.splice,ot=He?He.isConcatSpreadable:o,st=He?He.iterator:o,ut=He?He.toStringTag:o,ct=function(){try{var e=so(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=t.clearTimeout!==at.clearTimeout&&t.clearTimeout,jt=i&&i.now!==at.Date.now&&i.now,Bt=t.setTimeout!==at.setTimeout&&t.setTimeout,un=ke.ceil,ln=ke.floor,cn=Ee.getOwnPropertySymbols,fn=Ue?Ue.isBuffer:o,dn=t.isFinite,hn=De.join,pn=en(Ee.keys,Ee),vn=ke.max,mn=ke.min,gn=i.now,yn=t.parseInt,bn=ke.random,_n=De.reverse,wn=so(t,"DataView"),xn=so(t,"Map"),On=so(t,"Promise"),kn=so(t,"Set"),En=so(t,"WeakMap"),Sn=so(Ee,"create"),Tn=En&&new En,Cn={},Dn=Po(wn),An=Po(xn),jn=Po(On),Nn=Po(kn),Mn=Po(En),In=He?He.prototype:o,Pn=In?In.valueOf:o,Ln=In?In.toString:o;function Fn(e){if($a(e)&&!Ua(e)&&!(e instanceof Un)){if(e instanceof zn)return e;if(Ie.call(e,"__wrapped__"))return Lo(e)}return new zn(e)}var Rn=function(){function e(){}return function(t){if(!Ja(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Bn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Un(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Wn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Yn(e,t){var n=Ua(e),r=!n&&za(e),i=!n&&!r&&qa(e),o=!n&&!r&&!i&&as(e),a=n||r||i||o,s=a?Ht(e.length,Te):[],u=s.length;for(var l in e)!t&&!Ie.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||vo(l,u))||s.push(l);return s}function Qn(e){var t=e.length;return t?e[Wr(0,t-1)]:o}function Kn(e,t){return No(Ei(e),ir(t,0,e.length))}function Xn(e){return No(Ei(e))}function Jn(e,t,n){(n!==o&&!Fa(e[t],n)||n===o&&!(t in e))&&nr(e,t,n)}function $n(e,t,n){var r=e[t];Ie.call(e,t)&&Fa(r,n)&&(n!==o||t in e)||nr(e,t,n)}function Zn(e,t){for(var n=e.length;n--;)if(Fa(e[n][0],t))return n;return-1}function er(e,t,n,r){return lr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function tr(e,t){return e&&Si(t,Cs(t),e)}function nr(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Os(e,t[n]);return a}function ir(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function or(e,t,n,r,i,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Ja(e))return e;var f=Ua(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Ei(e,s)}else{var d=co(e),h=d==w||d==x;if(qa(e))return bi(e,u);if(d==E||d==m||h&&!i){if(s=l||h?{}:ho(e),!u)return l?function(e,t){return Si(e,lo(e),t)}(e,function(e,t){return e&&Si(t,Ds(t),e)}(s,e)):function(e,t){return Si(e,uo(e),t)}(e,tr(s,e))}else{if(!et[d])return i?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case N:return _i(e);case y:case b:return new i(+e);case M:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case P:case L:case F:case R:case B:case z:case U:case H:return wi(e,n);case O:return new i;case k:case D:return new i(e);case T:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case A:return r=e,Pn?Ee(Pn.call(r)):{}}}(e,d,u)}}a||(a=new Gn);var p=a.get(e);if(p)return p;a.set(e,s),rs(e)?e.forEach((function(r){s.add(or(r,t,n,r,e,a))})):Za(e)&&e.forEach((function(r,i){s.set(i,or(r,t,n,i,e,a))}));var v=f?o:(c?l?eo:Zi:l?Ds:Cs)(e);return _t(v||e,(function(r,i){v&&(r=e[i=r]),$n(s,i,or(r,t,n,i,e,a))})),s}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function sr(e,t,n){if("function"!=typeof e)throw new Ce(a);return Co((function(){e.apply(o,n)}),t)}function ur(e,t,n,r){var i=-1,o=kt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=St(t,Vt(n))),r?(o=Et,a=!1):t.length>=200&&(o=qt,a=!1,t=new qn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else o(t,f,r)||u.push(c)}return u}Fn.templateSettings={escape:X,evaluate:J,interpolate:$,variable:"",imports:{_:Fn}},Fn.prototype=Bn.prototype,Fn.prototype.constructor=Fn,zn.prototype=Rn(Bn.prototype),zn.prototype.constructor=zn,Un.prototype=Rn(Bn.prototype),Un.prototype.constructor=Un,Hn.prototype.clear=function(){this.__data__=Sn?Sn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Sn){var n=t[e];return n===s?o:n}return Ie.call(t,e)?t[e]:o},Hn.prototype.has=function(e){var t=this.__data__;return Sn?t[e]!==o:Ie.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sn&&t===o?s:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=Zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():it.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,n=Zn(t,e);return n<0?o:t[n][1]},Vn.prototype.has=function(e){return Zn(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=Zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(xn||Vn),string:new Hn}},Wn.prototype.delete=function(e){var t=oo(this,e).delete(e);return this.size-=t?1:0,t},Wn.prototype.get=function(e){return oo(this,e).get(e)},Wn.prototype.has=function(e){return oo(this,e).has(e)},Wn.prototype.set=function(e,t){var n=oo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,s),this},qn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!xn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(e,t),this.size=n.size,this};var lr=Di(gr),cr=Di(yr,!0);function fr(e,t){var n=!0;return lr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function dr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!os(s):n(s,u)))var u=s,l=a}return l}function hr(e,t){var n=[];return lr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function pr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=po),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?pr(s,t-1,n,r,i):Tt(i,s):r||(i[i.length]=s)}return i}var vr=Ai(),mr=Ai(!0);function gr(e,t){return e&&vr(e,t,Cs)}function yr(e,t){return e&&mr(e,t,Cs)}function br(e,t){return Ot(t,(function(t){return Qa(e[t])}))}function _r(e,t){for(var n=0,r=(t=vi(t,e)).length;null!=e&&n<r;)e=e[Io(t[n++])];return n&&n==r?e:o}function wr(e,t,n){var r=t(e);return Ua(e)?r:Tt(r,n(e))}function xr(e){return null==e?e===o?"[object Undefined]":"[object Null]":ut&&ut in Ee(e)?function(e){var t=Ie.call(e,ut),n=e[ut];try{e[ut]=o;var r=!0}catch(e){}var i=Fe.call(e);return r&&(t?e[ut]=n:delete e[ut]),i}(e):function(e){return Fe.call(e)}(e)}function Or(e,t){return e>t}function kr(e,t){return null!=e&&Ie.call(e,t)}function Er(e,t){return null!=e&&t in Ee(e)}function Sr(e,t,n){for(var i=n?Et:kt,a=e[0].length,s=e.length,u=s,l=r(s),c=1/0,f=[];u--;){var d=e[u];u&&t&&(d=St(d,Vt(t))),c=mn(d.length,c),l[u]=!n&&(t||a>=120&&d.length>=120)?new qn(u&&d):o}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var v=d[h],m=t?t(v):v;if(v=n||0!==v?v:0,!(p?qt(p,m):i(f,m,n))){for(u=s;--u;){var g=l[u];if(!(g?qt(g,m):i(e[u],m,n)))continue e}p&&p.push(m),f.push(v)}}return f}function Tr(e,t,n){var r=null==(e=ko(e,t=vi(t,e)))?e:e[Io(Yo(t))];return null==r?o:yt(r,e,n)}function Cr(e){return $a(e)&&xr(e)==m}function Dr(e,t,n,r,i){return e===t||(null==e||null==t||!$a(e)&&!$a(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Ua(e),u=Ua(t),l=s?g:co(e),c=u?g:co(t),f=(l=l==m?E:l)==E,d=(c=c==m?E:c)==E,h=l==c;if(h&&qa(e)){if(!qa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Gn),s||as(e)?Ji(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case y:case b:case k:return Fa(+e,+t);case _:return e.name==t.name&&e.message==t.message;case T:case D:return e==t+"";case O:var s=Zt;case C:var u=1&r;if(s||(s=nn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Ji(s(e),s(t),r,i,o,a);return a.delete(e),c;case A:if(Pn)return Pn.call(e)==Pn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var p=f&&Ie.call(e,"__wrapped__"),v=d&&Ie.call(t,"__wrapped__");if(p||v){var w=p?e.value():e,x=v?t.value():t;return a||(a=new Gn),i(w,x,n,r,a)}}return!!h&&(a||(a=new Gn),function(e,t,n,r,i,a){var s=1&n,u=Zi(e),l=u.length;if(l!=Zi(t).length&&!s)return!1;for(var c=l;c--;){var f=u[c];if(!(s?f in t:Ie.call(t,f)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=s;++c<l;){var m=e[f=u[c]],g=t[f];if(r)var y=s?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(!(y===o?m===g||i(m,g,n,r,a):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a))}(e,t,n,r,Dr,i))}function Ar(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ee(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var l=(u=n[i])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in e))return!1}else{var d=new Gn;if(r)var h=r(c,f,l,e,t,d);if(!(h===o?Dr(f,c,3,r,d):h))return!1}}return!0}function jr(e){return!(!Ja(e)||(t=e,Le&&Le in t))&&(Qa(e)?ze:me).test(Po(e));var t}function Nr(e){return"function"==typeof e?e:null==e?eu:"object"==typeof e?Ua(e)?Fr(e[0],e[1]):Lr(e):lu(e)}function Mr(e){if(!_o(e))return pn(e);var t=[];for(var n in Ee(e))Ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ir(e,t){return e<t}function Pr(e,t){var n=-1,i=Va(e)?r(e.length):[];return lr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Lr(e){var t=ao(e);return 1==t.length&&t[0][2]?xo(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Fr(e,t){return go(e)&&wo(t)?xo(Io(e),t):function(n){var r=Os(n,e);return r===o&&r===t?ks(n,e):Dr(t,r,3)}}function Rr(e,t,n,r,i){e!==t&&vr(t,(function(a,s){if(i||(i=new Gn),Ja(a))!function(e,t,n,r,i,a,s){var u=So(e,n),l=So(t,n),c=s.get(l);if(c)Jn(e,n,c);else{var f=a?a(u,l,n+"",e,t,s):o,d=f===o;if(d){var h=Ua(l),p=!h&&qa(l),v=!h&&!p&&as(l);f=l,h||p||v?Ua(u)?f=u:Wa(u)?f=Ei(u):p?(d=!1,f=bi(l,!0)):v?(d=!1,f=wi(l,!0)):f=[]:ts(l)||za(l)?(f=u,za(u)?f=ps(u):Ja(u)&&!Qa(u)||(f=ho(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l)),Jn(e,n,f)}}(e,t,s,n,Rr,r,i);else{var u=r?r(So(e,s),a,s+"",e,t,i):o;u===o&&(u=a),Jn(e,s,u)}}),Ds)}function Br(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:o}function zr(e,t,n){t=t.length?St(t,(function(e){return Ua(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[eu];var r=-1;return t=St(t,Vt(io())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Pr(e,(function(e,n,i){return{criteria:St(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=xi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Ur(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_r(e,a);n(s,a)&&Kr(o,vi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Pt:It,o=-1,a=t.length,s=e;for(e===t&&(t=Ei(t)),n&&(s=St(e,Vt(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&it.call(s,u,1),it.call(e,u,1);return e}function Vr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;vo(i)?it.call(e,i,1):si(e,i)}}return e}function Wr(e,t){return e+ln(bn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=ln(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return Do(Oo(e,t,eu),e+"")}function Yr(e){return Qn(Fs(e))}function Qr(e,t){var n=Fs(e);return No(n,ir(t,0,n.length))}function Kr(e,t,n,r){if(!Ja(e))return e;for(var i=-1,a=(t=vi(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var l=Io(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=Ja(f)?f:vo(t[i+1])?[]:{})}$n(u,l,c),u=u[l]}return e}var Xr=Tn?function(e,t){return Tn.set(e,t),e}:eu,Jr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:Js(t),writable:!0})}:eu;function $r(e){return No(Fs(e))}function Zr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ei(e,t){var n;return lr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ti(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!os(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ni(e,t,eu,n)}function ni(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,l=os(t),c=t===o;i<a;){var f=ln((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,v=d==d,m=os(d);if(s)var g=r||v;else g=c?v&&(r||h):u?v&&h&&(r||!p):l?v&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);g?i=f+1:a=f}return mn(a,4294967294)}function ri(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Fa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ii(e){return"number"==typeof e?e:os(e)?h:+e}function oi(e){if("string"==typeof e)return e;if(Ua(e))return St(e,oi)+"";if(os(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=kt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Et;else if(o>=200){var l=t?null:qi(e);if(l)return nn(l);a=!1,i=qt,u=new qn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function si(e,t){return null==(e=ko(e,t=vi(t,e)))||delete e[Io(Yo(t))]}function ui(e,t,n,r){return Kr(e,t,n(_r(e,t)),r)}function li(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Zr(e,r?0:o,r?o+1:i):Zr(e,r?o+1:0,r?i:o)}function ci(e,t){var n=e;return n instanceof Un&&(n=n.value()),Ct(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),n)}function fi(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=ur(a[o]||s,e[u],t,n));return ai(pr(a,1),t,n)}function di(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function hi(e){return Wa(e)?e:[]}function pi(e){return"function"==typeof e?e:eu}function vi(e,t){return Ua(e)?e:go(e,t)?[e]:Mo(vs(e))}var mi=Gr;function gi(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Zr(e,t,n)}var yi=ft||function(e){return at.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function wi(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xi(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=os(e),s=t!==o,u=null===t,l=t==t,c=os(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Oi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,l=t.length,c=vn(a-s,0),f=r(l+c),d=!i;++u<l;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[n[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function ki(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,f=vn(a-u,0),d=r(f+c),h=!i;++o<f;)d[o]=e[o];for(var p=o;++l<c;)d[p+l]=t[l];for(;++s<u;)(h||o<a)&&(d[p+n[s]]=e[o++]);return d}function Ei(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Si(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):o;l===o&&(l=e[u]),i?nr(n,u,l):$n(n,u,l)}return n}function Ti(e,t){return function(n,r){var i=Ua(n)?bt:er,o=t?t():{};return i(n,e,io(r,2),o)}}function Ci(e){return Gr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&mo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ee(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Va(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ee(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ai(e){return function(t,n,r){for(var i=-1,o=Ee(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function ji(e){return function(t){var n=$t(t=vs(t))?on(t):o,r=n?n[0]:t.charAt(0),i=n?gi(n,1).join(""):t.slice(1);return r[e]()+i}}function Ni(e){return function(t){return Ct(Qs(zs(t).replace(qe,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Rn(e.prototype),r=e.apply(n,t);return Ja(r)?r:n}}function Ii(e){return function(t,n,r){var i=Ee(t);if(!Va(t)){var a=io(n,3);t=Cs(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Pi(e){return $i((function(t){var n=t.length,r=n,i=zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ce(a);if(i&&!u&&"wrapper"==no(s))var u=new zn([],!0)}for(r=u?r:n;++r<n;){var l=no(s=t[r]),c="wrapper"==l?to(s):o;u=c&&yo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[no(c[0])].apply(u,c[3]):1==s.length&&yo(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ua(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Li(e,t,n,i,a,s,u,l,f,d){var h=t&c,p=1&t,v=2&t,m=24&t,g=512&t,y=v?o:Mi(e);return function o(){for(var c=arguments.length,b=r(c),_=c;_--;)b[_]=arguments[_];if(m)var w=ro(o),x=Qt(b,w);if(i&&(b=Oi(b,i,a,m)),s&&(b=ki(b,s,u,m)),c-=x,m&&c<d){var O=tn(b,w);return Vi(e,t,Li,o.placeholder,n,b,O,l,f,d-c)}var k=p?n:this,E=v?k[e]:e;return c=b.length,l?b=Eo(b,l):g&&c>1&&b.reverse(),h&&f<c&&(b.length=f),this&&this!==at&&this instanceof o&&(E=y||Mi(E)),E.apply(k,b)}}function Fi(e,t){return function(n,r){return function(e,t,n,r){return gr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ri(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=ii(n),r=ii(r)),i=e(n,r)}return i}}function Bi(e){return $i((function(t){return t=St(t,Vt(io())),Gr((function(n){var r=this;return e(t,(function(e){return yt(e,r,n)}))}))}))}function zi(e,t){var n=(t=t===o?" ":oi(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,un(e/rn(t)));return $t(t)?gi(on(r),0,e).join(""):r.slice(0,e)}function Ui(e){return function(t,n,i){return i&&"number"!=typeof i&&mo(t,n,i)&&(n=i=o),t=cs(t),n===o?(n=t,t=0):n=cs(n),function(e,t,n,i){for(var o=-1,a=vn(un((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:cs(i),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=hs(t),n=hs(n)),e(t,n)}}function Vi(e,t,n,r,i,a,s,u,c,f){var d=8&t;t|=d?l:64,4&(t&=~(d?64:l))||(t&=-4);var h=[e,t,i,d?a:o,d?s:o,d?o:a,d?o:s,u,c,f],p=n.apply(o,h);return yo(e)&&To(p,h),p.placeholder=r,Ao(p,e,t)}function Wi(e){var t=ke[e];return function(e,n){if(e=hs(e),(n=null==n?0:mn(fs(n),292))&&dn(e)){var r=(vs(e)+"e").split("e");return+((r=(vs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=kn&&1/nn(new kn([,-0]))[1]==f?function(e){return new kn(e)}:ou;function Gi(e){return function(t){var n=co(t);return n==O?Zt(t):n==C?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return St(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,n,i,s,f,d,h){var p=2&t;if(!p&&"function"!=typeof e)throw new Ce(a);var v=i?i.length:0;if(v||(t&=-97,i=s=o),d=d===o?d:vn(fs(d),0),h=h===o?h:fs(h),v-=s?s.length:0,64&t){var m=i,g=s;i=s=o}var y=p?o:to(e),b=[e,t,n,i,s,m,g,f,d,h];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Oi(l,s,t[4]):s,e[4]=l?tn(e[3],u):t[4]}(s=t[5])&&(l=e[5],e[5]=l?ki(l,s,t[6]):s,e[6]=l?tn(e[5],u):t[6]),(s=t[7])&&(e[7]=s),r&c&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],i=b[3],s=b[4],!(h=b[9]=b[9]===o?p?0:e.length:vn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var i=Mi(e);return function a(){for(var s=arguments.length,u=r(s),l=s,c=ro(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:tn(u,c);return(s-=f.length)<n?Vi(e,t,Li,a.placeholder,o,u,f,o,o,n-s):yt(this&&this!==at&&this instanceof a?i:e,this,u)}}(e,t,h):t!=l&&33!=t||s.length?Li.apply(o,b):function(e,t,n,i){var o=1&t,a=Mi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=r(c+u),d=this&&this!==at&&this instanceof t?a:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return yt(d,o?n:this,f)}}(e,t,n,i);else var _=function(e,t,n){var r=1&t,i=Mi(e);return function t(){return(this&&this!==at&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ao((y?Xr:To)(_,b),e,t)}function Qi(e,t,n,r){return e===o||Fa(e,je[n])&&!Ie.call(r,n)?t:e}function Ki(e,t,n,r,i,a){return Ja(e)&&Ja(t)&&(a.set(t,e),Rr(e,t,o,Ki,a),a.delete(t)),e}function Xi(e){return ts(e)?o:e}function Ji(e,t,n,r,i,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new qn:o;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],m=t[d];if(r)var g=s?r(m,v,d,t,e,a):r(v,m,d,e,t,a);if(g!==o){if(g)continue;h=!1;break}if(p){if(!At(t,(function(e,t){if(!qt(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!i(v,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function $i(e){return Do(Oo(e,o,Ho),e+"")}function Zi(e){return wr(e,Cs,uo)}function eo(e){return wr(e,Ds,lo)}var to=Tn?function(e){return Tn.get(e)}:ou;function no(e){for(var t=e.name+"",n=Cn[t],r=Ie.call(Cn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ro(e){return(Ie.call(Fn,"placeholder")?Fn:e).placeholder}function io(){var e=Fn.iteratee||tu;return e=e===tu?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function oo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Cs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wo(i)]}return t}function so(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return jr(n)?n:o}var uo=cn?function(e){return null==e?[]:(e=Ee(e),Ot(cn(e),(function(t){return tt.call(e,t)})))}:du,lo=cn?function(e){for(var t=[];e;)Tt(t,uo(e)),e=Ye(e);return t}:du,co=xr;function fo(e,t,n){for(var r=-1,i=(t=vi(t,e)).length,o=!1;++r<i;){var a=Io(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Xa(i)&&vo(a,i)&&(Ua(e)||za(e))}function ho(e){return"function"!=typeof e.constructor||_o(e)?{}:Rn(Ye(e))}function po(e){return Ua(e)||za(e)||!!(ot&&e&&e[ot])}function vo(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!Ja(n))return!1;var r=typeof t;return!!("number"==r?Va(n)&&vo(t,n.length):"string"==r&&t in n)&&Fa(n[t],e)}function go(e,t){if(Ua(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!os(e))||ee.test(e)||!Z.test(e)||null!=t&&e in Ee(t)}function yo(e){var t=no(e),n=Fn[t];if("function"!=typeof n||!(t in Un.prototype))return!1;if(e===n)return!0;var r=to(n);return!!r&&e===r[0]}(wn&&co(new wn(new ArrayBuffer(1)))!=M||xn&&co(new xn)!=O||On&&co(On.resolve())!=S||kn&&co(new kn)!=C||En&&co(new En)!=j)&&(co=function(e){var t=xr(e),n=t==E?e.constructor:o,r=n?Po(n):"";if(r)switch(r){case Dn:return M;case An:return O;case jn:return S;case Nn:return C;case Mn:return j}return t});var bo=Ne?Qa:hu;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||je)}function wo(e){return e==e&&!Ja(e)}function xo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Ee(n))}}function Oo(e,t,n){return t=vn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=vn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),yt(e,this,u)}}function ko(e,t){return t.length<2?e:_r(e,Zr(t,0,-1))}function Eo(e,t){for(var n=e.length,r=mn(t.length,n),i=Ei(e);r--;){var a=t[r];e[r]=vo(a,n)?i[a]:o}return e}function So(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var To=jo(Xr),Co=Bt||function(e,t){return at.setTimeout(e,t)},Do=jo(Jr);function Ao(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return _t(v,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function jo(e){var t=0,n=0;return function(){var r=gn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function No(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Wr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Mo=function(e){var t=ja((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}();function Io(e){if("string"==typeof e||os(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Po(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Lo(e){if(e instanceof Un)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Gr((function(e,t){return Wa(e)?ur(e,pr(t,1,Wa,!0)):[]})),Ro=Gr((function(e,t){var n=Yo(t);return Wa(n)&&(n=o),Wa(e)?ur(e,pr(t,1,Wa,!0),io(n,2)):[]})),Bo=Gr((function(e,t){var n=Yo(t);return Wa(n)&&(n=o),Wa(e)?ur(e,pr(t,1,Wa,!0),o,n):[]}));function zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fs(n);return i<0&&(i=vn(r+i,0)),Mt(e,io(t,3),i)}function Uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=fs(n),i=n<0?vn(r+i,0):mn(i,r-1)),Mt(e,io(t,3),i,!0)}function Ho(e){return null!=e&&e.length?pr(e,1):[]}function Vo(e){return e&&e.length?e[0]:o}var Wo=Gr((function(e){var t=St(e,hi);return t.length&&t[0]===e[0]?Sr(t):[]})),qo=Gr((function(e){var t=Yo(e),n=St(e,hi);return t===Yo(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Sr(n,io(t,2)):[]})),Go=Gr((function(e){var t=Yo(e),n=St(e,hi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Sr(n,o,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Qo=Gr(Ko);function Ko(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Xo=$i((function(e,t){var n=null==e?0:e.length,r=rr(e,t);return Vr(e,St(t,(function(e){return vo(e,n)?+e:e})).sort(xi)),r}));function Jo(e){return null==e?e:_n.call(e)}var $o=Gr((function(e){return ai(pr(e,1,Wa,!0))})),Zo=Gr((function(e){var t=Yo(e);return Wa(t)&&(t=o),ai(pr(e,1,Wa,!0),io(t,2))})),ea=Gr((function(e){var t=Yo(e);return t="function"==typeof t?t:o,ai(pr(e,1,Wa,!0),o,t)}));function ta(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Wa(e))return t=vn(e.length,t),!0})),Ht(t,(function(t){return St(e,Rt(t))}))}function na(e,t){if(!e||!e.length)return[];var n=ta(e);return null==t?n:St(n,(function(e){return yt(t,o,e)}))}var ra=Gr((function(e,t){return Wa(e)?ur(e,t):[]})),ia=Gr((function(e){return fi(Ot(e,Wa))})),oa=Gr((function(e){var t=Yo(e);return Wa(t)&&(t=o),fi(Ot(e,Wa),io(t,2))})),aa=Gr((function(e){var t=Yo(e);return t="function"==typeof t?t:o,fi(Ot(e,Wa),o,t)})),sa=Gr(ta),ua=Gr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,na(e,n)}));function la(e){var t=Fn(e);return t.__chain__=!0,t}function ca(e,t){return t(e)}var fa=$i((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return rr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Un&&vo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ca,args:[i],thisArg:o}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),da=Ti((function(e,t,n){Ie.call(e,n)?++e[n]:nr(e,n,1)})),ha=Ii(zo),pa=Ii(Uo);function va(e,t){return(Ua(e)?_t:lr)(e,io(t,3))}function ma(e,t){return(Ua(e)?wt:cr)(e,io(t,3))}var ga=Ti((function(e,t,n){Ie.call(e,n)?e[n].push(t):nr(e,n,[t])})),ya=Gr((function(e,t,n){var i=-1,o="function"==typeof t,a=Va(e)?r(e.length):[];return lr(e,(function(e){a[++i]=o?yt(t,e,n):Tr(e,t,n)})),a})),ba=Ti((function(e,t,n){nr(e,n,t)}));function _a(e,t){return(Ua(e)?St:Pr)(e,io(t,3))}var wa=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),xa=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,pr(t,1),[])})),Oa=jt||function(){return at.Date.now()};function ka(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Yi(e,c,o,o,o,o,t)}function Ea(e,t){var n;if("function"!=typeof t)throw new Ce(a);return e=fs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Sa=Gr((function(e,t,n){var r=1;if(n.length){var i=tn(n,ro(Sa));r|=l}return Yi(e,r,t,n,i)})),Ta=Gr((function(e,t,n){var r=3;if(n.length){var i=tn(n,ro(Ta));r|=l}return Yi(t,r,e,n,i)}));function Ca(e,t,n){var r,i,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ce(a);function v(t){var n=r,a=i;return r=i=o,f=t,u=e.apply(a,n)}function m(e){return f=e,l=Co(y,t),d?v(e):u}function g(e){var n=e-c;return c===o||n>=t||n<0||h&&e-f>=s}function y(){var e=Oa();if(g(e))return b(e);l=Co(y,function(e){var n=t-(e-c);return h?mn(n,s-(e-f)):n}(e))}function b(e){return l=o,p&&r?v(e):(r=i=o,u)}function _(){var e=Oa(),n=g(e);if(r=arguments,i=this,c=e,n){if(l===o)return m(c);if(h)return yi(l),l=Co(y,t),v(c)}return l===o&&(l=Co(y,t)),u}return t=hs(t)||0,Ja(n)&&(d=!!n.leading,s=(h="maxWait"in n)?vn(hs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),_.cancel=function(){l!==o&&yi(l),f=0,r=c=i=l=o},_.flush=function(){return l===o?u:b(Oa())},_}var Da=Gr((function(e,t){return sr(e,1,t)})),Aa=Gr((function(e,t,n){return sr(e,hs(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||Wn),n}function Na(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=Wn;var Ma=mi((function(e,t){var n=(t=1==t.length&&Ua(t[0])?St(t[0],Vt(io())):St(pr(t,1),Vt(io()))).length;return Gr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return yt(e,this,r)}))})),Ia=Gr((function(e,t){var n=tn(t,ro(Ia));return Yi(e,l,o,t,n)})),Pa=Gr((function(e,t){var n=tn(t,ro(Pa));return Yi(e,64,o,t,n)})),La=$i((function(e,t){return Yi(e,256,o,o,o,t)}));function Fa(e,t){return e===t||e!=e&&t!=t}var Ra=Hi(Or),Ba=Hi((function(e,t){return e>=t})),za=Cr(function(){return arguments}())?Cr:function(e){return $a(e)&&Ie.call(e,"callee")&&!tt.call(e,"callee")},Ua=r.isArray,Ha=dt?Vt(dt):function(e){return $a(e)&&xr(e)==N};function Va(e){return null!=e&&Xa(e.length)&&!Qa(e)}function Wa(e){return $a(e)&&Va(e)}var qa=fn||hu,Ga=ht?Vt(ht):function(e){return $a(e)&&xr(e)==b};function Ya(e){if(!$a(e))return!1;var t=xr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ts(e)}function Qa(e){if(!Ja(e))return!1;var t=xr(e);return t==w||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ka(e){return"number"==typeof e&&e==fs(e)}function Xa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Ja(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $a(e){return null!=e&&"object"==typeof e}var Za=pt?Vt(pt):function(e){return $a(e)&&co(e)==O};function es(e){return"number"==typeof e||$a(e)&&xr(e)==k}function ts(e){if(!$a(e)||xr(e)!=E)return!1;var t=Ye(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Re}var ns=vt?Vt(vt):function(e){return $a(e)&&xr(e)==T},rs=mt?Vt(mt):function(e){return $a(e)&&co(e)==C};function is(e){return"string"==typeof e||!Ua(e)&&$a(e)&&xr(e)==D}function os(e){return"symbol"==typeof e||$a(e)&&xr(e)==A}var as=gt?Vt(gt):function(e){return $a(e)&&Xa(e.length)&&!!Ze[xr(e)]},ss=Hi(Ir),us=Hi((function(e,t){return e<=t}));function ls(e){if(!e)return[];if(Va(e))return is(e)?on(e):Ei(e);if(st&&e[st])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[st]());var t=co(e);return(t==O?Zt:t==C?nn:Fs)(e)}function cs(e){return e?(e=hs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fs(e){var t=cs(e),n=t%1;return t==t?n?t-n:t:0}function ds(e){return e?ir(fs(e),0,p):0}function hs(e){if("number"==typeof e)return e;if(os(e))return h;if(Ja(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ja(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ie,"");var n=ve.test(e);return n||ge.test(e)?rt(e.slice(2),n?2:8):pe.test(e)?h:+e}function ps(e){return Si(e,Ds(e))}function vs(e){return null==e?"":oi(e)}var ms=Ci((function(e,t){if(_o(t)||Va(t))Si(t,Cs(t),e);else for(var n in t)Ie.call(t,n)&&$n(e,n,t[n])})),gs=Ci((function(e,t){Si(t,Ds(t),e)})),ys=Ci((function(e,t,n,r){Si(t,Ds(t),e,r)})),bs=Ci((function(e,t,n,r){Si(t,Cs(t),e,r)})),_s=$i(rr),ws=Gr((function(e,t){e=Ee(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&mo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===o||Fa(f,je[c])&&!Ie.call(e,c))&&(e[c]=a[c])}return e})),xs=Gr((function(e){return e.push(o,Ki),yt(js,o,e)}));function Os(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function ks(e,t){return null!=e&&fo(e,t,Er)}var Es=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),Js(eu)),Ss=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ie.call(e,t)?e[t].push(n):e[t]=[n]}),io),Ts=Gr(Tr);function Cs(e){return Va(e)?Yn(e):Mr(e)}function Ds(e){return Va(e)?Yn(e,!0):function(e){if(!Ja(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var r in e)("constructor"!=r||!t&&Ie.call(e,r))&&n.push(r);return n}(e)}var As=Ci((function(e,t,n){Rr(e,t,n)})),js=Ci((function(e,t,n,r){Rr(e,t,n,r)})),Ns=$i((function(e,t){var n={};if(null==e)return n;var r=!1;t=St(t,(function(t){return t=vi(t,e),r||(r=t.length>1),t})),Si(e,eo(e),n),r&&(n=or(n,7,Xi));for(var i=t.length;i--;)si(n,t[i]);return n})),Ms=$i((function(e,t){return null==e?{}:function(e,t){return Ur(e,t,(function(t,n){return ks(e,n)}))}(e,t)}));function Is(e,t){if(null==e)return{};var n=St(eo(e),(function(e){return[e]}));return t=io(t),Ur(e,n,(function(e,n){return t(e,n[0])}))}var Ps=Gi(Cs),Ls=Gi(Ds);function Fs(e){return null==e?[]:Wt(e,Cs(e))}var Rs=Ni((function(e,t,n){return t=t.toLowerCase(),e+(n?Bs(t):t)}));function Bs(e){return Ys(vs(e).toLowerCase())}function zs(e){return(e=vs(e))&&e.replace(be,Kt).replace(Ge,"")}var Us=Ni((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=Ni((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Vs=ji("toLowerCase"),Ws=Ni((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),qs=Ni((function(e,t,n){return e+(n?" ":"")+Ys(t)})),Gs=Ni((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=ji("toUpperCase");function Qs(e,t,n){return e=vs(e),(t=n?o:t)===o?function(e){return Xe.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Ks=Gr((function(e,t){try{return yt(e,o,t)}catch(e){return Ya(e)?e:new xe(e)}})),Xs=$i((function(e,t){return _t(t,(function(t){t=Io(t),nr(e,t,Sa(e[t],e))})),e}));function Js(e){return function(){return e}}var $s=Pi(),Zs=Pi(!0);function eu(e){return e}function tu(e){return Nr("function"==typeof e?e:or(e,1))}var nu=Gr((function(e,t){return function(n){return Tr(n,e,t)}})),ru=Gr((function(e,t){return function(n){return Tr(e,n,t)}}));function iu(e,t,n){var r=Cs(t),i=br(t,r);null!=n||Ja(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,Cs(t)));var o=!(Ja(n)&&"chain"in n&&!n.chain),a=Qa(e);return _t(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tt([this.value()],arguments))})})),e}function ou(){}var au=Bi(St),su=Bi(xt),uu=Bi(At);function lu(e){return go(e)?Rt(Io(e)):function(e){return function(t){return _r(t,e)}}(e)}var cu=Ui(),fu=Ui(!0);function du(){return[]}function hu(){return!1}var pu,vu=Ri((function(e,t){return e+t}),0),mu=Wi("ceil"),gu=Ri((function(e,t){return e/t}),1),yu=Wi("floor"),bu=Ri((function(e,t){return e*t}),1),_u=Wi("round"),wu=Ri((function(e,t){return e-t}),0);return Fn.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=fs(e),function(){if(--e<1)return t.apply(this,arguments)}},Fn.ary=ka,Fn.assign=ms,Fn.assignIn=gs,Fn.assignInWith=ys,Fn.assignWith=bs,Fn.at=_s,Fn.before=Ea,Fn.bind=Sa,Fn.bindAll=Xs,Fn.bindKey=Ta,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ua(e)?e:[e]},Fn.chain=la,Fn.chunk=function(e,t,n){t=(n?mo(e,t,n):t===o)?1:vn(fs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=r(un(i/t));a<i;)u[s++]=Zr(e,a,a+=t);return u},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt(Ua(n)?Ei(n):[n],pr(t,1))},Fn.cond=function(e){var t=null==e?0:e.length,n=io();return e=t?St(e,(function(e){if("function"!=typeof e[1])throw new Ce(a);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(yt(i[0],this,n))return yt(i[1],this,n)}}))},Fn.conforms=function(e){return function(e){var t=Cs(e);return function(n){return ar(n,e,t)}}(or(e,1))},Fn.constant=Js,Fn.countBy=da,Fn.create=function(e,t){var n=Rn(e);return null==t?n:tr(n,t)},Fn.curry=function e(t,n,r){var i=Yi(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Fn.curryRight=function e(t,n,r){var i=Yi(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Fn.debounce=Ca,Fn.defaults=ws,Fn.defaultsDeep=xs,Fn.defer=Da,Fn.delay=Aa,Fn.difference=Fo,Fn.differenceBy=Ro,Fn.differenceWith=Bo,Fn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Zr(e,(t=n||t===o?1:fs(t))<0?0:t,r):[]},Fn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Zr(e,0,(t=r-(t=n||t===o?1:fs(t)))<0?0:t):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?li(e,io(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?li(e,io(t,3),!0):[]},Fn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=fs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:fs(r))<0&&(r+=i),r=n>r?0:ds(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Fn.filter=function(e,t){return(Ua(e)?Ot:hr)(e,io(t,3))},Fn.flatMap=function(e,t){return pr(_a(e,t),1)},Fn.flatMapDeep=function(e,t){return pr(_a(e,t),f)},Fn.flatMapDepth=function(e,t,n){return n=n===o?1:fs(n),pr(_a(e,t),n)},Fn.flatten=Ho,Fn.flattenDeep=function(e){return null!=e&&e.length?pr(e,f):[]},Fn.flattenDepth=function(e,t){return null!=e&&e.length?pr(e,t=t===o?1:fs(t)):[]},Fn.flip=function(e){return Yi(e,512)},Fn.flow=$s,Fn.flowRight=Zs,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Fn.functions=function(e){return null==e?[]:br(e,Cs(e))},Fn.functionsIn=function(e){return null==e?[]:br(e,Ds(e))},Fn.groupBy=ga,Fn.initial=function(e){return null!=e&&e.length?Zr(e,0,-1):[]},Fn.intersection=Wo,Fn.intersectionBy=qo,Fn.intersectionWith=Go,Fn.invert=Es,Fn.invertBy=Ss,Fn.invokeMap=ya,Fn.iteratee=tu,Fn.keyBy=ba,Fn.keys=Cs,Fn.keysIn=Ds,Fn.map=_a,Fn.mapKeys=function(e,t){var n={};return t=io(t,3),gr(e,(function(e,r,i){nr(n,t(e,r,i),e)})),n},Fn.mapValues=function(e,t){var n={};return t=io(t,3),gr(e,(function(e,r,i){nr(n,r,t(e,r,i))})),n},Fn.matches=function(e){return Lr(or(e,1))},Fn.matchesProperty=function(e,t){return Fr(e,or(t,1))},Fn.memoize=ja,Fn.merge=As,Fn.mergeWith=js,Fn.method=nu,Fn.methodOf=ru,Fn.mixin=iu,Fn.negate=Na,Fn.nthArg=function(e){return e=fs(e),Gr((function(t){return Br(t,e)}))},Fn.omit=Ns,Fn.omitBy=function(e,t){return Is(e,Na(io(t)))},Fn.once=function(e){return Ea(2,e)},Fn.orderBy=function(e,t,n,r){return null==e?[]:(Ua(t)||(t=null==t?[]:[t]),Ua(n=r?o:n)||(n=null==n?[]:[n]),zr(e,t,n))},Fn.over=au,Fn.overArgs=Ma,Fn.overEvery=su,Fn.overSome=uu,Fn.partial=Ia,Fn.partialRight=Pa,Fn.partition=wa,Fn.pick=Ms,Fn.pickBy=Is,Fn.property=lu,Fn.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},Fn.pull=Qo,Fn.pullAll=Ko,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,io(n,2)):e},Fn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,o,n):e},Fn.pullAt=Xo,Fn.range=cu,Fn.rangeRight=fu,Fn.rearg=La,Fn.reject=function(e,t){return(Ua(e)?Ot:hr)(e,Na(io(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=io(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Vr(e,i),n},Fn.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Gr(e,t=t===o?t:fs(t))},Fn.reverse=Jo,Fn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===o)?1:fs(t),(Ua(e)?Kn:Qr)(e,t)},Fn.set=function(e,t,n){return null==e?e:Kr(e,t,n)},Fn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Kr(e,t,n,r)},Fn.shuffle=function(e){return(Ua(e)?Xn:$r)(e)},Fn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=r):(t=null==t?0:fs(t),n=n===o?r:fs(n)),Zr(e,t,n)):[]},Fn.sortBy=xa,Fn.sortedUniq=function(e){return e&&e.length?ri(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?ri(e,io(t,2)):[]},Fn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=o),(n=n===o?p:n>>>0)?(e=vs(e))&&("string"==typeof t||null!=t&&!ns(t))&&!(t=oi(t))&&$t(e)?gi(on(e),0,n):e.split(t,n):[]},Fn.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:vn(fs(t),0),Gr((function(n){var r=n[t],i=gi(n,0,t);return r&&Tt(i,r),yt(e,this,i)}))},Fn.tail=function(e){var t=null==e?0:e.length;return t?Zr(e,1,t):[]},Fn.take=function(e,t,n){return e&&e.length?Zr(e,0,(t=n||t===o?1:fs(t))<0?0:t):[]},Fn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Zr(e,(t=r-(t=n||t===o?1:fs(t)))<0?0:t,r):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?li(e,io(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?li(e,io(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return Ja(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ca(e,t,{leading:r,maxWait:t,trailing:i})},Fn.thru=ca,Fn.toArray=ls,Fn.toPairs=Ps,Fn.toPairsIn=Ls,Fn.toPath=function(e){return Ua(e)?St(e,Io):os(e)?[e]:Ei(Mo(vs(e)))},Fn.toPlainObject=ps,Fn.transform=function(e,t,n){var r=Ua(e),i=r||qa(e)||as(e);if(t=io(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ja(e)&&Qa(o)?Rn(Ye(e)):{}}return(i?_t:gr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Fn.unary=function(e){return ka(e,1)},Fn.union=$o,Fn.unionBy=Zo,Fn.unionWith=ea,Fn.uniq=function(e){return e&&e.length?ai(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?ai(e,io(t,2)):[]},Fn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ai(e,o,t):[]},Fn.unset=function(e,t){return null==e||si(e,t)},Fn.unzip=ta,Fn.unzipWith=na,Fn.update=function(e,t,n){return null==e?e:ui(e,t,pi(n))},Fn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ui(e,t,pi(n),r)},Fn.values=Fs,Fn.valuesIn=function(e){return null==e?[]:Wt(e,Ds(e))},Fn.without=ra,Fn.words=Qs,Fn.wrap=function(e,t){return Ia(pi(t),e)},Fn.xor=ia,Fn.xorBy=oa,Fn.xorWith=aa,Fn.zip=sa,Fn.zipObject=function(e,t){return di(e||[],t||[],$n)},Fn.zipObjectDeep=function(e,t){return di(e||[],t||[],Kr)},Fn.zipWith=ua,Fn.entries=Ps,Fn.entriesIn=Ls,Fn.extend=gs,Fn.extendWith=ys,iu(Fn,Fn),Fn.add=vu,Fn.attempt=Ks,Fn.camelCase=Rs,Fn.capitalize=Bs,Fn.ceil=mu,Fn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=hs(n))==n?n:0),t!==o&&(t=(t=hs(t))==t?t:0),ir(hs(e),t,n)},Fn.clone=function(e){return or(e,4)},Fn.cloneDeep=function(e){return or(e,5)},Fn.cloneDeepWith=function(e,t){return or(e,5,t="function"==typeof t?t:o)},Fn.cloneWith=function(e,t){return or(e,4,t="function"==typeof t?t:o)},Fn.conformsTo=function(e,t){return null==t||ar(e,t,Cs(t))},Fn.deburr=zs,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=gu,Fn.endsWith=function(e,t,n){e=vs(e),t=oi(t);var r=e.length,i=n=n===o?r:ir(fs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Fn.eq=Fa,Fn.escape=function(e){return(e=vs(e))&&K.test(e)?e.replace(Y,Xt):e},Fn.escapeRegExp=function(e){return(e=vs(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Fn.every=function(e,t,n){var r=Ua(e)?xt:fr;return n&&mo(e,t,n)&&(t=o),r(e,io(t,3))},Fn.find=ha,Fn.findIndex=zo,Fn.findKey=function(e,t){return Nt(e,io(t,3),gr)},Fn.findLast=pa,Fn.findLastIndex=Uo,Fn.findLastKey=function(e,t){return Nt(e,io(t,3),yr)},Fn.floor=yu,Fn.forEach=va,Fn.forEachRight=ma,Fn.forIn=function(e,t){return null==e?e:vr(e,io(t,3),Ds)},Fn.forInRight=function(e,t){return null==e?e:mr(e,io(t,3),Ds)},Fn.forOwn=function(e,t){return e&&gr(e,io(t,3))},Fn.forOwnRight=function(e,t){return e&&yr(e,io(t,3))},Fn.get=Os,Fn.gt=Ra,Fn.gte=Ba,Fn.has=function(e,t){return null!=e&&fo(e,t,kr)},Fn.hasIn=ks,Fn.head=Vo,Fn.identity=eu,Fn.includes=function(e,t,n,r){e=Va(e)?e:Fs(e),n=n&&!r?fs(n):0;var i=e.length;return n<0&&(n=vn(i+n,0)),is(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&It(e,t,n)>-1},Fn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fs(n);return i<0&&(i=vn(r+i,0)),It(e,t,i)},Fn.inRange=function(e,t,n){return t=cs(t),n===o?(n=t,t=0):n=cs(n),function(e,t,n){return e>=mn(t,n)&&e<vn(t,n)}(e=hs(e),t,n)},Fn.invoke=Ts,Fn.isArguments=za,Fn.isArray=Ua,Fn.isArrayBuffer=Ha,Fn.isArrayLike=Va,Fn.isArrayLikeObject=Wa,Fn.isBoolean=function(e){return!0===e||!1===e||$a(e)&&xr(e)==y},Fn.isBuffer=qa,Fn.isDate=Ga,Fn.isElement=function(e){return $a(e)&&1===e.nodeType&&!ts(e)},Fn.isEmpty=function(e){if(null==e)return!0;if(Va(e)&&(Ua(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||as(e)||za(e)))return!e.length;var t=co(e);if(t==O||t==C)return!e.size;if(_o(e))return!Mr(e).length;for(var n in e)if(Ie.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return Dr(e,t)},Fn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Dr(e,t,o,n):!!r},Fn.isError=Ya,Fn.isFinite=function(e){return"number"==typeof e&&dn(e)},Fn.isFunction=Qa,Fn.isInteger=Ka,Fn.isLength=Xa,Fn.isMap=Za,Fn.isMatch=function(e,t){return e===t||Ar(e,t,ao(t))},Fn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Ar(e,t,ao(t),n)},Fn.isNaN=function(e){return es(e)&&e!=+e},Fn.isNative=function(e){if(bo(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=es,Fn.isObject=Ja,Fn.isObjectLike=$a,Fn.isPlainObject=ts,Fn.isRegExp=ns,Fn.isSafeInteger=function(e){return Ka(e)&&e>=-9007199254740991&&e<=d},Fn.isSet=rs,Fn.isString=is,Fn.isSymbol=os,Fn.isTypedArray=as,Fn.isUndefined=function(e){return e===o},Fn.isWeakMap=function(e){return $a(e)&&co(e)==j},Fn.isWeakSet=function(e){return $a(e)&&"[object WeakSet]"==xr(e)},Fn.join=function(e,t){return null==e?"":hn.call(e,t)},Fn.kebabCase=Us,Fn.last=Yo,Fn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=fs(n))<0?vn(r+i,0):mn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Mt(e,Lt,i,!0)},Fn.lowerCase=Hs,Fn.lowerFirst=Vs,Fn.lt=ss,Fn.lte=us,Fn.max=function(e){return e&&e.length?dr(e,eu,Or):o},Fn.maxBy=function(e,t){return e&&e.length?dr(e,io(t,2),Or):o},Fn.mean=function(e){return Ft(e,eu)},Fn.meanBy=function(e,t){return Ft(e,io(t,2))},Fn.min=function(e){return e&&e.length?dr(e,eu,Ir):o},Fn.minBy=function(e,t){return e&&e.length?dr(e,io(t,2),Ir):o},Fn.stubArray=du,Fn.stubFalse=hu,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=bu,Fn.nth=function(e,t){return e&&e.length?Br(e,fs(t)):o},Fn.noConflict=function(){return at._===this&&(at._=Be),this},Fn.noop=ou,Fn.now=Oa,Fn.pad=function(e,t,n){e=vs(e);var r=(t=fs(t))?rn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return zi(ln(i),n)+e+zi(un(i),n)},Fn.padEnd=function(e,t,n){e=vs(e);var r=(t=fs(t))?rn(e):0;return t&&r<t?e+zi(t-r,n):e},Fn.padStart=function(e,t,n){e=vs(e);var r=(t=fs(t))?rn(e):0;return t&&r<t?zi(t-r,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(vs(e).replace(oe,""),t||0)},Fn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=cs(e),t===o?(t=e,e=0):t=cs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=bn();return mn(e+i*(t-e+nt("1e-"+((i+"").length-1))),t)}return Wr(e,t)},Fn.reduce=function(e,t,n){var r=Ua(e)?Ct:zt,i=arguments.length<3;return r(e,io(t,4),n,i,lr)},Fn.reduceRight=function(e,t,n){var r=Ua(e)?Dt:zt,i=arguments.length<3;return r(e,io(t,4),n,i,cr)},Fn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===o)?1:fs(t),qr(vs(e),t)},Fn.replace=function(){var e=arguments,t=vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(e,t,n){var r=-1,i=(t=vi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Io(t[r])];a===o&&(r=i,a=n),e=Qa(a)?a.call(e):a}return e},Fn.round=_u,Fn.runInContext=e,Fn.sample=function(e){return(Ua(e)?Qn:Yr)(e)},Fn.size=function(e){if(null==e)return 0;if(Va(e))return is(e)?rn(e):e.length;var t=co(e);return t==O||t==C?e.size:Mr(e).length},Fn.snakeCase=Ws,Fn.some=function(e,t,n){var r=Ua(e)?At:ei;return n&&mo(e,t,n)&&(t=o),r(e,io(t,3))},Fn.sortedIndex=function(e,t){return ti(e,t)},Fn.sortedIndexBy=function(e,t,n){return ni(e,t,io(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ti(e,t);if(r<n&&Fa(e[r],t))return r}return-1},Fn.sortedLastIndex=function(e,t){return ti(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return ni(e,t,io(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ti(e,t,!0)-1;if(Fa(e[n],t))return n}return-1},Fn.startCase=qs,Fn.startsWith=function(e,t,n){return e=vs(e),n=null==n?0:ir(fs(n),0,e.length),t=oi(t),e.slice(n,n+t.length)==t},Fn.subtract=wu,Fn.sum=function(e){return e&&e.length?Ut(e,eu):0},Fn.sumBy=function(e,t){return e&&e.length?Ut(e,io(t,2)):0},Fn.template=function(e,t,n){var r=Fn.templateSettings;n&&mo(e,t,n)&&(t=o),e=vs(e),t=ys({},t,r,Qi);var i,a,s=ys({},t.imports,r.imports,Qi),u=Cs(s),l=Wt(s,u),c=0,f=t.interpolate||_e,d="__p += '",h=Se((t.escape||_e).source+"|"+f.source+"|"+(f===$?de:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$e+"]")+"\n";e.replace(h,(function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(c,u).replace(we,Jt),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var v=Ie.call(t,"variable")&&t.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(V,""):d).replace(W,"$1").replace(q,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ks((function(){return Oe(u,p+"return "+d).apply(o,l)}));if(m.source=d,Ya(m))throw m;return m},Fn.times=function(e,t){if((e=fs(e))<1||e>d)return[];var n=p,r=mn(e,p);t=io(t),e-=p;for(var i=Ht(r,t);++n<e;)t(n);return i},Fn.toFinite=cs,Fn.toInteger=fs,Fn.toLength=ds,Fn.toLower=function(e){return vs(e).toLowerCase()},Fn.toNumber=hs,Fn.toSafeInteger=function(e){return e?ir(fs(e),-9007199254740991,d):0===e?e:0},Fn.toString=vs,Fn.toUpper=function(e){return vs(e).toUpperCase()},Fn.trim=function(e,t,n){if((e=vs(e))&&(n||t===o))return e.replace(ie,"");if(!e||!(t=oi(t)))return e;var r=on(e),i=on(t);return gi(r,Gt(r,i),Yt(r,i)+1).join("")},Fn.trimEnd=function(e,t,n){if((e=vs(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=oi(t)))return e;var r=on(e);return gi(r,0,Yt(r,on(t))+1).join("")},Fn.trimStart=function(e,t,n){if((e=vs(e))&&(n||t===o))return e.replace(oe,"");if(!e||!(t=oi(t)))return e;var r=on(e);return gi(r,Gt(r,on(t))).join("")},Fn.truncate=function(e,t){var n=30,r="...";if(Ja(t)){var i="separator"in t?t.separator:i;n="length"in t?fs(t.length):n,r="omission"in t?oi(t.omission):r}var a=(e=vs(e)).length;if($t(e)){var s=on(e);a=s.length}if(n>=a)return e;var u=n-rn(r);if(u<1)return r;var l=s?gi(s,0,u).join(""):e.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),ns(i)){if(e.slice(u).search(i)){var c,f=l;for(i.global||(i=Se(i.source,vs(he.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(e.indexOf(oi(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Fn.unescape=function(e){return(e=vs(e))&&Q.test(e)?e.replace(G,an):e},Fn.uniqueId=function(e){var t=++Pe;return vs(e)+t},Fn.upperCase=Gs,Fn.upperFirst=Ys,Fn.each=va,Fn.eachRight=ma,Fn.first=Vo,iu(Fn,(pu={},gr(Fn,(function(e,t){Ie.call(Fn.prototype,t)||(pu[t]=e)})),pu),{chain:!1}),Fn.VERSION="4.17.20",_t(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fn[e].placeholder=Fn})),_t(["drop","take"],(function(e,t){Un.prototype[e]=function(n){n=n===o?1:vn(fs(n),0);var r=this.__filtered__&&!t?new Un(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},Un.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),_t(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Un.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:io(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),_t(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Un.prototype[e]=function(){return this[n](1).value()[0]}})),_t(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Un.prototype[e]=function(){return this.__filtered__?new Un(this):this[n](1)}})),Un.prototype.compact=function(){return this.filter(eu)},Un.prototype.find=function(e){return this.filter(e).head()},Un.prototype.findLast=function(e){return this.reverse().find(e)},Un.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new Un(this):this.map((function(n){return Tr(n,e,t)}))})),Un.prototype.reject=function(e){return this.filter(Na(io(e)))},Un.prototype.slice=function(e,t){e=fs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Un(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=fs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Un.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Un.prototype.toArray=function(){return this.take(p)},gr(Un.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Fn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Fn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Un,l=s[0],c=u||Ua(t),f=function(e){var t=i.apply(Fn,Tt([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&c){t=v?t:new Un(this);var m=e.apply(t,s);return m.__actions__.push({func:ca,args:[f],thisArg:o}),new zn(m,d)}return p&&v?e.apply(this,s):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),_t(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ua(i)?i:[],e)}return this[n]((function(n){return t.apply(Ua(n)?n:[],e)}))}})),gr(Un.prototype,(function(e,t){var n=Fn[t];if(n){var r=n.name+"";Ie.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}})),Cn[Li(o,2).name]=[{name:"wrapper",func:o}],Un.prototype.clone=function(){var e=new Un(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e},Un.prototype.reverse=function(){if(this.__filtered__){var e=new Un(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Un.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ua(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=mn(t,e+a);break;case"takeRight":e=vn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=mn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return ci(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,m=e[l+=t];++v<f;){var g=c[v],y=g.iteratee,b=g.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}p[d++]=m}return p},Fn.prototype.at=fa,Fn.prototype.chain=function(){return la(this)},Fn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===o&&(this.__values__=ls(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Fn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Lo(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Un){var t=e;return this.__actions__.length&&(t=new Un(this)),(t=t.reverse()).__actions__.push({func:ca,args:[Jo],thisArg:o}),new zn(t,this.__chain__)}return this.thru(Jo)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return ci(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,st&&(Fn.prototype[st]=function(){return this}),Fn}();at._=sn,(i=function(){return sn}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(91),n(92)(e))},1:function(e,t){e.exports=r},100:function(e,t,n){"use strict";n.r(t),n.d(t,"bisect",(function(){return u})),n.d(t,"bisectRight",(function(){return a})),n.d(t,"bisectLeft",(function(){return s})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return f})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return v})),n.d(t,"extent",(function(){return m})),n.d(t,"histogram",(function(){return A})),n.d(t,"thresholdFreedmanDiaconis",(function(){return N})),n.d(t,"thresholdScott",(function(){return M})),n.d(t,"thresholdSturges",(function(){return D})),n.d(t,"max",(function(){return I})),n.d(t,"mean",(function(){return P})),n.d(t,"median",(function(){return L})),n.d(t,"merge",(function(){return F})),n.d(t,"min",(function(){return R})),n.d(t,"pairs",(function(){return l})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return j})),n.d(t,"range",(function(){return x})),n.d(t,"scan",(function(){return z})),n.d(t,"shuffle",(function(){return U})),n.d(t,"sum",(function(){return H})),n.d(t,"ticks",(function(){return S})),n.d(t,"tickIncrement",(function(){return T})),n.d(t,"tickStep",(function(){return C})),n.d(t,"transpose",(function(){return V})),n.d(t,"variance",(function(){return p})),n.d(t,"zip",(function(){return q}));var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},o=i(r),a=o.right,s=o.left,u=a,l=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function c(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,u=t.length,l=new Array(s*u);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=e[r],i=0;i<u;++i,++o)l[o]=n(a,t[i]);return l},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,u=0;if(null==t)for(;++a<i;)isNaN(n=h(e[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=h(t(e[a],a,e)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},v=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},m=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,b=g.map,_=function(e){return function(){return e}},w=function(e){return e},x=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},O=Math.sqrt(50),k=Math.sqrt(10),E=Math.sqrt(2),S=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=T(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function T(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=O?10:o>=k?5:o>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=O?10:o>=k?5:o>=E?2:1)}function C(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=O?i*=10:o>=k?i*=5:o>=E&&(i*=2),t<e?-i:i}var D=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},A=function(){var e=w,t=m,n=D;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var l=t(s),c=l[0],f=l[1],d=n(s,c,f);Array.isArray(d)||(d=C(c,f,d),d=x(Math.ceil(c/d)*d,f,d));for(var h=d.length;d[0]<=c;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var p,v=new Array(h+1);for(i=0;i<=h;++i)(p=v[i]=[]).x0=i>0?d[i-1]:c,p.x1=i<h?d[i]:f;for(i=0;i<a;++i)c<=(o=s[i])&&o<=f&&v[u(d,o,0,h)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:_(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:_([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?_(y.call(e)):_(e),r):n},r},j=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},N=function(e,t,n){return e=b.call(e,h).sort(r),Math.ceil((n-t)/(2*(j(e,.75)-j(e,.25))*Math.pow(e.length,-1/3)))},M=function(e,t,n){return Math.ceil((n-t)/(3.5*v(e)*Math.pow(e.length,-1/3)))},I=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},P=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=h(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=h(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},L=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=h(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=h(t(e[o],o,e)))||a.push(n);return j(a.sort(r),.5)},F=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},R=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},U=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},H=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},V=function(e){if(!(i=e.length))return[];for(var t=-1,n=R(e,W),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function W(e){return e.length}var q=function(){return V(arguments)}},101:function(e,t,n){"use strict";n.r(t),n.d(t,"nest",(function(){return s})),n.d(t,"set",(function(){return v})),n.d(t,"map",(function(){return a})),n.d(t,"keys",(function(){return m})),n.d(t,"values",(function(){return g})),n.d(t,"entries",(function(){return y}));var r="$";function i(){}function o(e,t){var n=new i;if(e instanceof i)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(r=e[o],o,e),r)}else if(e)for(var s in e)n.set(s,e[s]);return n}i.prototype=o.prototype={constructor:i,has:function(e){return r+e in this},get:function(e){return this[r+e]},set:function(e,t){return this[r+e]=t,this},remove:function(e){var t=r+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===r&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===r&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===r&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===r&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===r&&++e;return e},empty:function(){for(var e in this)if(e[0]===r)return!1;return!0},each:function(e){for(var t in this)t[0]===r&&e(this[t],t.slice(1),this)}};var a=o,s=function(){var e,t,n,r=[],i=[];function o(n,i,s,u){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var l,c,f,d=-1,h=n.length,p=r[i++],v=a(),m=s();++d<h;)(f=v.get(l=p(c=n[d])+""))?f.push(c):v.set(l,[c]);return v.each((function(e,t){u(m,t,o(e,i,s,u))})),m}function s(e,n){if(++n>r.length)return e;var o,a=i[n-1];return null!=t&&n>=r.length?o=e.entries():(o=[],e.each((function(e,t){o.push({key:t,values:s(e,n)})}))),null!=a?o.sort((function(e,t){return a(e.key,t.key)})):o}return n={object:function(e){return o(e,0,u,l)},map:function(e){return o(e,0,c,f)},entries:function(e){return s(o(e,0,c,f),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function u(){return{}}function l(e,t,n){e[t]=n}function c(){return a()}function f(e,t,n){e.set(t,n)}function d(){}var h=a.prototype;function p(e,t){var n=new d;if(e instanceof d)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}d.prototype=p.prototype={constructor:d,has:h.has,add:function(e){return this[r+(e+="")]=e,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each};var v=p,m=function(e){var t=[];for(var n in e)t.push(n);return t},g=function(e){var t=[];for(var n in e)t.push(e[n]);return t},y=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}},13:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){!function(e,t,n,r,i){"use strict";function o(e){return e.target.depth}function a(e,t){return e.sourceLinks.length?e.depth:t-1}function s(e){return function(){return e}}i=i&&i.hasOwnProperty("default")?i.default:i;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,t){return f(e.source,t.source)||e.index-t.index}function c(e,t){return f(e.target,t.target)||e.index-t.index}function f(e,t){return e.partOfCycle===t.partOfCycle?e.y0-t.y0:"top"===e.circularLinkType||"bottom"===t.circularLinkType?-1:1}function d(e){return e.value}function h(e){return(e.y0+e.y1)/2}function p(e){return h(e.source)}function v(e){return h(e.target)}function m(e){return e.index}function g(e){return e.nodes}function y(e){return e.links}function b(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function w(e,t){return t(e)}var x=25,O=10;function k(e,t,n){var r=0;if(null===n){for(var o=[],a=0;a<e.links.length;a++){var s=e.links[a],u=s.source.index,l=s.target.index;o[u]||(o[u]=[]),o[l]||(o[l]=[]),-1===o[u].indexOf(l)&&o[u].push(l)}var c=i(o);c.sort((function(e,t){return e.length-t.length}));var f={};for(a=0;a<c.length;a++){var d=c[a].slice(-2);f[d[0]]||(f[d[0]]={}),f[d[0]][d[1]]=!0}e.links.forEach((function(e){e.target.index,e.source.index,e.target.depthLevel<=e.source.depthLevel?(e.circular=!0,e.circularLinkID=r,r+=1):e.circular=!1}))}else e.links.forEach((function(e){e.source[n]<e.target[n]?e.circular=!1:(e.circular=!0,e.circularLinkID=r,r+=1)}))}function E(e,t){var n=0,r=0;e.links.forEach((function(i){i.circular&&(i.source.circularLinkType||i.target.circularLinkType?i.circularLinkType=i.source.circularLinkType?i.source.circularLinkType:i.target.circularLinkType:i.circularLinkType=n<r?"top":"bottom","top"==i.circularLinkType?n+=1:r+=1,e.nodes.forEach((function(e){w(e,t)!=w(i.source,t)&&w(e,t)!=w(i.target,t)||(e.circularLinkType=i.circularLinkType)})))})),e.links.forEach((function(e){e.circular&&(e.source.circularLinkType==e.target.circularLinkType&&(e.circularLinkType=e.source.circularLinkType),Q(e,t)&&(e.circularLinkType=e.source.circularLinkType))}))}function S(e){var t=Math.abs(e.y1-e.y0),n=Math.abs(e.target.x0-e.source.x1);return Math.atan(n/t)}function T(e,t){return!(e.source.column<t.target.column||e.target.column>t.source.column)}function C(e,t){var n=0;e.sourceLinks.forEach((function(e){n=e.circular&&!Q(e,t)?n+1:n}));var r=0;return e.targetLinks.forEach((function(e){r=e.circular&&!Q(e,t)?r+1:r})),n+r}function D(e){var t=e.source.sourceLinks,n=0;t.forEach((function(e){n=e.circular?n+1:n}));var r=e.target.targetLinks,i=0;return r.forEach((function(e){i=e.circular?i+1:i})),!(n>1||i>1)}function A(e,t,n){return e.sort(N),e.forEach((function(r,i){var o=0;if(Q(r,n)&&D(r))r.circularPathData.verticalBuffer=o+r.width/2;else{for(var a=0;a<i;a++)if(T(e[i],e[a])){var s=e[a].circularPathData.verticalBuffer+e[a].width/2+t;o=s>o?s:o}r.circularPathData.verticalBuffer=o+r.width/2}})),e}function j(e,n,i,o){var a=t.min(e.links,(function(e){return e.source.y0}));e.links.forEach((function(e){e.circular&&(e.circularPathData={})})),A(e.links.filter((function(e){return"top"==e.circularLinkType})),n,o),A(e.links.filter((function(e){return"bottom"==e.circularLinkType})),n,o),e.links.forEach((function(t){if(t.circular){if(t.circularPathData.arcRadius=t.width+O,t.circularPathData.leftNodeBuffer=5,t.circularPathData.rightNodeBuffer=5,t.circularPathData.sourceWidth=t.source.x1-t.source.x0,t.circularPathData.sourceX=t.source.x0+t.circularPathData.sourceWidth,t.circularPathData.targetX=t.target.x0,t.circularPathData.sourceY=t.y0,t.circularPathData.targetY=t.y1,Q(t,o)&&D(t))t.circularPathData.leftSmallArcRadius=O+t.width/2,t.circularPathData.leftLargeArcRadius=O+t.width/2,t.circularPathData.rightSmallArcRadius=O+t.width/2,t.circularPathData.rightLargeArcRadius=O+t.width/2,"bottom"==t.circularLinkType?(t.circularPathData.verticalFullExtent=t.source.y1+x+t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.rightLargeArcRadius):(t.circularPathData.verticalFullExtent=t.source.y0-x-t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.rightLargeArcRadius);else{var s=t.source.column,u=t.circularLinkType,l=e.links.filter((function(e){return e.source.column==s&&e.circularLinkType==u}));"bottom"==t.circularLinkType?l.sort(I):l.sort(M);var c=0;l.forEach((function(e,r){e.circularLinkID==t.circularLinkID&&(t.circularPathData.leftSmallArcRadius=O+t.width/2+c,t.circularPathData.leftLargeArcRadius=O+t.width/2+r*n+c),c+=e.width})),s=t.target.column,l=e.links.filter((function(e){return e.target.column==s&&e.circularLinkType==u})),"bottom"==t.circularLinkType?l.sort(L):l.sort(P),c=0,l.forEach((function(e,r){e.circularLinkID==t.circularLinkID&&(t.circularPathData.rightSmallArcRadius=O+t.width/2+c,t.circularPathData.rightLargeArcRadius=O+t.width/2+r*n+c),c+=e.width})),"bottom"==t.circularLinkType?(t.circularPathData.verticalFullExtent=Math.max(i,t.source.y1,t.target.y1)+x+t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.rightLargeArcRadius):(t.circularPathData.verticalFullExtent=a-x-t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.rightLargeArcRadius)}t.circularPathData.leftInnerExtent=t.circularPathData.sourceX+t.circularPathData.leftNodeBuffer,t.circularPathData.rightInnerExtent=t.circularPathData.targetX-t.circularPathData.rightNodeBuffer,t.circularPathData.leftFullExtent=t.circularPathData.sourceX+t.circularPathData.leftLargeArcRadius+t.circularPathData.leftNodeBuffer,t.circularPathData.rightFullExtent=t.circularPathData.targetX-t.circularPathData.rightLargeArcRadius-t.circularPathData.rightNodeBuffer}if(t.circular)t.path=function(e){return"top"==e.circularLinkType?"M"+e.circularPathData.sourceX+" "+e.circularPathData.sourceY+" L"+e.circularPathData.leftInnerExtent+" "+e.circularPathData.sourceY+" A"+e.circularPathData.leftLargeArcRadius+" "+e.circularPathData.leftSmallArcRadius+" 0 0 0 "+e.circularPathData.leftFullExtent+" "+(e.circularPathData.sourceY-e.circularPathData.leftSmallArcRadius)+" L"+e.circularPathData.leftFullExtent+" "+e.circularPathData.verticalLeftInnerExtent+" A"+e.circularPathData.leftLargeArcRadius+" "+e.circularPathData.leftLargeArcRadius+" 0 0 0 "+e.circularPathData.leftInnerExtent+" "+e.circularPathData.verticalFullExtent+" L"+e.circularPathData.rightInnerExtent+" "+e.circularPathData.verticalFullExtent+" A"+e.circularPathData.rightLargeArcRadius+" "+e.circularPathData.rightLargeArcRadius+" 0 0 0 "+e.circularPathData.rightFullExtent+" "+e.circularPathData.verticalRightInnerExtent+" L"+e.circularPathData.rightFullExtent+" "+(e.circularPathData.targetY-e.circularPathData.rightSmallArcRadius)+" A"+e.circularPathData.rightLargeArcRadius+" "+e.circularPathData.rightSmallArcRadius+" 0 0 0 "+e.circularPathData.rightInnerExtent+" "+e.circularPathData.targetY+" L"+e.circularPathData.targetX+" "+e.circularPathData.targetY:"M"+e.circularPathData.sourceX+" "+e.circularPathData.sourceY+" L"+e.circularPathData.leftInnerExtent+" "+e.circularPathData.sourceY+" A"+e.circularPathData.leftLargeArcRadius+" "+e.circularPathData.leftSmallArcRadius+" 0 0 1 "+e.circularPathData.leftFullExtent+" "+(e.circularPathData.sourceY+e.circularPathData.leftSmallArcRadius)+" L"+e.circularPathData.leftFullExtent+" "+e.circularPathData.verticalLeftInnerExtent+" A"+e.circularPathData.leftLargeArcRadius+" "+e.circularPathData.leftLargeArcRadius+" 0 0 1 "+e.circularPathData.leftInnerExtent+" "+e.circularPathData.verticalFullExtent+" L"+e.circularPathData.rightInnerExtent+" "+e.circularPathData.verticalFullExtent+" A"+e.circularPathData.rightLargeArcRadius+" "+e.circularPathData.rightLargeArcRadius+" 0 0 1 "+e.circularPathData.rightFullExtent+" "+e.circularPathData.verticalRightInnerExtent+" L"+e.circularPathData.rightFullExtent+" "+(e.circularPathData.targetY+e.circularPathData.rightSmallArcRadius)+" A"+e.circularPathData.rightLargeArcRadius+" "+e.circularPathData.rightSmallArcRadius+" 0 0 1 "+e.circularPathData.rightInnerExtent+" "+e.circularPathData.targetY+" L"+e.circularPathData.targetX+" "+e.circularPathData.targetY}(t);else{var f=r.linkHorizontal().source((function(e){return[e.source.x0+(e.source.x1-e.source.x0),e.y0]})).target((function(e){return[e.target.x0,e.y1]}));t.path=f(t)}}))}function N(e,t){return F(e)==F(t)?"bottom"==e.circularLinkType?I(e,t):M(e,t):F(t)-F(e)}function M(e,t){return e.y0-t.y0}function I(e,t){return t.y0-e.y0}function P(e,t){return e.y1-t.y1}function L(e,t){return t.y1-e.y1}function F(e){return e.target.column-e.source.column}function R(e){return e.target.x0-e.source.x1}function B(e,t){var n=S(e),r=R(t)/Math.tan(n);return"up"==Y(e)?e.y1+r:e.y1-r}function z(e,t){var n=S(e),r=R(t)/Math.tan(n);return"up"==Y(e)?e.y1-r:e.y1+r}function U(e,t,n,r){e.links.forEach((function(i){if(!i.circular&&i.target.column-i.source.column>1){var o=i.source.column+1,a=i.target.column-1,s=1,u=a-o+1;for(s=1;o<=a;o++,s++)e.nodes.forEach((function(a){if(a.column==o){var l,c=s/(u+1),f=Math.pow(1-c,3),d=3*c*Math.pow(1-c,2),h=3*Math.pow(c,2)*(1-c),p=Math.pow(c,3),v=f*i.y0+d*i.y0+h*i.y1+p*i.y1,m=v-i.width/2,g=v+i.width/2;m>a.y0&&m<a.y1?(l=a.y1-m+10,l="bottom"==a.circularLinkType?l:-l,a=V(a,l,t,n),e.nodes.forEach((function(e){w(e,r)!=w(a,r)&&e.column==a.column&&H(a,e)&&V(e,l,t,n)}))):(g>a.y0&&g<a.y1||m<a.y0&&g>a.y1)&&(l=g-a.y0+10,a=V(a,l,t,n),e.nodes.forEach((function(e){w(e,r)!=w(a,r)&&e.column==a.column&&e.y0<a.y1&&e.y1>a.y1&&V(e,l,t,n)})))}}))}}))}function H(e,t){return e.y0>t.y0&&e.y0<t.y1||e.y1>t.y0&&e.y1<t.y1||e.y0<t.y0&&e.y1>t.y1}function V(e,t,n,r){return e.y0+t>=n&&e.y1+t<=r&&(e.y0=e.y0+t,e.y1=e.y1+t,e.targetLinks.forEach((function(e){e.y1=e.y1+t})),e.sourceLinks.forEach((function(e){e.y0=e.y0+t}))),e}function W(e,t,n,r){e.nodes.forEach((function(i){r&&i.y+(i.y1-i.y0)>t&&(i.y=i.y-(i.y+(i.y1-i.y0)-t));var o=e.links.filter((function(e){return w(e.source,n)==w(i,n)})),a=o.length;a>1&&o.sort((function(e,t){if(!e.circular&&!t.circular){if(e.target.column==t.target.column)return e.y1-t.y1;if(!G(e,t))return e.y1-t.y1;if(e.target.column>t.target.column){var n=z(t,e);return e.y1-n}if(t.target.column>e.target.column)return z(e,t)-t.y1}return e.circular&&!t.circular?"top"==e.circularLinkType?-1:1:t.circular&&!e.circular?"top"==t.circularLinkType?1:-1:e.circular&&t.circular?e.circularLinkType===t.circularLinkType&&"top"==e.circularLinkType?e.target.column===t.target.column?e.target.y1-t.target.y1:t.target.column-e.target.column:e.circularLinkType===t.circularLinkType&&"bottom"==e.circularLinkType?e.target.column===t.target.column?t.target.y1-e.target.y1:e.target.column-t.target.column:"top"==e.circularLinkType?-1:1:void 0}));var s=i.y0;o.forEach((function(e){e.y0=s+e.width/2,s+=e.width})),o.forEach((function(e,t){if("bottom"==e.circularLinkType){for(var n=t+1,r=0;n<a;n++)r+=o[n].width;e.y0=i.y1-r-e.width/2}}))}))}function q(e,t,n){e.nodes.forEach((function(t){var r=e.links.filter((function(e){return w(e.target,n)==w(t,n)})),i=r.length;i>1&&r.sort((function(e,t){if(!e.circular&&!t.circular){if(e.source.column==t.source.column)return e.y0-t.y0;if(!G(e,t))return e.y0-t.y0;if(t.source.column<e.source.column){var n=B(t,e);return e.y0-n}if(e.source.column<t.source.column)return B(e,t)-t.y0}return e.circular&&!t.circular?"top"==e.circularLinkType?-1:1:t.circular&&!e.circular?"top"==t.circularLinkType?1:-1:e.circular&&t.circular?e.circularLinkType===t.circularLinkType&&"top"==e.circularLinkType?e.source.column===t.source.column?e.source.y1-t.source.y1:e.source.column-t.source.column:e.circularLinkType===t.circularLinkType&&"bottom"==e.circularLinkType?e.source.column===t.source.column?e.source.y1-t.source.y1:t.source.column-e.source.column:"top"==e.circularLinkType?-1:1:void 0}));var o=t.y0;r.forEach((function(e){e.y1=o+e.width/2,o+=e.width})),r.forEach((function(e,n){if("bottom"==e.circularLinkType){for(var o=n+1,a=0;o<i;o++)a+=r[o].width;e.y1=t.y1-a-e.width/2}}))}))}function G(e,t){return Y(e)==Y(t)}function Y(e){return e.y0-e.y1>0?"up":"down"}function Q(e,t){return w(e.source,t)==w(e.target,t)}function K(e,n,r){var i=e.nodes,o=e.links,a=!1,s=!1;if(o.forEach((function(e){"top"==e.circularLinkType?a=!0:"bottom"==e.circularLinkType&&(s=!0)})),0==a||0==s){var u=t.min(i,(function(e){return e.y0})),l=(r-n)/(t.max(i,(function(e){return e.y1}))-u);i.forEach((function(e){var t=(e.y1-e.y0)*l;e.y0=(e.y0-u)*l,e.y1=e.y0+t})),o.forEach((function(e){e.y0=(e.y0-u)*l,e.y1=(e.y1-u)*l,e.width=e.width*l}))}}e.sankeyCircular=function(){var e,r,i=0,o=0,w=1,S=1,T=24,D=m,A=a,N=g,M=y,I=32,P=2,L=null;function F(){var e={nodes:N.apply(null,arguments),links:M.apply(null,arguments)};R(e),k(e,0,L),B(e),H(e),E(e,D),V(e,I,D),G(e);for(var t=4,n=0;n<t;n++)W(e,S,D),q(e,0,D),U(e,o,S,D),W(e,S,D),q(e,0,D);return K(e,o,S),j(e,P,S,D),e}function R(e){e.nodes.forEach((function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]}));var t=n.map(e.nodes,D);return e.links.forEach((function(e,n){e.index=n;var r=e.source,i=e.target;"object"!==(void 0===r?"undefined":u(r))&&(r=e.source=b(t,r)),"object"!==(void 0===i?"undefined":u(i))&&(i=e.target=b(t,i)),r.sourceLinks.push(e),i.targetLinks.push(e)})),e}function B(e){e.nodes.forEach((function(e){e.partOfCycle=!1,e.value=Math.max(t.sum(e.sourceLinks,d),t.sum(e.targetLinks,d)),e.sourceLinks.forEach((function(t){t.circular&&(e.partOfCycle=!0,e.circularLinkType=t.circularLinkType)})),e.targetLinks.forEach((function(t){t.circular&&(e.partOfCycle=!0,e.circularLinkType=t.circularLinkType)}))}))}function z(e,n){var r=t.max(e.nodes,(function(e){return e.column})),a=w-i,s=S-o,u=a/(a+n.right+n.left),l=s/(s+n.top+n.bottom);return i=i*u+n.left,w=0==n.right?w:w*u,o=o*l+n.top,S*=l,e.nodes.forEach((function(e){e.x0=i+e.column*((w-i-T)/r),e.x1=e.x0+T})),l}function H(e){var t,n,r,i;for(t=e.nodes,n=[],r=0;t.length;++r,t=n,n=[])t.forEach((function(e){e.depth=r,e.sourceLinks.forEach((function(e){n.indexOf(e.target)<0&&!e.circular&&n.push(e.target)}))}));for(t=e.nodes,n=[],r=0;t.length;++r,t=n,n=[])t.forEach((function(e){e.height=r,e.targetLinks.forEach((function(e){n.indexOf(e.source)<0&&!e.circular&&n.push(e.source)}))}));i=_.minBy(e.nodes,(function(e){return e.depthLevel})).depthLevel,e.nodes.forEach((function(e){e.column=Math.floor(A.call(null,e,r,i))}))}function V(i,a,s){var u=n.nest().key((function(e){return e.column})).sortKeys(t.ascending).entries(i.nodes).map((function(e){return e.values}));(function(n){if(r){var a=1/0;u.forEach((function(e){var t=S*r/(e.length+1);a=t<a?t:a})),e=a}var s=t.min(u,(function(n){return(S-o-(n.length-1)*e)/t.sum(n,d)}));s*=.15,i.links.forEach((function(e){e.width=e.value*s}));var l=function(e){var n=0,r=0,i=0,o=0,a=t.max(e.nodes,(function(e){return e.column}));return e.links.forEach((function(e){e.circular&&("top"==e.circularLinkType?n+=e.width:r+=e.width,0==e.target.column&&(o+=e.width),e.source.column==a&&(i+=e.width))})),{top:n=n>0?n+x+O:n,bottom:r=r>0?r+x+O:r,left:o=o>0?o+x+O:o,right:i=i>0?i+x+O:i}}(i),c=z(i,l);s*=c,i.links.forEach((function(e){e.width=e.value*s})),u.forEach((function(e){var t=e.length;e.forEach((function(e,r){e.depth==u.length-1&&1==t||0==e.depth&&1==t?(e.y0=S/2-e.value*s,e.y1=e.y0+e.value*s):e.partOfCycle?0==C(e,n)?(e.y0=S/2+r,e.y1=e.y0+e.value*s):"top"==e.circularLinkType?(e.y0=o+r,e.y1=e.y0+e.value*s):(e.y0=S-e.value*s-r,e.y1=e.y0+e.value*s):0==l.top||0==l.bottom?(e.y0=(S-o)/t*r,e.y1=e.y0+e.value*s):(e.y0=(S-o)/2-t/2+r,e.y1=e.y0+e.value*s)}))}))})(s),g();for(var l=1,c=a;c>0;--c)m(l*=.99,s),g();function m(e,n){var r=u.length;u.forEach((function(i){var o=i.length,a=i[0].depth;i.forEach((function(i){var s;if(i.sourceLinks.length||i.targetLinks.length)if(i.partOfCycle&&C(i,n)>0);else if(0==a&&1==o)s=i.y1-i.y0,i.y0=S/2-s/2,i.y1=S/2+s/2;else if(a==r-1&&1==o)s=i.y1-i.y0,i.y0=S/2-s/2,i.y1=S/2+s/2;else{var u=t.mean(i.sourceLinks,v),l=t.mean(i.targetLinks,p),c=((u&&l?(u+l)/2:u||l)-h(i))*e;i.y0+=c,i.y1+=c}}))}))}function g(){u.forEach((function(t){var n,r,i,a=o,s=t.length;for(t.sort(f),i=0;i<s;++i)(r=a-(n=t[i]).y0)>0&&(n.y0+=r,n.y1+=r),a=n.y1+e;if((r=a-e-S)>0)for(a=n.y0-=r,n.y1-=r,i=s-2;i>=0;--i)(r=(n=t[i]).y1+e-a)>0&&(n.y0-=r,n.y1-=r),a=n.y0}))}}function G(e){e.nodes.forEach((function(e){e.sourceLinks.sort(c),e.targetLinks.sort(l)})),e.nodes.forEach((function(e){var t=e.y0,n=t,r=e.y1,i=r;e.sourceLinks.forEach((function(e){e.circular?(e.y0=r-e.width/2,r-=e.width):(e.y0=t+e.width/2,t+=e.width)})),e.targetLinks.forEach((function(e){e.circular?(e.y1=i-e.width/2,i-=e.width):(e.y1=n+e.width/2,n+=e.width)}))}))}return F.nodeId=function(e){return arguments.length?(D="function"==typeof e?e:s(e),F):D},F.nodeAlign=function(e){return arguments.length?(A="function"==typeof e?e:s(e),F):A},F.nodeWidth=function(e){return arguments.length?(T=+e,F):T},F.nodePadding=function(t){return arguments.length?(e=+t,F):e},F.nodes=function(e){return arguments.length?(N="function"==typeof e?e:s(e),F):N},F.links=function(e){return arguments.length?(M="function"==typeof e?e:s(e),F):M},F.size=function(e){return arguments.length?(i=o=0,w=+e[0],S=+e[1],F):[w-i,S-o]},F.extent=function(e){return arguments.length?(i=+e[0][0],w=+e[1][0],o=+e[0][1],S=+e[1][1],F):[[i,o],[w,S]]},F.iterations=function(e){return arguments.length?(I=+e,F):I},F.circularLinkGap=function(e){return arguments.length?(P=+e,F):P},F.nodePaddingRatio=function(e){return arguments.length?(r=+e,F):r},F.sortNodes=function(e){return arguments.length?(L=e,F):L},F.update=function(e){return E(e,D),G(e),e.links.forEach((function(e){e.circular&&(e.circularLinkType=e.y0+e.y1<S?"top":"bottom",e.source.circularLinkType=e.circularLinkType,e.target.circularLinkType=e.circularLinkType)})),W(e,S,D,!1),q(e,0,D),j(e,P,S,D),e},F},e.sankeyCenter=function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?t.min(e.sourceLinks,o)-1:0},e.sankeyLeft=function(e){return e.depth},e.sankeyRight=function(e,t){return t-1-e.height},e.sankeyJustify=a,e.sankeyFixed=function(e,t,n){return e.depthLevel-n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(99),n(101),n(97),n(93))})),44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95);Object.defineProperty(t,"pathArrows",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},5:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){var e,t,n,r,i,o={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function l(e,t){this._input=e,this._value=t}return(e=function(n){var r,i,a,s;if(e.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||t.isNaN(n))r=null;else if("string"==typeof n)if(u.zeroFormat&&n===u.zeroFormat)r=0;else if(u.nullFormat&&n===u.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((s="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&n.match(s)){a=o[i].unformat;break}r=(a=a||e._.stringToNumber)(n)}else r=Number(n)||null;return new l(n,r)}).version="2.0.6",e.isNumeral=function(e){return e instanceof l},e._=t={numberToFormat:function(t,n,r){var i,o,s,u,l,c,f,d,h=a[e.options.currentLocale],p=!1,v=!1,m="",g=1e12,y=1e9,b=1e6,_="",w=!1;if(t=t||0,o=Math.abs(t),e._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(l=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],e._.includes(n," a")&&(m=" "),n=n.replace(new RegExp(m+"a[kmbt]?"),""),o>=g&&!i||"t"===i?(m+=h.abbreviations.trillion,t/=g):o<g&&o>=y&&!i||"b"===i?(m+=h.abbreviations.billion,t/=y):o<y&&o>=b&&!i||"m"===i?(m+=h.abbreviations.million,t/=b):(o<b&&o>=1e3&&!i||"k"===i)&&(m+=h.abbreviations.thousand,t/=1e3)),e._.includes(n,"[.]")&&(v=!0,n=n.replace("[.]",".")),s=t.toString().split(".")[0],u=n.split(".")[1],c=n.indexOf(","),d=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(e._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),_=e._.toFixed(t,u[0].length+u[1].length,r,u[1].length)):_=e._.toFixed(t,u.length,r),s=_.split(".")[0],_=e._.includes(_,".")?h.delimiters.decimal+_.split(".")[1]:"",v&&0===Number(_.slice(1))&&(_="")):s=e._.toFixed(t,0,r),m&&!i&&Number(s)>=1e3&&m!==h.abbreviations.trillion)switch(s=String(Number(s)/1e3),m){case h.abbreviations.thousand:m=h.abbreviations.million;break;case h.abbreviations.million:m=h.abbreviations.billion;break;case h.abbreviations.billion:m=h.abbreviations.trillion}if(e._.includes(s,"-")&&(s=s.slice(1),w=!0),s.length<d)for(var x=d-s.length;x>0;x--)s="0"+s;return c>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(s=""),f=s+_+(m||""),p?f=(p&&w?"(":"")+f+(p&&w?")":""):l>=0?f=0===l?(w?"-":"+")+f:f+(w?"-":"+"):w&&(f="-"+f),f},stringToNumber:function(e){var t,n,r,i=a[u.currentLocale],o=e,s={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&e===u.zeroFormat)n=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[t]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,s[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"number"==typeof e&&isNaN(e)})),includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,o,a,s,u=e.toString().split("."),l=t-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,l),t):l,a=Math.pow(10,i),s=(n(e+"e+"+i)/a).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),s=s.replace(o,"")),s}},e.options=u,e.formats=o,e.locales=a,e.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},e.localeData=function(e){if(!e)return a[u.currentLocale];if(e=e.toLowerCase(),!a[e])throw new Error("Unknown locale : "+e);return a[e]},e.reset=function(){for(var e in s)u[e]=s[e]},e.zeroFormat=function(e){u.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){u.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){u.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,a,s,u,l,c;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{l=e.localeData(n)}catch(t){l=e.localeData(e.locale())}return o=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,!(null!==(c=t.match(/^[^\d]+/))&&(t=t.substr(1),c[0]!==o)||null!==(c=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),c[0]!==s.thousand&&c[0]!==s.million&&c[0]!==s.billion&&c[0]!==s.trillion)||(u=new RegExp(i+"{2}"),t.match(/[^\d.,]/g)||(a=t.split(r)).length>2||(a.length<2?!a[0].match(/^\d+.*\d$/)||a[0].match(u):1===a[0].length?!a[0].match(/^\d+$/)||a[0].match(u)||!a[1].match(/^\d+$/):!a[0].match(/^\d+.*\d$/)||a[0].match(u)||!a[1].match(/^\d+$/))))},e.fn=l.prototype={clone:function(){return e(this)},format:function(t,n){var r,i,a,s=this._value,l=t||u.defaultFormat;if(n=n||Math.round,0===s&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===s&&null!==u.nullFormat)i=u.nullFormat;else{for(r in o)if(l.match(o[r].regexps.format)){a=o[r].format;break}i=(a=a||e._.numberToFormat)(s,l,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],(function(e,t,r,i){return e+Math.round(n*t)}),0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],(function(e,t,r,i){return e-Math.round(n*t)}),Math.round(this._value*n))/n,this},multiply:function(e){return this._value=t.reduce([this._value,e],(function(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}),1),this},divide:function(e){return this._value=t.reduce([this._value,e],(function(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)})),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(e){return n.suffixes.indexOf(e)<0}))).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(t,i,o){var a,s,u,l=e._.includes(i,"ib")?r:n,c=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=l.suffixes.length;a++)if(s=Math.pow(l.base,a),u=Math.pow(l.base,a+1),null===t||0===t||t>=s&&t<u){c+=l.suffixes[a],s>0&&(t/=s);break}return e._.numberToFormat(t,i,o)+c},unformat:function(t){var i,o,a=e._.stringToNumber(t);if(a){for(i=n.suffixes.length-1;i>=0;i--){if(e._.includes(t,n.suffixes[i])){o=Math.pow(n.base,i);break}if(e._.includes(t,r.suffixes[i])){o=Math.pow(r.base,i);break}}a*=o||1}return a}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,a=e.locales[e.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(s.before,"-")&&!e._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":i=e._.insert(i,a.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+a.currency.symbol.length-1)}for(o=s.after.length-1;o>=0;o--)switch(s.after[o]){case"$":i=o===s.after.length-1?i+a.currency.symbol:e._.insert(i,a.currency.symbol,-(s.after.length-(1+o)));break;case" ":i=o===s.after.length-1?i+" ":e._.insert(i," ",-(s.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],(function(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}),1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e})?r.call(t,n,t,e):r)||(e.exports=i)},9:function(e,t,n){"use strict";var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=123)}([function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r,i=(r=n(169))&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=s(n(77)),i=s(n(29)),o=s(n(8)),a=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var u=n(9),l=n(157);function c(e,t,n,r){var i=!1;!0===r&&(i=null===t[n]&&void 0!==e[n]),i?delete e[n]:e[n]=t[n]}t.isNumber=function(e){return e instanceof Number||"number"==typeof e},t.recursiveDOMDelete=function(e){if(e)for(;!0===e.hasChildNodes();)t.recursiveDOMDelete(e.firstChild),e.removeChild(e.firstChild)},t.giveRange=function(e,t,n,r){if(t==e)return.5;var i=1/(t-e);return Math.max(0,(r-e)*i)},t.isString=function(e){return e instanceof String||"string"==typeof e},t.isDate=function(e){if(e instanceof Date)return!0;if(t.isString(e)){if(f.exec(e))return!0;if(!isNaN(Date.parse(e)))return!0}return!1},t.randomUUID=function(){return l.v4()},t.assignAllKeys=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"object"!==(0,a.default)(e[n])&&(e[n]=t)},t.fillIfDefined=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in e)void 0!==n[i]&&(null===n[i]||"object"!==(0,a.default)(n[i])?c(e,n,i,r):"object"===(0,a.default)(e[i])&&t.fillIfDefined(e[i],n[i],r))},t.extend=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},t.selectiveExtend=function(e,t,n){if(!Array.isArray(e))throw new Error("Array with property names expected as first argument");for(var r=2;r<arguments.length;r++)for(var i=arguments[r],o=0;o<e.length;o++){var a=e[o];i&&i.hasOwnProperty(a)&&(t[a]=i[a])}return t},t.selectiveDeepExtend=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var o=0;o<e.length;o++){var a=e[o];if(r.hasOwnProperty(a))if(r[a]&&r[a].constructor===Object)void 0===n[a]&&(n[a]={}),n[a].constructor===Object?t.deepExtend(n[a],r[a],!1,i):c(n,r,a,i);else{if(Array.isArray(r[a]))throw new TypeError("Arrays are not supported by deepExtend");c(n,r,a,i)}}return n},t.selectiveNotDeepExtend=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var o in r)if(r.hasOwnProperty(o)&&-1===e.indexOf(o))if(r[o]&&r[o].constructor===Object)void 0===n[o]&&(n[o]={}),n[o].constructor===Object?t.deepExtend(n[o],r[o]):c(n,r,o,i);else if(Array.isArray(r[o])){n[o]=[];for(var a=0;a<r[o].length;a++)n[o].push(r[o][a])}else c(n,r,o,i);return n},t.deepExtend=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var o in n)if(n.hasOwnProperty(o)||!0===r)if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?t.deepExtend(e[o],n[o],r):c(e,n,o,i);else if(Array.isArray(n[o])){e[o]=[];for(var a=0;a<n[o].length;a++)e[o].push(n[o][a])}else c(e,n,o,i);return e},t.equalArray=function(e,t){if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!=t[n])return!1;return!0},t.convert=function(e,n){var r;if(void 0!==e){if(null===e)return null;if(!n)return e;if("string"!=typeof n&&!(n instanceof String))throw new Error("Type must be a string");switch(n){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return t.isString(e)&&!isNaN(Date.parse(e))?u(e).valueOf():Number(e.valueOf());case"string":case"String":return String(e);case"Date":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(u.isMoment(e))return new Date(e.valueOf());if(t.isString(e))return(r=f.exec(e))?new Date(Number(r[1])):u(new Date(e)).toDate();throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"Moment":if(t.isNumber(e))return u(e);if(e instanceof Date)return u(e.valueOf());if(u.isMoment(e))return u(e);if(t.isString(e))return r=f.exec(e),u(r?Number(r[1]):e);throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"ISODate":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(u.isMoment(e))return e.toDate().toISOString();if(t.isString(e))return(r=f.exec(e))?new Date(Number(r[1])).toISOString():u(e).format();throw new Error("Cannot convert object of type "+t.getType(e)+" to type ISODate");case"ASPDate":if(t.isNumber(e))return"/Date("+e+")/";if(e instanceof Date)return"/Date("+e.valueOf()+")/";if(t.isString(e))return"/Date("+((r=f.exec(e))?new Date(Number(r[1])).valueOf():new Date(e).valueOf())+")/";throw new Error("Cannot convert object of type "+t.getType(e)+" to type ASPDate");default:throw new Error('Unknown type "'+n+'"')}}};var f=/^\/?Date\((\-?\d+)/i;t.getType=function(e){var t=void 0===e?"undefined":(0,a.default)(e);return"object"==t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":"number"==t?"Number":"boolean"==t?"Boolean":"string"==t?"String":void 0===t?"undefined":t},t.copyAndExtendArray=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r]);return n.push(t),n},t.copyArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},t.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left},t.getAbsoluteRight=function(e){return e.getBoundingClientRect().right},t.getAbsoluteTop=function(e){return e.getBoundingClientRect().top},t.addClassName=function(e,t){var n=e.className.split(" "),r=t.split(" ");n=n.concat(r.filter((function(e){return n.indexOf(e)<0}))),e.className=n.join(" ")},t.removeClassName=function(e,t){var n=e.className.split(" "),r=t.split(" ");n=n.filter((function(e){return r.indexOf(e)<0})),e.className=n.join(" ")},t.forEach=function(e,t){var n,r;if(Array.isArray(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else for(n in e)e.hasOwnProperty(n)&&t(e[n],n,e)},t.toArray=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.updateProperty=function(e,t,n){return e[t]!==n&&(e[t]=n,!0)},t.throttle=function(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame((function(){t=!1,e()})))}},t.addEventListener=function(e,t,n,r){e.addEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n,r){e.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.removeEventListener(t,n,r)):e.detachEvent("on"+t,n)},t.preventDefault=function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1},t.getTarget=function(e){var t;return e||(e=window.event),e.target?t=e.target:e.srcElement&&(t=e.srcElement),null!=t.nodeType&&3==t.nodeType&&(t=t.parentNode),t},t.hasParent=function(e,t){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1},t.option={},t.option.asBoolean=function(e,t){return"function"==typeof e&&(e=e()),null!=e?0!=e:t||null},t.option.asNumber=function(e,t){return"function"==typeof e&&(e=e()),null!=e?Number(e)||t||null:t||null},t.option.asString=function(e,t){return"function"==typeof e&&(e=e()),null!=e?String(e):t||null},t.option.asSize=function(e,n){return"function"==typeof e&&(e=e()),t.isString(e)?e:t.isNumber(e)?e+"px":n||null},t.option.asElement=function(e,t){return"function"==typeof e&&(e=e()),e||t||null},t.hexToRGB=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},t.overrideOpacity=function(e,n){var r;return-1!=e.indexOf("rgba")?e:-1!=e.indexOf("rgb")?"rgba("+(r=e.substr(e.indexOf("(")+1).replace(")","").split(","))[0]+","+r[1]+","+r[2]+","+n+")":null==(r=t.hexToRGB(e))?e:"rgba("+r.r+","+r.g+","+r.b+","+n+")"},t.RGBToHex=function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},t.parseColor=function(e){var n;if(!0===t.isString(e)){if(!0===t.isValidRGB(e)){var r=e.substr(4).substr(0,e.length-5).split(",").map((function(e){return parseInt(e)}));e=t.RGBToHex(r[0],r[1],r[2])}if(!0===t.isValidHex(e)){var i=t.hexToHSV(e),o={h:i.h,s:.8*i.s,v:Math.min(1,1.02*i.v)},a={h:i.h,s:Math.min(1,1.25*i.s),v:.8*i.v},s=t.HSVToHex(a.h,a.s,a.v),u=t.HSVToHex(o.h,o.s,o.v);n={background:e,border:s,highlight:{background:u,border:s},hover:{background:u,border:s}}}else n={background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else(n={}).background=e.background||void 0,n.border=e.border||void 0,t.isString(e.highlight)?n.highlight={border:e.highlight,background:e.highlight}:(n.highlight={},n.highlight.background=e.highlight&&e.highlight.background||void 0,n.highlight.border=e.highlight&&e.highlight.border||void 0),t.isString(e.hover)?n.hover={border:e.hover,background:e.hover}:(n.hover={},n.hover.background=e.hover&&e.hover.background||void 0,n.hover.border=e.hover&&e.hover.border||void 0);return n},t.RGBToHSV=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.min(e,Math.min(t,n)),i=Math.max(e,Math.max(t,n));return r==i?{h:0,s:0,v:r}:{h:60*((e==r?3:n==r?1:5)-(e==r?t-n:n==r?e-t:n-e)/(i-r))/360,s:(i-r)/i,v:i}};var d=function(e){var t={};return e.split(";").forEach((function(e){if(""!=e.trim()){var n=e.split(":"),r=n[0].trim(),i=n[1].trim();t[r]=i}})),t},h=function(e){return(0,o.default)(e).map((function(t){return t+": "+e[t]})).join("; ")};t.addCssText=function(e,n){var r=d(e.style.cssText),i=d(n),o=t.extend(r,i);e.style.cssText=h(o)},t.removeCssText=function(e,t){var n=d(e.style.cssText),r=d(t);for(var i in r)r.hasOwnProperty(i)&&delete n[i];e.style.cssText=h(n)},t.HSVToRGB=function(e,t,n){var r,i,o,a=Math.floor(6*e),s=6*e-a,u=n*(1-t),l=n*(1-s*t),c=n*(1-(1-s)*t);switch(a%6){case 0:r=n,i=c,o=u;break;case 1:r=l,i=n,o=u;break;case 2:r=u,i=n,o=c;break;case 3:r=u,i=l,o=n;break;case 4:r=c,i=u,o=n;break;case 5:r=n,i=u,o=l}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}},t.HSVToHex=function(e,n,r){var i=t.HSVToRGB(e,n,r);return t.RGBToHex(i.r,i.g,i.b)},t.hexToHSV=function(e){var n=t.hexToRGB(e);return t.RGBToHSV(n.r,n.g,n.b)},t.isValidHex=function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},t.isValidRGB=function(e){return e=e.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(e)},t.isValidRGBA=function(e){return e=e.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(e)},t.selectiveBridgeObject=function(e,n){if(null!==n&&"object"===(void 0===n?"undefined":(0,a.default)(n))){for(var r=(0,i.default)(n),o=0;o<e.length;o++)n.hasOwnProperty(e[o])&&"object"==(0,a.default)(n[e[o]])&&(r[e[o]]=t.bridgeObject(n[e[o]]));return r}return null},t.bridgeObject=function(e){if(null!==e&&"object"===(void 0===e?"undefined":(0,a.default)(e))){var n=(0,i.default)(e);if(e instanceof Element)n=e;else for(var r in n=(0,i.default)(e),e)e.hasOwnProperty(r)&&"object"==(0,a.default)(e[r])&&(n[r]=t.bridgeObject(e[r]));return n}return null},t.insertSort=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n],i=n;i>0&&t(r,e[i-1])<0;i--)e[i]=e[i-1];e[i]=r}return e},t.mergeOptions=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(e){return null!=e},s=function(e){return null!==e&&"object"===(void 0===e?"undefined":(0,a.default)(e))},u=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};if(!s(e))throw new Error("Parameter mergeTarget must be an object");if(!s(t))throw new Error("Parameter options must be an object");if(!o(n))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");var l=function(e,t,n){s(e[n])||(e[n]={});var r=t[n],i=e[n];for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},c=t[n],f=s(r)&&!u(r),d=f?r[n]:void 0,h=d?d.enabled:void 0;if(void 0!==c){if("boolean"==typeof c)return s(e[n])||(e[n]={}),void(e[n].enabled=c);if(null===c&&!s(e[n])){if(!o(d))return;e[n]=(0,i.default)(d)}if(s(c)){var p=!0;void 0!==c.enabled?p=c.enabled:void 0!==h&&(p=d.enabled),l(e,t,n),e[n].enabled=p}}},t.binarySearchCustom=function(e,t,n,r){for(var i=0,o=0,a=e.length-1;o<=a&&i<1e4;){var s=Math.floor((o+a)/2),u=e[s],l=t(void 0===r?u[n]:u[n][r]);if(0==l)return s;-1==l?o=s+1:a=s-1,i++}return-1},t.binarySearchValue=function(e,t,n,r,i){var o,a,s,u,l=0,c=0,f=e.length-1;for(i=null!=i?i:function(e,t){return e==t?0:e<t?-1:1};c<=f&&l<1e4;){if(u=Math.floor(.5*(f+c)),o=e[Math.max(0,u-1)][n],a=e[u][n],s=e[Math.min(e.length-1,u+1)][n],0==i(a,t))return u;if(i(o,t)<0&&i(a,t)>0)return"before"==r?Math.max(0,u-1):u;if(i(a,t)<0&&i(s,t)>0)return"before"==r?u:Math.min(e.length-1,u+1);i(a,t)<0?c=u+1:f=u-1,l++}return-1},t.easingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},t.getScrollBarWidth=function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n==r&&(r=t.clientWidth),document.body.removeChild(t),n-r},t.topMost=function(e,t){var n=void 0;Array.isArray(t)||(t=[t]);var i=!0,o=!1,a=void 0;try{for(var s,u=(0,r.default)(e);!(i=(s=u.next()).done);i=!0){var l=s.value;if(l){n=l[t[0]];for(var c=1;c<t.length;c++)n&&(n=n[t[c]]);if(void 0!==n)break}}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n}},function(e,t,n){e.exports={default:n(194),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r,i=(r=n(6))&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.__esModule=!0;var r=a(n(196)),i=a(n(29)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){t.__esModule=!0;var r=a(n(142)),i=a(n(144)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports={default:n(140),__esModule:!0}},function(e,t,n){e.exports="undefined"!=typeof window&&window.moment||n(154)},function(e,t,n){if("undefined"!=typeof window){var r=n(175),i=window.Hammer||n(176);e.exports=r(i,{preventDefault:"mouse"})}else e.exports=function(){return{on:e=function(){},off:e,destroy:e,emit:e,get:function(t){return{set:e}}};var e}},function(e,t,n){var r=a(n(19)),i=a(n(6)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(2),u=n(43);function l(e,t){if(e&&!Array.isArray(e)&&(t=e,e=null),this._options=t||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var n=(0,o.default)(this._options.type),r=0,i=n.length;r<i;r++){var a=n[r],s=this._options.type[a];this._type[a]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}this._subscribers={},e&&this.add(e),this.setOptions(t)}l.prototype.setOptions=function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=u.extend(this,{replace:["add","update","remove"]})),"object"===(0,i.default)(e.queue)&&this._queue.setOptions(e.queue)))},l.prototype.on=function(e,t){var n=this._subscribers[e];n||(n=[],this._subscribers[e]=n),n.push({callback:t})},l.prototype.off=function(e,t){var n=this._subscribers[e];n&&(this._subscribers[e]=n.filter((function(e){return e.callback!=t})))},l.prototype._trigger=function(e,t,n){if("*"==e)throw new Error("Cannot trigger event *");var r=[];e in this._subscribers&&(r=r.concat(this._subscribers[e])),"*"in this._subscribers&&(r=r.concat(this._subscribers["*"]));for(var i=0,o=r.length;i<o;i++){var a=r[i];a.callback&&a.callback(e,t,n||null)}},l.prototype.add=function(e,t){var n,r=[];if(Array.isArray(e))for(var o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n);else{if(!e||"object"!==(void 0===e?"undefined":(0,i.default)(e)))throw new Error("Unknown dataType");n=this._addItem(e),r.push(n)}return r.length&&this._trigger("add",{items:r},t),r},l.prototype.update=function(e,t){var n=[],r=[],o=[],a=[],u=this,l=u._fieldId,c=function(e){var t=e[l];if(u._data[t]){var i=s.extend({},u._data[t]);t=u._updateItem(e),r.push(t),a.push(e),o.push(i)}else t=u._addItem(e),n.push(t)};if(Array.isArray(e))for(var f=0,d=e.length;f<d;f++)e[f]&&"object"===(0,i.default)(e[f])?c(e[f]):console.warn("Ignoring input item, which is not an object at index "+f);else{if(!e||"object"!==(void 0===e?"undefined":(0,i.default)(e)))throw new Error("Unknown dataType");c(e)}if(n.length&&this._trigger("add",{items:n},t),r.length){var h={items:r,oldData:o,data:a};this._trigger("update",h,t)}return n.concat(r)},l.prototype.get=function(e){var t,n,r,i,a=this,u=s.getType(arguments[0]);if("String"==u||"Number"==u?(t=arguments[0],r=arguments[1]):"Array"==u?(n=arguments[0],r=arguments[1]):r=arguments[0],r&&r.returnType){var l=["Array","Object"];i=-1==l.indexOf(r.returnType)?"Array":r.returnType}else i="Array";var c,f,d,h,p,v=r&&r.type||this._options.type,m=r&&r.filter,g=[];if(null!=t)(c=a._getItem(t,v))&&m&&!m(c)&&(c=null);else if(null!=n)for(h=0,p=n.length;h<p;h++)c=a._getItem(n[h],v),m&&!m(c)||g.push(c);else for(h=0,p=(f=(0,o.default)(this._data)).length;h<p;h++)d=f[h],c=a._getItem(d,v),m&&!m(c)||g.push(c);if(r&&r.order&&null==t&&this._sort(g,r.order),r&&r.fields){var y=r.fields;if(null!=t)c=this._filterFields(c,y);else for(h=0,p=g.length;h<p;h++)g[h]=this._filterFields(g[h],y)}if("Object"==i){var b,_={};for(h=0,p=g.length;h<p;h++)_[(b=g[h]).id]=b;return _}return null!=t?c:g},l.prototype.getIds=function(e){var t,n,r,i,a,s=this._data,u=e&&e.filter,l=e&&e.order,c=e&&e.type||this._options.type,f=(0,o.default)(s),d=[];if(u)if(l){for(a=[],t=0,n=f.length;t<n;t++)r=f[t],u(i=this._getItem(r,c))&&a.push(i);for(this._sort(a,l),t=0,n=a.length;t<n;t++)d.push(a[t][this._fieldId])}else for(t=0,n=f.length;t<n;t++)r=f[t],u(i=this._getItem(r,c))&&d.push(i[this._fieldId]);else if(l){for(a=[],t=0,n=f.length;t<n;t++)r=f[t],a.push(s[r]);for(this._sort(a,l),t=0,n=a.length;t<n;t++)d.push(a[t][this._fieldId])}else for(t=0,n=f.length;t<n;t++)i=s[r=f[t]],d.push(i[this._fieldId]);return d},l.prototype.getDataSet=function(){return this},l.prototype.forEach=function(e,t){var n,r,i,a,s=t&&t.filter,u=t&&t.type||this._options.type,l=this._data,c=(0,o.default)(l);if(t&&t.order){var f=this.get(t);for(n=0,r=f.length;n<r;n++)e(i=f[n],a=i[this._fieldId])}else for(n=0,r=c.length;n<r;n++)a=c[n],i=this._getItem(a,u),s&&!s(i)||e(i,a)},l.prototype.map=function(e,t){var n,r,i,a,s=t&&t.filter,u=t&&t.type||this._options.type,l=[],c=this._data,f=(0,o.default)(c);for(n=0,r=f.length;n<r;n++)i=f[n],a=this._getItem(i,u),s&&!s(a)||l.push(e(a,i));return t&&t.order&&this._sort(l,t.order),l},l.prototype._filterFields=function(e,t){if(!e)return e;var n,r,i={},a=(0,o.default)(e),s=a.length;if(Array.isArray(t))for(n=0;n<s;n++)r=a[n],-1!=t.indexOf(r)&&(i[r]=e[r]);else for(n=0;n<s;n++)r=a[n],t.hasOwnProperty(r)&&(i[t[r]]=e[r]);return i},l.prototype._sort=function(e,t){if(s.isString(t)){var n=t;e.sort((function(e,t){var r=e[n],i=t[n];return r>i?1:r<i?-1:0}))}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");e.sort(t)}},l.prototype.remove=function(e,t){var n,r,i,o,a,s=[],u=[];for(r=0,i=(n=Array.isArray(e)?e:[e]).length;r<i;r++)(a=this._remove(n[r]))&&null!=(o=a[this._fieldId])&&(s.push(o),u.push(a));return s.length&&this._trigger("remove",{items:s,oldData:u},t),s},l.prototype._remove=function(e){var t,n;return s.isNumber(e)||s.isString(e)?n=e:e&&"object"===(void 0===e?"undefined":(0,i.default)(e))&&(n=e[this._fieldId]),void 0!==n&&this._data[n]?(t=this._data[n],delete this._data[n],this.length--,t):null},l.prototype.clear=function(e){var t,n,r=(0,o.default)(this._data),i=[];for(t=0,n=r.length;t<n;t++)i.push(this._data[r[t]]);return this._data={},this.length=0,this._trigger("remove",{items:r,oldData:i},e),r},l.prototype.max=function(e){var t,n,r=this._data,i=(0,o.default)(r),a=null,s=null;for(t=0,n=i.length;t<n;t++){var u=r[i[t]],l=u[e];null!=l&&(!a||l>s)&&(a=u,s=l)}return a},l.prototype.min=function(e){var t,n,r=this._data,i=(0,o.default)(r),a=null,s=null;for(t=0,n=i.length;t<n;t++){var u=r[i[t]],l=u[e];null!=l&&(!a||l<s)&&(a=u,s=l)}return a},l.prototype.distinct=function(e){var t,n,r,i=this._data,a=(0,o.default)(i),u=[],l=this._options.type&&this._options.type[e]||null,c=0;for(t=0,r=a.length;t<r;t++){var f=i[a[t]][e],d=!1;for(n=0;n<c;n++)if(u[n]==f){d=!0;break}d||void 0===f||(u[c]=f,c++)}if(l)for(t=0,r=u.length;t<r;t++)u[t]=s.convert(u[t],l);return u},l.prototype._addItem=function(e){var t=e[this._fieldId];if(null!=t){if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists")}else t=s.randomUUID(),e[this._fieldId]=t;var n,r,i={},a=(0,o.default)(e);for(n=0,r=a.length;n<r;n++){var u=a[n],l=this._type[u];i[u]=s.convert(e[u],l)}return this._data[t]=i,this.length++,t},l.prototype._getItem=function(e,t){var n,r,i,a,u=this._data[e];if(!u)return null;var l={},c=(0,o.default)(u);if(t)for(i=0,a=c.length;i<a;i++)r=u[n=c[i]],l[n]=s.convert(r,t[n]);else for(i=0,a=c.length;i<a;i++)r=u[n=c[i]],l[n]=r;return l[this._fieldId]||(l[this._fieldId]=u.id),l},l.prototype._updateItem=function(e){var t=e[this._fieldId];if(null==t)throw new Error("Cannot update item: item has no id (item: "+(0,r.default)(e)+")");var n=this._data[t];if(!n)throw new Error("Cannot update item: no item with id "+t+" found");for(var i=(0,o.default)(e),a=0,u=i.length;a<u;a++){var l=i[a],c=this._type[l];n[l]=s.convert(e[l],c)}return t},e.exports=l},function(e,t,n){var r,i=(r=n(8))&&r.__esModule?r:{default:r},o=n(2),a=n(11);function s(e,t){this._data=null,this._ids={},this.length=0,this._options=t||{},this._fieldId="id",this._subscribers={};var n=this;this.listener=function(){n._onEvent.apply(n,arguments)},this.setData(e)}s.prototype.setData=function(e){var t,n,r,i,o;if(this._data){for(this._data.off&&this._data.off("*",this.listener),o=[],r=0,i=(t=this._data.getIds({filter:this._options&&this._options.filter})).length;r<i;r++)o.push(this._data._data[t[r]]);this._ids={},this.length=0,this._trigger("remove",{items:t,oldData:o})}if(this._data=e,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",r=0,i=(t=this._data.getIds({filter:this._options&&this._options.filter})).length;r<i;r++)n=t[r],this._ids[n]=!0;this.length=t.length,this._trigger("add",{items:t}),this._data.on&&this._data.on("*",this.listener)}},s.prototype.refresh=function(){var e,t,n,r=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,i.default)(this._ids),a={},s=[],u=[],l=[];for(t=0,n=r.length;t<n;t++)a[e=r[t]]=!0,this._ids[e]||(s.push(e),this._ids[e]=!0);for(t=0,n=o.length;t<n;t++)a[e=o[t]]||(u.push(e),l.push(this._data._data[e]),delete this._ids[e]);this.length+=s.length-u.length,s.length&&this._trigger("add",{items:s}),u.length&&this._trigger("remove",{items:u,oldData:l})},s.prototype.get=function(e){var t,n,r,i=this,a=o.getType(arguments[0]);"String"==a||"Number"==a||"Array"==a?(t=arguments[0],n=arguments[1],r=arguments[2]):(n=arguments[0],r=arguments[1]);var s=o.extend({},this._options,n);this._options.filter&&n&&n.filter&&(s.filter=function(e){return i._options.filter(e)&&n.filter(e)});var u=[];return null!=t&&u.push(t),u.push(s),u.push(r),this._data&&this._data.get.apply(this._data,u)},s.prototype.getIds=function(e){var t;if(this._data){var n,r=this._options.filter;n=e&&e.filter?r?function(t){return r(t)&&e.filter(t)}:e.filter:r,t=this._data.getIds({filter:n,order:e&&e.order})}else t=[];return t},s.prototype.map=function(e,t){var n=[];if(this._data){var r,i=this._options.filter;r=t&&t.filter?i?function(e){return i(e)&&t.filter(e)}:t.filter:i,n=this._data.map(e,{filter:r,order:t&&t.order})}else n=[];return n},s.prototype.getDataSet=function(){for(var e=this;e instanceof s;)e=e._data;return e||null},s.prototype._onEvent=function(e,t,n){var r,i,o,a=t&&t.items,s=[],u=[],l=[],c=[],f=[],d=[];if(a&&this._data){switch(e){case"add":for(r=0,i=a.length;r<i;r++)o=a[r],this.get(o)&&(this._ids[o]=!0,s.push(o));break;case"update":for(r=0,i=a.length;r<i;r++)o=a[r],this.get(o)?this._ids[o]?(u.push(o),f.push(t.data[r]),c.push(t.oldData[r])):(this._ids[o]=!0,s.push(o)):this._ids[o]&&(delete this._ids[o],l.push(o),d.push(t.oldData[r]));break;case"remove":for(r=0,i=a.length;r<i;r++)o=a[r],this._ids[o]&&(delete this._ids[o],l.push(o),d.push(t.oldData[r]))}this.length+=s.length-l.length,s.length&&this._trigger("add",{items:s},n),u.length&&this._trigger("update",{items:u,oldData:c,data:f},n),l.length&&this._trigger("remove",{items:l,oldData:d},n)}},s.prototype.on=a.prototype.on,s.prototype.off=a.prototype.off,s.prototype._trigger=a.prototype._trigger,s.prototype.subscribe=s.prototype.on,s.prototype.unsubscribe=s.prototype.off,e.exports=s},function(e,t,n){var r=n(57)("wks"),i=n(40),o=n(18).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){t.prepareElements=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].redundant=e[t].used,e[t].used=[])},t.cleanupElements=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].redundant){for(var n=0;n<e[t].redundant.length;n++)e[t].redundant[n].parentNode.removeChild(e[t].redundant[n]);e[t].redundant=[]}},t.resetElements=function(e){t.prepareElements(e),t.cleanupElements(e),t.prepareElements(e)},t.getSVGElement=function(e,t,n){var r;return t.hasOwnProperty(e)?t[e].redundant.length>0?(r=t[e].redundant[0],t[e].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",e),n.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",e),t[e]={used:[],redundant:[]},n.appendChild(r)),t[e].used.push(r),r},t.getDOMElement=function(e,t,n,r){var i;return t.hasOwnProperty(e)?t[e].redundant.length>0?(i=t[e].redundant[0],t[e].redundant.shift()):(i=document.createElement(e),void 0!==r?n.insertBefore(i,r):n.appendChild(i)):(i=document.createElement(e),t[e]={used:[],redundant:[]},void 0!==r?n.insertBefore(i,r):n.appendChild(i)),t[e].used.push(i),i},t.drawPoint=function(e,n,r,i,o,a){var s;if("circle"==r.style?((s=t.getSVGElement("circle",i,o)).setAttributeNS(null,"cx",e),s.setAttributeNS(null,"cy",n),s.setAttributeNS(null,"r",.5*r.size)):((s=t.getSVGElement("rect",i,o)).setAttributeNS(null,"x",e-.5*r.size),s.setAttributeNS(null,"y",n-.5*r.size),s.setAttributeNS(null,"width",r.size),s.setAttributeNS(null,"height",r.size)),void 0!==r.styles&&s.setAttributeNS(null,"style",r.styles),s.setAttributeNS(null,"class",r.className+" vis-point"),a){var u=t.getSVGElement("text",i,o);a.xOffset&&(e+=a.xOffset),a.yOffset&&(n+=a.yOffset),a.content&&(u.textContent=a.content),a.className&&u.setAttributeNS(null,"class",a.className+" vis-label"),u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",n)}return s},t.drawBar=function(e,n,r,i,o,a,s,u){if(0!=i){i<0&&(n-=i*=-1);var l=t.getSVGElement("rect",a,s);l.setAttributeNS(null,"x",e-.5*r),l.setAttributeNS(null,"y",n),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",i),l.setAttributeNS(null,"class",o),u&&l.setAttributeNS(null,"style",u)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.printStyle=void 0;var r=u(n(19)),i=u(n(6)),o=u(n(8)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=n(2),c=!1,f=void 0,d="background: #FFeeee; color: #dd0000",h=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"validate",value:function(t,n,r){c=!1,f=n;var i=n;return void 0!==r&&(i=n[r]),e.parse(t,i,[]),c}},{key:"parse",value:function(t,n,r){for(var i in t)t.hasOwnProperty(i)&&e.check(i,t,n,r)}},{key:"check",value:function(t,n,r,i){if(void 0!==r[t]||void 0!==r.__any__){var o=t,a=!0;void 0===r[t]&&void 0!==r.__any__&&(o="__any__",a="object"===e.getType(n[t]));var s=r[o];a&&void 0!==s.__type__&&(s=s.__type__),e.checkFields(t,n,r,o,s,i)}else e.getSuggestion(t,r,i)}},{key:"checkFields",value:function(t,n,r,i,a,s){var u=function(n){console.log("%c"+n+e.printLocation(s,t),d)},f=e.getType(n[t]),h=a[f];void 0!==h?"array"===e.getType(h)&&-1===h.indexOf(n[t])?(u('Invalid option detected in "'+t+'". Allowed values are:'+e.print(h)+' not "'+n[t]+'". '),c=!0):"object"===f&&"__any__"!==i&&(s=l.copyAndExtendArray(s,t),e.parse(n[t],r[i],s)):void 0===a.any&&(u('Invalid type received for "'+t+'". Expected: '+e.print((0,o.default)(a))+". Received ["+f+'] "'+n[t]+'"'),c=!0)}},{key:"getType",value:function(e){var t=void 0===e?"undefined":(0,i.default)(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,n,r){var i,a=e.findInOptions(t,n,r,!1),s=e.findInOptions(t,f,[],!0);i=void 0!==a.indexMatch?" in "+e.printLocation(a.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+'"?\n\n':s.distance<=4&&a.distance>s.distance?" in "+e.printLocation(a.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):a.distance<=8?'. Did you mean "'+a.closestMatch+'"?'+e.printLocation(a.path,t):". Did you mean one of these: "+e.print((0,o.default)(n))+e.printLocation(r,t),console.log('%cUnknown option detected: "'+t+'"'+i,d),c=!0}},{key:"findInOptions",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,a="",s=[],u=t.toLowerCase(),c=void 0;for(var f in n){var d=void 0;if(void 0!==n[f].__type__&&!0===i){var h=e.findInOptions(t,n[f],l.copyAndExtendArray(r,f));o>h.distance&&(a=h.closestMatch,s=h.path,o=h.distance,c=h.indexMatch)}else-1!==f.toLowerCase().indexOf(u)&&(c=f),o>(d=e.levenshteinDistance(t,f))&&(a=f,s=l.copyArray(r),o=d)}return{closestMatch:a,path:s,distance:o,indexMatch:c}}},{key:"printLocation",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",r="\n\n"+n+"options = {\n",i=0;i<e.length;i++){for(var o=0;o<i+1;o++)r+="  ";r+=e[i]+": {\n"}for(var a=0;a<e.length+1;a++)r+="  ";r+=t+"\n";for(var s=0;s<e.length+1;s++){for(var u=0;u<e.length-s;u++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(e){return(0,r.default)(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,r,i=[];for(n=0;n<=t.length;n++)i[n]=[n];for(r=0;r<=e.length;r++)i[0][r]=r;for(n=1;n<=t.length;n++)for(r=1;r<=e.length;r++)t.charAt(n-1)==e.charAt(r-1)?i[n][r]=i[n-1][r-1]:i[n][r]=Math.min(i[n-1][r-1]+1,Math.min(i[n][r-1]+1,i[n-1][r]+1));return i[t.length][e.length]}}]),e}();t.default=h,t.printStyle=d},function(e,t,n){var r=n(2);function i(e,t){this.options=null,this.props=null}i.prototype.setOptions=function(e){e&&r.extend(this.options,e)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e},e.exports=i},function(e,t,n){var r=n(18),i=n(7),o=n(80),a=n(26),s=function e(t,n,s){var u,l,c,f=t&e.F,d=t&e.G,h=t&e.S,p=t&e.P,v=t&e.B,m=t&e.W,g=d?i:i[n]||(i[n]={}),y=g.prototype,b=d?r:h?r[n]:(r[n]||{}).prototype;for(u in d&&(s=n),s)(l=!f&&b&&void 0!==b[u])&&u in g||(c=l?b[u]:s[u],g[u]=d&&"function"!=typeof b[u]?s[u]:v&&l?o(c,r):m&&b[u]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((g.virtual||(g.virtual={}))[u]=c,t&e.R&&y&&!y[u]&&a(y,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports={default:n(160),__esModule:!0}},function(e,t,n){var r=n(27),i=n(81),o=n(53),a=Object.defineProperty;t.f=n(21)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(6)),i=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n,r){(0,i.default)(this,e),this.body=n,this.labelModule=r,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,o.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==(0,r.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var n=this.options.borderWidth;return this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){this.enableShadow(e,t),e.fill(),this.disableShadow(e,t),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,n,r,i){void 0!==n&&this.resize(n,r,i),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,n,r,i){this._updateBoundingBox(e,t,n,r,i)}},{key:"getDimensionsFromLabel",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var r=this.textSize.width,i=this.textSize.height;return 0===r&&(r=14,i=14),{width:r,height:i}}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){this.labelModule.getTextSize(e,t,n);var i=2*r.size;this.width=i,this.height=i,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,n,r,i,o,a,s){if(this.resize(e,o,a,s),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),e[t](r,i,s.size),this.performFill(e,s),void 0!==this.options.label){this.labelModule.calculateLabelSize(e,o,a,r,i,"hanging");var u=i+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,r,u,o,a,"hanging")}this.updateBoundingBox(r,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){var r=n(78),i=n(51);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(20),i=n(39);e.exports=n(21)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(32);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports={default:n(138),__esModule:!0}},function(e,t,n){t.__esModule=!0;var r=o(n(188)),i=o(n(77));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)(e);!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(84),i=n(58);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){function r(e,t,n){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0,this.z=void 0!==n?n:0}r.subtract=function(e,t){var n=new r;return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},r.add=function(e,t){var n=new r;return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},r.avg=function(e,t){return new r((e.x+t.x)/2,(e.y+t.y)/2,(e.z+t.z)/2)},r.crossProduct=function(e,t){var n=new r;return n.x=e.y*t.z-e.z*t.y,n.y=e.z*t.x-e.x*t.z,n.z=e.x*t.y-e.y*t.x,n},r.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.exports=r},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){return function(e){var t,n=e&&e.preventDefault||!1,r=e&&e.container||window,i={},o={keydown:{},keyup:{}},a={};for(t=97;t<=122;t++)a[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)a[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)a[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)a["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)a["num"+t]={code:96+t,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var s=function(e){l(e,"keydown")},u=function(e){l(e,"keyup")},l=function(e,t){if(void 0!==o[t][e.keyCode]){for(var r=o[t][e.keyCode],i=0;i<r.length;i++)(void 0===r[i].shift||1==r[i].shift&&1==e.shiftKey||0==r[i].shift&&0==e.shiftKey)&&r[i].fn(e);1==n&&e.preventDefault()}};return i.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===a[e])throw new Error("unsupported key: "+e);void 0===o[n][a[e].code]&&(o[n][a[e].code]=[]),o[n][a[e].code].push({fn:t,shift:a[e].shift})},i.bindAll=function(e,t){for(var n in void 0===t&&(t="keydown"),a)a.hasOwnProperty(n)&&i.bind(n,e,t)},i.getKey=function(e){for(var t in a)if(a.hasOwnProperty(t)){if(1==e.shiftKey&&1==a[t].shift&&e.keyCode==a[t].code)return t;if(0==e.shiftKey&&0==a[t].shift&&e.keyCode==a[t].code)return t;if(e.keyCode==a[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},i.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===a[e])throw new Error("unsupported key: "+e);if(void 0!==t){var r=[],i=o[n][a[e].code];if(void 0!==i)for(var s=0;s<i.length;s++)i[s].fn==t&&i[s].shift==a[e].shift||r.push(o[n][a[e].code][s]);o[n][a[e].code]=r}else o[n][a[e].code]=[]},i.reset=function(){o={keydown:{},keyup:{}}},i.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",s,!0),r.removeEventListener("keyup",u,!0)},r.addEventListener("keydown",s,!0),r.addEventListener("keyup",u,!0),i}})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){t.convertHiddenOptions=function(e,n,r){if(r&&!Array.isArray(r))return t.convertHiddenOptions(e,n,[r]);if(n.hiddenDates=[],r&&1==Array.isArray(r)){for(var i=0;i<r.length;i++)if(void 0===r[i].repeat){var o={};o.start=e(r[i].start).toDate().valueOf(),o.end=e(r[i].end).toDate().valueOf(),n.hiddenDates.push(o)}n.hiddenDates.sort((function(e,t){return e.start-t.start}))}},t.updateHiddenDates=function(e,n,r){if(r&&!Array.isArray(r))return t.updateHiddenDates(e,n,[r]);if(r&&void 0!==n.domProps.centerContainer.width){t.convertHiddenOptions(e,n,r);for(var i=e(n.range.start),o=e(n.range.end),a=(n.range.end-n.range.start)/n.domProps.centerContainer.width,s=0;s<r.length;s++)if(void 0!==r[s].repeat){var u=e(r[s].start),l=e(r[s].end);if("Invalid Date"==u._d)throw new Error("Supplied start date is not valid: "+r[s].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+r[s].end);if(l-u>=4*a){var c=0,f=o.clone();switch(r[s].repeat){case"daily":u.day()!=l.day()&&(c=1),u.dayOfYear(i.dayOfYear()),u.year(i.year()),u.subtract(7,"days"),l.dayOfYear(i.dayOfYear()),l.year(i.year()),l.subtract(7-c,"days"),f.add(1,"weeks");break;case"weekly":var d=l.diff(u,"days"),h=u.day();u.date(i.date()),u.month(i.month()),u.year(i.year()),l=u.clone(),u.day(h),l.day(h),l.add(d,"days"),u.subtract(1,"weeks"),l.subtract(1,"weeks"),f.add(1,"weeks");break;case"monthly":u.month()!=l.month()&&(c=1),u.month(i.month()),u.year(i.year()),u.subtract(1,"months"),l.month(i.month()),l.year(i.year()),l.subtract(1,"months"),l.add(c,"months"),f.add(1,"months");break;case"yearly":u.year()!=l.year()&&(c=1),u.year(i.year()),u.subtract(1,"years"),l.year(i.year()),l.subtract(1,"years"),l.add(c,"years"),f.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",r[s].repeat)}for(;u<f;)switch(n.hiddenDates.push({start:u.valueOf(),end:l.valueOf()}),r[s].repeat){case"daily":u.add(1,"days"),l.add(1,"days");break;case"weekly":u.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":u.add(1,"months"),l.add(1,"months");break;case"yearly":u.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",r[s].repeat)}n.hiddenDates.push({start:u.valueOf(),end:l.valueOf()})}}t.removeDuplicates(n);var p=t.isHidden(n.range.start,n.hiddenDates),v=t.isHidden(n.range.end,n.hiddenDates),m=n.range.start,g=n.range.end;1==p.hidden&&(m=1==n.range.startToFront?p.startDate-1:p.endDate+1),1==v.hidden&&(g=1==n.range.endToFront?v.startDate-1:v.endDate+1),1!=p.hidden&&1!=v.hidden||n.range._applyRange(m,g)}},t.removeDuplicates=function(e){for(var t=e.hiddenDates,n=[],r=0;r<t.length;r++)for(var i=0;i<t.length;i++)r!=i&&1!=t[i].remove&&1!=t[r].remove&&(t[i].start>=t[r].start&&t[i].end<=t[r].end?t[i].remove=!0:t[i].start>=t[r].start&&t[i].start<=t[r].end?(t[r].end=t[i].end,t[i].remove=!0):t[i].end>=t[r].start&&t[i].end<=t[r].end&&(t[r].start=t[i].start,t[i].remove=!0));for(r=0;r<t.length;r++)!0!==t[r].remove&&n.push(t[r]);e.hiddenDates=n,e.hiddenDates.sort((function(e,t){return e.start-t.start}))},t.printDates=function(e){for(var t=0;t<e.length;t++)console.log(t,new Date(e[t].start),new Date(e[t].end),e[t].start,e[t].end,e[t].remove)},t.stepOverHiddenDates=function(e,t,n){for(var r=!1,i=t.current.valueOf(),o=0;o<t.hiddenDates.length;o++){var a=t.hiddenDates[o].start,s=t.hiddenDates[o].end;if(i>=a&&i<s){r=!0;break}}if(1==r&&i<t._end.valueOf()&&i!=n){var u=e(n),l=e(s);u.year()!=l.year()?t.switchedYear=!0:u.month()!=l.month()?t.switchedMonth=!0:u.dayOfYear()!=l.dayOfYear()&&(t.switchedDay=!0),t.current=l}},t.toScreen=function(e,n,r){var i;if(0==e.body.hiddenDates.length)return i=e.range.conversion(r),(n.valueOf()-i.offset)*i.scale;var o=t.isHidden(n,e.body.hiddenDates);1==o.hidden&&(n=o.startDate);var a=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end);if(n<e.range.start){i=e.range.conversion(r,a);var s=t.getHiddenDurationBeforeStart(e.body.hiddenDates,n,i.offset);return n=e.options.moment(n).toDate().valueOf(),n+=s,-(i.offset-n.valueOf())*i.scale}if(n>e.range.end){var u={start:e.range.start,end:n};return n=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,u,n),i=e.range.conversion(r,a),(n.valueOf()-i.offset)*i.scale}return n=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,e.range,n),i=e.range.conversion(r,a),(n.valueOf()-i.offset)*i.scale},t.toTime=function(e,n,r){if(0==e.body.hiddenDates.length){var i=e.range.conversion(r);return new Date(n/i.scale+i.offset)}var o=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end),a=(e.range.end-e.range.start-o)*n/r,s=t.getAccumulatedHiddenDuration(e.body.hiddenDates,e.range,a);return new Date(s+a+e.range.start)},t.getHiddenDurationBetween=function(e,t,n){for(var r=0,i=0;i<e.length;i++){var o=e[i].start,a=e[i].end;o>=t&&a<n&&(r+=a-o)}return r},t.getHiddenDurationBeforeStart=function(e,t,n){for(var r=0,i=0;i<e.length;i++){var o=e[i].start,a=e[i].end;o>=t&&a<=n&&(r+=a-o)}return r},t.correctTimeForHidden=function(e,n,r,i){return(i=e(i).toDate().valueOf())-t.getHiddenDurationBefore(e,n,r,i)},t.getHiddenDurationBefore=function(e,t,n,r){var i=0;r=e(r).toDate().valueOf();for(var o=0;o<t.length;o++){var a=t[o].start,s=t[o].end;a>=n.start&&s<n.end&&r>=s&&(i+=s-a)}return i},t.getAccumulatedHiddenDuration=function(e,t,n){for(var r=0,i=0,o=t.start,a=0;a<e.length;a++){var s=e[a].start,u=e[a].end;if(s>=t.start&&u<t.end){if(i+=s-o,o=u,i>=n)break;r+=u-s}}return r},t.snapAwayFromHidden=function(e,n,r,i){var o=t.isHidden(n,e);return 1==o.hidden?r<0?1==i?o.startDate-(o.endDate-n)-1:o.startDate-1:1==i?o.endDate+(n-o.startDate)+1:o.endDate+1:n},t.isHidden=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].start,i=t[n].end;if(e>=r&&e<i)return{hidden:!0,startDate:r,endDate:i}}return{hidden:!1,startDate:r,endDate:i}}},function(e,t,n){t.onTouch=function(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)},t.onRelease=function(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)},t.offTouch=function(e,t){e.off("hammer.input",t.inputHandler)},t.offRelease=t.offTouch,t.disablePreventDefaultVertically=function(e){return e.getTouchAction=function(){return["pan-y"]},e}},function(e,t,n){var r=o(n(6)),i=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(2),u=n(9);function l(e,t,n){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.options=n||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}l.prototype.stack=!0,l.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setData=function(e){null!=e.group&&this.data.group!=e.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,e.group),this.parent&&(this.parent.stackDirty=!0),null!=e.subgroup&&this.data.subgroup!=e.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setParent=function(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e},l.prototype.isVisible=function(e){return!1},l.prototype.show=function(){return!1},l.prototype.hide=function(){return!1},l.prototype.redraw=function(){},l.prototype.repositionX=function(){},l.prototype.repositionY=function(){},l.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this;var n=new a(t);n.on("tap",(function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})})),n.on("doubletap",(function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})})),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},l.prototype._repaintDeleteButton=function(e){var t=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){var n=this,r=document.createElement("div");this.options.rtl?r.className="vis-delete-rtl":r.className="vis-delete",r.title="Delete this item",new a(r).on("tap",(function(e){e.stopPropagation(),n.parent.removeFromDataSet(n)})),e.appendChild(r),this.dom.deleteButton=r}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},l.prototype._repaintOnItemUpdateTimeTooltip=function(e){if(this.options.tooltipOnItemUpdateTime){var t=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){var n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",e.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var r,i=this.parent.itemSet.body.domProps.scrollTop;("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-i?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?r=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(r="start: "+u(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(r+="<br> end: "+u(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=r}}},l.prototype._updateContents=function(e){var t,n,r,i,o=this.parent.itemSet.itemsData.get(this.id),a=this.dom.box||this.dom.point,s=a.getElementsByClassName("vis-item-visible-frame")[0];if(r=this.options.visibleFrameTemplate?(i=this.options.visibleFrameTemplate.bind(this))(o,a):"",s)if(r instanceof Object&&!(r instanceof Element))i(o,s);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(r)){if(r instanceof Element)s.innerHTML="",s.appendChild(r);else if(null!=r)s.innerHTML=r;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=r}if((t=this.options.template?(n=this.options.template.bind(this))(o,e,this.data):this.data.content)instanceof Object&&!(t instanceof Element))n(o,e);else if(this._contentToString(this.content)!==this._contentToString(t)){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(null!=t)e.innerHTML=t;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=t}},l.prototype._updateDataAttributes=function(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;t=(0,i.default)(this.data)}for(var n=0;n<t.length;n++){var r=t[n],o=this.data[r];null!=o?e.setAttribute("data-"+r,o):e.removeAttribute("data-"+r)}}},l.prototype._updateStyle=function(e){this.style&&(s.removeCssText(e,this.style),this.style=null),this.data.style&&(s.addCssText(e,this.data.style),this.style=this.data.style)},l.prototype._contentToString=function(e){return"string"==typeof e?e:e&&"outerHTML"in e?e.outerHTML:e},l.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,r.default)(this.options.editable)&&(this.editable={},s.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,r.default)(this.data.editable)&&(this.editable={},s.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},l.prototype.getWidthLeft=function(){return 0},l.prototype.getWidthRight=function(){return 0},l.prototype.getTitle=function(){return this.data.title},e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(51);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function r(e){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(e)}r.prototype.setOptions=function(e){e&&void 0!==e.delay&&(this.delay=e.delay),e&&void 0!==e.max&&(this.max=e.max),this._flushIfNeeded()},r.extend=function(e,t){var n=new r(t);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var i=[{name:"flush",original:void 0}];if(t&&t.replace)for(var o=0;o<t.replace.length;o++){var a=t.replace[o];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n},r.prototype.destroy=function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,n=0;n<t.length;n++){var r=t[n];r.original?e[r.name]=r.original:delete e[r.name]}this._extended=null}},r.prototype.replace=function(e,t){var n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.queue({args:e,fn:r,context:this})}},r.prototype.queue=function(e){"function"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()},r.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var e=this;this._timeout=setTimeout((function(){e.flush()}),this.delay)}},r.prototype.flush=function(){for(;this._queue.length>0;){var e=this._queue.shift();e.fn.apply(e.context||e.fn,e.args||[])}},e.exports=r},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r,i=(r=n(6))&&r.__esModule?r:{default:r},o=n(2),a=n(16),s=n(66),u=n(36),l=n(9);function c(e,t){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:s.FORMAT,moment:l,timeAxis:null},this.options=o.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}c.prototype=new a,c.prototype.setOptions=function(e){e&&(o.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),o.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.axis=e.orientation:"object"===(0,i.default)(e.orientation)&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&("function"==typeof l.locale?l.locale(e.locale):l.lang(e.locale)))},c.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},c.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},c.prototype.redraw=function(){var e=this.props,t=this.dom.foreground,n=this.dom.background,r="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,i=t.parentNode!==r;this._calculateCharSize();var o=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,a=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;var s=t.nextSibling,u=n.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n),t.style.height=this.props.height+"px",this._repaintLabels(),s?r.insertBefore(t,s):r.appendChild(t),u?this.body.dom.backgroundVertical.insertBefore(n,u):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||i},c.prototype._repaintLabels=function(){var e=this.options.orientation.axis,t=o.convert(this.body.range.start,"Number"),n=o.convert(this.body.range.end,"Number"),r=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),i=r-u.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,r);i-=this.body.util.toTime(0).valueOf();var a=new s(new Date(t),new Date(n),i,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;var l,c,d,h,p,v=this.dom;v.redundant.lines=v.lines,v.redundant.majorTexts=v.majorTexts,v.redundant.minorTexts=v.minorTexts,v.lines=[],v.majorTexts=[],v.minorTexts=[];var m,g,y,b,_=0,w=void 0,x=0;for(a.start(),l=a.getCurrent(),d=this.body.util.toScreen(l);a.hasNext()&&x<1e3;){switch(x++,h=a.isMajor(),b=a.getClassName(),y=a.getLabelMinor(),c=d,a.next(),l=a.getCurrent(),a.isMajor(),m=_,_=(d=this.body.util.toScreen(l))-c,a.scale){case"week":p=!0;break;default:p=_>=.4*m}if(this.options.showMinorLabels&&p){var O=this._repaintMinorText(c,y,e,b);O.style.width=_+"px"}h&&this.options.showMajorLabels?(c>0&&(null==w&&(w=c),O=this._repaintMajorText(c,a.getLabelMajor(),e,b)),g=this._repaintMajorLine(c,_,e,b)):p?g=this._repaintMinorLine(c,_,e,b):g&&(g.style.width=parseInt(g.style.width)+_+"px")}if(1e3!==x||f||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),f=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),E=a.getLabelMajor(k),S=E.length*(this.props.majorCharWidth||10)+10;(null==w||S<w)&&this._repaintMajorText(0,E,e,b)}o.forEach(this.dom.redundant,(function(e){for(;e.length;){var t=e.pop();t&&t.parentNode&&t.parentNode.removeChild(t)}}))},c.prototype._repaintMinorText=function(e,t,n,r){var i=this.dom.redundant.minorTexts.shift();if(!i){var o=document.createTextNode("");(i=document.createElement("div")).appendChild(o),this.dom.foreground.appendChild(i)}return this.dom.minorTexts.push(i),i.innerHTML=t,i.style.top="top"==n?this.props.majorLabelHeight+"px":"0",this.options.rtl?(i.style.left="",i.style.right=e+"px"):i.style.left=e+"px",i.className="vis-text vis-minor "+r,i},c.prototype._repaintMajorText=function(e,t,n,r){var i=this.dom.redundant.majorTexts.shift();if(!i){var o=document.createElement("div");(i=document.createElement("div")).appendChild(o),this.dom.foreground.appendChild(i)}return i.childNodes[0].innerHTML=t,i.className="vis-text vis-major "+r,i.style.top="top"==n?"0":this.props.minorLabelHeight+"px",this.options.rtl?(i.style.left="",i.style.right=e+"px"):i.style.left=e+"px",this.dom.majorTexts.push(i),i},c.prototype._repaintMinorLine=function(e,t,n,r){var i=this.dom.redundant.lines.shift();i||(i=document.createElement("div"),this.dom.background.appendChild(i)),this.dom.lines.push(i);var o=this.props;return i.style.top="top"==n?o.majorLabelHeight+"px":this.body.domProps.top.height+"px",i.style.height=o.minorLineHeight+"px",this.options.rtl?(i.style.left="",i.style.right=e-o.minorLineWidth/2+"px",i.className="vis-grid vis-vertical-rtl vis-minor "+r):(i.style.left=e-o.minorLineWidth/2+"px",i.className="vis-grid vis-vertical vis-minor "+r),i.style.width=t+"px",i},c.prototype._repaintMajorLine=function(e,t,n,r){var i=this.dom.redundant.lines.shift();i||(i=document.createElement("div"),this.dom.background.appendChild(i)),this.dom.lines.push(i);var o=this.props;return i.style.top="top"==n?"0":this.body.domProps.top.height+"px",this.options.rtl?(i.style.left="",i.style.right=e-o.majorLineWidth/2+"px",i.className="vis-grid vis-vertical-rtl vis-major "+r):(i.style.left=e-o.majorLineWidth/2+"px",i.className="vis-grid vis-vertical vis-major "+r),i.style.height=o.majorLineHeight+"px",i.style.width=t+"px",i},c.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var f=!1;e.exports=c},function(e,t,n){var r=n(10),i=n(2),o=n(16),a=n(9),s=n(98);function u(e,t){this.body=e,this.defaultOptions={moment:a,locales:s,locale:"en",id:void 0,title:void 0},this.options=i.extend({},this.defaultOptions),t&&t.time?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this.setOptions(t),this._create()}u.prototype=new o,u.prototype.setOptions=function(e){e&&i.selectiveExtend(["moment","locale","locales","id"],this.options,e)},u.prototype._create=function(){var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var t=document.createElement("div");function n(e){this.body.range._onMouseWheel(e)}t.style.position="relative",t.style.top="0px",t.style.left="-10px",t.style.height="100%",t.style.width="20px",t.addEventListener?(t.addEventListener("mousewheel",n.bind(this),!1),t.addEventListener("DOMMouseScroll",n.bind(this),!1)):t.attachEvent("onmousewheel",n.bind(this)),e.appendChild(t),this.hammer=new r(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL})},u.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},u.prototype.redraw=function(){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));var t=this.body.util.toScreen(this.customTime),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var r=this.options.title;return void 0===r?r=(r=n.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+r.substring(1):"function"==typeof r&&(r=r.call(this.customTime)),this.bar.style.left=t+"px",this.bar.title=r,!1},u.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},u.prototype.setCustomTime=function(e){this.customTime=i.convert(e,"Date"),this.redraw()},u.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},u.prototype.setCustomTitle=function(e){this.options.title=e},u.prototype._onDragStart=function(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()},u.prototype._onDrag=function(e){if(this.eventParams.dragging){var t=this.body.util.toScreen(this.eventParams.customTime)+e.deltaX,n=this.body.util.toTime(t);this.setCustomTime(n),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}},u.prototype._onDragEnd=function(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())},u.customTimeFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null},e.exports=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=n(117).default,u=n(48).default,l=n(193).default,c=n(200).default,f=n(201).default,d=n(202).default,h=n(203).default,p=n(204).default,v=n(205).default,m=n(206).default,g=n(207).default,y=n(208).default,b=n(209).default,_=n(210).default,w=n(211).default,x=n(212).default,O=n(213).default,k=n(15).printStyle,E=function(){function e(t,n,i,o,u,l){(0,r.default)(this,e),this.options=a.bridgeObject(u),this.globalOptions=u,this.defaultOptions=l,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new s(this.body,this.options,!1),this.setOptions(t)}return(0,i.default)(e,[{key:"attachEdge",value:function(e){-1===this.edges.indexOf(e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t=this.edges.indexOf(e);-1!=t&&this.edges.splice(t,1)}},{key:"setOptions",value:function(t){var n=this.options.shape;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var r=[t,this.options,this.defaultOptions];return this.chooser=u.choosify("node",r),this._load_images(),this.updateLabelModule(t),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,e}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),e.updateGroupOptions(this.options,t,this.grouplist);var n=this.grouplist.get(this.options.group,!1),r=[t,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new l(this.options,this.body,this.labelModule);break;case"circle":this.shape=new c(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new f(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new d(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new h(this.options,this.body,this.labelModule);break;case"dot":this.shape=new p(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new v(this.options,this.body,this.labelModule);break;case"icon":this.shape=new m(this.options,this.body,this.labelModule);break;case"image":this.shape=new g(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new _(this.options,this.body,this.labelModule);break;case"text":this.shape=new w(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new x(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new O(this.options,this.body,this.labelModule);break;default:this.shape=new v(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*o}this.options.size=this.options.scaling.min+r*i}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&u.pointInRect(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),u.pointInRect(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"updateGroupOptions",value:function(e,t,n){if(void 0!==n){var r=e.group;if(void 0!==t&&void 0!==t.group&&r!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof r||"string"==typeof r&&""!=r){var i=n.get(r);a.selectiveNotDeepExtend(["font"],e,i),e.color=a.parseColor(e.color)}}}},{key:"parseOptions",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments[4],s=["color","fixed","shadow"];if(a.selectiveNotDeepExtend(s,t,n,r),e.checkMass(n),a.mergeOptions(t,n,"shadow",i),void 0!==n.color&&null!==n.color){var u=a.parseColor(n.color);a.fillIfDefined(t.color,u)}else!0===r&&null===n.color&&(t.color=a.bridgeObject(i.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"==typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===r&&null===n.font&&(t.font=a.bridgeObject(i.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&a.mergeOptions(t.scaling,n.scaling,"label",i.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var n="";void 0!==t&&(n=" in node id: "+t),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",k),e.mass=1}}}]),e}();t.default=E},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(6)),i=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(2),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"choosify",value:function(e,t){var n=["node","edge","label"],i=!0,o=s.topMost(t,"chosen");if("boolean"==typeof o)i=o;else if("object"===(void 0===o?"undefined":(0,r.default)(o))){if(-1===n.indexOf(e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");var a=s.topMost(t,["chosen",e]);"boolean"!=typeof a&&"function"!=typeof a||(i=a)}return i}},{key:"pointInRect",value:function(e,t,n){if(e.width<=0||e.height<=0)return!1;if(void 0!==n){var r={x:t.x-n.x,y:t.y-n.y};if(0!==n.angle){var i=-n.angle;t={x:Math.cos(i)*r.x-Math.sin(i)*r.y,y:Math.sin(i)*r.x+Math.cos(i)*r.y}}else t=r}var o=e.x+e.width,a=e.y+e.width;return e.left<t.x&&o>t.x&&e.top<t.y&&a>t.y}},{key:"isValidLabel",value:function(e){return"string"==typeof e&&""!==e}}]),e}();t.default=u},function(e,t,n){n(125);for(var r=n(18),i=n(26),o=n(31),a=n(13)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t,n){var r=n(32);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(27),i=n(130),o=n(58),a=n(56)("IE_PROTO"),s=function(){},u=function(){var e,t=n(82)("iframe"),r=o.length;for(t.style.display="none",n(134).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(57)("keys"),i=n(40);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(18),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(20).f,i=n(22),o=n(13)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(135)(!0);n(79)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){t.f=n(13)},function(e,t,n){var r=n(18),i=n(7),o=n(52),a=n(61),s=n(20).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=a(n(8)),i=a(n(19)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(2),u=n(9),l=n(16),c=n(36);function f(e,t){var n=u().hours(0).minutes(0).seconds(0).milliseconds(0),r=n.clone().add(-3,"days").valueOf(),i=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===t?(this.start=r,this.end=i):(this.start=t.start||r,this.end=t.end||i),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:u,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=s.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(t)}function d(e){if("horizontal"!=e&&"vertical"!=e)throw new TypeError('Unknown direction "'+e+'". Choose "horizontal" or "vertical".')}f.prototype=new l,f.prototype.setOptions=function(e){e&&(s.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end))},f.prototype.startRolling=function(){var e=this;!function t(){e.stopRolling(),e.rolling=!0;var n=e.end-e.start,r=s.convert(new Date,"Date").valueOf(),i=r-n*e.options.rollingMode.offset,o=r+n*(1-e.options.rollingMode.offset);e.setRange(i,o,{animation:!1}),(n=1/e.conversion(e.body.domProps.center.width).scale/10)<30&&(n=30),n>1e3&&(n=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,n)}()},f.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},f.prototype.setRange=function(e,t,n,a,u){n||(n={}),!0!==n.byUser&&(n.byUser=!1);var l=this,f=null!=e?s.convert(e,"Date").valueOf():null,d=null!=t?s.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,n.animation){var h=this.start,p=this.end,v="object"===(0,o.default)(n.animation)&&"duration"in n.animation?n.animation.duration:500,m="object"===(0,o.default)(n.animation)&&"easingFunction"in n.animation?n.animation.easingFunction:"easeInOutQuad",g=s.easingFunctions[m];if(!g)throw new Error("Unknown easing function "+(0,i.default)(m)+". Choose from: "+(0,r.default)(s.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function e(){if(!l.props.touch.dragging){var t=(new Date).valueOf()-y,r=g(t/v),i=t>v,o=i||null===f?f:h+(f-h)*r,s=i||null===d?d:p+(d-p)*r;_=l._applyRange(o,s),c.updateHiddenDates(l.options.moment,l.body,l.options.hiddenDates),b=b||_;var m={start:new Date(l.start),end:new Date(l.end),byUser:n.byUser,event:n.event};if(u&&u(r,_,i),_&&l.body.emitter.emit("rangechange",m),i){if(b&&(l.body.emitter.emit("rangechanged",m),a))return a()}else l.animationTimer=setTimeout(e,20)}}()}var _=this._applyRange(f,d);if(c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),_){var w={start:new Date(this.start),end:new Date(this.end),byUser:n.byUser,event:n.event};if(this.body.emitter.emit("rangechange",w),clearTimeout(l.timeoutID),l.timeoutID=setTimeout((function(){l.body.emitter.emit("rangechanged",w)}),200),a)return a()}},f.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},f.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},f.prototype._applyRange=function(e,t){var n,r=null!=e?s.convert(e,"Date").valueOf():this.start,i=null!=t?s.convert(t,"Date").valueOf():this.end,o=null!=this.options.max?s.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?s.convert(this.options.min,"Date").valueOf():null;if(isNaN(r)||null===r)throw new Error('Invalid start "'+e+'"');if(isNaN(i)||null===i)throw new Error('Invalid end "'+t+'"');if(i<r&&(i=r),null!==a&&r<a&&(r+=n=a-r,i+=n,null!=o&&i>o&&(i=o)),null!==o&&i>o&&(r-=n=i-o,i-=n,null!=a&&r<a&&(r=a)),null!==this.options.zoomMin){var u=parseFloat(this.options.zoomMin);u<0&&(u=0),i-r<u&&(this.end-this.start===u&&r>=this.start-.5&&i<=this.end?(r=this.start,i=this.end):(r-=(n=u-(i-r))/2,i+=n/2))}if(null!==this.options.zoomMax){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),i-r>l&&(this.end-this.start===l&&r<this.start&&i>this.end?(r=this.start,i=this.end):(r+=(n=i-r-l)/2,i-=n/2))}var c=this.start!=r||this.end!=i;return r>=this.start&&r<=this.end||i>=this.start&&i<=this.end||this.start>=r&&this.start<=i||this.end>=r&&this.end<=i||this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=i,c},f.prototype.getRange=function(){return{start:this.start,end:this.end}},f.prototype.conversion=function(e,t){return f.conversion(this.start,this.end,e,t)},f.conversion=function(e,t,n,r){return void 0===r&&(r=0),0!=n&&t-e!=0?{offset:e,scale:n/(t-e-r)}:{offset:0,scale:1}},f.prototype._onDragStart=function(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},f.prototype._onDrag=function(e){if(e&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var t=this.options.direction;d(t);var n="horizontal"==t?e.deltaX:e.deltaY;n-=this.deltaDifference;var r=this.props.touch.end-this.props.touch.start;r-=c.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var i,o="horizontal"==t?this.body.domProps.center.width:this.body.domProps.center.height;i=this.options.rtl?n/o*r:-n/o*r;var a=this.props.touch.start+i,s=this.props.touch.end+i,u=c.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-n,!0),l=c.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-n,!0);if(u!=a||l!=s)return this.deltaDifference+=n,this.props.touch.start=u,this.props.touch.end=l,void this._onDrag(e);this.previousDelta=n,this._applyRange(a,s);var f=new Date(this.start),h=new Date(this.end);this.body.emitter.emit("rangechange",{start:f,end:h,byUser:!0,event:e}),this.body.emitter.emit("panmove")}},f.prototype._onDragEnd=function(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))},f.prototype._onMouseWheel=function(e){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){var n,r;if(n=t<0?1-t/5:1/(1+t/5),this.rolling)r=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var i=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);r=this._pointerToDate(i)}this.zoom(n,r,t,e),e.preventDefault()}},f.prototype._onTouch=function(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,s.preventDefault(e)},f.prototype._onPinch=function(e){if(this.options.zoomable&&this.options.moveable){s.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center)),this.stopRolling();var t=1/(e.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),r=c.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),i=c.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n),o=r-i,a=n-i+(this.props.touch.start-(n-i))*t,u=n+o+(this.props.touch.end-(n+o))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;var l=c.snapAwayFromHidden(this.body.hiddenDates,a,1-t,!0),f=c.snapAwayFromHidden(this.body.hiddenDates,u,t-1,!0);l==a&&f==u||(this.props.touch.start=l,this.props.touch.end=f,this.scaleOffset=1-e.scale,a=l,u=f);var d={animation:!1,byUser:!0,event:e};this.setRange(a,u,d),this.startToFront=!1,this.endToFront=!0}},f.prototype._isInsideRange=function(e){var t,n=e.center?e.center.x:e.clientX;t=this.options.rtl?n-s.getAbsoluteLeft(this.body.dom.centerContainer):s.getAbsoluteRight(this.body.dom.centerContainer)-n;var r=this.body.util.toTime(t);return r>=this.start&&r<=this.end},f.prototype._pointerToDate=function(e){var t,n=this.options.direction;if(d(n),"horizontal"==n)return this.body.util.toTime(e.x).valueOf();var r=this.body.domProps.center.height;return t=this.conversion(r),e.y/t.scale+t.offset},f.prototype.getPointer=function(e,t){return this.options.rtl?{x:s.getAbsoluteRight(t)-e.x,y:e.y-s.getAbsoluteTop(t)}:{x:e.x-s.getAbsoluteLeft(t),y:e.y-s.getAbsoluteTop(t)}},f.prototype.zoom=function(e,t,n,r){null==t&&(t=(this.start+this.end)/2);var i=c.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=c.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,t),a=i-o,s=t-o+(this.start-(t-o))*e,u=t+a+(this.end-(t+a))*e;this.startToFront=!(n>0),this.endToFront=!(-n>0);var l=c.snapAwayFromHidden(this.body.hiddenDates,s,n,!0),f=c.snapAwayFromHidden(this.body.hiddenDates,u,-n,!0);l==s&&f==u||(s=l,u=f);var d={animation:!1,byUser:!0,event:r};this.setRange(s,u,d),this.startToFront=!1,this.endToFront=!0},f.prototype.move=function(e){var t=this.end-this.start,n=this.start+t*e,r=this.end+t*e;this.start=n,this.end=r},f.prototype.moveTo=function(e){var t=(this.start+this.end)/2-e,n=this.start-t,r=this.end-t;this.setRange(n,r,{animation:!1,byUser:!0,event:null})},e.exports=f},function(e,t,n){var r=o(n(19)),i=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(44),s=n(10),u=n(37),l=n(2),c=n(45),f=n(97),d=n(36),h=n(46);function p(){}a(p.prototype),p.prototype._create=function(e){this.dom={},this.dom.container=e,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var t=this;this._origRedraw=this._redraw.bind(this),this._redraw=l.throttle(this._origRedraw),this.on("_change",(function(e){t.itemSet&&t.itemSet.initialItemSetDrawn&&e&&1==e.queue?t._redraw():t._origRedraw()})),this.hammer=new s(this.dom.root);var n=this.hammer.get("pinch").set({enable:!0});function r(e){this.isActive()&&this.emit("mousewheel",e);var t=0,n=0;if("detail"in e&&(n=-1*e.detail),"wheelDelta"in e&&(n=e.wheelDelta),"wheelDeltaY"in e&&(n=e.wheelDeltaY),"wheelDeltaX"in e&&(t=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=-1*n,n=0),"deltaY"in e&&(n=-1*e.deltaY),"deltaX"in e&&(t=e.deltaX),this.options.zoomKey&&!e[this.options.zoomKey])if(e.preventDefault(),this.options.verticalScroll&&Math.abs(n)>=Math.abs(t)){var r=this.props.scrollTop+n;this.isActive()&&(this._setScrollTop(r),this._redraw(),this.emit("scroll",e))}else if(this.options.horizontalScroll){var i=(Math.abs(t)>=Math.abs(n)?t:n)/120*(this.range.end-this.range.start)/20,o=this.range.start+i,a=this.range.end+i,s={animation:!1,byUser:!0,event:e};this.range.setRange(o,a,s)}}function i(e){if(t.options.verticalScroll&&(e.preventDefault(),t.isActive())){var n=-e.target.scrollTop;t._setScrollTop(n),t._redraw(),t.emit("scrollSide",e)}}u.disablePreventDefaultVertically(n),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(e){var n=function(n){t.isActive()&&t.emit(e,n)};t.hammer.on(e,n),t.listeners[e]=n})),u.onTouch(this.hammer,function(e){t.emit("touch",e)}.bind(this)),u.onRelease(this.hammer,function(e){t.emit("release",e)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",r.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",r.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",r.bind(this)),this.dom.left.parentNode.addEventListener("scroll",i.bind(this)),this.dom.right.parentNode.addEventListener("scroll",i.bind(this));var o=!1;if(this.dom.center.addEventListener("dragover",function(e){if(e.preventDefault&&e.preventDefault(),!(!e.target.className.indexOf("vis")>-1||o))return e.dataTransfer.dropEffect="move",o=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation();try{var n=JSON.parse(e.dataTransfer.getData("text"));if(!n||!n.content)return}catch(e){return!1}return o=!1,e.center={x:e.clientX,y:e.clientY},"item"!==n.target?t.itemSet._onAddItem(e):t.itemSet._onDropObjectOnItem(e),t.emit("drop",t.getEventProperties(e)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root)},p.prototype.setOptions=function(e){if(e){if(l.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,i.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===(0,i.default)(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var t=this.timeAxis2=new c(this.body);t.setOptions=function(e){var n=e?l.extend({},e):{};n.orientation="top",c.prototype.setOptions.call(t,n)},this.components.push(t)}}else if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);-1!==n&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&d.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new f(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach((function(t){return t.setOptions(e)})),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var r=l.deepExtend({},this.options);this.components.forEach((function(e){l.deepExtend(r,e.options)})),this.configurator.setModuleOptions({global:r})}this._redraw()},p.prototype.isActive=function(){return!this.activator||this.activator.active},p.prototype.destroy=function(){for(var e in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(e)&&delete this.listeners[e];this.listeners=null,this.hammer=null,this.components.forEach((function(e){return e.destroy()})),this.body=null},p.prototype.setCustomTime=function(e,t){var n=this.customTimes.filter((function(e){return t===e.options.id}));if(0===n.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));n.length>0&&n[0].setCustomTime(e)},p.prototype.getCustomTime=function(e){var t=this.customTimes.filter((function(t){return t.options.id===e}));if(0===t.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));return t[0].getCustomTime()},p.prototype.setCustomTimeTitle=function(e,t){var n=this.customTimes.filter((function(e){return e.options.id===t}));if(0===n.length)throw new Error("No custom time bar found with id "+(0,r.default)(t));if(n.length>0)return n[0].setCustomTitle(e)},p.prototype.getEventProperties=function(e){return{event:e}},p.prototype.addCustomTime=function(e,t){var n=void 0!==e?l.convert(e,"Date").valueOf():new Date;if(this.customTimes.some((function(e){return e.options.id===t})))throw new Error("A custom time with id "+(0,r.default)(t)+" already exists");var i=new h(this.body,l.extend({},this.options,{time:n,id:t}));return this.customTimes.push(i),this.components.push(i),this._redraw(),t},p.prototype.removeCustomTime=function(e){var t=this.customTimes.filter((function(t){return t.options.id===e}));if(0===t.length)throw new Error("No custom time bar found with id "+(0,r.default)(e));t.forEach(function(e){this.customTimes.splice(this.customTimes.indexOf(e),1),this.components.splice(this.components.indexOf(e),1),e.destroy()}.bind(this))},p.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},p.prototype.fit=function(e,t){var n=this.getDataRange();if(null!==n.min||null!==n.max){var r=n.max-n.min,i=new Date(n.min.valueOf()-.01*r),o=new Date(n.max.valueOf()+.01*r),a=!e||void 0===e.animation||e.animation;this.range.setRange(i,o,{animation:a},t)}},p.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},p.prototype.setWindow=function(e,t,n,r){var i,o;"function"==typeof arguments[2]&&(r=arguments[2],n={}),1==arguments.length?(i=void 0===(o=arguments[0]).animation||o.animation,this.range.setRange(o.start,o.end,{animation:i})):2==arguments.length&&"function"==typeof arguments[1]?(r=arguments[1],i=void 0===(o=arguments[0]).animation||o.animation,this.range.setRange(o.start,o.end,{animation:i},r)):(i=!n||void 0===n.animation||n.animation,this.range.setRange(e,t,{animation:i},r))},p.prototype.moveTo=function(e,t,n){"function"==typeof arguments[1]&&(n=arguments[1],t={});var r=this.range.end-this.range.start,i=l.convert(e,"Date").valueOf(),o=i-r/2,a=i+r/2,s=!t||void 0===t.animation||t.animation;this.range.setRange(o,a,{animation:s},n)},p.prototype.getWindow=function(){var e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}},p.prototype.zoomIn=function(e,t,n){if(!(!e||e<0||e>1)){"function"==typeof arguments[1]&&(n=arguments[1],t={});var r=this.getWindow(),i=r.start.valueOf(),o=r.end.valueOf(),a=o-i,s=a/(1+e),u=(a-s)/2,l=i+u,c=o-u;this.setWindow(l,c,t,n)}},p.prototype.zoomOut=function(e,t,n){if(!(!e||e<0||e>1)){"function"==typeof arguments[1]&&(n=arguments[1],t={});var r=this.getWindow(),i=r.start.valueOf(),o=r.end.valueOf(),a=o-i,s=i-a*e/2,u=o+a*e/2;this.setWindow(s,u,t,n)}},p.prototype.redraw=function(){this._redraw()},p.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,n=this.props,r=this.dom;if(r&&r.container&&0!=r.root.offsetWidth){d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(l.addClassName(r.root,"vis-top"),l.removeClassName(r.root,"vis-bottom")):(l.removeClassName(r.root,"vis-top"),l.addClassName(r.root,"vis-bottom")),r.root.style.maxHeight=l.option.asSize(t.maxHeight,""),r.root.style.minHeight=l.option.asSize(t.minHeight,""),r.root.style.width=l.option.asSize(t.width,""),n.border.left=(r.centerContainer.offsetWidth-r.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(r.centerContainer.offsetHeight-r.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,n.borderRootHeight=r.root.offsetHeight-r.root.clientHeight,n.borderRootWidth=r.root.offsetWidth-r.root.clientWidth,0===r.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===r.root.clientHeight&&(n.borderRootWidth=n.borderRootHeight),n.center.height=r.center.offsetHeight,n.left.height=r.left.offsetHeight,n.right.height=r.right.offsetHeight,n.top.height=r.top.clientHeight||-n.border.top,n.bottom.height=r.bottom.clientHeight||-n.border.bottom;var i=Math.max(n.left.height,n.center.height,n.right.height),o=n.top.height+i+n.bottom.height+n.borderRootHeight+n.border.top+n.border.bottom;r.root.style.height=l.option.asSize(t.height,o+"px"),n.root.height=r.root.offsetHeight,n.background.height=n.root.height-n.borderRootHeight;var a=n.root.height-n.top.height-n.bottom.height-n.borderRootHeight;n.centerContainer.height=a,n.leftContainer.height=a,n.rightContainer.height=n.leftContainer.height,n.root.width=r.root.offsetWidth,n.background.width=n.root.width-n.borderRootWidth,this.initialDrawDone||(n.scrollbarWidth=l.getScrollBarWidth()),t.verticalScroll?t.rtl?(n.left.width=r.leftContainer.clientWidth||-n.border.left,n.right.width=r.rightContainer.clientWidth+n.scrollbarWidth||-n.border.right):(n.left.width=r.leftContainer.clientWidth+n.scrollbarWidth||-n.border.left,n.right.width=r.rightContainer.clientWidth||-n.border.right):(n.left.width=r.leftContainer.clientWidth||-n.border.left,n.right.width=r.rightContainer.clientWidth||-n.border.right),this._setDOM();var u=this._updateScrollTop();"top"!=t.orientation.item&&(u+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),r.center.style.top=u+"px";var c=0==n.scrollTop?"hidden":"",f=n.scrollTop==n.scrollTopMin?"hidden":"";r.shadowTop.style.visibility=c,r.shadowBottom.style.visibility=f,r.shadowTopLeft.style.visibility=c,r.shadowBottomLeft.style.visibility=f,r.shadowTopRight.style.visibility=c,r.shadowBottomRight.style.visibility=f,t.verticalScroll&&(r.rightContainer.className="vis-panel vis-right vis-vertical-scroll",r.leftContainer.className="vis-panel vis-left vis-vertical-scroll",r.shadowTopRight.style.visibility="hidden",r.shadowBottomRight.style.visibility="hidden",r.shadowTopLeft.style.visibility="hidden",r.shadowBottomLeft.style.visibility="hidden",r.left.style.top="0px",r.right.style.top="0px"),(!t.verticalScroll||n.center.height<n.centerContainer.height)&&(r.left.style.top=u+"px",r.right.style.top=u+"px",r.rightContainer.className=r.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.leftContainer.className=r.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=r.leftContainer.clientWidth||-n.border.left,n.right.width=r.rightContainer.clientWidth||-n.border.right,this._setDOM());var h=n.center.height>n.centerContainer.height;if(this.hammer.get("pan").set({direction:h?s.DIRECTION_ALL:s.DIRECTION_HORIZONTAL}),this.components.forEach((function(t){e=t.redraw()||e})),e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},p.prototype._setDOM=function(){var e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;var n=e.root.width-e.left.width-e.right.width-e.borderRootWidth;e.center.width=n,e.centerContainer.width=n,e.top.width=n,e.bottom.width=n,t.background.style.height=e.background.height+"px",t.backgroundVertical.style.height=e.background.height+"px",t.backgroundHorizontal.style.height=e.centerContainer.height+"px",t.centerContainer.style.height=e.centerContainer.height+"px",t.leftContainer.style.height=e.leftContainer.height+"px",t.rightContainer.style.height=e.rightContainer.height+"px",t.background.style.width=e.background.width+"px",t.backgroundVertical.style.width=e.centerContainer.width+"px",t.backgroundHorizontal.style.width=e.background.width+"px",t.centerContainer.style.width=e.center.width+"px",t.top.style.width=e.top.width+"px",t.bottom.style.width=e.bottom.width+"px",t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=e.left.width+e.border.left+"px",t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=e.top.height+"px",t.centerContainer.style.left=e.left.width+"px",t.centerContainer.style.top=e.top.height+"px",t.leftContainer.style.left="0",t.leftContainer.style.top=e.top.height+"px",t.rightContainer.style.left=e.left.width+e.center.width+"px",t.rightContainer.style.top=e.top.height+"px",t.top.style.left=e.left.width+"px",t.top.style.top="0",t.bottom.style.left=e.left.width+"px",t.bottom.style.top=e.top.height+e.centerContainer.height+"px",t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"},p.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},p.prototype.setCurrentTime=function(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)},p.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},p.prototype._toTime=function(e){return d.toTime(this,e,this.props.center.width)},p.prototype._toGlobalTime=function(e){return d.toTime(this,e,this.props.root.width)},p.prototype._toScreen=function(e){return d.toScreen(this,e,this.props.center.width)},p.prototype._toGlobalScreen=function(e){return d.toScreen(this,e,this.props.root.width)},p.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},p.prototype._startAutoResize=function(){var e=this;this._stopAutoResize(),this._onResize=function(){1==e.options.autoResize?e.dom.root&&(e.dom.root.offsetWidth==e.props.lastWidth&&e.dom.root.offsetHeight==e.props.lastHeight||(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight,e.props.scrollbarWidth=l.getScrollBarWidth(),e.body.emitter.emit("_change"))):e._stopAutoResize()},l.addEventListener(window,"resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},p.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(l.removeEventListener(window,"resize",this._onResize),this._onResize=null)},p.prototype._onTouch=function(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},p.prototype._onPinch=function(e){this.touch.allowDragging=!1},p.prototype._onDrag=function(e){if(e&&this.touch.allowDragging){var t=e.deltaY,n=this._getScrollTop(),r=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),r!=n&&this.emit("verticalDrag")}},p.prototype._setScrollTop=function(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop},p.prototype._updateScrollTop=function(){var e=Math.min(this.props.centerContainer.height-this.props.center.height,0);return e!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},p.prototype._getScrollTop=function(){return this.props.scrollTop},p.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},e.exports=p},function(e,t,n){var r=n(9),i=n(36),o=n(2);function a(e,t,n,i,o){this.moment=r,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(i)?this.hiddenDates=i:this.hiddenDates=null!=i?[i]:[],this.format=a.FORMAT,this.options=o||{}}a.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},a.prototype.setMoment=function(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},a.prototype.setFormat=function(e){var t=o.deepExtend({},a.FORMAT);this.format=o.deepExtend(t,e)},a.prototype.setRange=function(e,t,n){if(!(e instanceof Date&&t instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=e?this.moment(e.valueOf()):new Date,this._end=null!=t?this.moment(t.valueOf()):new Date,this.autoScale&&this.setMinimumStep(n)},a.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},a.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},a.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},a.prototype.next=function(){var e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,i.stepOverHiddenDates(this.moment,this,e)},a.prototype.getCurrent=function(){return this.current},a.prototype.setScale=function(e){e&&"string"==typeof e.scale&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)},a.prototype.setAutoScale=function(e){this.autoScale=e},a.prototype.setMinimumStep=function(e){if(null!=e){var t=31104e6;1e3*t>e&&(this.scale="year",this.step=1e3),500*t>e&&(this.scale="year",this.step=500),100*t>e&&(this.scale="year",this.step=100),50*t>e&&(this.scale="year",this.step=50),10*t>e&&(this.scale="year",this.step=10),5*t>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),7776e6>e&&(this.scale="month",this.step=3),2592e6>e&&(this.scale="month",this.step=1),432e6>e&&(this.scale="day",this.step=5),1728e5>e&&(this.scale="day",this.step=2),864e5>e&&(this.scale="day",this.step=1),432e5>e&&(this.scale="weekday",this.step=1),144e5>e&&(this.scale="hour",this.step=4),36e5>e&&(this.scale="hour",this.step=1),9e5>e&&(this.scale="minute",this.step=15),6e5>e&&(this.scale="minute",this.step=10),3e5>e&&(this.scale="minute",this.step=5),6e4>e&&(this.scale="minute",this.step=1),15e3>e&&(this.scale="second",this.step=15),1e4>e&&(this.scale="second",this.step=10),5e3>e&&(this.scale="second",this.step=5),1e3>e&&(this.scale="second",this.step=1),200>e&&(this.scale="millisecond",this.step=200),100>e&&(this.scale="millisecond",this.step=100),50>e&&(this.scale="millisecond",this.step=50),10>e&&(this.scale="millisecond",this.step=10),5>e&&(this.scale="millisecond",this.step=5),1>e&&(this.scale="millisecond",this.step=1)}},a.snap=function(e,t,n){var i=r(e);if("year"==t){var o=i.year()+Math.round(i.month()/12);i.year(Math.round(o/n)*n),i.month(0),i.date(0),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("month"==t)i.date()>15?(i.date(1),i.add(1,"month")):i.date(1),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0);else if("week"==t)i.weekday()>2?(i.weekday(0),i.add(1,"week")):i.weekday(0),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0);else if("day"==t){switch(n){case 5:case 2:i.hours(24*Math.round(i.hours()/24));break;default:i.hours(12*Math.round(i.hours()/12))}i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("weekday"==t){switch(n){case 5:case 2:i.hours(12*Math.round(i.hours()/12));break;default:i.hours(6*Math.round(i.hours()/6))}i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("hour"==t){switch(n){case 4:i.minutes(60*Math.round(i.minutes()/60));break;default:i.minutes(30*Math.round(i.minutes()/30))}i.seconds(0),i.milliseconds(0)}else if("minute"==t){switch(n){case 15:case 10:i.minutes(5*Math.round(i.minutes()/5)),i.seconds(0);break;case 5:i.seconds(60*Math.round(i.seconds()/60));break;default:i.seconds(30*Math.round(i.seconds()/30))}i.milliseconds(0)}else if("second"==t)switch(n){case 15:case 10:i.seconds(5*Math.round(i.seconds()/5)),i.milliseconds(0);break;case 5:i.milliseconds(1e3*Math.round(i.milliseconds()/1e3));break;default:i.milliseconds(500*Math.round(i.milliseconds()/500))}else if("millisecond"==t){var a=n>5?n/2:1;i.milliseconds(Math.round(i.milliseconds()/a)*a)}return i},a.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var e=this.moment(this.current);switch(this.scale){case"millisecond":return 0==e.milliseconds();case"second":return 0==e.seconds();case"minute":return 0==e.hours()&&0==e.minutes();case"hour":return 0==e.hours();case"weekday":case"day":case"week":return 1==e.date();case"month":return 0==e.month();case"year":default:return!1}},a.prototype.getLabelMinor=function(e){if(null==e&&(e=this.current),e instanceof Date&&(e=this.moment(e)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(e,this.scale,this.step);var t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==e.weekday())return"";default:return t&&t.length>0?this.moment(e).format(t):""}},a.prototype.getLabelMajor=function(e){if(null==e&&(e=this.current),e instanceof Date&&(e=this.moment(e)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(e,this.scale,this.step);var t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""},a.prototype.getClassName=function(){var e=this.moment,t=this.moment(this.current),n=t.locale?t.locale("en"):t.lang("en"),r=this.step,i=[];function o(e){return e/r%2==0?" vis-even":" vis-odd"}function a(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function s(e){return e.isSame(new Date,"week")?" vis-current-week":""}function u(e){return e.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":i.push(a(n)),i.push(o(n.milliseconds()));break;case"second":i.push(a(n)),i.push(o(n.seconds()));break;case"minute":i.push(a(n)),i.push(o(n.minutes()));break;case"hour":i.push("vis-h"+n.hours()+(4==this.step?"-h"+(n.hours()+4):"")),i.push(a(n)),i.push(o(n.hours()));break;case"weekday":i.push("vis-"+n.format("dddd").toLowerCase()),i.push(a(n)),i.push(s(n)),i.push(o(n.date()));break;case"day":i.push("vis-day"+n.date()),i.push("vis-"+n.format("MMMM").toLowerCase()),i.push(a(n)),i.push(u(n)),i.push(this.step<=2?a(n):""),i.push(this.step<=2?"vis-"+n.format("dddd").toLowerCase():""),i.push(o(n.date()-1));break;case"week":i.push("vis-week"+n.format("w")),i.push(s(n)),i.push(o(n.week()));break;case"month":i.push("vis-"+n.format("MMMM").toLowerCase()),i.push(u(n)),i.push(o(n.month()));break;case"year":i.push("vis-year"+n.year()),i.push(n.isSame(new Date,"year")?" vis-current-year":""),i.push(o(n.year()))}return i.filter(String).join(" ")},e.exports=a},function(e,t,n){var r=n(2),i=n(16),o=n(9),a=n(98);function s(e,t){this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:o,locales:a,locale:"en"},this.options=r.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(t)}s.prototype=new i,s.prototype._create=function(){var e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e},s.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},s.prototype.setOptions=function(e){e&&r.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,e)},s.prototype.redraw=function(){if(this.options.showCurrentTime){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());var t=this.options.moment((new Date).valueOf()+this.offset),n=this.body.util.toScreen(t),r=this.options.locales[this.options.locale];r||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),r=this.options.locales.en);var i=r.current+" "+r.time+": "+t.format("dddd, MMMM Do YYYY, H:mm:ss");i=i.charAt(0).toUpperCase()+i.substring(1),this.options.rtl?this.bar.style.right=n+"px":this.bar.style.left=n+"px",this.bar.title=i}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},s.prototype.start=function(){var e=this;!function t(){e.stop();var n=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;n<30&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,n)}()},s.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},s.prototype.setCurrentTime=function(e){var t=r.convert(e,"Date").valueOf(),n=(new Date).valueOf();this.offset=t-n,this.redraw()},s.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},e.exports=s},function(e,t,n){var r,i=(r=n(8))&&r.__esModule?r:{default:r},o=n(2),a=n(100);function s(e,t,n){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,0==t.showNested?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if("boolean"==typeof t.subgroupStack)this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(var r in t.subgroupStack)this.subgroupStack[r]=t.subgroupStack[r],this.doInnerStack=this.doInnerStack||t.subgroupStack[r];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var i=this;this.itemSet.body.emitter.on("checkRangedItems",(function(){i.checkRangedItems=!0})),this._create(),this.setData(t)}s.prototype._create=function(){var e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;var t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;var n=document.createElement("div");n.className="vis-group",n["timeline-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},s.prototype.setData=function(e){var t,n;if((t=this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this))(e,this.dom.inner):e&&e.content)instanceof Element){for(this.dom.inner.appendChild(t);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object?n(e,this.dom.inner):this.dom.inner.innerHTML=null!=t?t:this.groupId||"";if(this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?o.removeClassName(this.dom.inner,"vis-hidden"):o.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups){this.nestedGroups&&this.nestedGroups==e.nestedGroups||(this.nestedGroups=e.nestedGroups),void 0===e.showNested&&void 0!==this.showNested||(0==e.showNested?this.showNested=!1:this.showNested=!0),o.addClassName(this.dom.label,"vis-nesting-group");var r=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(o.removeClassName(this.dom.label,r),o.addClassName(this.dom.label,"expanded")):(o.removeClassName(this.dom.label,"expanded"),o.addClassName(this.dom.label,r))}else this.nestedGroups&&(this.nestedGroups=null,r=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",o.removeClassName(this.dom.label,r),o.removeClassName(this.dom.label,"expanded"),o.removeClassName(this.dom.label,"vis-nesting-group"));e&&e.nestedInGroup&&(o.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var i=e&&e.className||null;i!=this.className&&(this.className&&(o.removeClassName(this.dom.label,this.className),o.removeClassName(this.dom.foreground,this.className),o.removeClassName(this.dom.background,this.className),o.removeClassName(this.dom.axis,this.className)),o.addClassName(this.dom.label,i),o.addClassName(this.dom.foreground,i),o.addClassName(this.dom.background,i),o.addClassName(this.dom.axis,i),this.className=i),this.style&&(o.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(o.addCssText(this.dom.label,e.style),this.style=e.style)},s.prototype.getLabelWidth=function(){return this.props.label.width},s.prototype._didMarkerHeightChange=function(){var e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;var t={},n=0;if(o.forEach(this.items,(function(e,r){e.dirty=!0,e.displayed&&(t[r]=e.redraw(!0),n=t[r].length)})),n>0)for(var r=0;r<n;r++)o.forEach(t,(function(e){e[r]()}));return!0}},s.prototype._calculateGroupSizeAndPosition=function(){var e=this.dom.foreground.offsetTop,t=this.dom.foreground.offsetLeft,n=this.dom.foreground.offsetWidth;this.top=e,this.right=t,this.width=n},s.prototype._redrawItems=function(e,t,n,r){if(e||this.stackDirty||this.isVisible&&!t){var i={},s=null;if("function"==typeof this.itemSet.options.order){var u=this,l={},c=0;if(o.forEach(this.items,(function(e,t){e.displayed||(l[t]=e.redraw(!0),c=l[t].length,u.visibleItems.push(e))})),c>0)for(var f=0;f<c;f++)o.forEach(l,(function(e){e[f]()}));if(o.forEach(this.items,(function(e){e.repositionX(!1)})),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(s in this.subgroups)i[s]=this.subgroups[s].items.slice().sort((function(e,t){return u.itemSet.options.order(e.data,t.data)}));a.stackSubgroupsWithInnerStack(i,n,this.subgroups)}else{var d=this.orderedItems.byStart.slice().sort((function(e,t){return u.itemSet.options.order(e.data,t.data)}));a.stack(d,n,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,r)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(s in this.subgroups)i[s]=this.subgroups[s].items;a.stackSubgroupsWithInnerStack(i,n,this.subgroups)}else a.stack(this.visibleItems,n,!0);else a.nostack(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},s.prototype._didResize=function(e,t){e=o.updateProperty(this,"height",t)||e;var n=this.dom.inner.clientWidth,r=this.dom.inner.clientHeight;return e=o.updateProperty(this.props.label,"width",n)||e,o.updateProperty(this.props.label,"height",r)||e},s.prototype._applyGroupHeight=function(e){this.dom.background.style.height=e+"px",this.dom.foreground.style.height=e+"px",this.dom.label.style.height=e+"px"},s.prototype._updateItemsVerticalPosition=function(e){for(var t=0,n=this.visibleItems.length;t<n;t++){var r=this.visibleItems[t];r.repositionY(e),this.isVisible||"__background__"==this.groupId||r.displayed&&r.hide()}},s.prototype.redraw=function(e,t,n,r){var i,o,a=!1,s=this.isVisible,u=[function(){n=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,t),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(e,t)}.bind(this),function(){this._redrawItems.bind(this)(n,s,t,e)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){i=this._calculateHeight.bind(this)(t)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){a=this._didResize.bind(this)(a,i)}.bind(this),function(){this._applyGroupHeight.bind(this)(i)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(t)}.bind(this),function(){return!this.isVisible&&this.height&&(a=!1),a}];return r?u:(u.forEach((function(e){o=e()})),o)},s.prototype._updateSubGroupHeights=function(e){if((0,i.default)(this.subgroups).length>0){var t=this;this.resetSubgroups(),o.forEach(this.visibleItems,(function(n){void 0!==n.data.subgroup&&(t.subgroups[n.data.subgroup].height=Math.max(t.subgroups[n.data.subgroup].height,n.height+e.item.vertical),t.subgroups[n.data.subgroup].visible=!0)}))}},s.prototype._isGroupVisible=function(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop},s.prototype._calculateHeight=function(e){var t,n=this.visibleItems;if(n.length>0){var r=n[0].top,i=n[0].top+n[0].height;if(o.forEach(n,(function(e){r=Math.min(r,e.top),i=Math.max(i,e.top+e.height)})),r>e.axis){var a=r-e.axis;i-=a,o.forEach(n,(function(e){e.top-=a}))}t=i+e.item.vertical/2}else t=0;return Math.max(t,this.props.label.height)},s.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},s.prototype.hide=function(){var e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);var t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);var n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);var r=this.dom.axis;r.parentNode&&r.parentNode.removeChild(r)},s.prototype.add=function(e){if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,void 0!==e.data.subgroup&&(this._addToSubgroup(e),this.orderSubgroups()),-1==this.visibleItems.indexOf(e)){var t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}},s.prototype._addToSubgroup=function(e,t){null!=(t=t||e.data.subgroup)&&void 0===this.subgroups[t]&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);var n=e.data.end||e.data.start;new Date(n)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=n),this.subgroups[t].items.push(e)},s.prototype._updateSubgroupsSizes=function(){var e=this;if(e.subgroups)for(var t in e.subgroups){var n=e.subgroups[t].items[0].data.end||e.subgroups[t].items[0].data.start,r=e.subgroups[t].items[0].data.start,i=n-1;e.subgroups[t].items.forEach((function(e){new Date(e.data.start)<new Date(r)&&(r=e.data.start);var t=e.data.end||e.data.start;new Date(t)>new Date(i)&&(i=t)})),e.subgroups[t].start=r,e.subgroups[t].end=new Date(i-1)}},s.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var e,t=[];if("string"==typeof this.subgroupOrderer){for(e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort((function(e,t){return e.sortField-t.sortField}))}else if("function"==typeof this.subgroupOrderer){for(e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var n=0;n<t.length;n++)this.subgroups[t[n].subgroup].index=n}},s.prototype.resetSubgroups=function(){for(var e in this.subgroups)this.subgroups.hasOwnProperty(e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)},s.prototype.remove=function(e){delete this.items[e.id],e.setParent(null),this.stackDirty=!0;var t=this.visibleItems.indexOf(e);-1!=t&&this.visibleItems.splice(t,1),void 0!==e.data.subgroup&&(this._removeFromSubgroup(e),this.orderSubgroups())},s.prototype._removeFromSubgroup=function(e,t){if(null!=(t=t||e.data.subgroup)){var n=this.subgroups[t];if(n){var r=n.items.indexOf(e);r>=0&&(n.items.splice(r,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[t])}}},s.prototype.removeFromDataSet=function(e){this.itemSet.removeItem(e.id)},s.prototype.order=function(){for(var e=o.toArray(this.items),t=[],n=[],r=0;r<e.length;r++)void 0!==e[r].data.end&&n.push(e[r]),t.push(e[r]);this.orderedItems={byStart:t,byEnd:n},a.orderByStart(this.orderedItems.byStart),a.orderByEnd(this.orderedItems.byEnd)},s.prototype._updateItemsInRange=function(e,t,n){var r=[],i={},a=(n.end-n.start)/4,s=n.start-a,u=n.end+a,l=function(e){return e<s?-1:e<=u?0:1};if(t.length>0)for(var c=0;c<t.length;c++)this._checkIfVisibleWithReference(t[c],r,i,n);var f=o.binarySearchCustom(e.byStart,l,"data","start");if(this._traceVisible(f,e.byStart,r,i,(function(e){return e.data.start<s||e.data.start>u})),1==this.checkRangedItems)for(this.checkRangedItems=!1,c=0;c<e.byEnd.length;c++)this._checkIfVisibleWithReference(e.byEnd[c],r,i,n);else{var d=o.binarySearchCustom(e.byEnd,l,"data","end");this._traceVisible(d,e.byEnd,r,i,(function(e){return e.data.end<s||e.data.end>u}))}var h={},p=0;for(c=0;c<r.length;c++){var v=r[c];v.displayed||(h[c]=v.redraw(!0),p=h[c].length)}if(p>0)for(var m=0;m<p;m++)o.forEach(h,(function(e){e[m]()}));for(c=0;c<r.length;c++)r[c].repositionX();return r},s.prototype._traceVisible=function(e,t,n,r,i){if(-1!=e){var o,a;for(o=e;o>=0&&!i(a=t[o]);o--)void 0===r[a.id]&&(r[a.id]=!0,n.push(a));for(o=e+1;o<t.length&&!i(a=t[o]);o++)void 0===r[a.id]&&(r[a.id]=!0,n.push(a))}},s.prototype._checkIfVisible=function(e,t,n){e.isVisible(n)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()},s.prototype._checkIfVisibleWithReference=function(e,t,n,r){e.isVisible(r)?void 0===n[e.id]&&(n[e.id]=!0,t.push(e)):e.displayed&&e.hide()},s.prototype.changeSubgroup=function(e,t,n){this._removeFromSubgroup(e,t),this._addToSubgroup(e,n),this.orderSubgroups()},e.exports=s},function(e,t,n){var r,i=(r=n(29))&&r.__esModule?r:{default:r},o=n(68);function a(e,t,n){o.call(this,e,t,n),this.width=0,this.height=0,this.top=0,this.left=0}a.prototype=(0,i.default)(o.prototype),a.prototype.redraw=function(e,t,n){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var r=0,i=this.visibleItems.length;r<i;r++)this.visibleItems[r].repositionY(t);return!1},a.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},e.exports=a},function(e,t,n){var r=n(38);function i(e,t,n){if(this.props={content:{width:0}},this.overflow=!1,this.options=n,e){if(null==e.start)throw new Error('Property "start" missing in item '+e.id);if(null==e.end)throw new Error('Property "end" missing in item '+e.id)}r.call(this,e,t,n)}i.prototype=new r(null,null,null),i.prototype.baseClassName="vis-item vis-range",i.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}},i.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},i.prototype.redraw=function(e){var t,n,r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];return e?r:(r.forEach((function(e){n=e()})),n)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}},i.prototype.repositionX=function(e){var t,n,r=this.parent.width,i=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end),a=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==e&&!0!==e||(i<-r&&(i=-r),o>2*r&&(o=2*r));var s=Math.max(o-i+.5,1);switch(this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=s+this.props.content.width,n=this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=s,n=Math.min(o-i,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",a){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-n,0)+"px":this.dom.content.style.left=Math.max(s-n,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-n)/2,0)+"px":this.dom.content.style.left=Math.max((s-n)/2,0)+"px";break;default:t=this.overflow?o>0?Math.max(-i,0):-n:i<0?-i:0,this.options.rtl?this.dom.content.style.right=t+"px":(this.dom.content.style.left=t+"px",this.dom.content.style.width="calc(100% - "+t+"px)")}},i.prototype.repositionY=function(){var e=this.options.orientation.item;this.dom.box.style.top="top"==e?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},i.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(19)),i=s(n(6)),o=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=n(2),l=n(179).default,c=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,o.default)(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},u.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l(i),this.wrapper=void 0}return(0,a.default)(e,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;"string"==typeof e?this.options.filter=e:e instanceof Array?this.options.filter=e.join():"object"===(void 0===e?"undefined":(0,i.default)(e))?(void 0!==e.container&&(this.options.container=e.container),void 0!==e.filter&&(this.options.filter=e.filter),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)):"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0),!1===this.options.filter&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var e=this;this._clean(),this.changedOptions=[];var t=this.options.filter,n=0,r=!1;for(var i in this.configureOptions)this.configureOptions.hasOwnProperty(i)&&(this.allowCreation=!1,r=!1,"function"==typeof t?r=(r=t(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==t&&-1===t.indexOf(i)||(r=!0),!1!==r&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),n++);if(!0===this.options.showButton){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerHTML="generate options",o.onclick=function(){e._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){t.appendChild(e)})),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");return r.className="vis-configuration vis-config-label vis-config-s"+t.length,r.innerHTML=!0===n?"<i><b>"+e+":</b></i>":e+":",r}},{key:"_makeDropdown",value:function(e,t,n){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var i=0;void 0!==t&&-1!==e.indexOf(t)&&(i=e.indexOf(t));for(var o=0;o<e.length;o++){var a=document.createElement("option");a.value=e[o],o===i&&(a.selected="selected"),a.innerHTML=e[o],r.appendChild(a)}var s=this;r.onchange=function(){s._update(this.value,n)};var u=this._makeLabel(n[n.length-1],n);this._makeItem(n,u,r)}},{key:"_makeRange",value:function(e,t,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=i,s.max=o}catch(e){}s.step=a;var u="",l=0;if(void 0!==t){var c=1.2;t<0&&t*c<i?(s.min=Math.ceil(t*c),l=s.min,u="range increased"):t/c<i&&(s.min=Math.ceil(t/c),l=s.min,u="range increased"),t*c>o&&1!==o&&(s.max=Math.ceil(t*c),l=s.max,u="range increased"),s.value=t}else s.value=r;var f=document.createElement("input");f.className="vis-configuration vis-config-rangeinput",f.value=s.value;var d=this;s.onchange=function(){f.value=this.value,d._update(Number(this.value),n)},s.oninput=function(){f.value=this.value};var h=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,h,s,f);""!==u&&this.popupHistory[p]!==l&&(this.popupHistory[p]=l,this._setupPopup(u,p))}},{key:"_setupPopup",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=e,r.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((function(){e.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((function(){e._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(e,t,n){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"===(void 0===e?"undefined":(0,i.default)(e))?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var o=this;r.onchange=function(){o._update(this.checked,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}},{key:"_makeTextInput",value:function(e,t,n){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var i=this;r.onchange=function(){i._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}},{key:"_makeColorField",value:function(e,t,n){var r=this,i=e[1],o=document.createElement("div");"none"!==(t=void 0===t?i:t)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=void 0===t?i:t,o.onclick=function(){r._showColorPicker(t,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:"_showColorPicker",value:function(e,t,n){var r=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback((function(e){var i="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=i,r._update(i,n)})),this.colorPicker.setCloseCallback((function(){t.onclick=function(){r._showColorPicker(e,t,n)}}))}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,i=this.options.filter,o=!1;for(var a in e)if(e.hasOwnProperty(a)){r=!0;var s=e[a],l=u.copyAndExtendArray(t,a);if("function"==typeof i&&!1===(r=i(a,t))&&!(s instanceof Array)&&"string"!=typeof s&&"boolean"!=typeof s&&s instanceof Object&&(this.allowCreation=!1,r=this._handleObject(s,l,!0),this.allowCreation=!1===n),!1!==r){o=!0;var c=this._getValue(l);if(s instanceof Array)this._handleArray(s,c,l);else if("string"==typeof s)this._makeTextInput(s,c,l);else if("boolean"==typeof s)this._makeCheckbox(s,c,l);else if(s instanceof Object){var f=!0;if(-1!==t.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(f=!1),!0===f)if(void 0!==s.enabled){var d=u.copyAndExtendArray(l,"enabled"),h=this._getValue(d);if(!0===h){var p=this._makeLabel(a,l,!0);this._makeItem(l,p),o=this._handleObject(s,l)||o}else this._makeCheckbox(s,h,l)}else{var v=this._makeLabel(a,l,!0);this._makeItem(l,v),o=this._handleObject(s,l)||o}}else console.error("dont know how to handle",s,a,l)}}return o}},{key:"_handleArray",value:function(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n;e="false"!==(e="true"===e||e)&&e;for(var i=0;i<t.length;i++)"global"!==t[i]&&(void 0===r[t[i]]&&(r[t[i]]={}),i!==t.length-1?r=r[t[i]]:r[t[i]]=e);return n}},{key:"_printOptions",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,r.default)(e,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),e}();t.default=c},function(e,t,n){var r,i=(r=n(6))&&r.__esModule?r:{default:r},o=n(14);function a(e,t){}function s(e,t){return{style:(t=void 0===t?{}:t).style||e.options.drawPoints.style,styles:t.styles||e.options.drawPoints.styles,size:t.size||e.options.drawPoints.size,className:t.className||e.className}}a.draw=function(e,t,n,r){r=r||0;for(var a=function(e,t){var n=void 0;return e.options&&e.options.drawPoints&&e.options.drawPoints.onRender&&"function"==typeof e.options.drawPoints.onRender&&(n=e.options.drawPoints.onRender),t.group.options&&t.group.options.drawPoints&&t.group.options.drawPoints.onRender&&"function"==typeof t.group.options.drawPoints.onRender&&(n=t.group.options.drawPoints.onRender),n}(n,t),u=0;u<e.length;u++)if(a){var l=a(e[u],t);!0!==l&&"object"!==(void 0===l?"undefined":(0,i.default)(l))||o.drawPoint(e[u].screen_x+r,e[u].screen_y,s(t,l),n.svgElements,n.svg,e[u].label)}else o.drawPoint(e[u].screen_x+r,e[u].screen_y,s(t),n.svgElements,n.svg,e[u].label)},a.drawIcon=function(e,t,n,r,i,a){var u=.5*i,l=o.getSVGElement("rect",a.svgElements,a.svg);l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",n-u),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",2*u),l.setAttributeNS(null,"class","vis-outline"),o.drawPoint(t+.5*r,n,s(e),a.svgElements,a.svg)},e.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){(0,i.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return s.labelOffset=0,s.selected=!1,s}return(0,s.default)(t,e),(0,o.default)(t,[{key:"setOptions",value:function(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}},{key:"setImages",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:"switchImages",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_resizeImage",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var n=1,r=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:r=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*r}else e=this.imageObj.width,t=this.imageObj.height;this.width=e,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,t,n,r){this.initContextForDraw(e,r),e.circle(t,n,r.size),this.performFill(e,r)}},{key:"_drawImageAtPosition",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=1,this.enableShadow(e,t);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(e,n,this.left,this.top,this.width,this.height),this.disableShadow(e,t)}}},{key:"_drawImageLabel",value:function(e,t,n,r,i){var o,a=0;if(void 0!==this.height){a=.5*this.height;var s=this.labelModule.getTextSize(e,r,i);s.lineCount>=1&&(a+=s.height/2)}o=n+a,this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,t,o,r,i,"hanging")}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(19)),i=u(n(6)),o=u(n(29)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=n(2),c=n(117).default,f=n(48).default,d=n(215).default,h=n(217).default,p=n(218).default,v=n(219).default,m=function(){function e(t,n,r,i){if((0,a.default)(this,e),void 0===n)throw new Error("No body provided");this.options=l.bridgeObject(r),this.globalOptions=r,this.defaultOptions=i,this.body=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new c(this.body,this.options,!0),this.setOptions(t)}return(0,s.default)(e,[{key:"setOptions",value:function(t){if(t){e.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value));var n=[t,this.options,this.defaultOptions];this.chooser=f.choosify("edge",n),this.updateLabelModule(t);var r=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===t.hidden&&void 0===t.physics||(r=!0),r}}},{key:"getFormattingValues",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,r=this.options.color.inherit,i={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"==typeof o?i.width=o(i.width):"number"==typeof o&&(i.width+=o),i.width=Math.max(i.width,.3/this.body.view.scale),i.color=this.options.color.highlight,i.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?i.width=a(i.width):"number"==typeof a&&(i.width+=a),i.width=Math.max(i.width,.3/this.body.view.scale),i.color=this.options.color.hover,i.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(i,this.options.id,this.selected,this.hover),void 0!==i.color&&(i.inheritsColor=!1),!1===i.shadow&&(i.shadowColor===this.options.shadow.color&&i.shadowSize===this.options.shadow.size&&i.shadowX===this.options.shadow.x&&i.shadowY===this.options.shadow.y||(i.shadow=!0)));else i.shadow=this.options.shadow.enabled,i.width=Math.max(i.width,.3/this.body.view.scale);return i}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof h&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof d&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof p&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof v&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new h(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new d(this.options,this.body,this.labelModule):this.edgeType=new p(this.options,this.body,this.labelModule):this.edgeType=new v(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*o}this.options.width=this.options.scaling.min+r*i}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(r.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core)),t.toArrow&&(r.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core)),t.middleArrow&&(r.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t)),this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawArrows(e,r,t),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e,t,n){n.fromArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.from),n.middleArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.middle),n.toArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.to)}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=r.id){this.labelModule.pointToSelf=!1;var i=this.edgeType.getPoint(.5,t);e.save();var o=this._getRotation(e);0!=o.angle&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover),e.restore()}else{var a,s;this.labelModule.pointToSelf=!0;var u=this.options.selfReferenceSize;n.shape.width>n.shape.height?(a=n.x+.5*n.shape.width,s=n.y-u):(a=n.x+u,s=n.y-.5*n.shape.height),i=this._pointOnCircle(a,s,u,.125),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();f.pointInRect(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}var r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,n=this.from.y,r=this.to.x,i=this.to.y,o=e.left,a=e.top;return this.edgeType.getDistanceToEdge(t,n,r,i,o,a)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var r={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return r;if("horizontal"===this.options.font.align)return r;var i=this.from.y-this.to.y,o=this.from.x-this.to.x,a=Math.atan2(i,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),r.angle=a,r}},{key:"_pointOnCircle",value:function(e,t,n,r){var i=2*r*Math.PI;return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(l.selectiveDeepExtend(u,e,t,n),f.isValidLabel(t.label)?e.label=t.label:e.label=void 0,l.mergeOptions(e,t,"smooth",a),l.mergeOptions(e,t,"shadow",a),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=(0,o.default)(a.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),l.mergeOptions(e.scaling,t.scaling,"label",a.scaling)):!0===n&&null===t.scaling&&(e.scaling=(0,o.default)(a.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){var c=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=c.indexOf("to"),e.arrows.middle.enabled=-1!=c.indexOf("middle"),e.arrows.from.enabled=-1!=c.indexOf("from")}else{if("object"!==(0,i.default)(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,r.default)(t.arrows));l.mergeOptions(e.arrows,t.arrows,"to",a.arrows),l.mergeOptions(e.arrows,t.arrows,"middle",a.arrows),l.mergeOptions(e.arrows,t.arrows,"from",a.arrows)}else!0===n&&null===t.arrows&&(e.arrows=(0,o.default)(a.arrows));if(void 0!==t.color&&null!==t.color){var d=t.color,h=e.color;if(s)l.deepExtend(h,a.color,!1,n);else for(var p in h)h.hasOwnProperty(p)&&delete h[p];if(l.isString(h))h.color=h,h.highlight=h,h.hover=h,h.inherit=!1,void 0===d.opacity&&(h.opacity=1);else{var v=!1;void 0!==d.color&&(h.color=d.color,v=!0),void 0!==d.highlight&&(h.highlight=d.highlight,v=!0),void 0!==d.hover&&(h.hover=d.hover,v=!0),void 0!==d.inherit&&(h.inherit=d.inherit),void 0!==d.opacity&&(h.opacity=Math.min(1,Math.max(0,d.opacity))),!0===v?h.inherit=!1:void 0===h.inherit&&(h.inherit="from")}}else!0===n&&null===t.color&&(e.color=l.bridgeObject(a.color));!0===n&&null===t.font&&(e.font=l.bridgeObject(a.font))}}]),e}();t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_findBorderPositionBezier",value:function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),a=10,s=0,u=0,l=1,c=.2,f=this.to,d=!1;for(e.id===this.from.id&&(f=this.from,d=!0);u<=l&&s<a;){var h=.5*(u+l);if(n=this.getPoint(h,o),r=Math.atan2(f.y-n.y,f.x-n.x),i=f.distanceToBorder(t,r)-Math.sqrt(Math.pow(n.x-f.x,2)+Math.pow(n.y-f.y,2)),Math.abs(i)<c)break;i<0?!1===d?u=h:l=h:!1===d?l=h:u=h,s++}return n.t=h,n}},{key:"_getDistanceToBezierEdge",value:function(e,t,n,r,i,o,a){var s=1e9,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,h=e,p=t;for(l=1;l<10;l++)c=.1*l,f=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*n,d=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*r,l>0&&(s=(u=this._getDistanceToLine(h,p,f,d,i,o))<s?u:s),h=f,p=d;return s}},{key:"_bezierCurve",value:function(e,t,n,r){var i=void 0!==n&&void 0!==n.x,o=void 0!==r&&void 0!==r.x;e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),i&&o?e.bezierCurveTo(n.x,n.y,r.x,r.y,this.toPoint.x,this.toPoint.y):i?e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(u(n(118)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"getRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,i=-1e9,o=1e9,a=-1e9;if(n.length>0)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).shape.boundingBox.left&&(o=t.shape.boundingBox.left),a<t.shape.boundingBox.right&&(a=t.shape.boundingBox.right),r>t.shape.boundingBox.top&&(r=t.shape.boundingBox.top),i<t.shape.boundingBox.bottom&&(i=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===a&&1e9===r&&-1e9===i&&(r=0,i=0,o=0,a=0),{minX:o,maxX:a,minY:r,maxY:i}}},{key:"getRangeCore",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,i=-1e9,o=1e9,a=-1e9;if(n.length>0)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).x&&(o=t.x),a<t.x&&(a=t.x),r>t.y&&(r=t.y),i<t.y&&(i=t.y);return 1e9===o&&-1e9===a&&1e9===r&&-1e9===i&&(r=0,i=0,o=0,a=0),{minX:o,maxX:a,minY:r,maxY:i}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?(a.deepExtend(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):a.deepExtend(n,e.options,!0),n}}]),e}();t.default=s},function(e,t,n){e.exports={default:n(124),__esModule:!0}},function(e,t,n){var r=n(50);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(52),i=n(17),o=n(83),a=n(26),s=n(22),u=n(31),l=n(129),c=n(59),f=n(85),d=n(13)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",m=function(){return this};e.exports=function(e,t,n,g,y,b,_){l(n,t,g);var w,x,O,k=function(e){if(!h&&e in C)return C[e];switch(e){case p:case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",S=y==v,T=!1,C=e.prototype,D=C[d]||C["@@iterator"]||y&&C[y],A=D||k(y),j=y?S?k("entries"):A:void 0,N="Array"==t&&C.entries||D;if(N&&(O=f(N.call(new e)))!==Object.prototype&&O.next&&(c(O,E,!0),r||s(O,d)||a(O,d,m)),S&&D&&D.name!==v&&(T=!0,A=function(){return D.call(this)}),r&&!_||!h&&!T&&C[d]||a(C,d,A),u[t]=A,u[E]=m,y)if(w={values:S?A:k(v),keys:b?A:k(p),entries:j},_)for(x in w)x in C||o(C,x,w[x]);else i(i.P+i.F*(h||T),t,w);return w}},function(e,t,n){var r=n(128);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(21)&&!n(28)((function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(32),i=n(18).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=n(26)},function(e,t,n){var r=n(22),i=n(25),o=n(131)(!1),a=n(56)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(22),i=n(41),o=n(56)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(50),i=n(13)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(17),i=n(7),o=n(28);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(84),i=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(42),i=n(39),o=n(25),a=n(53),s=n(22),u=n(81),l=Object.getOwnPropertyDescriptor;t.f=n(21)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(162),__esModule:!0}},function(e,t,n){e.exports=function(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}},function(e,t,n){var r=n(2);function i(e,t){if(void 0===e)throw new Error("No container element defined");if(this.container=e,this.visible=!t||null==t.visible||t.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var n=this;this.frame.slide.onmousedown=function(e){n._onMouseDown(e)},this.frame.prev.onclick=function(e){n.prev(e)},this.frame.play.onclick=function(e){n.togglePlay(e)},this.frame.next.onclick=function(e){n.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}i.prototype.prev=function(){var e=this.getIndex();e>0&&(e--,this.setIndex(e))},i.prototype.next=function(){var e=this.getIndex();e<this.values.length-1&&(e++,this.setIndex(e))},i.prototype.playNext=function(){var e=new Date,t=this.getIndex();t<this.values.length-1?(t++,this.setIndex(t)):this.playLoop&&(t=0,this.setIndex(t));var n=new Date-e,r=Math.max(this.playInterval-n,0),i=this;this.playTimeout=setTimeout((function(){i.playNext()}),r)},i.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},i.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},i.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},i.prototype.setOnChangeCallback=function(e){this.onChangeCallback=e},i.prototype.setPlayInterval=function(e){this.playInterval=e},i.prototype.getPlayInterval=function(){return this.playInterval},i.prototype.setPlayLoop=function(e){this.playLoop=e},i.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},i.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var e=this.indexToLeft(this.index);this.frame.slide.style.left=e+"px"}},i.prototype.setValues=function(e){this.values=e,this.values.length>0?this.setIndex(0):this.index=void 0},i.prototype.setIndex=function(e){if(!(e<this.values.length))throw new Error("Index out of range");this.index=e,this.redraw(),this.onChange()},i.prototype.getIndex=function(){return this.index},i.prototype.get=function(){return this.values[this.index]},i.prototype._onMouseDown=function(e){if(e.which?1===e.which:1===e.button){this.startClientX=e.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)},this.onmouseup=function(e){t._onMouseUp(e)},r.addEventListener(document,"mousemove",this.onmousemove),r.addEventListener(document,"mouseup",this.onmouseup),r.preventDefault(e)}},i.prototype.leftToIndex=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=e-3,r=Math.round(n/t*(this.values.length-1));return r<0&&(r=0),r>this.values.length-1&&(r=this.values.length-1),r},i.prototype.indexToLeft=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return e/(this.values.length-1)*t+3},i.prototype._onMouseMove=function(e){var t=e.clientX-this.startClientX,n=this.startSlideX+t,i=this.leftToIndex(n);this.setIndex(i),r.preventDefault()},i.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",r.removeEventListener(document,"mousemove",this.onmousemove),r.removeEventListener(document,"mouseup",this.onmouseup),r.preventDefault()},e.exports=i},function(e,t,n){function r(e,t,n,r){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(e,t,n,r)}r.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},r.prototype.setRange=function(e,t,n,r){if(!this.isNumeric(e))throw new Error("Parameter 'start' is not numeric; value: "+e);if(!this.isNumeric(t))throw new Error("Parameter 'end' is not numeric; value: "+e);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+e);this._start=e||0,this._end=t||0,this.setStep(n,r)},r.prototype.setStep=function(e,t){void 0===e||e<=0||(void 0!==t&&(this.prettyStep=t),!0===this.prettyStep?this._step=r.calculatePrettyStep(e):this._step=e)},r.calculatePrettyStep=function(e){var t=function(e){return Math.log(e)/Math.LN10},n=Math.pow(10,Math.round(t(e))),r=2*Math.pow(10,Math.round(t(e/2))),i=5*Math.pow(10,Math.round(t(e/5))),o=n;return Math.abs(r-e)<=Math.abs(o-e)&&(o=r),Math.abs(i-e)<=Math.abs(o-e)&&(o=i),o<=0&&(o=1),o},r.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},r.prototype.getStep=function(){return this._step},r.prototype.start=function(e){void 0===e&&(e=!1),this._current=this._start-this._start%this._step,e&&this.getCurrent()<this._start&&this.next()},r.prototype.next=function(){this._current+=this._step},r.prototype.end=function(){return this._current>this._end},e.exports=r},function(e,t,n){var r,i=(r=n(6))&&r.__esModule?r:{default:r},o=n(2),a=n(95),s=n(34),u={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},l={dot:u.DOT,"dot-line":u.DOTLINE,"dot-color":u.DOTCOLOR,"dot-size":u.DOTSIZE,line:u.LINE,grid:u.GRID,surface:u.SURFACE,bar:u.BAR,"bar-color":u.BARCOLOR,"bar-size":u.BARSIZE},c=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],f=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],d=void 0;function h(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e,t){return void 0===e||""===e?t:e+(void 0===(n=t)||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+n.slice(1));var n}function v(e,t,n,r){for(var i,o=0;o<n.length;++o)t[p(r,i=n[o])]=e[i]}function m(e,t,n,r){for(var i,o=0;o<n.length;++o)void 0!==e[i=n[o]]&&(t[p(r,i)]=e[i])}function g(e,t){void 0!==e.backgroundColor&&function(e,t){var n="white",r="gray",o=1;if("string"==typeof e)n=e,r="none",o=0;else{if("object"!==(void 0===e?"undefined":(0,i.default)(e)))throw new Error("Unsupported type of backgroundColor");void 0!==e.fill&&(n=e.fill),void 0!==e.stroke&&(r=e.stroke),void 0!==e.strokeWidth&&(o=e.strokeWidth)}t.frame.style.backgroundColor=n,t.frame.style.borderColor=r,t.frame.style.borderWidth=o+"px",t.frame.style.borderStyle="solid"}(e.backgroundColor,t),function(e,t){void 0!==e&&(void 0===t.dataColor&&(t.dataColor={}),"string"==typeof e?(t.dataColor.fill=e,t.dataColor.stroke=e):(e.fill&&(t.dataColor.fill=e.fill),e.stroke&&(t.dataColor.stroke=e.stroke),void 0!==e.strokeWidth&&(t.dataColor.strokeWidth=e.strokeWidth)))}(e.dataColor,t),function(e,t){if(void 0!==e){var n,r;if("string"==typeof e){if(-1===(n=void 0===(r=l[e])?-1:r))throw new Error("Style '"+e+"' is invalid")}else{if(!function(e){var t=!1;for(var n in u)if(u[n]===e){t=!0;break}return t}(e))throw new Error("Style '"+e+"' is invalid");n=e}t.style=n}}(e.style,t),function(e,t){if(void 0===e){if(void 0===d.showLegend){var n=t.style===u.DOTCOLOR||t.style===u.DOTSIZE;t.showLegend=n}}else t.showLegend=e}(e.showLegend,t),y(e.cameraPosition,t),void 0!==e.tooltip&&(t.showTooltip=e.tooltip),null!=e.onclick&&(t.onclick_callback=e.onclick),void 0!==e.tooltipStyle&&o.selectiveDeepExtend(["tooltipStyle"],t,e)}function y(e,t){var n=e;void 0!==n&&(void 0===t.camera&&(t.camera=new a),t.camera.setArmRotation(n.horizontal,n.vertical),t.camera.setArmLength(n.distance))}e.exports.STYLE=u,e.exports.setDefaults=function(e,t){if(void 0===e||h(e))throw new Error("No DEFAULTS passed");if(void 0===t)throw new Error("No dst passed");d=e,v(e,t,c),v(e,t,f,"default"),g(e,t),t.margin=10,t.showGrayBottom=!1,t.showTooltip=!1,t.onclick_callback=null,t.eye=new s(0,0,-1)},e.exports.setOptions=function(e,t){if(void 0!==e){if(void 0===t)throw new Error("No dst passed");if(void 0===d||h(d))throw new Error("DEFAULTS not set for module Settings");m(e,t,c),m(e,t,f,"default"),g(e,t)}},e.exports.setCameraPosition=y},function(e,t,n){var r,i=(r=n(165))&&r.__esModule?r:{default:r},o=n(34);function a(){this.armLocation=new o,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new o,this.offsetMultiplier=.6,this.cameraLocation=new o,this.cameraRotation=new o(.5*Math.PI,0,0),this.calculateCameraOrientation()}a.prototype.setOffset=function(e,t){var n=Math.abs,r=i.default,o=this.offsetMultiplier,a=this.armLength*o;n(e)>a&&(e=r(e)*a),n(t)>a&&(t=r(t)*a),this.cameraOffset.x=e,this.cameraOffset.y=t,this.calculateCameraOrientation()},a.prototype.getOffset=function(){return this.cameraOffset},a.prototype.setArmLocation=function(e,t,n){this.armLocation.x=e,this.armLocation.y=t,this.armLocation.z=n,this.calculateCameraOrientation()},a.prototype.setArmRotation=function(e,t){void 0!==e&&(this.armRotation.horizontal=e),void 0!==t&&(this.armRotation.vertical=t,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===e&&void 0===t||this.calculateCameraOrientation()},a.prototype.getArmRotation=function(){var e={};return e.horizontal=this.armRotation.horizontal,e.vertical=this.armRotation.vertical,e},a.prototype.setArmLength=function(e){void 0!==e&&(this.armLength=e,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},a.prototype.getArmLength=function(){return this.armLength},a.prototype.getCameraLocation=function(){return this.cameraLocation},a.prototype.getCameraRotation=function(){return this.cameraRotation},a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var e=this.cameraRotation.x,t=this.cameraRotation.z,n=this.cameraOffset.x,r=this.cameraOffset.y,i=Math.sin,o=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*o(t)+r*-i(t)*o(e),this.cameraLocation.y=this.cameraLocation.y+n*i(t)+r*o(t)*o(e),this.cameraLocation.z=this.cameraLocation.z+r*i(e)},e.exports=a},function(e,t,n){var r=n(12);function i(e,t,n){this.dataGroup=e,this.column=t,this.graph=n,this.index=void 0,this.value=void 0,this.values=e.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}i.prototype.isLoaded=function(){return this.loaded},i.prototype.getLoadedProgress=function(){for(var e=this.values.length,t=0;this.dataPoints[t];)t++;return Math.round(t/e*100)},i.prototype.getLabel=function(){return this.graph.filterLabel},i.prototype.getColumn=function(){return this.column},i.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},i.prototype.getValues=function(){return this.values},i.prototype.getValue=function(e){if(e>=this.values.length)throw new Error("Index out of range");return this.values[e]},i.prototype._getDataPoints=function(e){if(void 0===e&&(e=this.index),void 0===e)return[];var t;if(this.dataPoints[e])t=this.dataPoints[e];else{var n={};n.column=this.column,n.value=this.values[e];var i=new r(this.dataGroup.getDataSet(),{filter:function(e){return e[n.column]==n.value}}).get();t=this.dataGroup._getDataPoints(i),this.dataPoints[e]=t}return t},i.prototype.setOnLoadCallback=function(e){this.onLoadCallback=e},i.prototype.selectValue=function(e){if(e>=this.values.length)throw new Error("Index out of range");this.index=e,this.value=this.values[e]},i.prototype.loadInBackground=function(e){void 0===e&&(e=0);var t=this.graph.frame;if(e<this.values.length){void 0===t.progress&&(t.progress=document.createElement("DIV"),t.progress.style.position="absolute",t.progress.style.color="gray",t.appendChild(t.progress));var n=this.getLoadedProgress();t.progress.innerHTML="Loading animation... "+n+"%",t.progress.style.bottom="60px",t.progress.style.left="10px";var r=this;setTimeout((function(){r.loadInBackground(e+1)}),10),this.loaded=!1}else this.loaded=!0,void 0!==t.progress&&(t.removeChild(t.progress),t.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},e.exports=i},function(e,t,n){var r=n(35),i=n(44),o=n(10),a=n(2);function s(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=o(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(e){t.hammer.on(e,(function(e){e.stopPropagation()}))})),document&&document.body&&(this.onClick=function(n){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(n.target,e)||t.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=r(),this.escListener=this.deactivate.bind(this)}i(s.prototype),s.current=null,s.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},s.prototype.activate=function(){s.current&&s.current.deactivate(),s.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},s.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},s.prototype._onTapOverlay=function(e){this.activate(),e.stopPropagation()},e.exports=s},function(e,t,n){t.en={current:"current",time:"time"},t.en_EN=t.en,t.en_US=t.en,t.it={current:"attuale",time:"tempo"},t.it_IT=t.it,t.it_CH=t.it,t.nl={current:"huidige",time:"tijd"},t.nl_NL=t.nl,t.nl_BE=t.nl,t.de={current:"Aktuelle",time:"Zeit"},t.de_DE=t.de,t.fr={current:"actuel",time:"heure"},t.fr_FR=t.fr,t.fr_CA=t.fr,t.fr_BE=t.fr,t.es={current:"corriente",time:"hora"},t.es_ES=t.es},function(e,t,n){var r=o(n(29)),i=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(2),u=n(11),l=n(12),c=n(66),f=n(16),d=n(68),h=n(69),p=n(101),v=n(102),m=n(70),g=n(103),y=n(104).default,b="__ungrouped__",_="__background__";function w(e,t){this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(e,t,n){var r=t.order;t.order=e.order,e.order=r},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:c.snap,onDropObjectOnItem:function(e,t,n){n(t)},onAdd:function(e,t){t(e)},onUpdate:function(e,t){t(e)},onMove:function(e,t){t(e)},onRemove:function(e,t){t(e)},onMoving:function(e,t){t(e)},onAddGroup:function(e,t){t(e)},onMoveGroup:function(e,t){t(e)},onRemoveGroup:function(e,t){t(e)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=s.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,r){n._onAdd(t.items)},update:function(e,t,r){n._onUpdate(t.items)},remove:function(e,t,r){n._onRemove(t.items)}},this.groupListeners={add:function(e,t,r){if(n._onAddGroups(t.items),n.groupsData&&n.groupsData.length>0){var i=n.groupsData.getDataSet();i.get().forEach((function(e){if(e.nestedGroups){0!=e.showNested&&(e.showNested=!0);var t=[];e.nestedGroups.forEach((function(n){var r=i.get(n);r&&(r.nestedInGroup=e.id,0==e.showNested&&(r.visible=!1),t=t.concat(r))})),i.update(t,r)}}))}},update:function(e,t,r){n._onUpdateGroups(t.items)},remove:function(e,t,r){n._onRemoveGroups(t.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(t)}w.prototype=new f,w.types={background:g,box:p,range:m,point:v},w.prototype._create=function(){var e=document.createElement("div");e.className="vis-itemset",e["timeline-itemset"]=this,this.dom.frame=e;var t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;var n=document.createElement("div");n.className="vis-foreground",e.appendChild(n),this.dom.foreground=n;var r=document.createElement("div");r.className="vis-axis",this.dom.axis=r;var i=document.createElement("div");i.className="vis-labelset",this.dom.labelSet=i,this._updateUngrouped();var o=new h(_,null,this);o.show(),this.groups[_]=o,this.hammer=new a(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(e){e.isFirst&&this._onTouch(e)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new a(this.body.dom.rightContainer):this.groupHammer=new a(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:a.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},w.prototype.setOptions=function(e){if(e){s.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,e),"itemsAlwaysDraggable"in e&&("boolean"==typeof e.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,i.default)(e.itemsAlwaysDraggable)&&(s.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.item="top"===e.orientation?"top":"bottom":"object"===(0,i.default)(e.orientation)&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&("number"==typeof e.margin?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):"object"===(0,i.default)(e.margin)&&(s.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&("number"==typeof e.margin.item?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):"object"===(0,i.default)(e.margin.item)&&s.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),"editable"in e&&("boolean"==typeof e.editable?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):"object"===(0,i.default)(e.editable)&&s.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&("boolean"==typeof e.groupEditable?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):"object"===(0,i.default)(e.groupEditable)&&s.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));var t=function(t){var n=e[t];if(n){if(!(n instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=n}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(t),this.markDirty()}},w.prototype.markDirty=function(e){this.groupIds=[],e&&e.refreshItems&&s.forEach(this.items,(function(e){e.dirty=!0,e.displayed&&e.redraw()}))},w.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},w.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},w.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},w.prototype.setSelection=function(e){var t,n,r,i;for(null==e&&(e=[]),Array.isArray(e)||(e=[e]),t=0,n=this.selection.length;t<n;t++)r=this.selection[t],(i=this.items[r])&&i.unselect();for(this.selection=[],t=0,n=e.length;t<n;t++)r=e[t],(i=this.items[r])&&(this.selection.push(r),i.select())},w.prototype.getSelection=function(){return this.selection.concat([])},w.prototype.getVisibleItems=function(){var e,t,n=this.body.range.getRange();this.options.rtl?(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end)):(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end));var r=[];for(var i in this.groups)if(this.groups.hasOwnProperty(i))for(var o=this.groups[i],a=o.isVisible?o.visibleItems:[],s=0;s<a.length;s++){var u=a[s];this.options.rtl?u.right<t&&u.right+u.width>e&&r.push(u.id):u.left<e&&u.left+u.width>t&&r.push(u.id)}return r},w.prototype._deselect=function(e){for(var t=this.selection,n=0,r=t.length;n<r;n++)if(t[n]==e){t.splice(n,1);break}},w.prototype.redraw=function(){var e=this.options.margin,t=this.body.range,n=s.option.asSize,r=this.options,i=r.orientation.item,o=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",o=this._orderGroups()||o;var u=t.end-t.start,l=u!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,c=t.start!=this.lastRangeStart,f=r.stack!=this.lastStack,d=r.stackSubgroups!=this.lastStackSubgroups,h=l||c||f||d;this.lastVisibleInterval=u,this.lastRangeStart=t.start,this.lastStack=r.stack,this.lastStackSubgroups=r.stackSubgroups,this.props.lastWidth=this.props.width;var p=this._firstGroup(),v={item:e.item,axis:e.axis},m={item:e.item,axis:e.item.vertical/2},g=0,y=e.axis+e.item.vertical;this.groups[_].redraw(t,m,h);var b={},w=0;if(s.forEach(this.groups,(function(e,n){if(n!==_){var r=e==p?v:m;b[n]=e.redraw(t,r,h,!0),w=b[n].length}})),w>0){for(var x={},O=0;O<w;O++)s.forEach(b,(function(e,t){x[t]=e[O]()}));s.forEach(this.groups,(function(e,t){if(t!==_){var n=x[t];o=n||o,g+=e.height}})),g=Math.max(g,y)}return g=Math.max(g,y),a.style.height=n(g),this.props.width=a.offsetWidth,this.props.height=g,this.dom.axis.style.top=n("top"==i?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,o=this._isResized()||o},w.prototype._firstGroup=function(){var e="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[b]||null},w.prototype._updateUngrouped=function(){var e,t,n=this.groups[b];if(this.groupsData){if(n)for(t in n.hide(),delete this.groups[b],this.items)if(this.items.hasOwnProperty(t)){(e=this.items[t]).parent&&e.parent.remove(e);var r=this._getGroupId(e.data),i=this.groups[r];i&&i.add(e)||e.hide()}}else if(!n){for(t in n=new d(null,null,this),this.groups[b]=n,this.items)this.items.hasOwnProperty(t)&&(e=this.items[t],n.add(e));n.show()}},w.prototype.getLabelSet=function(){return this.dom.labelSet},w.prototype.setItems=function(e){var t,n=this,r=this.itemsData;if(e){if(!(e instanceof u||e instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(r&&(s.forEach(this.itemListeners,(function(e,t){r.off(t,e)})),t=r.getIds(),this._onRemove(t)),this.itemsData){var i=this.id;s.forEach(this.itemListeners,(function(e,t){n.itemsData.on(t,e,i)})),t=this.itemsData.getIds(),this._onAdd(t),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},w.prototype.getItems=function(){return this.itemsData},w.prototype.setGroups=function(e){var t,n=this;if(this.groupsData&&(s.forEach(this.groupListeners,(function(e,t){n.groupsData.off(t,e)})),t=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(t)),e){if(!(e instanceof u||e instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var r=this.groupsData;this.groupsData instanceof l&&(r=this.groupsData.getDataSet()),r.get().forEach((function(e){e.nestedGroups&&e.nestedGroups.forEach((function(t){var n=r.get(t);n.nestedInGroup=e.id,0==e.showNested&&(n.visible=!1),r.update(n)}))}));var i=this.id;s.forEach(this.groupListeners,(function(e,t){n.groupsData.on(t,e,i)})),t=this.groupsData.getIds(),this._onAddGroups(t)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},w.prototype.getGroups=function(){return this.groupsData},w.prototype.removeItem=function(e){var t=this.itemsData.get(e),n=this.itemsData.getDataSet();t&&this.options.onRemove(t,(function(t){t&&n.remove(e)}))},w.prototype._getType=function(e){return e.type||this.options.type||(e.end?"range":"box")},w.prototype._getGroupId=function(e){return"background"==this._getType(e)&&null==e.group?_:this.groupsData?e.group:b},w.prototype._onUpdate=function(e){var t=this;e.forEach(function(e){var n,r=t.itemsData.get(e,t.itemOptions),i=t.items[e],o=r?t._getType(r):null,a=w.types[o];if(i&&(a&&i instanceof a?t._updateItem(i,r):(n=i.selected,t._removeItem(i),i=null)),!i&&r){if(!a)throw"rangeoverflow"==o?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+o+'"');(i=new a(r,t.conversion,t.options)).id=e,t._addItem(i),n&&(this.selection.push(e),i.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},w.prototype._onAdd=w.prototype._onUpdate,w.prototype._onRemove=function(e){var t=0,n=this;e.forEach((function(e){var r=n.items[e];r&&(t++,n._removeItem(r))})),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},w.prototype._order=function(){s.forEach(this.groups,(function(e){e.order()}))},w.prototype._onUpdateGroups=function(e){this._onAddGroups(e)},w.prototype._onAddGroups=function(e){var t=this;e.forEach((function(e){var n=t.groupsData.get(e),i=t.groups[e];if(i)i.setData(n);else{if(e==b||e==_)throw new Error("Illegal group id. "+e+" is a reserved id.");var o=(0,r.default)(t.options);for(var a in s.extend(o,{height:null}),i=new d(e,n,t),t.groups[e]=i,t.items)if(t.items.hasOwnProperty(a)){var u=t.items[a];u.data.group==e&&i.add(u)}i.order(),i.show()}})),this.body.emitter.emit("_change",{queue:!0})},w.prototype._onRemoveGroups=function(e){var t=this.groups;e.forEach((function(e){var n=t[e];n&&(n.hide(),delete t[e])})),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},w.prototype._orderGroups=function(){if(this.groupsData){var e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);var t=!s.equalArray(e,this.groupIds);if(t){var n=this.groups;e.forEach((function(e){n[e].hide()})),e.forEach((function(e){n[e].show()})),this.groupIds=e}return t}return!1},w.prototype._orderNestedGroups=function(e){var t=[];return e.forEach((function(e){var n=this.groupsData.get(e);if(n.nestedInGroup||t.push(e),n.nestedGroups){var r=this.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:this.options.groupOrder}).map((function(e){return e.id}));t=t.concat(r)}}),this),t},w.prototype._addItem=function(e){this.items[e.id]=e;var t=this._getGroupId(e.data),n=this.groups[t];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,n&&n.add(e)},w.prototype._updateItem=function(e,t){e.setData(t);var n=this._getGroupId(e.data),r=this.groups[n];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1},w.prototype._removeItem=function(e){e.hide(),delete this.items[e.id];var t=this.selection.indexOf(e.id);-1!=t&&this.selection.splice(t,1),e.parent&&e.parent.remove(e)},w.prototype._constructByEndArray=function(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof m&&t.push(e[n]);return t},w.prototype._onTouch=function(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null},w.prototype._getGroupIndex=function(e){for(var t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t},w.prototype._onDragStart=function(e){if(!this.touchParams.itemIsDragging){var t,n=this.touchParams.item||null,r=this;if(n&&(n.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=n.editable&&!n.editable.updateTime&&!n.editable.updateGroup&&!this.options.editable.overrideItems)return;var i=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=n,i)t={item:i,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[t];else if(o)t={item:o,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[t];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();var a=this._getGroupIndex(n.data.group),s=this.options.itemsAlwaysDraggable.item&&!n.selected?[n.id]:this.getSelection();this.touchParams.itemProps=s.map(function(t){var n=r.items[t],i=r._getGroupIndex(n.data.group);return{item:n,initialX:e.center.x,groupOffset:a-i,data:this._cloneItemData(n.data)}}.bind(this))}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}},w.prototype._onDragStartAddItem=function(e){var t,n,r=this.options.snap||null;this.options.rtl?n=(t=s.getAbsoluteRight(this.dom.frame))-e.center.x+10:(t=s.getAbsoluteLeft(this.dom.frame),n=e.center.x-t-10);var i=this.body.util.toTime(n),o=this.body.util.getScale(),a=this.body.util.getStep(),u=r?r(i,o,a):i,l={type:"range",start:u,end:u,content:"new item"},c=s.randomUUID();l[this.itemsData._fieldId]=c;var f=this.groupFromTarget(e);f&&(l.group=f.groupId);var d=new m(l,this.conversion,this.options);d.id=c,d.data=this._cloneItemData(l),this._addItem(d),this.touchParams.selectedItem=d;var h={item:d,initialX:e.center.x,data:d.data};this.options.rtl?h.dragLeft=!0:h.dragRight=!0,this.touchParams.itemProps=[h],e.stopPropagation()},w.prototype._onDrag=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t,n=this,r=this.options.snap||null;t=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var i=this.body.util.getScale(),o=this.body.util.getStep(),a=this.touchParams.selectedItem,u=(this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateGroup,l=null;if(u&&a&&null!=a.data.group){var c=n.groupFromTarget(e);c&&(l=this._getGroupIndex(c.groupId))}this.touchParams.itemProps.forEach(function(c){var f,d,h,p,v,m=n.body.util.toTime(e.center.x-t),g=n.body.util.toTime(c.initialX-t);f=this.options.rtl?-(m-g):m-g;var y=this._cloneItemData(c.item.data);if(null==c.item.editable||c.item.editable.updateTime||c.item.editable.updateGroup||n.options.editable.overrideItems){if((this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateTime)if(c.dragLeft)this.options.rtl?null!=y.end&&(h=s.convert(c.data.end,"Date"),v=new Date(h.valueOf()+f),y.end=r?r(v,i,o):v):null!=y.start&&(d=s.convert(c.data.start,"Date"),p=new Date(d.valueOf()+f),y.start=r?r(p,i,o):p);else if(c.dragRight)this.options.rtl?null!=y.start&&(d=s.convert(c.data.start,"Date"),p=new Date(d.valueOf()+f),y.start=r?r(p,i,o):p):null!=y.end&&(h=s.convert(c.data.end,"Date"),v=new Date(h.valueOf()+f),y.end=r?r(v,i,o):v);else if(null!=y.start)if(d=s.convert(c.data.start,"Date").valueOf(),p=new Date(d+f),null!=y.end){var b=(h=s.convert(c.data.end,"Date")).valueOf()-d.valueOf();y.start=r?r(p,i,o):p,y.end=new Date(y.start.valueOf()+b)}else y.start=r?r(p,i,o):p;if(u&&!c.dragLeft&&!c.dragRight&&null!=l&&null!=y.group){var _=l-c.groupOffset;_=Math.max(0,_),_=Math.min(n.groupIds.length-1,_),y.group=n.groupIds[_]}y=this._cloneItemData(y),n.options.onMoving(y,function(e){e&&c.item.setData(this._cloneItemData(e,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},w.prototype._moveToGroup=function(e,t){var n=this.groups[t];if(n&&n.groupId!=e.data.group){var r=e.parent;r.remove(e),r.order(),e.data.group=n.groupId,n.add(e),n.order()}},w.prototype._onDragEnd=function(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();var t=this,n=this.itemsData.getDataSet(),r=this.touchParams.itemProps;this.touchParams.itemProps=null,r.forEach(function(e){var r=e.item.id;if(null!=t.itemsData.get(r,t.itemOptions)){var i=this._cloneItemData(e.item.data);t.options.onMove(i,(function(i){i?(i[n._fieldId]=r,n.update(i)):(e.item.setData(e.data),t.body.emitter.emit("_change"))}))}else t.options.onAdd(e.item.data,(function(n){t._removeItem(e.item),n&&t.itemsData.getDataSet().add(n),t.body.emitter.emit("_change")}))}.bind(this))}},w.prototype._onGroupClick=function(e){var t=this.groupFromTarget(e);if(t&&t.nestedGroups){var n=this.groupsData.getDataSet(),r=n.get(t.groupId);null==r.showNested&&(r.showNested=!0),r.showNested=!r.showNested;var i=n.get(t.nestedGroups).map((function(e){return e.visible=r.showNested,e}));if(n.update(i.concat(r)),r.showNested)s.removeClassName(t.dom.label,"collapsed"),s.addClassName(t.dom.label,"expanded");else{s.removeClassName(t.dom.label,"expanded");var o=this.options.rtl?"collapsed-rtl":"collapsed";s.addClassName(t.dom.label,o)}}},w.prototype._onGroupDragStart=function(e){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},w.prototype._onGroupDrag=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this.groupsData;this.groupsData instanceof l&&(t=this.groupsData.getDataSet());var n=this.groupFromTarget(e);if(n&&n.height!=this.groupTouchParams.group.height){var r=n.top<this.groupTouchParams.group.top,i=e.center?e.center.y:e.clientY,o=s.getAbsoluteTop(n.dom.foreground),a=this.groupTouchParams.group.height;if(r){if(o+a<i)return}else if(o+n.height-a>i)return}if(n&&n!=this.groupTouchParams.group){var u=t.get(n.groupId),c=t.get(this.groupTouchParams.group.groupId);c&&u&&(this.options.groupOrderSwap(c,u,t),t.update(c),t.update(u));var f=t.getIds({order:this.options.groupOrder});if(!s.equalArray(f,this.groupTouchParams.originalOrder))for(var d=this.groupTouchParams.originalOrder,h=this.groupTouchParams.group.groupId,p=Math.min(d.length,f.length),v=0,m=0,g=0;v<p;){for(;v+m<p&&v+g<p&&f[v+m]==d[v+g];)v++;if(v+m>=p)break;if(f[v+m]==h)m=1;else if(d[v+g]==h)g=1;else{var y=f.indexOf(d[v+g]),b=t.get(f[v+m]),_=t.get(d[v+g]);this.options.groupOrderSwap(b,_,t),t.update(b),t.update(_);var w=f[v+m];f[v+m]=d[v+g],f[y]=w,v++}}}}},w.prototype._onGroupDragEnd=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this,n=t.groupTouchParams.group.groupId,r=t.groupsData.getDataSet(),i=s.extend({},r.get(n));t.options.onMoveGroup(i,(function(e){if(e)e[r._fieldId]=n,r.update(e);else{var i=r.getIds({order:t.options.groupOrder});if(!s.equalArray(i,t.groupTouchParams.originalOrder))for(var o=t.groupTouchParams.originalOrder,a=Math.min(o.length,i.length),u=0;u<a;){for(;u<a&&i[u]==o[u];)u++;if(u>=a)break;var l=i.indexOf(o[u]),c=r.get(i[u]),f=r.get(o[u]);t.options.groupOrderSwap(c,f,r),r.update(c),r.update(f);var d=i[u];i[u]=o[u],i[l]=d,u++}}})),t.body.emitter.emit("groupDragged",{groupId:n})}},w.prototype._onSelectItem=function(e){if(this.options.selectable){var t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),n=e.srcEvent&&e.srcEvent.shiftKey;if(t||n)this._onMultiSelectItem(e);else{var r=this.getSelection(),i=this.itemFromTarget(e),o=i?[i.id]:[];this.setSelection(o);var a=this.getSelection();(a.length>0||r.length>0)&&this.body.emitter.emit("select",{items:a,event:e})}}},w.prototype._onMouseOver=function(e){var t=this.itemFromTarget(e);if(t&&t!==this.itemFromRelatedTarget(e)){var n=t.getTitle();if(this.options.showTooltips&&n){null==this.popup&&(this.popup=new y(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);var r=this.body.dom.centerContainer;this.popup.setPosition(e.clientX-s.getAbsoluteLeft(r)+r.offsetLeft,e.clientY-s.getAbsoluteTop(r)+r.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}},w.prototype._onMouseOut=function(e){var t=this.itemFromTarget(e);t&&t!==this.itemFromRelatedTarget(e)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))},w.prototype._onMouseMove=function(e){if(this.itemFromTarget(e)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var t=this.body.dom.centerContainer;this.popup.setPosition(e.clientX-s.getAbsoluteLeft(t)+t.offsetLeft,e.clientY-s.getAbsoluteTop(t)+t.offsetTop),this.popup.show()}},w.prototype._onMouseWheel=function(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)},w.prototype._onUpdateItem=function(e){if(this.options.selectable&&this.options.editable.add){var t=this;if(e){var n=t.itemsData.get(e.id);this.options.onUpdate(n,(function(e){e&&t.itemsData.getDataSet().update(e)}))}}},w.prototype._onDropObjectOnItem=function(e){var t=this.itemFromTarget(e),n=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,t)},w.prototype._onAddItem=function(e){if(this.options.selectable&&this.options.editable.add){var t,n,r=this,i=this.options.snap||null;this.options.rtl?n=(t=s.getAbsoluteRight(this.dom.frame))-e.center.x:(t=s.getAbsoluteLeft(this.dom.frame),n=e.center.x-t);var o,a,u=this.body.util.toTime(n),l=this.body.util.getScale(),c=this.body.util.getStep();"drop"==e.type?((a=JSON.parse(e.dataTransfer.getData("text"))).content=a.content?a.content:"new item",a.start=a.start?a.start:i?i(u,l,c):u,a.type=a.type||"box",a[this.itemsData._fieldId]=a.id||s.randomUUID(),"range"!=a.type||a.end||(o=this.body.util.toTime(n+this.props.width/5),a.end=i?i(o,l,c):o)):((a={start:i?i(u,l,c):u,content:"new item"})[this.itemsData._fieldId]=s.randomUUID(),"range"===this.options.type&&(o=this.body.util.toTime(n+this.props.width/5),a.end=i?i(o,l,c):o));var f=this.groupFromTarget(e);f&&(a.group=f.groupId),a=this._cloneItemData(a),this.options.onAdd(a,(function(t){t&&(r.itemsData.getDataSet().add(t),"drop"==e.type&&r.setSelection([t.id]))}))}},w.prototype._onMultiSelectItem=function(e){if(this.options.selectable){var t=this.itemFromTarget(e);if(t){var n=this.options.multiselect?this.getSelection():[];if(e.srcEvent&&e.srcEvent.shiftKey&&this.options.multiselect){var r=this.itemsData.get(t.id).group,i=void 0;this.options.multiselectPerGroup&&n.length>0&&(i=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&null!=i&&i!=r||n.push(t.id);var o=w._getItemRange(this.itemsData.get(n,this.itemOptions));if(!this.options.multiselectPerGroup||i==r)for(var a in n=[],this.items)if(this.items.hasOwnProperty(a)){var s=this.items[a],u=s.data.start,l=void 0!==s.data.end?s.data.end:u;!(u>=o.min&&l<=o.max)||this.options.multiselectPerGroup&&i!=this.itemsData.get(s.id).group||s instanceof g||n.push(s.id)}}else{var c=n.indexOf(t.id);-1==c?n.push(t.id):n.splice(c,1)}this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}},w._getItemRange=function(e){var t=null,n=null;return e.forEach((function(e){(null==n||e.start<n)&&(n=e.start),null!=e.end?(null==t||e.end>t)&&(t=e.end):(null==t||e.start>t)&&(t=e.start)})),{min:n,max:t}},w.prototype.itemFromElement=function(e){for(var t=e;t;){if(t.hasOwnProperty("timeline-item"))return t["timeline-item"];t=t.parentNode}return null},w.prototype.itemFromTarget=function(e){return this.itemFromElement(e.target)},w.prototype.itemFromRelatedTarget=function(e){return this.itemFromElement(e.relatedTarget)},w.prototype.groupFromTarget=function(e){var t=e.center?e.center.y:e.clientY,n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(var r=0;r<n.length;r++){var i=n[r],o=this.groups[i],a=o.dom.foreground,u=s.getAbsoluteTop(a);if(t>u&&t<u+a.offsetHeight)return o;if("top"===this.options.orientation.item){if(r===this.groupIds.length-1&&t>u)return o}else if(0===r&&t<u+a.offset)return o}return null},w.itemSetFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("timeline-itemset"))return t["timeline-itemset"];t=t.parentNode}return null},w.prototype._cloneItemData=function(e,t){var n=s.extend({},e);return t||(t=this.itemsData.getDataSet()._options.type),null!=n.start&&(n.start=s.convert(n.start,t&&t.start||"Date")),null!=n.end&&(n.end=s.convert(n.end,t&&t.end||"Date")),n},e.exports=w},function(e,t,n){var r=.001;t.orderByStart=function(e){e.sort((function(e,t){return e.data.start-t.data.start}))},t.orderByEnd=function(e){e.sort((function(e,t){return("end"in e.data?e.data.end:e.data.start)-("end"in t.data?t.data.end:t.data.start)}))},t.stack=function(e,n,r){if(r)for(var i=0;i<e.length;i++)e[i].top=null;for(i=0;i<e.length;i++){var o=e[i];if(o.stack&&null===o.top){o.top=n.axis;do{for(var a=null,s=0,u=e.length;s<u;s++){var l=e[s];if(null!==l.top&&l!==o&&l.stack&&t.collision(o,l,n.item,l.options.rtl)){a=l;break}}null!=a&&(o.top=a.top+a.height+n.item.vertical)}while(a)}}},t.substack=function(e,n,r){for(var i=0;i<e.length;i++)e[i].top=null;var o=r.height;for(i=0;i<e.length;i++){var a=e[i];if(a.stack&&null===a.top){a.top=a.baseTop;do{for(var s=null,u=0,l=e.length;u<l;u++){var c=e[u];if(null!==c.top&&c!==a&&t.collision(a,c,n.item,c.options.rtl)){s=c;break}}null!=s&&(a.top=s.top+s.height+n.item.vertical),a.top+a.height>o&&(o=a.top+a.height)}while(s)}}r.height=o-r.top+.5*n.item.vertical},t.nostack=function(e,n,r,i){for(var o=0;o<e.length;o++)if(null==e[o].data.subgroup)e[o].top=n.item.vertical;else if(void 0!==e[o].data.subgroup&&i){var a=0;for(var s in r)r.hasOwnProperty(s)&&1==r[s].visible&&r[s].index<r[e[o].data.subgroup].index&&(a+=r[s].height,r[e[o].data.subgroup].top=a);e[o].top=a+.5*n.item.vertical}i||t.stackSubgroups(e,n,r)},t.stackSubgroups=function(e,n,r){for(var i in r)if(r.hasOwnProperty(i)){r[i].top=0;do{var o=null;for(var a in r)if(null!==r[a].top&&a!==i&&r[i].index>r[a].index&&t.collisionByTimes(r[i],r[a])){o=r[a];break}null!=o&&(r[i].top=o.top+o.height)}while(o)}for(var s=0;s<e.length;s++)void 0!==e[s].data.subgroup&&(e[s].top=r[e[s].data.subgroup].top+.5*n.item.vertical)},t.stackSubgroupsWithInnerStack=function(e,n,r){var i=!1,o=[];for(var a in r)r[a].hasOwnProperty("index")?o[r[a].index]=a:o.push(a);for(var s=0;s<o.length;s++)if(a=o[s],r.hasOwnProperty(a)){for(var u in i=i||r[a].stack,r[a].top=0,r)r[u].visible&&r[a].index>r[u].index&&(r[a].top+=r[u].height);for(var l=e[a],c=0;c<l.length;c++)void 0!==l[c].data.subgroup&&(l[c].top=r[l[c].data.subgroup].top+.5*n.item.vertical,r[a].stack&&(l[c].baseTop=l[c].top));i&&r[a].stack&&t.substack(e[a],n,r[a])}},t.collision=function(e,t,n,i){return i?e.right-n.horizontal+r<t.right+t.width&&e.right+e.width+n.horizontal-r>t.right&&e.top-n.vertical+r<t.top+t.height&&e.top+e.height+n.vertical-r>t.top:e.left-n.horizontal+r<t.left+t.width&&e.left+e.width+n.horizontal-r>t.left&&e.top-n.vertical+r<t.top+t.height&&e.top+e.height+n.vertical-r>t.top},t.collisionByTimes=function(e,t){return e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top||t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top}},function(e,t,n){var r=n(38);function i(e,t,n){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=n,e&&null==e.start)throw new Error('Property "start" missing in item '+e);r.call(this,e,t,n)}i.prototype=new r(null,null,null),i.prototype.isVisible=function(e){var t=this.options.align,n=this.width*e.getMillisecondsPerPixel();return"right"==t?this.data.start.getTime()>e.start&&this.data.start.getTime()-n<e.end:"left"==t?this.data.start.getTime()+n>e.start&&this.data.start.getTime()<e.end:this.data.start.getTime()+n/2>e.start&&this.data.start.getTime()-n/2<e.end},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var n=this.parent.dom.axis;if(!t)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(this.dom.dot)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+t,this.dom.line.className="vis-item vis-line"+t,this.dom.dot.className="vis-item vis-dot"+t}},i.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},i.prototype.redraw=function(e){var t,n,r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];return e?r:(r.forEach((function(e){n=e()})),n)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}},i.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start),t=this.options.align;"right"==t?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e-this.props.line.width+"px",this.dom.dot.style.right=e-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width+"px",this.dom.dot.style.left=e-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==t?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e+"px",this.dom.dot.style.right=e+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=e,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e+"px",this.dom.dot.style.left=e+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=e-this.props.line.width+"px",this.dom.dot.style.right=e-this.props.dot.width/2+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width/2+"px",this.dom.dot.style.left=e-this.props.dot.width/2+"px")},i.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.box,n=this.dom.line,r=this.dom.dot;if("top"==e)t.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom="";else{var i=this.parent.itemSet.props.height,o=i-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=i-o+"px",n.style.bottom="0"}r.style.top=-this.props.dot.height/2+"px"},i.prototype.getWidthLeft=function(){return this.width/2},i.prototype.getWidthRight=function(){return this.width/2},e.exports=i},function(e,t,n){var r=n(38);function i(e,t,n){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=n,e&&null==e.start)throw new Error('Property "start" missing in item '+e);r.call(this,e,t,n)}i.prototype=new r(null,null,null),i.prototype.isVisible=function(e){var t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+t,this.dom.dot.className="vis-item vis-dot"+t}},i.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},i.prototype.redraw=function(e){var t,n,r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];return e?r:(r.forEach((function(e){n=e()})),n)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},i.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=e-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=e-this.props.dot.width,this.dom.point.style.left=this.left+"px")},i.prototype.repositionY=function(){var e=this.options.orientation.item;this.dom.point.style.top="top"==e?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype.getWidthLeft=function(){return this.props.dot.width},i.prototype.getWidthRight=function(){return this.props.dot.width},e.exports=i},function(e,t,n){var r=n(38),i=n(69),o=n(70);function a(e,t,n){if(this.props={content:{width:0}},this.overflow=!1,e){if(null==e.start)throw new Error('Property "start" missing in item '+e.id);if(null==e.end)throw new Error('Property "end" missing in item '+e.id)}r.call(this,e,t,n)}a.prototype=new r(null,null,null),a.prototype.baseClassName="vis-item vis-background",a.prototype.stack=!1,a.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},a.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},a.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0},a.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}},a.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},a.prototype._updateDomComponentsSizes=function(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1},a.prototype._repaintDomAdditionals=function(){},a.prototype.redraw=function(e){var t,n,r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(t=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}.bind(this),this._repaintDomAdditionals.bind(this)];return e?r:(r.forEach((function(e){n=e()})),n)},a.prototype.show=o.prototype.show,a.prototype.hide=o.prototype.hide,a.prototype.repositionX=o.prototype.repositionX,a.prototype.repositionY=function(e){var t,n=this.options.orientation.item;if(void 0!==this.data.subgroup){var r=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[r].height+"px",this.dom.box.style.top="top"==n?this.parent.top+this.parent.subgroups[r].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof i?(t=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(t=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=t+"px"},e.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n){(0,r.default)(this,e),this.container=t,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,i.default)(e,[{key:"setPosition",value:function(e,t){this.x=parseInt(e),this.y=parseInt(t)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,i=this.frame.parentNode.clientWidth,o=0,a=0;if("flip"==this.overflowMethod){var s=!1,u=!0;this.y-t<this.padding&&(u=!1),this.x+n>i-this.padding&&(s=!0),o=s?this.x-n:this.x,a=u?this.y-t:this.y}else(a=this.y-t)+t+this.padding>r&&(a=r-t-this.padding),a<this.padding&&(a=this.padding),(o=this.x)+n+this.padding>i&&(o=i-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="string",i="boolean",o="number",a="array",s="date",u="object",l="moment",c={configure:{enabled:{boolean:i},filter:{boolean:i,function:"function"},container:{dom:"dom"},__type__:{object:u,boolean:i,function:"function"}},align:{string:r},rtl:{boolean:i,undefined:"undefined"},rollingMode:{follow:{boolean:i},offset:{number:o,undefined:"undefined"},__type__:{object:u}},verticalScroll:{boolean:i,undefined:"undefined"},horizontalScroll:{boolean:i,undefined:"undefined"},autoResize:{boolean:i},throttleRedraw:{number:o},clickToUse:{boolean:i},dataAttributes:{string:r,array:a},editable:{add:{boolean:i,undefined:"undefined"},remove:{boolean:i,undefined:"undefined"},updateGroup:{boolean:i,undefined:"undefined"},updateTime:{boolean:i,undefined:"undefined"},overrideItems:{boolean:i,undefined:"undefined"},__type__:{boolean:i,object:u}},end:{number:o,date:s,string:r,moment:l},format:{minorLabels:{millisecond:{string:r,undefined:"undefined"},second:{string:r,undefined:"undefined"},minute:{string:r,undefined:"undefined"},hour:{string:r,undefined:"undefined"},weekday:{string:r,undefined:"undefined"},day:{string:r,undefined:"undefined"},week:{string:r,undefined:"undefined"},month:{string:r,undefined:"undefined"},year:{string:r,undefined:"undefined"},__type__:{object:u,function:"function"}},majorLabels:{millisecond:{string:r,undefined:"undefined"},second:{string:r,undefined:"undefined"},minute:{string:r,undefined:"undefined"},hour:{string:r,undefined:"undefined"},weekday:{string:r,undefined:"undefined"},day:{string:r,undefined:"undefined"},week:{string:r,undefined:"undefined"},month:{string:r,undefined:"undefined"},year:{string:r,undefined:"undefined"},__type__:{object:u,function:"function"}},__type__:{object:u}},moment:{function:"function"},groupOrder:{string:r,function:"function"},groupEditable:{add:{boolean:i,undefined:"undefined"},remove:{boolean:i,undefined:"undefined"},order:{boolean:i,undefined:"undefined"},__type__:{boolean:i,object:u}},groupOrderSwap:{function:"function"},height:{string:r,number:o},hiddenDates:{start:{date:s,number:o,string:r,moment:l},end:{date:s,number:o,string:r,moment:l},repeat:{string:r},__type__:{object:u,array:a}},itemsAlwaysDraggable:{item:{boolean:i,undefined:"undefined"},range:{boolean:i,undefined:"undefined"},__type__:{boolean:i,object:u}},limitSize:{boolean:i},locale:{string:r},locales:{__any__:{any:"any"},__type__:{object:u}},margin:{axis:{number:o},item:{horizontal:{number:o,undefined:"undefined"},vertical:{number:o,undefined:"undefined"},__type__:{object:u,number:o}},__type__:{object:u,number:o}},max:{date:s,number:o,string:r,moment:l},maxHeight:{number:o,string:r},maxMinorChars:{number:o},min:{date:s,number:o,string:r,moment:l},minHeight:{number:o,string:r},moveable:{boolean:i},multiselect:{boolean:i},multiselectPerGroup:{boolean:i},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:r,undefined:"undefined"},item:{string:r,undefined:"undefined"},__type__:{string:r,object:u}},selectable:{boolean:i},showCurrentTime:{boolean:i},showMajorLabels:{boolean:i},showMinorLabels:{boolean:i},stack:{boolean:i},stackSubgroups:{boolean:i},snap:{function:"function",null:"null"},start:{date:s,number:o,string:r,moment:l},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:r,function:"function"},showTooltips:{boolean:i},tooltip:{followMouse:{boolean:i},overflowMethod:{string:["cap","flip"]},__type__:{object:u}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:i,object:u}},timeAxis:{scale:{string:r,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:u}},type:{string:r},width:{string:r,number:o},zoomable:{boolean:i},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},__type__:{object:u}};t.allOptions=c,t.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(e,t,n){var r,i=(r=n(6))&&r.__esModule?r:{default:r},o=n(2),a=n(14),s=n(11),u=n(12),l=n(16),c=n(107),f=n(109),d=n(112),h=n(110),p=n(111),v=n(72),m="__ungrouped__";function g(e,t){this.id=o.randomUUID(),this.body=e,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=o.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,r){n._onAdd(t.items)},update:function(e,t,r){n._onUpdate(t.items)},remove:function(e,t,r){n._onRemove(t.items)}},this.groupListeners={add:function(e,t,r){n._onAddGroups(t.items)},update:function(e,t,r){n._onUpdateGroups(t.items)},remove:function(e,t,r){n._onRemoveGroups(t.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(t),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",(function(){n.lastStart=n.body.range.start,n.svg.style.left=o.option.asSize(-n.props.width),n.forceGraphUpdate=!0,n.redraw.call(n)})),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}g.prototype=new l,g.prototype._create=function(){var e=document.createElement("div");e.className="vis-line-graph",this.dom.frame=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",e.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new c(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new c(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new d(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new d(this.body,this.options.legend,"right",this.options.groups),this.show()},g.prototype.setOptions=function(e){e&&(void 0===e.graphHeight&&void 0!==e.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==e.graphHeight&&parseInt((e.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),o.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,e),o.mergeOptions(this.options,e,"interpolation"),o.mergeOptions(this.options,e,"drawPoints"),o.mergeOptions(this.options,e,"shaded"),o.mergeOptions(this.options,e,"legend"),e.interpolation&&"object"==(0,i.default)(e.interpolation)&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==e.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==e.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m)&&this.groups[m].setOptions(e)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},g.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},g.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},g.prototype.setItems=function(e){var t,n=this,r=this.itemsData;if(e){if(!(e instanceof s||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(r&&(o.forEach(this.itemListeners,(function(e,t){r.off(t,e)})),t=r.getIds(),this._onRemove(t)),this.itemsData){var i=this.id;o.forEach(this.itemListeners,(function(e,t){n.itemsData.on(t,e,i)})),t=this.itemsData.getIds(),this._onAdd(t)}},g.prototype.setGroups=function(e){var t,n=this;if(this.groupsData){o.forEach(this.groupListeners,(function(e,t){n.groupsData.off(t,e)})),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(e){if(!(e instanceof s||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var i=this.id;o.forEach(this.groupListeners,(function(e,t){n.groupsData.on(t,e,i)})),t=this.groupsData.getIds(),this._onAddGroups(t)}},g.prototype._onUpdate=function(e){this._updateAllGroupData(e)},g.prototype._onAdd=function(e){this._onUpdate(e)},g.prototype._onRemove=function(e){this._onUpdate(e)},g.prototype._onUpdateGroups=function(e){this._updateAllGroupData(null,e)},g.prototype._onAddGroups=function(e){this._onUpdateGroups(e)},g.prototype._onRemoveGroups=function(e){for(var t=0;t<e.length;t++)this._removeGroup(e[t]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},g.prototype._removeGroup=function(e){this.groups.hasOwnProperty(e)&&("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e),this.legendLeft.redraw()),delete this.groups[e])},g.prototype._updateGroup=function(e,t){this.groups.hasOwnProperty(t)?(this.groups[t].update(e),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.updateGroup(t,this.groups[t]),this.legendRight.updateGroup(t,this.groups[t]),this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t)):(this.yAxisLeft.updateGroup(t,this.groups[t]),this.legendLeft.updateGroup(t,this.groups[t]),this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t))):(this.groups[t]=new f(e,t,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.addGroup(t,this.groups[t]),this.legendRight.addGroup(t,this.groups[t])):(this.yAxisLeft.addGroup(t,this.groups[t]),this.legendLeft.addGroup(t,this.groups[t]))),this.legendLeft.redraw(),this.legendRight.redraw()},g.prototype._updateAllGroupData=function(e,t){if(null!=this.itemsData){var n={},r=this.itemsData.get(),i=this.itemsData._fieldId,a={};e&&e.map((function(e){a[e]=e}));for(var s={},u=0;u<r.length;u++){var l=r[u],c=l.group;null==c&&(c=m),s.hasOwnProperty(c)?s[c]++:s[c]=1}var f={};if(!t&&e)for(c in this.groups)if(this.groups.hasOwnProperty(c)){var d=(g=this.groups[c]).getItems();n[c]=d.filter((function(e){return f[e[i]]=e[i],e[i]!==a[e[i]]}));var h=s[c];s[c]-=n[c].length,n[c].length<h&&(n[c][h-1]={})}for(u=0;u<r.length;u++)if(null==(c=(l=r[u]).group)&&(c=m),t||!e||l[i]===a[l[i]]||!f.hasOwnProperty(l[i])){n.hasOwnProperty(c)||(n[c]=new Array(s[c]));var p=o.bridgeObject(l);p.x=o.convert(l.x,"Date"),p.end=o.convert(l.end,"Date"),p.orginalY=l.y,p.y=Number(l.y),p[i]=l[i];var v=n[c].length-s[c]--;n[c][v]=p}for(c in this.groups)this.groups.hasOwnProperty(c)&&(n.hasOwnProperty(c)||(n[c]=new Array(0)));for(c in n)if(n.hasOwnProperty(c))if(0==n[c].length)this.groups.hasOwnProperty(c)&&this._removeGroup(c);else{var g=void 0;null!=this.groupsData&&(g=this.groupsData.get(c)),null==g&&(g={id:c,content:this.options.defaultGroup+c}),this._updateGroup(g,c),this.groups[c].setItems(n[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},g.prototype.redraw=function(){var e=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,e=this._isResized()||e;var t=this.body.range.end-this.body.range.start,n=t!=this.lastVisibleInterval;if(this.lastVisibleInterval=t,1==e&&(this.svg.style.width=o.option.asSize(3*this.props.width),this.svg.style.left=o.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==e||1==n||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)e=this._updateGraph()||e,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var r=this.body.range.start-this.lastStart,i=this.body.range.end-this.body.range.start;if(0!=this.props.width){var a=r*(this.props.width/i);this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),e},g.prototype._getSortedGroupIds=function(){var e=[];for(var t in this.groups)if(this.groups.hasOwnProperty(t)){var n=this.groups[t];1!=n.visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||e.push({id:t,zIndex:n.options.zIndex})}o.insertSort(e,(function(e,t){var n=e.zIndex,r=t.zIndex;return void 0===n&&(n=0),void 0===r&&(r=0),n==r?0:n<r?-1:1}));for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=e[i].id;return r},g.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var e,t,n={},r=this.body.util.toGlobalTime(-this.body.domProps.root.width),i=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var s={};for(this._getRelevantData(o,s,r,i),this._applySampling(o,s),t=0;t<o.length;t++)this._convertXcoordinates(s[o[t]]);if(this._getYRanges(o,s,n),1==this._updateYAxis(o,n))return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var u=void 0;for(t=0;t<o.length;t++)e=this.groups[o[t]],!0===this.options.stack&&"line"===this.options.style&&(null!=e.options.excludeFromStacking&&e.options.excludeFromStacking||(null!=u&&(this._stack(s[e.id],s[u.id]),1==e.options.shaded.enabled&&"group"!==e.options.shaded.orientation&&("top"==e.options.shaded.orientation&&"group"!==u.options.shaded.orientation?(u.options.shaded.orientation="group",u.options.shaded.groupId=e.id):(e.options.shaded.orientation="group",e.options.shaded.groupId=u.id))),u=e)),this._convertYcoordinates(s[o[t]],e);var l={};for(t=0;t<o.length;t++)if("line"===(e=this.groups[o[t]]).options.style&&1==e.options.shaded.enabled){var c=s[o[t]];if(null==c||0==c.length)continue;if(l.hasOwnProperty(o[t])||(l[o[t]]=p.calcPath(c,e)),"group"===e.options.shaded.orientation){var f=e.options.shaded.groupId;if(-1===o.indexOf(f)){console.log(e.id+": Unknown shading group target given:"+f);continue}l.hasOwnProperty(f)||(l[f]=p.calcPath(s[f],this.groups[f])),p.drawShading(l[o[t]],e,l[f],this.framework)}else p.drawShading(l[o[t]],e,void 0,this.framework)}for(h.draw(o,s,this.framework),t=0;t<o.length;t++)if(e=this.groups[o[t]],s[o[t]].length>0)switch(e.options.style){case"line":l.hasOwnProperty(o[t])||(l[o[t]]=p.calcPath(s[o[t]],e)),p.draw(l[o[t]],e,this.framework);case"point":case"points":"point"!=e.options.style&&"points"!=e.options.style&&1!=e.options.drawPoints.enabled||v.draw(s[o[t]],e,this.framework)}}}return a.cleanupElements(this.svgElements),!1},g.prototype._stack=function(e,t){var n,r,i,o,a;n=0;for(var s=0;s<e.length;s++){o=void 0,a=void 0;for(var u=n;u<t.length;u++){if(t[u].x===e[s].x){o=t[u],a=t[u],n=u;break}if(t[u].x>e[s].x){a=t[u],o=0==u?a:t[u-1],n=u;break}}void 0===a&&(o=t[t.length-1],a=t[t.length-1]),r=a.x-o.x,i=a.y-o.y,e[s].y=0==r?e[s].orginalY+a.y:e[s].orginalY+i/r*(e[s].x-o.x)+o.y}},g.prototype._getRelevantData=function(e,t,n,r){var i,a,s,u;if(e.length>0)for(a=0;a<e.length;a++){var l=(i=this.groups[e[a]]).getItems();if(1==i.options.sort){var c=function(e,t){return e.getTime()==t.getTime()?0:e<t?-1:1},f=Math.max(0,o.binarySearchValue(l,n,"x","before",c)),d=Math.min(l.length,o.binarySearchValue(l,r,"x","after",c)+1);d<=0&&(d=l.length);var h=new Array(d-f);for(s=f;s<d;s++)u=i.itemsData[s],h[s-f]=u;t[e[a]]=h}else t[e[a]]=i.itemsData}},g.prototype._applySampling=function(e,t){if(e.length>0)for(var n=0;n<e.length;n++)if(1==this.groups[e[n]].options.sampling){var r=t[e[n]];if(r.length>0){var i,o=r.length,a=o/(this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x));i=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(a)));for(var s=new Array(o),u=0;u<o;u+=i)s[Math.round(u/i)]=r[u];t[e[n]]=s.splice(0,Math.round(o/i))}}},g.prototype._getYRanges=function(e,t,n){var r,i,o,a,s=[],u=[];if(e.length>0){for(o=0;o<e.length;o++)r=t[e[o]],a=this.groups[e[o]].options,r.length>0&&(i=this.groups[e[o]],!0===a.stack&&"bar"===a.style?"left"===a.yAxisOrientation?s=s.concat(r):u=u.concat(r):n[e[o]]=i.getYRange(r,e[o]));h.getStackedYRange(s,n,e,"__barStackLeft","left"),h.getStackedYRange(u,n,e,"__barStackRight","right")}},g.prototype._updateYAxis=function(e,t){var n,r,i=!1,o=!1,a=!1,s=1e9,u=1e9,l=-1e9,c=-1e9;if(e.length>0){for(var f=0;f<e.length;f++){var d=this.groups[e[f]];d&&"right"!=d.options.yAxisOrientation?(o=!0,s=1e9,l=-1e9):d&&d.options.yAxisOrientation&&(a=!0,u=1e9,c=-1e9)}for(f=0;f<e.length;f++)t.hasOwnProperty(e[f])&&!0!==t[e[f]].ignore&&(n=t[e[f]].min,r=t[e[f]].max,"right"!=t[e[f]].yAxisOrientation?(o=!0,s=s>n?n:s,l=l<r?r:l):(a=!0,u=u>n?n:u,c=c<r?r:c));1==o&&this.yAxisLeft.setRange(s,l),1==a&&this.yAxisRight.setRange(u,c)}i=this._toggleAxisVisiblity(o,this.yAxisLeft)||i,i=this._toggleAxisVisiblity(a,this.yAxisRight)||i,1==a&&1==o?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!o,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==a?this.yAxisRight.width:0,i=this.yAxisLeft.redraw()||i,i=this.yAxisRight.redraw()||i):i=this.yAxisRight.redraw()||i;var h=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(f=0;f<h.length;f++)-1!=e.indexOf(h[f])&&e.splice(e.indexOf(h[f]),1);return i},g.prototype._toggleAxisVisiblity=function(e,t){var n=!1;return 0==e?t.dom.frame.parentNode&&0==t.hidden&&(t.hide(),n=!0):t.dom.frame.parentNode||1!=t.hidden||(t.show(),n=!0),n},g.prototype._convertXcoordinates=function(e){for(var t=this.body.util.toScreen,n=0;n<e.length;n++)e[n].screen_x=t(e[n].x)+this.props.width,e[n].screen_y=e[n].y,null!=e[n].end?e[n].screen_end=t(e[n].end)+this.props.width:e[n].screen_end=void 0},g.prototype._convertYcoordinates=function(e,t){var n=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));"right"==t.options.yAxisOrientation&&(n=this.yAxisRight);for(var i=0;i<e.length;i++)e[i].screen_y=Math.round(n.convertValue(e[i].y));t.setZeroPosition(Math.min(r,n.convertValue(0)))},e.exports=g},function(e,t,n){var r,i=(r=n(8))&&r.__esModule?r:{default:r},o=n(2),a=n(14),s=n(16),u=n(108);function l(e,t,n,r){this.id=o.randomUUID(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=r,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=o.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var i=this;this.body.emitter.on("verticalDrag",(function(){i.dom.lineContainer.style.top=i.body.domProps.scrollTop+"px"}))}l.prototype=new s,l.prototype.addGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1},l.prototype.updateGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.amountOfGroups+=1),this.groups[e]=t},l.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},l.prototype.setOptions=function(e){if(e){var t=!1;this.options.orientation!=e.orientation&&void 0!==e.orientation&&(t=!0),o.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,e),this.minWidth=Number((""+this.options.width).replace("px","")),!0===t&&this.dom.frame&&(this.hide(),this.show())}},l.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},l.prototype._redrawGroupIcons=function(){var e;a.prepareElements(this.svgElements);var t=this.options.iconWidth,n=11.5;e="left"===this.options.orientation?4:this.width-t-4;var r=(0,i.default)(this.groups);r.sort((function(e,t){return e<t?-1:1}));for(var o=0;o<r.length;o++){var s=r[o];!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(t,15,this.framework,e,n),n+=19)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},l.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},l.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},l.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},l.prototype.setRange=function(e,t){this.range.start=e,this.range.end=t},l.prototype.redraw=function(){var e=!1,t=0;for(var n in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(n)&&(!0!==this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&!0!==this.linegraphOptions.visibility[n]||t++);if(0===this.amountOfGroups||0===t)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var r=this.props,i=this.dom.frame;i.className="vis-data-axis",this._calculateCharSize();var o=this.options.orientation,a=this.options.showMinorLabels,s=this.options.showMajorLabels;r.minorLabelHeight=a?r.minorCharHeight:0,r.majorLabelHeight=s?r.majorCharHeight:0,r.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,"left"===o?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e},l.prototype._redrawLabels=function(){var e=this,t=!1;a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels);var n=this.options.orientation,r=null!=this.options[n].range?this.options[n].range:{},i=!0;null!=r.max&&(this.range.end=r.max,i=!1);var o=!0;null!=r.min&&(this.range.start=r.min,o=!1),this.scale=new u(this.range.start,this.range.end,o,i,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[n].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach((function(t){var r=t.y,i=t.major;e.options.showMinorLabels&&!1===i&&e._redrawLabel(r-2,t.val,n,"vis-y-axis vis-minor",e.props.minorCharHeight),i&&r>=0&&e._redrawLabel(r-2,t.val,n,"vis-y-axis vis-major",e.props.majorCharHeight),!0===e.master&&(i?e._redrawLine(r,n,"vis-grid vis-horizontal vis-major",e.options.majorLinesOffset,e.props.majorLineWidth):e._redrawLine(r,n,"vis-grid vis-horizontal vis-minor",e.options.minorLinesOffset,e.props.minorLineWidth))}));var s=0;void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(s=this.props.titleCharHeight);var l=!0===this.options.icons?Math.max(this.options.iconWidth,s)+this.options.labelOffsetX+15:s+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&!0===this.options.visible?(this.width=this.maxLabelSize+l,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-l&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),t=!1),t},l.prototype.convertValue=function(e){return this.scale.convertValue(e)},l.prototype.screenToValue=function(e){return this.scale.screenToValue(e)},l.prototype._redrawLabel=function(e,t,n,r,i){var o=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);o.className=r,o.innerHTML=t,"left"===n?(o.style.left="-"+this.options.labelOffsetX+"px",o.style.textAlign="right"):(o.style.right="-"+this.options.labelOffsetX+"px",o.style.textAlign="left"),o.style.top=e-.5*i+this.options.labelOffsetY+"px",t+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*s&&(this.maxLabelSize=t.length*s)},l.prototype._redrawLine=function(e,t,n,r,i){if(!0===this.master){var o=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);o.className=n,o.innerHTML="","left"===t?o.style.left=this.width-r+"px":o.style.right=this.width-r+"px",o.style.width=i+"px",o.style.top=e+"px"}},l.prototype._redrawTitle=function(e){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[e].title&&void 0!==this.options[e].title.text){var t=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-"+e,t.innerHTML=this.options[e].title.text,void 0!==this.options[e].title.style&&o.addCssText(t,this.options[e].title.style),"left"===e?t.style.left=this.props.titleCharHeight+"px":t.style.right=this.props.titleCharHeight+"px",t.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)},l.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){var n=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-major vis-measure",r.appendChild(n),this.dom.frame.appendChild(r),this.props.majorCharHeight=r.clientHeight,this.props.majorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("titleCharHeight"in this.props)){var i=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-title vis-measure",o.appendChild(i),this.dom.frame.appendChild(o),this.props.titleCharHeight=o.clientHeight,this.props.titleCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}},e.exports=l},function(e,t,n){function r(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=i,this.majorCharHeight=o,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=n,this.autoScaleEnd=r,this.formattingFunction=s,n||r){var u=this,l=function(e){var t=e-e%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return e%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>u.magnitudefactor*u.minorSteps[u.minorStepIdx]*.5?t+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:t};n&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=l(this._start)),r&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=l(this._end)),this.determineScale()}}r.prototype.setCharHeight=function(e){this.majorCharHeight=e},r.prototype.setHeight=function(e){this.containerHeight=e},r.prototype.determineScale=function(){var e=this._end-this._start;this.scale=this.containerHeight/e;var t=this.majorCharHeight/this.scale,n=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);var r=0;n<0&&(r=n);for(var i=!1,o=r;Math.abs(o)<=Math.abs(n);o++){this.magnitudefactor=Math.pow(10,o);for(var a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=t){i=!0,this.minorStepIdx=a;break}if(!0===i)break}},r.prototype.is_major=function(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},r.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},r.prototype.getFirstMajor=function(){var e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)},r.prototype.formatValue=function(e){var t=e.toPrecision(5);return"function"==typeof this.formattingFunction&&(t=this.formattingFunction(e)),"number"==typeof t?""+t:"string"==typeof t?t:e.toPrecision(5)},r.prototype.getLines=function(){for(var e=[],t=this.getStep(),n=(t-this._start%t)%t,r=this._start+n;this._end-r>1e-5;r+=t)r!=this._start&&e.push({major:this.is_major(r),y:this.convertValue(r),val:this.formatValue(r)});return e},r.prototype.followScale=function(e){var t=this.minorStepIdx,n=this._start,r=this._end,i=this,o=function(){i.magnitudefactor*=2},a=function(){i.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==t||o(),o()):(this.minorStepIdx=2,1==t||a(),a()));for(var s=e.convertValue(0),u=e.getStep()*e.scale,l=!1,c=0;!l&&c++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var f=this.containerHeight/this.scale;this._start=n,this._end=this._start+f;var d=this._end*this.scale,h=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){var v=s-d;this._end+=v/this.scale,this._start=this._end-f}else this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+f):(this._start+=h-p/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>r+1e-5)a(),l=!1;else{if(!this.autoScaleStart&&this._start<n-1e-5){if(!(this.zeroAlign&&n>=0)){a(),l=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&f<r-n?(o(),l=!1):l=!0}}},r.prototype.convertValue=function(e){return this.containerHeight-(e-this._start)*this.scale},r.prototype.screenToValue=function(e){return(this.containerHeight-e)/this.scale+this._start},e.exports=r},function(e,t,n){var r,i=(r=n(6))&&r.__esModule?r:{default:r},o=n(2),a=n(110),s=n(111),u=n(72);function l(e,t,n,r){this.id=t,this.options=o.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],n),this.usingDefaultStyle=void 0===e.className,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(e),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===e.visible||e.visible}l.prototype.setItems=function(e){null!=e?(this.itemsData=e,1==this.options.sort&&o.insertSort(this.itemsData,(function(e,t){return e.x>t.x?1:-1}))):this.itemsData=[]},l.prototype.getItems=function(){return this.itemsData},l.prototype.setZeroPosition=function(e){this.zeroPosition=e},l.prototype.setOptions=function(e){void 0!==e&&(o.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,e),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),o.mergeOptions(this.options,e,"interpolation"),o.mergeOptions(this.options,e,"drawPoints"),o.mergeOptions(this.options,e,"shaded"),e.interpolation&&"object"==(0,i.default)(e.interpolation)&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},l.prototype.update=function(e){this.group=e,this.content=e.content||"graph",this.className=e.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===e.visible||e.visible,this.style=e.style,this.setOptions(e.options)},l.prototype.getLegend=function(e,t,n,r,i){switch(null!=n&&null!=n||(n={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null!=r&&null!=r||(r=0),null!=i&&null!=i||(i=.5*t),this.options.style){case"line":s.drawIcon(this,r,i,e,t,n);break;case"points":case"point":u.drawIcon(this,r,i,e,t,n);break;case"bar":a.drawIcon(this,r,i,e,t,n)}return{icon:n.svg,label:this.content,orientation:this.options.yAxisOrientation}},l.prototype.getYRange=function(e){for(var t=e[0].y,n=e[0].y,r=0;r<e.length;r++)t=t>e[r].y?e[r].y:t,n=n<e[r].y?e[r].y:n;return{min:t,max:n,yAxisOrientation:this.options.yAxisOrientation}},e.exports=l},function(e,t,n){var r=n(14),i=n(72);function o(e,t){}o.drawIcon=function(e,t,n,i,o,a){var s=.5*o,u=r.getSVGElement("rect",a.svgElements,a.svg);u.setAttributeNS(null,"x",t),u.setAttributeNS(null,"y",n-s),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",2*s),u.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*i),c=e.options.barChart.width/l,f=Math.round(.4*o),d=Math.round(.75*o),h=Math.round((i-2*l)/3);if(r.drawBar(t+.5*l+h,n+s-f-1,l,f,e.className+" vis-bar",a.svgElements,a.svg,e.style),r.drawBar(t+1.5*l+h+2,n+s-d-1,l,d,e.className+" vis-bar",a.svgElements,a.svg,e.style),1==e.options.drawPoints.enabled){var p={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size/c,className:e.className};r.drawPoint(t+.5*l+h,n+s-f-1,p,a.svgElements,a.svg),r.drawPoint(t+1.5*l+h+2,n+s-d-1,p,a.svgElements,a.svg)}},o.draw=function(e,t,n){var a,s,u,l,c,f,d=[],h={},p=0;for(c=0;c<e.length;c++)if("bar"===(l=n.groups[e[c]]).options.style&&!0===l.visible&&(void 0===n.options.groups.visibility[e[c]]||!0===n.options.groups.visibility[e[c]]))for(f=0;f<t[e[c]].length;f++)d.push({screen_x:t[e[c]][f].screen_x,screen_end:t[e[c]][f].screen_end,screen_y:t[e[c]][f].screen_y,x:t[e[c]][f].x,end:t[e[c]][f].end,y:t[e[c]][f].y,groupId:e[c],label:t[e[c]][f].label}),p+=1;if(0!==p)for(d.sort((function(e,t){return e.screen_x===t.screen_x?e.groupId<t.groupId?-1:1:e.screen_x-t.screen_x})),o._getDataIntersections(h,d),c=0;c<d.length;c++){var v=null!=(l=n.groups[d[c].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,m=0;if(void 0===h[s=d[c].screen_x])c+1<d.length&&(a=Math.abs(d[c+1].screen_x-s)),u=o._getSafeDrawData(a,l,v);else{var g=c+(h[s].amount-h[s].resolved);g<d.length&&(a=Math.abs(d[g].screen_x-s)),u=o._getSafeDrawData(a,l,v),h[s].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?d[c].screen_y<l.zeroPosition?(m=h[s].accumulatedNegative,h[s].accumulatedNegative+=l.zeroPosition-d[c].screen_y):(m=h[s].accumulatedPositive,h[s].accumulatedPositive+=l.zeroPosition-d[c].screen_y):!0===l.options.barChart.sideBySide&&(u.width=u.width/h[s].amount,u.offset+=h[s].resolved*u.width-.5*u.width*(h[s].amount+1))}var y=u.width,b=d[c].screen_x;if(null!=d[c].screen_end?b+=.5*(y=d[c].screen_end-d[c].screen_x):b+=u.offset,r.drawBar(b,d[c].screen_y-m,y,l.zeroPosition-d[c].screen_y,l.className+" vis-bar",n.svgElements,n.svg,l.style),!0===l.options.drawPoints.enabled){var _={screen_x:d[c].screen_x,screen_y:d[c].screen_y-m,x:d[c].x,y:d[c].y,groupId:d[c].groupId,label:d[c].label};i.draw([_],l,n,u.offset)}}},o._getDataIntersections=function(e,t){for(var n,r=0;r<t.length;r++)r+1<t.length&&(n=Math.abs(t[r+1].screen_x-t[r].screen_x)),r>0&&(n=Math.min(n,Math.abs(t[r-1].screen_x-t[r].screen_x))),0===n&&(void 0===e[t[r].screen_x]&&(e[t[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),e[t[r].screen_x].amount+=1)},o._getSafeDrawData=function(e,t,n){var r,i;return e<t.options.barChart.width&&e>0?(r=e<n?n:e,i=0,"left"===t.options.barChart.align?i-=.5*e:"right"===t.options.barChart.align&&(i+=.5*e)):(r=t.options.barChart.width,i=0,"left"===t.options.barChart.align?i-=.5*t.options.barChart.width:"right"===t.options.barChart.align&&(i+=.5*t.options.barChart.width)),{width:r,offset:i}},o.getStackedYRange=function(e,t,n,r,i){if(e.length>0){e.sort((function(e,t){return e.screen_x===t.screen_x?e.groupId<t.groupId?-1:1:e.screen_x-t.screen_x}));var a={};o._getDataIntersections(a,e),t[r]=o._getStackedYRange(a,e),t[r].yAxisOrientation=i,n.push(r)}},o._getStackedYRange=function(e,t){for(var n,r=t[0].screen_y,i=t[0].screen_y,o=0;o<t.length;o++)void 0===e[n=t[o].screen_x]?(r=r>t[o].screen_y?t[o].screen_y:r,i=i<t[o].screen_y?t[o].screen_y:i):t[o].screen_y<0?e[n].accumulatedNegative+=t[o].screen_y:e[n].accumulatedPositive+=t[o].screen_y;for(var a in e)e.hasOwnProperty(a)&&(r=(r=r>e[a].accumulatedNegative?e[a].accumulatedNegative:r)>e[a].accumulatedPositive?e[a].accumulatedPositive:r,i=(i=i<e[a].accumulatedNegative?e[a].accumulatedNegative:i)<e[a].accumulatedPositive?e[a].accumulatedPositive:i);return{min:r,max:i}},e.exports=o},function(e,t,n){var r=n(14);function i(e,t){}i.calcPath=function(e,t){if(null!=e&&e.length>0)return 1==t.options.interpolation.enabled?i._catmullRom(e,t):i._linear(e)},i.drawIcon=function(e,t,n,i,o,a){var s,u,l=.5*o,c=r.getSVGElement("rect",a.svgElements,a.svg);if(c.setAttributeNS(null,"x",t),c.setAttributeNS(null,"y",n-l),c.setAttributeNS(null,"width",i),c.setAttributeNS(null,"height",2*l),c.setAttributeNS(null,"class","vis-outline"),(s=r.getSVGElement("path",a.svgElements,a.svg)).setAttributeNS(null,"class",e.className),void 0!==e.style&&s.setAttributeNS(null,"style",e.style),s.setAttributeNS(null,"d","M"+t+","+n+" L"+(t+i)+","+n),1==e.options.shaded.enabled&&(u=r.getSVGElement("path",a.svgElements,a.svg),"top"==e.options.shaded.orientation?u.setAttributeNS(null,"d","M"+t+", "+(n-l)+"L"+t+","+n+" L"+(t+i)+","+n+" L"+(t+i)+","+(n-l)):u.setAttributeNS(null,"d","M"+t+","+n+" L"+t+","+(n+l)+" L"+(t+i)+","+(n+l)+"L"+(t+i)+","+n),u.setAttributeNS(null,"class",e.className+" vis-icon-fill"),void 0!==e.options.shaded.style&&""!==e.options.shaded.style&&u.setAttributeNS(null,"style",e.options.shaded.style)),1==e.options.drawPoints.enabled){var f={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size,className:e.className};r.drawPoint(t+.5*i,n,f,a.svgElements,a.svg)}},i.drawShading=function(e,t,n,i){if(1==t.options.shaded.enabled){var o,a,s=Number(i.svg.style.height.replace("px","")),u=r.getSVGElement("path",i.svgElements,i.svg),l="L";1==t.options.interpolation.enabled&&(l="C"),a="top"==t.options.shaded.orientation?0:"bottom"==t.options.shaded.orientation?s:Math.min(Math.max(0,t.zeroPosition),s),o="group"==t.options.shaded.orientation&&null!=n&&null!=n?"M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,l,!1)+" L"+n[n.length-1][0]+","+n[n.length-1][1]+" "+this.serializePath(n,l,!0)+n[0][0]+","+n[0][1]+" Z":"M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,l,!1)+" V"+a+" H"+e[0][0]+" Z",u.setAttributeNS(null,"class",t.className+" vis-fill"),void 0!==t.options.shaded.style&&u.setAttributeNS(null,"style",t.options.shaded.style),u.setAttributeNS(null,"d",o)}},i.draw=function(e,t,n){if(null!=e&&null!=e){var i=r.getSVGElement("path",n.svgElements,n.svg);i.setAttributeNS(null,"class",t.className),void 0!==t.style&&i.setAttributeNS(null,"style",t.style);var o="L";1==t.options.interpolation.enabled&&(o="C"),i.setAttributeNS(null,"d","M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,o,!1))}},i.serializePath=function(e,t,n){if(e.length<2)return"";var r,i=t;if(n)for(r=e.length-2;r>0;r--)i+=e[r][0]+","+e[r][1]+" ";else for(r=1;r<e.length;r++)i+=e[r][0]+","+e[r][1]+" ";return i},i._catmullRomUniform=function(e){var t,n,r,i,o,a,s=[];s.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);for(var u=1/6,l=e.length,c=0;c<l-1;c++)t=0==c?e[0]:e[c-1],n=e[c],r=e[c+1],i=c+2<l?e[c+2]:r,o={screen_x:(-t.screen_x+6*n.screen_x+r.screen_x)*u,screen_y:(-t.screen_y+6*n.screen_y+r.screen_y)*u},a={screen_x:(n.screen_x+6*r.screen_x-i.screen_x)*u,screen_y:(n.screen_y+6*r.screen_y-i.screen_y)*u},s.push([o.screen_x,o.screen_y]),s.push([a.screen_x,a.screen_y]),s.push([r.screen_x,r.screen_y]);return s},i._catmullRom=function(e,t){var n=t.options.interpolation.alpha;if(0==n||void 0===n)return this._catmullRomUniform(e);var r,i,o,a,s,u,l,c,f,d,h,p,v,m,g,y,b,_,w,x=[];x.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);for(var O=e.length,k=0;k<O-1;k++)r=0==k?e[0]:e[k-1],i=e[k],o=e[k+1],a=k+2<O?e[k+2]:o,l=Math.sqrt(Math.pow(r.screen_x-i.screen_x,2)+Math.pow(r.screen_y-i.screen_y,2)),c=Math.sqrt(Math.pow(i.screen_x-o.screen_x,2)+Math.pow(i.screen_y-o.screen_y,2)),f=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),m=Math.pow(f,n),y=Math.pow(f,2*n),g=Math.pow(c,n),b=Math.pow(c,2*n),w=Math.pow(l,n),d=2*(_=Math.pow(l,2*n))+3*w*g+b,h=2*y+3*m*g+b,(p=3*w*(w+g))>0&&(p=1/p),(v=3*m*(m+g))>0&&(v=1/v),s={screen_x:(-b*r.screen_x+d*i.screen_x+_*o.screen_x)*p,screen_y:(-b*r.screen_y+d*i.screen_y+_*o.screen_y)*p},u={screen_x:(y*i.screen_x+h*o.screen_x-b*a.screen_x)*v,screen_y:(y*i.screen_y+h*o.screen_y-b*a.screen_y)*v},0==s.screen_x&&0==s.screen_y&&(s=i),0==u.screen_x&&0==u.screen_y&&(u=o),x.push([s.screen_x,s.screen_y]),x.push([u.screen_x,u.screen_y]),x.push([o.screen_x,o.screen_y]);return x},i._linear=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n].screen_x,e[n].screen_y]);return t},e.exports=i},function(e,t,n){var r,i=(r=n(8))&&r.__esModule?r:{default:r},o=n(2),a=n(14),s=n(16);function u(e,t,n,r){this.body=e,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=n,this.options=o.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(t)}u.prototype=new s,u.prototype.clear=function(){this.groups={},this.amountOfGroups=0},u.prototype.addGroup=function(e,t){1!=t.options.excludeFromLegend&&(this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1)},u.prototype.updateGroup=function(e,t){this.groups[e]=t},u.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},u.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},u.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},u.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},u.prototype.setOptions=function(e){o.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,e)},u.prototype.redraw=function(){var e=0,t=(0,i.default)(this.groups);t.sort((function(e,t){return e<t?-1:1}));for(var n=0;n<t.length;n++){var r=t[n];1!=this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&1!=this.linegraphOptions.visibility[r]||e++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==e)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var a="";for(n=0;n<t.length;n++)r=t[n],1!=this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&1!=this.linegraphOptions.visibility[r]||(a+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=a,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},u.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var e=(0,i.default)(this.groups);e.sort((function(e,t){return e<t?-1:1})),a.resetElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop,n=Number(t.replace("px","")),r=n,o=this.options.iconSize,s=.75*this.options.iconSize,u=n+.5*s+3;this.svg.style.width=o+5+n+"px";for(var l=0;l<e.length;l++){var c=e[l];1!=this.groups[c].visible||void 0!==this.linegraphOptions.visibility[c]&&1!=this.linegraphOptions.visibility[c]||(this.groups[c].getLegend(o,s,this.framework,r,u),u+=s+this.options.iconSpacing)}}},e.exports=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="string",i="boolean",o="number",a="date",s="object",u="moment",l={configure:{enabled:{boolean:i},filter:{boolean:i,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:i,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:r},sort:{boolean:i},sampling:{boolean:i},stack:{boolean:i},graphHeight:{string:r,number:o},shaded:{enabled:{boolean:i},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:i,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:o},minWidth:{number:o},sideBySide:{boolean:i},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:i},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:o},__type__:{object:s,boolean:i}},drawPoints:{enabled:{boolean:i},onRender:{function:"function"},size:{number:o},style:{string:["square","circle"]},__type__:{object:s,boolean:i,function:"function"}},dataAxis:{showMinorLabels:{boolean:i},showMajorLabels:{boolean:i},icons:{boolean:i},width:{string:r,number:o},visible:{boolean:i},alignZeros:{boolean:i},left:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:r,number:o,undefined:"undefined"},style:{string:r,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:r,number:o,undefined:"undefined"},style:{string:r,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:i},icons:{boolean:i},left:{visible:{boolean:i},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:i},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:i}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:i},throttleRedraw:{number:o},clickToUse:{boolean:i},end:{number:o,date:a,string:r,moment:u},format:{minorLabels:{millisecond:{string:r,undefined:"undefined"},second:{string:r,undefined:"undefined"},minute:{string:r,undefined:"undefined"},hour:{string:r,undefined:"undefined"},weekday:{string:r,undefined:"undefined"},day:{string:r,undefined:"undefined"},month:{string:r,undefined:"undefined"},year:{string:r,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:r,undefined:"undefined"},second:{string:r,undefined:"undefined"},minute:{string:r,undefined:"undefined"},hour:{string:r,undefined:"undefined"},weekday:{string:r,undefined:"undefined"},day:{string:r,undefined:"undefined"},month:{string:r,undefined:"undefined"},year:{string:r,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:r,number:o},hiddenDates:{start:{date:a,number:o,string:r,moment:u},end:{date:a,number:o,string:r,moment:u},repeat:{string:r},__type__:{object:s,array:"array"}},locale:{string:r},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:a,number:o,string:r,moment:u},maxHeight:{number:o,string:r},maxMinorChars:{number:o},min:{date:a,number:o,string:r,moment:u},minHeight:{number:o,string:r},moveable:{boolean:i},multiselect:{boolean:i},orientation:{string:r},showCurrentTime:{boolean:i},showMajorLabels:{boolean:i},showMinorLabels:{boolean:i},start:{date:a,number:o,string:r,moment:u},timeAxis:{scale:{string:r,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:s}},width:{string:r,number:o},zoomable:{boolean:i},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},zIndex:{number:o},__type__:{object:s}};t.allOptions=l,t.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(e,t,n){var r,i=(r=n(29))&&r.__esModule?r:{default:r};function o(e){return c=e,function(){var e={};if(f=0,d=c.charAt(0),k(),"strict"===h&&(e.strict=!0,k()),"graph"!==h&&"digraph"!==h||(e.type=h,k()),p===u&&(e.id=h,k()),"{"!=h)throw A("Angle bracket { expected");if(k(),E(e),"}"!=h)throw A("Angle bracket } expected");if(k(),""!==h)throw A("End of file expected");return k(),delete e.node,delete e.edge,delete e.graph,e}()}var a={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},s=(0,i.default)(a);s.color="color.color",s.style="dashes";var u=2,l={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},c="",f=0,d="",h="",p=0;function v(){f++,d=c.charAt(f)}function m(){return c.charAt(f+1)}var g=/[a-zA-Z_0-9.:#]/;function y(e){return g.test(e)}function b(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function _(e,t,n){for(var r=t.split("."),i=e;r.length;){var o=r.shift();r.length?(i[o]||(i[o]={}),i=i[o]):i[o]=n}}function w(e,t){for(var n,r,i=null,o=[e],a=e;a.parent;)o.push(a.parent),a=a.parent;if(a.nodes)for(n=0,r=a.nodes.length;n<r;n++)if(t.id===a.nodes[n].id){i=a.nodes[n];break}for(i||(i={id:t.id},e.node&&(i.attr=b(i.attr,e.node))),n=o.length-1;n>=0;n--){var s=o[n];s.nodes||(s.nodes=[]),-1===s.nodes.indexOf(i)&&s.nodes.push(i)}t.attr&&(i.attr=b(i.attr,t.attr))}function x(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=b({},e.edge);t.attr=b(n,t.attr)}}function O(e,t,n,r,i){var o={from:t,to:n,type:r};return e.edge&&(o.attr=b({},e.edge)),o.attr=b(o.attr||{},i),o}function k(){for(p=0,h="";" "===d||"\t"===d||"\n"===d||"\r"===d;)v();do{var e=!1;if("#"===d){for(var t=f-1;" "===c.charAt(t)||"\t"===c.charAt(t);)t--;if("\n"===c.charAt(t)||""===c.charAt(t)){for(;""!=d&&"\n"!=d;)v();e=!0}}if("/"===d&&"/"===m()){for(;""!=d&&"\n"!=d;)v();e=!0}if("/"===d&&"*"===m()){for(;""!=d;){if("*"===d&&"/"===m()){v(),v();break}v()}e=!0}for(;" "===d||"\t"===d||"\n"===d||"\r"===d;)v()}while(e);if(""!==d){var n=d+m();if(l[n])return p=1,h=n,v(),void v();if(l[d])return p=1,h=d,void v();if(y(d)||"-"===d){for(h+=d,v();y(d);)h+=d,v();return"false"===h?h=!1:"true"===h?h=!0:isNaN(Number(h))||(h=Number(h)),void(p=u)}if('"'===d){for(v();""!=d&&('"'!=d||'"'===d&&'"'===m());)'"'===d?(h+=d,v()):"\\"===d&&"n"===m()?(h+="\n",v()):h+=d,v();if('"'!=d)throw A('End of string " expected');return v(),void(p=u)}for(p=3;""!=d;)h+=d,v();throw new SyntaxError('Syntax error in part "'+j(h,30)+'"')}p=1}function E(e){for(;""!==h&&"}"!=h;)S(e),";"===h&&k()}function S(e){var t=T(e);if(t)C(e,t);else if(!function(e){return"node"===h?(k(),e.node=D(),"node"):"edge"===h?(k(),e.edge=D(),"edge"):"graph"===h?(k(),e.graph=D(),"graph"):null}(e)){if(p!=u)throw A("Identifier expected");var n=h;if(k(),"="===h){if(k(),p!=u)throw A("Identifier expected");e[n]=h,k()}else!function(e,t){var n={id:t},r=D();r&&(n.attr=r),w(e,n),C(e,t)}(e,n)}}function T(e){var t=null;if("subgraph"===h&&((t={}).type="subgraph",k(),p===u&&(t.id=h,k())),"{"===h){if(k(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,E(t),"}"!=h)throw A("Angle bracket } expected");k(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function C(e,t){for(;"->"===h||"--"===h;){var n,r=h;k();var i=T(e);if(i)n=i;else{if(p!=u)throw A("Identifier or subgraph expected");w(e,{id:n=h}),k()}x(e,O(e,t,n,r,D())),t=n}}function D(){for(var e=null,t={dashed:!0,solid:!1,dotted:[1,5]};"["===h;){for(k(),e={};""!==h&&"]"!=h;){if(p!=u)throw A("Attribute name expected");var n=h;if(k(),"="!=h)throw A("Equal sign = expected");if(k(),p!=u)throw A("Attribute value expected");var r=h;"style"===n&&(r=t[r]),_(e,n,r),k(),","==h&&k()}if("]"!=h)throw A("Bracket ] expected");k()}return e}function A(e){return new SyntaxError(e+', got "'+j(h,30)+'" (char '+f+")")}function j(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function N(e,t,n){for(var r=t.split("."),i=r.pop(),o=e,a=0;a<r.length;a++){var s=r[a];s in o||(o[s]={}),o=o[s]}return o[i]=n,e}function M(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=t[r];Array.isArray(i)?i.forEach((function(t){N(n,t,e[r])})):N(n,"string"==typeof i?i:r,e[r])}return n}t.parseDOT=o,t.DOTToGraph=function(e){var t=o(e),n={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach((function(e){var t={id:e.id,label:String(e.label||e.id)};b(t,M(e.attr,a)),t.image&&(t.shape="image"),n.nodes.push(t)})),t.edges){var r=function(e){var t={from:e.from,to:e.to};return b(t,M(e.attr,s)),t.arrows="->"===e.type?"to":void 0,t};t.edges.forEach((function(e){var t,i,o,a,s;t=e.from instanceof Object?e.from.nodes:{id:e.from},i=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&e.from.edges.forEach((function(e){var t=r(e);n.edges.push(t)})),o=t,a=i,s=function(t,i){var o=O(n,t.id,i.id,e.type,e.attr),a=r(o);n.edges.push(a)},Array.isArray(o)?o.forEach((function(e){Array.isArray(a)?a.forEach((function(t){s(e,t)})):s(e,a)})):Array.isArray(a)?a.forEach((function(e){s(o,e)})):s(o,a),e.to instanceof Object&&e.to.edges&&e.to.edges.forEach((function(e){var t=r(e);n.edges.push(t)}))}))}return t.attr&&(n.options=t.attr),n}},function(e,t,n){t.parseGephi=function(e,t){var n=[],r=[],i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==t&&(void 0!==t.fixed&&(i.nodes.fixed=t.fixed),void 0!==t.parseColor&&(i.nodes.parseColor=t.parseColor),void 0!==t.inheritColor&&(i.edges.inheritColor=t.inheritColor));for(var o=e.edges,a=e.nodes,s=0;s<o.length;s++){var u={},l=o[s];u.id=l.id,u.from=l.source,u.to=l.target,u.attributes=l.attributes,u.label=l.label,u.title=void 0!==l.attributes?l.attributes.title:void 0,"Directed"===l.type&&(u.arrows="to"),l.color&&!1===i.inheritColor&&(u.color=l.color),n.push(u)}for(var c=0;c<a.length;c++){var f={},d=a[c];f.id=d.id,f.attributes=d.attributes,f.x=d.x,f.y=d.y,f.label=d.label,f.title=void 0!==d.attributes?d.attributes.title:d.title,!0===i.nodes.parseColor?f.color=d.color:f.color=void 0!==d.color?{background:d.color,border:d.color,highlight:{background:d.color,border:d.color},hover:{background:d.color,border:d.color}}:void 0,f.size=d.size,f.fixed=i.nodes.fixed&&void 0!==d.x&&void 0!==d.y,r.push(f)}return{nodes:r,edges:n}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(1)),o=a(n(185));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.images={},this.imageBroken={},this.callback=t}return(0,i.default)(e,[{key:"_tryloadBrokenUrl",value:function(e,t,n){void 0!==e&&void 0!==n&&(void 0!==t?(n.onerror=function(){console.error("Could not load brokenImage:",t)},n.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var n=this,r=this.images[e];if(r)return r;var i=new o.default;return this.images[e]=i,i.image.onload=function(){n._fixImageCoordinates(i.image),i.init(),n._redrawWithImage(i)},i.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,i)},i.image.src=e,i}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(30)),i=s(n(6)),o=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=n(2),l=n(48).default,c=n(191).default,f=["bold","ital","boldital","mono"],d=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.default)(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return(0,a.default)(e,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),l.isValidLabel(e.label)?this.labelDirty=!0:e.label="",void 0!==e.font&&null!==e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===(0,i.default)(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(t){var n=this;u.forEach(f,(function(e){n.fontOptions[e]={}})),e.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:u.forEach(t,(function(e,t){null!=e&&"object"!==(void 0===e?"undefined":(0,i.default)(e))&&(n.fontOptions[t]=e)}))}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=u.topMost(e,"widthConstraint");if("number"==typeof n)t.maxWdt=Number(n),t.minWdt=Number(n);else if("object"===(void 0===n?"undefined":(0,i.default)(n))){var r=u.topMost(e,["widthConstraint","maximum"]);"number"==typeof r&&(t.maxWdt=Number(r));var o=u.topMost(e,["widthConstraint","minimum"]);"number"==typeof o&&(t.minWdt=Number(o))}var a=u.topMost(e,"heightConstraint");if("number"==typeof a)t.minHgt=Number(a);else if("object"===(void 0===a?"undefined":(0,i.default)(a))){var s=u.topMost(e,["heightConstraint","minimum"]);"number"==typeof s&&(t.minHgt=Number(s));var l=u.topMost(e,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(t.valign=l))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),u.deepExtend(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=l.choosify("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:"addFontToPile",value:function(e,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var n=t.font;e.push(n)}}},{key:"getBasicOptions",value:function(t){for(var n={},r=0;r<t.length;++r){var i=t[r],o={};e.parseFontString(o,i)&&(i=o),u.forEach(i,(function(e,t){void 0!==e&&(n.hasOwnProperty(t)||(-1!==f.indexOf(t)?n[t]={}:n[t]=e))}))}return n}},{key:"getFontOption",value:function(t,n,r){for(var i=void 0,o=0;o<t.length;++o){var a=t[o];if(a.hasOwnProperty(n)){if(null==(i=a[n]))continue;var s={};if(e.parseFontString(s,i)&&(i=s),i.hasOwnProperty(r))return i[r]}}if(this.fontOptions.hasOwnProperty(r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}},{key:"getFontOptions",value:function(e,t){for(var n={},r=["color","size","face","mod","vadjust"],i=0;i<r.length;++i){var o=r[i];n[o]=this.getFontOption(e,t,o)}return n}},{key:"propagateFonts",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var r=function(e){var r=f[e],i=t.fontOptions[r],o=t.getFontOptions(n,r);u.forEach(o,(function(e,t){i[t]=e})),i.size=Number(i.size),i.vadjust=Number(i.vadjust)},i=0;i<f.length;++i)r(i)}},{key:"draw",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,r,i,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments[4],a=this._setAlignment(e,t,n,i),s=(0,r.default)(a,2);t=s[0],n=s[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var l=this.lines[u];if(l&&l.blocks){var c=0;this.isEdgeLabel||"center"===this.fontOptions.align?c+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(c+=this.size.width-l.width);for(var f=0;f<l.blocks.length;f++){var d=l.blocks[f];e.font=d.font;var h=this._getColor(d.color,o,d.strokeColor),p=(0,r.default)(h,2),v=p[0],m=p[1];d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=m,e.lineJoin="round"),e.fillStyle=v,d.strokeWidth>0&&e.strokeText(d.text,t+c,n+d.vadjust),e.fillText(d.text,t+c,n+d.vadjust),c+=d.width}n+=l.height}}}},{key:"_setAlignment",value:function(e,t,n,r){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,n=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=4):e.textBaseline="middle"):e.textBaseline=r,[t,n]}},{key:"_getColor",value:function(e,t,n){var r=e||"#000000",i=n||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));r=u.overrideOpacity(r,o),i=u.overrideOpacity(i,o)}return[r,i]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=r-.5*this.size.width,this.size.top=i-.5*this.size.height,this.size.yLine=i+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,n,r){var i=function(e,t,n){return"normal"===t?"mod"===n?"":e[n]:void 0!==e[t][n]?e[t][n]:e[n]},o={color:i(this.fontOptions,r,"color"),size:i(this.fontOptions,r,"size"),face:i(this.fontOptions,r,"face"),mod:i(this.fontOptions,r,"mod"),vadjust:i(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));var a="";return void 0!==o.mod&&""!==o.mod&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,n,r){return new c(e,this,t,n).process(r)}},{key:"_processLabel",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var r=this._processLabelText(e,t,n,this.elementOptions.label);this.fontOptions.minWdt>0&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,this.fontOptions.minHgt>0&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var n=t.split(" ");return e.size=n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(30)),i=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(2),u=n(119).default,l=function(){function e(t,n,r){(0,i.default)(this,e),this.body=n,this.labelModule=r,this.options={},this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,o.default)(e,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,n,r,i){e.strokeStyle=this.getColor(e,t,n,r),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,i):this._drawLine(e,t,i)}},{key:"_drawLine",value:function(e,t,n,i,o){if(this.from!=this.to)this._line(e,t,n,i,o);else{var a=this._getCircleData(e),s=(0,r.default)(a,3),u=s[0],l=s[1],c=s[2];this._circle(e,t,u,l,c)}}},{key:"_drawDashedLine",value:function(e,t,n,i,o){e.lineCap="round";var a=[5,5];if(!0===Array.isArray(t.dashes)&&(a=t.dashes),void 0!==e.setLineDash){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var s=this._getCircleData(e),u=(0,r.default)(s,3),l=u[0],c=u[1],f=u[2];this._circle(e,t,l,c,f)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,a);else{var d=this._getCircleData(e),h=(0,r.default)(d,3),p=h[0],v=h[1],m=h[2];this._circle(e,t,p,v,m)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}},{key:"findBorderPositions",value:function(e){var t={},n={};if(this.from!=this.to)t=this._findBorderPosition(this.from,e),n=this._findBorderPosition(this.to,e);else{var i=this._getCircleData(e).slice(0,2),o=(0,r.default)(i,2),a=o[0],s=o[1];t=this._findBorderPositionCircle(this.from,e,{x:a,y:s,low:.25,high:.6,direction:-1}),n=this._findBorderPositionCircle(this.from,e,{x:a,y:s,low:.6,high:.8,direction:1})}return{from:t,to:n}}},{key:"_getCircleData",value:function(e){var t=void 0,n=void 0,r=this.from,i=this.options.selfReferenceSize;return void 0!==e&&void 0===r.shape.width&&r.shape.resize(e),r.shape.width>r.shape.height?(t=r.x+.5*r.shape.width,n=r.y-i):(t=r.x+i,n=r.y-.5*r.shape.height),[t,n,i]}},{key:"_pointOnCircle",value:function(e,t,n,r){var i=2*r*Math.PI;return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"_findBorderPositionCircle",value:function(e,t,n){for(var r=n.x,i=n.y,o=n.low,a=n.high,s=n.direction,u=0,l=this.options.selfReferenceSize,c=void 0,f=void 0,d=void 0,h=.5*(o+a);o<=a&&u<10&&(h=.5*(o+a),c=this._pointOnCircle(r,i,l,h),f=Math.atan2(e.y-c.y,e.x-c.x),d=e.distanceToBorder(t,f)-Math.sqrt(Math.pow(c.x-e.x,2)+Math.pow(c.y-e.y,2)),!(Math.abs(d)<.05));)d>0?s>0?o=h:a=h:s>0?a=h:o=h,u++;return c.t=h,c}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(e,t,n,r){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=void 0,a=void 0;return o=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(o=s.overrideOpacity(this.from.options.color.border,t.opacity),a=s.overrideOpacity(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?a=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),i.addColorStop(0,o),i.addColorStop(1,a),i}return"to"===t.inheritsColor?s.overrideOpacity(this.to.options.color.border,t.opacity):s.overrideOpacity(this.from.options.color.border,t.opacity)}return s.overrideOpacity(t.color,t.opacity)}},{key:"_circle",value:function(e,t,n,r,i){this.enableShadow(e,t),e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,n,i,o,a,s,u){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(e,t,n,i,o,a,s);else{var c=this._getCircleData(void 0),f=(0,r.default)(c,3),d=f[0],h=f[1],p=f[2],v=d-o,m=h-a;l=Math.abs(Math.sqrt(v*v+m*m)-p)}return l}},{key:"_getDistanceToLine",value:function(e,t,n,r,i,o){var a=n-e,s=r-t,u=((i-e)*a+(o-t)*s)/(a*a+s*s);u>1?u=1:u<0&&(u=0);var l=e+u*a-i,c=t+u*s-o;return Math.sqrt(l*l+c*c)}},{key:"getArrowData",value:function(e,t,n,i,o,a){var s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,h=void 0,p=a.width;if("from"===t?(l=this.from,c=this.to,f=.1,d=a.fromArrowScale,h=a.fromArrowType):"to"===t?(l=this.to,c=this.from,f=-.1,d=a.toArrowScale,h=a.toArrowType):(l=this.to,c=this.from,d=a.middleArrowScale,h=a.middleArrowType),l!=c)if("middle"!==t)if(!0===this.options.smooth.enabled){u=this.findBorderPosition(l,e,{via:n});var v=this.getPoint(Math.max(0,Math.min(1,u.t+f)),n);s=Math.atan2(u.y-v.y,u.x-v.x)}else s=Math.atan2(l.y-c.y,l.x-c.x),u=this.findBorderPosition(l,e);else s=Math.atan2(l.y-c.y,l.x-c.x),u=this.getPoint(.5,n);else{var m=this._getCircleData(e),g=(0,r.default)(m,3),y=g[0],b=g[1],_=g[2];"from"===t?s=-2*(u=this.findBorderPosition(this.from,e,{x:y,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===t?s=-2*(u=this.findBorderPosition(this.from,e,{x:y,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(u=this._pointOnCircle(y,b,_,.175),s=3.9269908169872414)}"middle"===t&&d<0&&(p*=-1);var w=15*d+3*p;return{point:u,core:{x:u.x-.9*w*Math.cos(s),y:u.y-.9*w*Math.sin(s)},angle:s,length:w,type:h}}},{key:"drawArrowHead",value:function(e,t,n,r,i){e.strokeStyle=this.getColor(e,t,n,r),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,u.draw(e,i),this.enableShadow(e,t),e.fill(),this.disableShadow(e,t)}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(4)),o=u(n(5)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"transform",value:function(e,t){e instanceof Array||(e=[e]);for(var n=t.point.x,r=t.point.y,i=t.angle,o=t.length,a=0;a<e.length;++a){var s=e[a],u=s.x*Math.cos(i)-s.y*Math.sin(i),l=s.x*Math.sin(i)+s.y*Math.cos(i);s.x=n+o*u,s.y=r+o*l}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),e}(),c=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,s.default)(t,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];l.transform(n,t),l.drawPath(e,n)}}]),t}(l),f=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};l.transform(n,t),e.circle(n.x,n.y,.4*t.length)}}]),e}(),d=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];l.transform(n,t),l.drawPath(e,n)}}]),e}(),h=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"draw",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case"circle":f.draw(e,t);break;case"bar":d.draw(e,t);break;case"arrow":default:c.draw(e,t)}}}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.physicsBody=n,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}return(0,i.default)(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e=void 0,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,r=n.length,i=this._formBarnesHutTree(t,n);this.barnesHutTree=i;for(var o=0;o<r;o++)(e=t[n[o]]).options.mass>0&&this._getForceContributions(i.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){var n,r,i;e.childrenCount>0&&(n=e.centerOfMass.x-t.x,r=e.centerOfMass.y-t.y,(i=Math.sqrt(n*n+r*r))*e.calcSize>this.thetaInversed?this._calculateForces(i,n,r,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(i,n,r,t,e))}},{key:"_calculateForces",value:function(e,t,n,r,i){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&r.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));var o=this.options.gravitationalConstant*i.mass*r.options.mass/Math.pow(e,3),a=t*o,s=n*o;this.physicsBody.forces[r.id].x+=a,this.physicsBody.forces[r.id].y+=s}},{key:"_formBarnesHutTree",value:function(e,t){for(var n=void 0,r=t.length,i=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,s=e[t[0]].y,u=1;u<r;u++){var l=e[t[u]],c=l.x,f=l.y;l.options.mass>0&&(c<i&&(i=c),c>a&&(a=c),f<o&&(o=f),f>s&&(s=f))}var d=Math.abs(a-i)-Math.abs(s-o);d>0?(o-=.5*d,s+=.5*d):(i+=.5*d,a-=.5*d);var h=Math.max(1e-5,Math.abs(a-i)),p=.5*h,v=.5*(i+a),m=.5*(o+s),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:m-p,maxY:m+p},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var y=0;y<r;y++)(n=e[t[y]]).options.mass>0&&this._placeInTree(g.root,n);return g}},{key:"_updateBranchMass",value:function(e,t){var n=e.centerOfMass,r=e.mass+t.options.mass,i=1/r;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=i,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=i,e.mass=r;var o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){1==n&&void 0!==n||this._updateBranchMass(e,t);var r,i=e.children.NW.range;r=i.maxX>t.x?i.maxY>t.y?"NW":"SW":i.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,r)}},{key:"_placeInRegion",value:function(e,t,n){var r=e.children[n];switch(r.childrenCount){case 0:r.children.data=t,r.childrenCount=1,this._updateBranchMass(r,t);break;case 1:r.children.data.x===t.x&&r.children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(r),this._placeInTree(r,t));break;case 4:this._placeInTree(r,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,a=.5*e.size;switch(t){case"NW":n=e.range.minX,r=e.range.minX+a,i=e.range.minY,o=e.range.minY+a;break;case"NE":n=e.range.minX+a,r=e.range.maxX,i=e.range.minY,o=e.range.minY+a;break;case"SW":n=e.range.minX,r=e.range.minX+a,i=e.range.minY+a,o=e.range.maxY;break;case"SE":n=e.range.minX+a,r=e.range.maxX,i=e.range.minY+a,o=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:r,minY:i,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return(0,i.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,n=void 0,r=void 0,i=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,s=0;s<o.length;s++)e=-(r=i[o[s]]).x,t=-r.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,a,r)}},{key:"_calculateForces",value:function(e,t,n,r,i){var o=0===e?0:this.options.centralGravity/e;r[i.id].x=t*o,r[i.id].y=n*o}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="string",i="boolean",o="number",a="array",s="object",u=["arrow","circle","bar"],l={configure:{enabled:{boolean:i},filter:{boolean:i,string:r,array:a,function:"function"},container:{dom:"dom"},showButton:{boolean:i},__type__:{object:s,boolean:i,string:r,array:a,function:"function"}},edges:{arrows:{to:{enabled:{boolean:i},scaleFactor:{number:o},type:{string:u},__type__:{object:s,boolean:i}},middle:{enabled:{boolean:i},scaleFactor:{number:o},type:{string:u},__type__:{object:s,boolean:i}},from:{enabled:{boolean:i},scaleFactor:{number:o},type:{string:u},__type__:{object:s,boolean:i}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:i},chosen:{label:{boolean:i,function:"function"},edge:{boolean:i,function:"function"},__type__:{object:s,boolean:i}},color:{color:{string:r},highlight:{string:r},hover:{string:r},inherit:{string:["from","to","both"],boolean:i},opacity:{number:o},__type__:{object:s,string:r}},dashes:{boolean:i,array:a},font:{color:{string:r},size:{number:o},face:{string:r},background:{string:r},strokeWidth:{number:o},strokeColor:{string:r},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:o},multi:{boolean:i,string:r},bold:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},boldital:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},ital:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},mono:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},__type__:{object:s,string:r}},hidden:{boolean:i},hoverWidth:{function:"function",number:o},label:{string:r,undefined:"undefined"},labelHighlightBold:{boolean:i},length:{number:o,undefined:"undefined"},physics:{boolean:i},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:i},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:i}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:o},selfReferenceSize:{number:o},shadow:{enabled:{boolean:i},color:{string:r},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:i}},smooth:{enabled:{boolean:i},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:o},forceDirection:{string:["horizontal","vertical","none"],boolean:i},__type__:{object:s,boolean:i}},title:{string:r,undefined:"undefined"},width:{number:o},widthConstraint:{maximum:{number:o},__type__:{object:s,boolean:i,number:o}},value:{number:o,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:i},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:i},dragView:{boolean:i},hideEdgesOnDrag:{boolean:i},hideNodesOnDrag:{boolean:i},hover:{boolean:i},keyboard:{enabled:{boolean:i},speed:{x:{number:o},y:{number:o},zoom:{number:o},__type__:{object:s}},bindToWindow:{boolean:i},__type__:{object:s,boolean:i}},multiselect:{boolean:i},navigationButtons:{boolean:i},selectable:{boolean:i},selectConnectedEdges:{boolean:i},hoverConnectedEdges:{boolean:i},tooltipDelay:{number:o},zoomView:{boolean:i},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:o},improvedLayout:{boolean:i},hierarchical:{enabled:{boolean:i},levelSeparation:{number:o},nodeSpacing:{number:o},treeSpacing:{number:o},blockShifting:{boolean:i},edgeMinimization:{boolean:i},parentCentralization:{boolean:i},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:i}},__type__:{object:s}},manipulation:{enabled:{boolean:i},initiallyActive:{boolean:i},addNode:{boolean:i,function:"function"},addEdge:{boolean:i,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:i,function:"function"}},deleteNode:{boolean:i,function:"function"},deleteEdge:{boolean:i,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:i}},nodes:{borderWidth:{number:o},borderWidthSelected:{number:o,undefined:"undefined"},brokenImage:{string:r,undefined:"undefined"},chosen:{label:{boolean:i,function:"function"},node:{boolean:i,function:"function"},__type__:{object:s,boolean:i}},color:{border:{string:r},background:{string:r},highlight:{border:{string:r},background:{string:r},__type__:{object:s,string:r}},hover:{border:{string:r},background:{string:r},__type__:{object:s,string:r}},__type__:{object:s,string:r}},fixed:{x:{boolean:i},y:{boolean:i},__type__:{object:s,boolean:i}},font:{align:{string:r},color:{string:r},size:{number:o},face:{string:r},background:{string:r},strokeWidth:{number:o},strokeColor:{string:r},vadjust:{number:o},multi:{boolean:i,string:r},bold:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},boldital:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},ital:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},mono:{color:{string:r},size:{number:o},face:{string:r},mod:{string:r},vadjust:{number:o},__type__:{object:s,string:r}},__type__:{object:s,string:r}},group:{string:r,number:o,undefined:"undefined"},heightConstraint:{minimum:{number:o},valign:{string:r},__type__:{object:s,boolean:i,number:o}},hidden:{boolean:i},icon:{face:{string:r},code:{string:r},size:{number:o},color:{string:r},__type__:{object:s}},id:{string:r,number:o},image:{selected:{string:r,undefined:"undefined"},unselected:{string:r,undefined:"undefined"},__type__:{object:s,string:r}},label:{string:r,undefined:"undefined"},labelHighlightBold:{boolean:i},level:{number:o,undefined:"undefined"},margin:{top:{number:o},right:{number:o},bottom:{number:o},left:{number:o},__type__:{object:s,number:o}},mass:{number:o},physics:{boolean:i},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:i},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:i}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:i},color:{string:r},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:i}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:i,array:a},borderRadius:{number:o},interpolation:{boolean:i},useImageSize:{boolean:i},useBorderWithImage:{boolean:i},__type__:{object:s}},size:{number:o},title:{string:r,dom:"dom",undefined:"undefined"},value:{number:o,undefined:"undefined"},widthConstraint:{minimum:{number:o},maximum:{number:o},__type__:{object:s,boolean:i,number:o}},x:{number:o},y:{number:o},__type__:{object:s}},physics:{enabled:{boolean:i},barnesHut:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},repulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},maxVelocity:{number:o},minVelocity:{number:o},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:i},iterations:{number:o},updateInterval:{number:o},onlyDynamicEdges:{boolean:i},fit:{boolean:i},__type__:{object:s,boolean:i}},timestep:{number:o},adaptiveTimestep:{boolean:i},__type__:{object:s,boolean:i}},autoResize:{boolean:i},clickToUse:{boolean:i},locale:{string:r},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:r},width:{string:r},__type__:{object:s}};l.groups.__any__=l.nodes,l.manipulation.controlNodeStyle=l.nodes,t.allOptions=l,t.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(e,t,n){var r=n(2);r.extend(t,n(159)),r.extend(t,n(177)),r.extend(t,n(181))},function(e,t,n){n(49),n(60),e.exports=n(136)},function(e,t,n){var r=n(126),i=n(127),o=n(31),a=n(25);e.exports=n(79)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(54),i=n(39),o=n(59),a={};n(26)(a,n(13)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(20),i=n(27),o=n(33);e.exports=n(21)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(25),i=n(132),o=n(133);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(55),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(55),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(18).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(55),i=n(51);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(27),i=n(137);e.exports=n(7).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(86),i=n(13)("iterator"),o=n(31);e.exports=n(7).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){n(139);var r=n(7).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(17);r(r.S,"Object",{create:n(54)})},function(e,t,n){n(141),e.exports=n(7).Object.keys},function(e,t,n){var r=n(41),i=n(33);n(87)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(143),__esModule:!0}},function(e,t,n){n(60),n(49),e.exports=n(61).f("iterator")},function(e,t,n){e.exports={default:n(145),__esModule:!0}},function(e,t,n){n(146),n(151),n(152),n(153),e.exports=n(7).Symbol},function(e,t,n){var r=n(18),i=n(22),o=n(21),a=n(17),s=n(83),u=n(147).KEY,l=n(28),c=n(57),f=n(59),d=n(40),h=n(13),p=n(61),v=n(62),m=n(148),g=n(149),y=n(27),b=n(25),_=n(53),w=n(39),x=n(54),O=n(150),k=n(89),E=n(20),S=n(33),T=k.f,C=E.f,D=O.f,A=r.Symbol,j=r.JSON,N=j&&j.stringify,M=h("_hidden"),I=h("toPrimitive"),P={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),R=c("op-symbols"),B=Object.prototype,z="function"==typeof A,U=r.QObject,H=!U||!U.prototype||!U.prototype.findChild,V=o&&l((function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(B,t);r&&delete B[t],C(e,t,n),r&&e!==B&&C(B,t,r)}:C,W=function(e){var t=F[e]=x(A.prototype);return t._k=e,t},q=z&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},G=function e(t,n,r){return t===B&&e(R,n,r),y(t),n=_(n,!0),y(r),i(F,n)?(r.enumerable?(i(t,M)&&t[M][n]&&(t[M][n]=!1),r=x(r,{enumerable:w(0,!1)})):(i(t,M)||C(t,M,w(1,{})),t[M][n]=!0),V(t,n,r)):C(t,n,r)},Y=function(e,t){y(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},Q=function(e){var t=P.call(this,e=_(e,!0));return!(this===B&&i(F,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,M)&&this[M][e])||t)},K=function(e,t){if(e=b(e),t=_(t,!0),e!==B||!i(F,t)||i(R,t)){var n=T(e,t);return!n||!i(F,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=D(b(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==M||t==u||r.push(t);return r},J=function(e){for(var t,n=e===B,r=D(n?R:b(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(B,t)||o.push(F[t]);return o};z||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function t(n){this===B&&t.call(R,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),V(this,e,w(1,n))};return o&&H&&V(B,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),k.f=K,E.f=G,n(88).f=O.f=X,n(42).f=Q,n(63).f=J,o&&!n(52)&&s(B,"propertyIsEnumerable",Q,!0),p.f=function(e){return W(h(e))}),a(a.G+a.W+a.F*!z,{Symbol:A});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;$.length>Z;)h($[Z++]);for(var ee=S(h.store),te=0;ee.length>te;)v(ee[te++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=A(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?x(e):Y(x(e),t)},defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:J}),j&&a(a.S+a.F*(!z||l((function(){var e=A();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,N.apply(j,r)}}}),A.prototype[I]||n(26)(A.prototype,I,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(40)("meta"),i=n(32),o=n(22),a=n(20).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(28)((function(){return u(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(33),i=n(63),o=n(42);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(50);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(25),i=n(88).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t){},function(e,t,n){n(62)("asyncIterator")},function(e,t,n){n(62)("observable")},function(e,t,n){(function(e){e.exports=function(){var t,n;function r(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return kt(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=h(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=d(NaN);return null!=e?f(h(t),e):h(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var m=r.momentProperties=[];function g(e,t){var n,r,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=h(t)),a(t._locale)||(e._locale=t._locale),m.length>0)for(n=0;n<m.length;n++)a(i=t[r=m[n]])||(e[r]=i);return e}var y=!1;function b(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function O(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&a++;return a+o}function k(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,T={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(k(t),T[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=f({},e);for(n in t)c(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function j(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var N={};function M(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function I(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)c(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var L={};function F(e,t){L[e]=t}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},H={};function V(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(H[e]=i),t&&(H[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(H[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e,t){return e.isValid()?(t=G(t,e.localeData()),U[t]=U[t]||function(e){var t,n,r=e.match(B);for(t=0,n=r.length;t<n;t++)H[r[t]]?r[t]=H[r[t]]:r[t]=W(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=D(r[i])?r[i].call(t,e):r[i];return o}}(t),U[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(z.lastIndex=0;n>=0&&z.test(e);)e=e.replace(z,r),z.lastIndex=0,n-=1;return e}var Y=/\d/,Q=/\d\d/,K=/\d{3}/,X=/\d{4}/,J=/[+-]?\d{6}/,$=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,oe=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,le={};function ce(e,t,n){le[e]=D(t)?t:function(e,r){return e&&n?n:t}}function fe(e,t){return c(le,e)?le[e](t._strict,t._locale):new RegExp(function(e){return de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)he[e[n]]=r}function ve(e,t){pe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function me(e,t,n){null!=t&&c(he,e)&&he[e](t,n._a,n,e)}function ge(e){return ye(e)?366:365}function ye(e){return e%4==0&&e%100!=0||e%400==0}V("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),M("year","y"),F("year",1),ce("Y",oe),ce("YY",$,Q),ce("YYYY",ne,X),ce("YYYYY",re,J),ce("YYYYYY",re,J),pe(["YYYYY","YYYYYY"],0),pe("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):x(e)})),pe("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var be,_e=we("FullYear",!0);function we(e,t){return function(n){return null!=n?(Oe(this,e,n),r.updateOffset(this,t),this):xe(this,e)}}function xe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Oe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ye(e.year())?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?ye(e)?29:28:31-n%7%2}be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),M("month","M"),F("month",8),ce("M",$),ce("MM",$,Q),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[1]=x(e)-1})),pe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:h(n).invalidMonth=e}));var Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Te="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ce(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=be.call(this._shortMonthsParse,a))?i:null:-1!==(i=be.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=be.call(this._shortMonthsParse,a))||-1!==(i=be.call(this._longMonthsParse,a))?i:null:-1!==(i=be.call(this._longMonthsParse,a))||-1!==(i=be.call(this._shortMonthsParse,a))?i:null}function De(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ae(e){return null!=e?(De(this,e),r.updateOffset(this,!0),this):xe(this,"Month")}var je=ue,Ne=ue;function Me(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=de(r[t]),i[t]=de(i[t]);for(t=0;t<24;t++)o[t]=de(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ie(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Pe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Le(e,t,n){var r=7+t-n;return-(7+Pe(e,0,r).getUTCDay()-t)%7+r-1}function Fe(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+Le(e,r,i);return s<=0?a=ge(o=e-1)+s:s>ge(e)?(o=e+1,a=s-ge(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Re(e,t,n){var r,i,o=Le(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Be(i=e.year()-1,t,n):a>Be(e.year(),t,n)?(r=a-Be(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Be(e,t,n){var r=Le(e,t,n),i=Le(e+1,t,n);return(ge(e)-r+i)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),F("week",5),F("isoWeek",5),ce("w",$),ce("ww",$,Q),ce("W",$),ce("WW",$,Q),ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=x(e)})),V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ce("d",$),ce("e",$),ce("E",$),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,n,r){t[r]=x(e)}));var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),He="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ve(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=be.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=be.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=be.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=be.call(this._weekdaysParse,a))||-1!==(i=be.call(this._shortWeekdaysParse,a))||-1!==(i=be.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=be.call(this._shortWeekdaysParse,a))||-1!==(i=be.call(this._weekdaysParse,a))||-1!==(i=be.call(this._minWeekdaysParse,a))?i:null:-1!==(i=be.call(this._minWeekdaysParse,a))||-1!==(i=be.call(this._weekdaysParse,a))||-1!==(i=be.call(this._shortWeekdaysParse,a))?i:null}var We=ue,qe=ue,Ge=ue;function Ye(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=de(s[t]),u[t]=de(u[t]),l[t]=de(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Ke(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Xe(e,t){return t._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Qe),V("k",["kk",2],0,(function(){return this.hours()||24})),V("hmm",0,0,(function(){return""+Qe.apply(this)+R(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Qe.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),M("hour","h"),F("hour",13),ce("a",Xe),ce("A",Xe),ce("H",$),ce("h",$),ce("k",$),ce("HH",$,Q),ce("hh",$,Q),ce("kk",$,Q),ce("hmm",Z),ce("hmmss",ee),ce("Hmm",Z),ce("Hmmss",ee),pe(["H","HH"],3),pe(["k","kk"],(function(e,t,n){var r=x(e);t[3]=24===r?0:r})),pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),pe(["h","hh"],(function(e,t,n){t[3]=x(e),h(n).bigHour=!0})),pe("hmm",(function(e,t,n){var r=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r)),h(n).bigHour=!0})),pe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r,2)),t[5]=x(e.substr(i)),h(n).bigHour=!0})),pe("Hmm",(function(e,t,n){var r=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r))})),pe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r,2)),t[5]=x(e.substr(i))}));var Je,$e=we("Hours",!0),Ze={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:Te,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:He,weekdaysShort:Ue,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e){return e?e.toLowerCase().replace("_","-"):e}function rt(t){var n=null;if(!et[t]&&void 0!==e&&e&&e.exports)try{n=Je._abbr,function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),it(n)}catch(e){}return et[t]}function it(e,t){var n;return e&&(n=a(t)?at(e):ot(e,t))&&(Je=n),Je._abbr}function ot(e,t){if(null!==t){var n=Ze;if(t.abbr=e,null!=et[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=et[e]._config;else if(null!=t.parentLocale){if(null==et[t.parentLocale])return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;n=et[t.parentLocale]._config}return et[e]=new j(A(n,t)),tt[e]&&tt[e].forEach((function(e){ot(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!i(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=nt(e[o]).split("-")).length,n=(n=nt(e[o+1]))?n.split("-"):null;t>0;){if(r=rt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&O(i,n,!0)>=t-1)break;t--}o++}return null}(e)}function st(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}function ut(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ct(e){var t,n,r,i,o=[];if(!e._d){for(r=lt(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=ut(t.GG,e._a[0],Re(Et(),1,4).year),r=ut(t.W,1),((i=ut(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=Re(Et(),o,a);n=ut(t.gg,e._a[0],l.year),r=ut(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>Be(n,o,a)?h(e)._overflowWeeks=!0:null!=u?h(e)._overflowWeekday=!0:(s=Fe(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(i=ut(e._a[0],r[0]),(e._dayOfYear>ge(i)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Pe(i,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Pe:Ie).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(h(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function gt(e){var t,n,r,i,o,a,s=e._i,u=ft.exec(s)||dt.exec(s);if(u){for(h(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],r=!1!==pt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[3])){o=(u[2]||" ")+vt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!ht.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),xt(e)}else e._isValid=!1}var yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var _t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t=yt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e._i));if(t){var n=function(e,t,n,r,i,o){var a=[bt(e),Te.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Ue.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return _t[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=Pe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function xt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],h(e).empty=!0;var t,n,i,o,a,s=""+e._i,u=s.length,l=0;for(i=G(e._f,e._locale).match(B)||[],t=0;t<i.length;t++)o=i[t],(n=(s.match(fe(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),H[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),me(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=u-l,s.length>0&&h(e).unusedInput.push(s),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ct(e),st(e)}else wt(e);else gt(e)}function Ot(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new b(st(t)):(u(t)?e._d=t:i(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],xt(t),p(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}(e):n?xt(e):function(e){var t=e._i;a(t)?e._d=new Date(r.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),ct(e)):o(t)?function(e){if(!e._d){var t=P(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function kt(e,t,n,r,a){var s={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=e,s._f=t,s._strict=r,function(e){var t=new b(st(Ot(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Et(e,t,n,r){return kt(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var St=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),Tt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Ct(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function At(e){var t=P(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===be.call(Dt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Dt.length;++r)if(e[Dt[r]]){if(n)return!1;parseFloat(e[Dt[r]])!==x(e[Dt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function jt(e){return e instanceof At}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Mt(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}Mt("Z",":"),Mt("ZZ",""),ce("Z",se),ce("ZZ",se),pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Pt(se,e)}));var It=/([\+\-]|\d\d)/gi;function Pt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(It)||["-",0,0],i=60*r[1]+x(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Lt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||u(e)?e.valueOf():Et(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Et(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Rt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Bt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,r,i,o=e,a=null;return jt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Bt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:x(a[2])*n,h:x(a[3])*n,m:x(a[4])*n,s:x(a[5])*n,ms:x(Nt(1e3*a[6]))*n}):(a=zt.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:Ht(a[2],n),M:Ht(a[3],n),w:Ht(a[4],n),d:Ht(a[5],n),h:Ht(a[6],n),m:Ht(a[7],n),s:Ht(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Lt(t,e),e.isBefore(t)?n=Vt(e,t):((n=Vt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Et(o.from),Et(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new At(o),jt(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function Ht(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),qt(this,Ut(n="string"==typeof n?+n:n,r),e),this}}function qt(e,t,n,i){var o=t._milliseconds,a=Nt(t._days),s=Nt(t._months);e.isValid()&&(i=null==i||i,s&&De(e,xe(e,"Month")+s*n),a&&Oe(e,"Date",xe(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Ut.fn=At.prototype,Ut.invalid=function(){return Ut(NaN)};var Gt=Wt(1,"add"),Yt=Wt(-1,"subtract");function Qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Kt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xt=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Jt(){return this._locale}function $t(e,t){V(0,[e,e.length],0,t)}function Zt(e,t,n,r,i){var o;return null==e?Re(this,r,i).year:(t>(o=Be(e,r,i))&&(t=o),en.call(this,e,t,n,r,i))}function en(e,t,n,r,i){var o=Fe(e,t,n,r,i),a=Pe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),$t("gggg","weekYear"),$t("ggggg","weekYear"),$t("GGGG","isoWeekYear"),$t("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ce("G",oe),ce("g",oe),ce("GG",$,Q),ce("gg",$,Q),ce("GGGG",ne,X),ce("gggg",ne,X),ce("GGGGG",re,J),ce("ggggg",re,J),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=x(e)})),ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),M("quarter","Q"),F("quarter",7),ce("Q",Y),pe("Q",(function(e,t){t[1]=3*(x(e)-1)})),V("D",["DD",2],"Do","date"),M("date","D"),F("date",9),ce("D",$),ce("DD",$,Q),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],2),pe("Do",(function(e,t){t[2]=x(e.match($)[0])}));var tn=we("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),F("dayOfYear",4),ce("DDD",te),ce("DDDD",K),pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=x(e)})),V("m",["mm",2],0,"minute"),M("minute","m"),F("minute",14),ce("m",$),ce("mm",$,Q),pe(["m","mm"],4);var nn=we("Minutes",!1);V("s",["ss",2],0,"second"),M("second","s"),F("second",15),ce("s",$),ce("ss",$,Q),pe(["s","ss"],5);var rn,on=we("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),M("millisecond","ms"),F("millisecond",16),ce("S",te,Y),ce("SS",te,Q),ce("SSS",te,K),rn="SSSS";rn.length<=9;rn+="S")ce(rn,ie);function an(e,t){t[6]=x(1e3*("0."+e))}for(rn="S";rn.length<=9;rn+="S")pe(rn,an);var sn=we("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var un=b.prototype;function ln(e){return e}un.add=Gt,un.calendar=function(e,t){var n=e||Et(),i=Lt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(D(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Et(n)))},un.clone=function(){return new b(this)},un.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Lt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=Qt(this,r)/12;break;case"month":o=Qt(this,r);break;case"quarter":o=Qt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:w(o)},un.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},un.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)},un.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Et(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.fromNow=function(e){return this.from(Et(),e)},un.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Et(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.toNow=function(e){return this.to(Et(),e)},un.get=function(e){return D(this[e=I(e)])?this[e]():this},un.invalidAt=function(){return h(this).overflow},un.isAfter=function(e,t){var n=_(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(a(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},un.isBefore=function(e,t){var n=_(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(a(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},un.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},un.isSame=function(e,t){var n,r=_(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},un.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},un.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},un.isValid=function(){return p(this)},un.lang=Xt,un.locale=Kt,un.localeData=Jt,un.max=Tt,un.min=St,un.parsingFlags=function(){return f({},h(this))},un.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=P(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(D(this[e=I(e)]))return this[e](t);return this},un.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},un.subtract=Yt,un.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},un.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},un.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.year=_e,un.isLeapYear=function(){return ye(this.year())},un.weekYear=function(e){return Zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(e){return Zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},un.month=Ae,un.daysInMonth=function(){return ke(this.year(),this.month())},un.week=un.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},un.isoWeek=un.isoWeeks=function(e){var t=Re(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},un.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},un.isoWeeksInYear=function(){return Be(this.year(),1,4)},un.date=tn,un.day=un.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},un.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},un.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},un.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},un.hour=un.hours=$e,un.minute=un.minutes=nn,un.second=un.seconds=on,un.millisecond=un.milliseconds=sn,un.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Pt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?qt(this,Ut(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ft(this)},un.utc=function(e){return this.utcOffset(0,e)},un.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Pt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=Rt,un.isUTC=Rt,un.zoneAbbr=function(){return this._isUTC?"UTC":""},un.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},un.dates=E("dates accessor is deprecated. Use date instead.",tn),un.months=E("months accessor is deprecated. Use month instead",Ae),un.years=E("years accessor is deprecated. Use year instead",_e),un.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),un.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=Ot(e))._a){var t=e._isUTC?d(e._a):Et(e._a);this._isDSTShifted=this.isValid()&&O(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var cn=j.prototype;function fn(e,t,n,r){var i=at(),o=d().set(r,t);return i[n](o,e)}function dn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return fn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fn(e,r,n,"month");return i}function hn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i,o=at(),a=e?o._week.dow:0;if(null!=n)return fn(t,(n+a)%7,r,"day");var u=[];for(i=0;i<7;i++)u[i]=fn(t,(i+a)%7,r,"day");return u}cn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r},cn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},cn.invalidDate=function(){return this._invalidDate},cn.ordinal=function(e){return this._ordinal.replace("%d",e)},cn.preparse=ln,cn.postformat=ln,cn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)},cn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},cn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},cn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return Ce.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},cn.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},cn.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},cn.week=function(e){return Re(e,this._week.dow,this._week.doy).week},cn.firstDayOfYear=function(){return this._week.doy},cn.firstDayOfWeek=function(){return this._week.dow},cn.weekdays=function(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},cn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},cn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},cn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ve.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},cn.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=We),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},cn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},cn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},it("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",it),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",at);var pn=Math.abs;function vn(e,t,n,r){var i=Ut(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function mn(e){return e<0?Math.floor(e):Math.ceil(e)}function gn(e){return 4800*e/146097}function yn(e){return 146097*e/4800}function bn(e){return function(){return this.as(e)}}var _n=bn("ms"),wn=bn("s"),xn=bn("m"),On=bn("h"),kn=bn("d"),En=bn("w"),Sn=bn("M"),Tn=bn("y");function Cn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Dn=Cn("milliseconds"),An=Cn("seconds"),jn=Cn("minutes"),Nn=Cn("hours"),Mn=Cn("days"),In=Cn("months"),Pn=Cn("years"),Ln=Math.round,Fn={ss:44,s:45,m:45,h:22,d:26,M:11};function Rn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Bn=Math.abs;function zn(e){return(e>0)-(e<0)||+e}function Un(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Bn(this._milliseconds)/1e3,r=Bn(this._days),i=Bn(this._months);e=w(n/60),t=w(e/60),n%=60,e%=60;var o=w(i/12),a=i%=12,s=r,u=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",h=zn(this._months)!==zn(f)?"-":"",p=zn(this._days)!==zn(f)?"-":"",v=zn(this._milliseconds)!==zn(f)?"-":"";return d+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(u||l||c?"T":"")+(u?v+u+"H":"")+(l?v+l+"M":"")+(c?v+c+"S":"")}var Hn=At.prototype;return Hn.isValid=function(){return this._isValid},Hn.abs=function(){var e=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),e.milliseconds=pn(e.milliseconds),e.seconds=pn(e.seconds),e.minutes=pn(e.minutes),e.hours=pn(e.hours),e.months=pn(e.months),e.years=pn(e.years),this},Hn.add=function(e,t){return vn(this,e,t,1)},Hn.subtract=function(e,t){return vn(this,e,t,-1)},Hn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+r/864e5,n=this._months+gn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(yn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Hn.asMilliseconds=_n,Hn.asSeconds=wn,Hn.asMinutes=xn,Hn.asHours=On,Hn.asDays=kn,Hn.asWeeks=En,Hn.asMonths=Sn,Hn.asYears=Tn,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Hn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*mn(yn(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=w(o/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),s+=i=w(gn(a)),a-=mn(yn(i)),r=w(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Hn.clone=function(){return Ut(this)},Hn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Hn.milliseconds=Dn,Hn.seconds=An,Hn.minutes=jn,Hn.hours=Nn,Hn.days=Mn,Hn.weeks=function(){return w(this.days()/7)},Hn.months=In,Hn.years=Pn,Hn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Ut(e).abs(),i=Ln(r.as("s")),o=Ln(r.as("m")),a=Ln(r.as("h")),s=Ln(r.as("d")),u=Ln(r.as("M")),l=Ln(r.as("y")),c=i<=Fn.ss&&["s",i]||i<Fn.s&&["ss",i]||o<=1&&["m"]||o<Fn.m&&["mm",o]||a<=1&&["h"]||a<Fn.h&&["hh",a]||s<=1&&["d"]||s<Fn.d&&["dd",s]||u<=1&&["M"]||u<Fn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Rn.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Hn.toISOString=Un,Hn.toString=Un,Hn.toJSON=Un,Hn.locale=Kt,Hn.localeData=Jt,Hn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),Hn.lang=Xt,V("X",0,0,"unix"),V("x",0,0,"valueOf"),ce("x",oe),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),pe("x",(function(e,t,n){n._d=new Date(x(e))})),r.version="2.19.1",function(e){t=e}(Et),r.fn=un,r.min=function(){return Ct("isBefore",[].slice.call(arguments,0))},r.max=function(){return Ct("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=d,r.unix=function(e){return Et(1e3*e)},r.months=function(e,t){return dn(e,t,"months")},r.isDate=u,r.locale=it,r.invalid=v,r.duration=Ut,r.isMoment=_,r.weekdays=function(e,t,n){return hn(e,t,n,"weekdays")},r.parseZone=function(){return Et.apply(null,arguments).parseZone()},r.localeData=at,r.isDuration=jt,r.monthsShort=function(e,t){return dn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return hn(e,t,n,"weekdaysMin")},r.defineLocale=ot,r.updateLocale=function(e,t){if(null!=t){var n,r=Ze;null!=et[e]&&(r=et[e]._config),(n=new j(t=A(r,t))).parentLocale=et[e],et[e]=n,it(e)}else null!=et[e]&&(null!=et[e].parentLocale?et[e]=et[e].parentLocale:null!=et[e]&&delete et[e]);return et[e]},r.locales=function(){return S(et)},r.weekdaysShort=function(e,t,n){return hn(e,t,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(e){return void 0===e?Ln:"function"==typeof e&&(Ln=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Fn[e]&&(void 0===t?Fn[e]:(Fn[e]=t,"s"===e&&(Fn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=un,r}()}).call(t,n(155)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=156},function(e,t,n){(function(t){var n,r="undefined"!=typeof window?window:void 0!==t?t:null;if(r&&r.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);n=function(){return crypto.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}for(var a=[],s={},u=0;u<256;u++)a[u]=(u+256).toString(16).substr(1),s[a[u]]=u;function l(e,t){var n=t||0,r=a;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var c=n(),f=[1|c[0],c[1],c[2],c[3],c[4],c[5]],d=16383&(c[6]<<8|c[7]),h=0,p=0;function v(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||l(o)}var m=v;m.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:d,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:p+1,u=a-h+(s-p)/1e4;if(u<0&&void 0===e.clockseq&&(o=o+1&16383),(u<0||a>h)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=a,p=s,d=o;var c=(1e4*(268435455&(a+=122192928e5))+s)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=255&c;var v=a/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var m=e.node||f,g=0;g<6;g++)i[r+g]=m[g];return t||l(i)},m.v4=v,m.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=s[e])}));i<16;)t[r+i++]=0;return t},m.unparse=l,e.exports=m}).call(t,n(158))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){t.util=n(2),t.DOMutil=n(14),t.DataSet=n(11),t.DataView=n(12),t.Queue=n(43),t.Graph3d=n(161),t.graph3d={Camera:n(95),Filter:n(96),Point2d:n(91),Point3d:n(34),Slider:n(92),StepNumber:n(93)},t.moment=n(9),t.Hammer=n(10),t.keycharm=n(35)},function(e,t,n){var r=n(7),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){var r,i=(r=n(90))&&r.__esModule?r:{default:r},o=n(44),a=n(2),s=n(34),u=n(91),l=n(92),c=n(93),f=n(94),d=n(15).default,h=n(15).printStyle,p=n(172).allOptions,v=n(173);g.STYLE=f.STYLE;var m=void 0;function g(e,t,n){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=e,this.dataGroup=new v,this.dataPoints=null,this.create(),f.setDefaults(g.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(t)}function y(e){return"clientX"in e?e.clientX:e.targetTouches[0]&&e.targetTouches[0].clientX||0}function b(e){return"clientY"in e?e.clientY:e.targetTouches[0]&&e.targetTouches[0].clientY||0}g.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(e){return e},yValueLabel:function(e){return e},zValueLabel:function(e){return e},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:m,animationInterval:1e3,animationPreload:!1,animationAutoStart:m,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:g.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:m,backgroundColor:m,xBarWidth:m,yBarWidth:m,valueMin:m,valueMax:m,xMin:m,xMax:m,xStep:m,yMin:m,yMax:m,yStep:m,zMin:m,zMax:m,zStep:m},o(g.prototype),g.prototype._setScale=function(){this.scale=new s(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var e=this.xRange.center()*this.scale.x,t=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(e,t,n)},g.prototype._convert3Dto2D=function(e){var t=this._convertPointToTranslation(e);return this._convertTranslationToScreen(t)},g.prototype._convertPointToTranslation=function(e){var t=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),r=e.x*this.scale.x,i=e.y*this.scale.y,o=e.z*this.scale.z,a=t.x,u=t.y,l=t.z,c=Math.sin(n.x),f=Math.cos(n.x),d=Math.sin(n.y),h=Math.cos(n.y),p=Math.sin(n.z),v=Math.cos(n.z);return new s(h*(p*(i-u)+v*(r-a))-d*(o-l),c*(h*(o-l)+d*(p*(i-u)+v*(r-a)))+f*(v*(i-u)-p*(r-a)),f*(h*(o-l)+d*(p*(i-u)+v*(r-a)))-c*(v*(i-u)-p*(r-a)))},g.prototype._convertTranslationToScreen=function(e){var t,n,r=this.eye.x,i=this.eye.y,o=this.eye.z,a=e.x,s=e.y,l=e.z;return this.showPerspective?(t=o/l*(a-r),n=o/l*(s-i)):(t=a*(-o/this.camera.getArmLength()),n=s*(-o/this.camera.getArmLength())),new u(this.currentXCenter+t*this.frame.canvas.clientWidth,this.currentYCenter-n*this.frame.canvas.clientWidth)},g.prototype._calcTranslations=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);var r=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?r.length():-r.z}e.sort((function(e,t){return t.dist-e.dist}))},g.prototype._initializeRanges=function(){var e=this.dataGroup;this.xRange=e.xRange,this.yRange=e.yRange,this.zRange=e.zRange,this.valueRange=e.valueRange,this.xStep=e.xStep,this.yStep=e.yStep,this.zStep=e.zStep,this.xBarWidth=e.xBarWidth,this.yBarWidth=e.yBarWidth,this.colX=e.colX,this.colY=e.colY,this.colZ=e.colZ,this.colValue=e.colValue,this._setScale()},g.prototype.getDataPoints=function(e){for(var t=[],n=0;n<e.length;n++){var r=new s;r.x=e[n][this.colX]||0,r.y=e[n][this.colY]||0,r.z=e[n][this.colZ]||0,r.data=e[n],void 0!==this.colValue&&(r.value=e[n][this.colValue]||0);var i={};i.point=r,i.bottom=new s(r.x,r.y,this.zRange.min),i.trans=void 0,i.screen=void 0,t.push(i)}return t},g.prototype._getDataPoints=function(e){var t,n,r,i,o=[];if(this.style===g.STYLE.GRID||this.style===g.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,e),s=this.dataGroup.getDistinctValues(this.colY,e);o=this.getDataPoints(e);var u=[];for(r=0;r<o.length;r++){i=o[r];var l=a.indexOf(i.point.x),c=s.indexOf(i.point.y);void 0===u[l]&&(u[l]=[]),u[l][c]=i}for(t=0;t<u.length;t++)for(n=0;n<u[t].length;n++)u[t][n]&&(u[t][n].pointRight=t<u.length-1?u[t+1][n]:void 0,u[t][n].pointTop=n<u[t].length-1?u[t][n+1]:void 0,u[t][n].pointCross=t<u.length-1&&n<u[t].length-1?u[t+1][n+1]:void 0)}else if(this._checkValueField(e),o=this.getDataPoints(e),this.style===g.STYLE.LINE)for(r=0;r<o.length;r++)r>0&&(o[r-1].pointNext=o[r]);return o},g.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var t=this;a.addEventListener(this.frame.canvas,"mousedown",(function(e){t._onMouseDown(e)})),a.addEventListener(this.frame.canvas,"touchstart",(function(e){t._onTouchStart(e)})),a.addEventListener(this.frame.canvas,"mousewheel",(function(e){t._onWheel(e)})),a.addEventListener(this.frame.canvas,"mousemove",(function(e){t._onTooltip(e)})),a.addEventListener(this.frame.canvas,"click",(function(e){t._onClick(e)})),this.containerElement.appendChild(this.frame)},g.prototype._setSize=function(e,t){this.frame.style.width=e,this.frame.style.height=t,this._resizeCanvas()},g.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},g.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},g.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},g.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},g.prototype.getCameraPosition=function(){var e=this.camera.getArmRotation();return e.distance=this.camera.getArmLength(),e},g.prototype._readData=function(e){this.dataPoints=this.dataGroup.initializeData(this,e,this.style),this._initializeRanges(),this._redrawFilter()},g.prototype.setData=function(e){null!=e&&(this._readData(e),this.redraw(),this.animationStart())},g.prototype.setOptions=function(e){void 0!==e&&(!0===d.validate(e,p)&&console.log("%cErrors have been found in the supplied options object.",h),this.animationStop(),f.setOptions(e,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},g.prototype.setPointDrawingMethod=function(){var e=void 0;switch(this.style){case g.STYLE.BAR:e=g.prototype._redrawBarGraphPoint;break;case g.STYLE.BARCOLOR:e=g.prototype._redrawBarColorGraphPoint;break;case g.STYLE.BARSIZE:e=g.prototype._redrawBarSizeGraphPoint;break;case g.STYLE.DOT:e=g.prototype._redrawDotGraphPoint;break;case g.STYLE.DOTLINE:e=g.prototype._redrawDotLineGraphPoint;break;case g.STYLE.DOTCOLOR:e=g.prototype._redrawDotColorGraphPoint;break;case g.STYLE.DOTSIZE:e=g.prototype._redrawDotSizeGraphPoint;break;case g.STYLE.SURFACE:e=g.prototype._redrawSurfaceGraphPoint;break;case g.STYLE.GRID:e=g.prototype._redrawGridGraphPoint;break;case g.STYLE.LINE:e=g.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=e},g.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},g.prototype._getContext=function(){var e=this.frame.canvas.getContext("2d");return e.lineJoin="round",e.lineCap="round",e},g.prototype._redrawClear=function(){var e=this.frame.canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},g.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},g.prototype._getLegendWidth=function(){return this.style===g.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===g.STYLE.BARSIZE?this.xBarWidth:20},g.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==g.STYLE.LINE&&this.style!==g.STYLE.BARSIZE){var e=this.style===g.STYLE.BARSIZE||this.style===g.STYLE.DOTSIZE,t=this.style===g.STYLE.DOTSIZE||this.style===g.STYLE.DOTCOLOR||this.style===g.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),r=this.margin,i=this._getLegendWidth(),o=this.frame.clientWidth-this.margin,a=o-i,s=r+n,l=this._getContext();if(l.lineWidth=1,l.font="14px arial",!1===e){var f,d=n;for(f=0;f<d;f++){var h=(f-0)/(d-0)*240,p=this._hsv2rgb(h,1,1);l.strokeStyle=p,l.beginPath(),l.moveTo(a,r+f),l.lineTo(o,r+f),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(a,r,i,n)}else{var v;this.style===g.STYLE.DOTSIZE?v=i*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,g.STYLE.BARSIZE),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(a,r),l.lineTo(o,r),l.lineTo(a+v,s),l.lineTo(a,s),l.closePath(),l.fill(),l.stroke()}var m,y,b=t?this.valueRange.min:this.zRange.min,_=t?this.valueRange.max:this.zRange.max,w=new c(b,_,(_-b)/5,!0);for(w.start(!0);!w.end();)f=s-(w.getCurrent()-b)/(_-b)*n,m=new u(a-5,f),y=new u(a,f),this._line(l,m,y),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(w.getCurrent(),a-10,f),w.next();l.textAlign="right",l.textBaseline="top";var x=this.legendLabel;l.fillText(x,o,s+this.margin)}},g.prototype._redrawFilter=function(){var e=this.dataGroup.dataFilter,t=this.frame.filter;if(t.innerHTML="",e){var n={visible:this.showAnimationControls},r=new l(t,n);t.slider=r,t.style.padding="10px",r.setValues(e.values),r.setPlayInterval(this.animationInterval);var i=this;r.setOnChangeCallback((function(){var e=i.dataGroup.dataFilter,t=r.getIndex();e.selectValue(t),i.dataPoints=e._getDataPoints(),i.redraw()}))}else t.slider=void 0},g.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},g.prototype._redrawInfo=function(){var e=this.dataGroup.getInfo();if(void 0!==e){var t=this._getContext();t.font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top";var n=this.margin,r=this.margin;t.fillText(e,n,r)}},g.prototype._line=function(e,t,n,r){void 0!==r&&(e.strokeStyle=r),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke()},g.prototype.drawAxisLabelX=function(e,t,n,r,i){void 0===i&&(i=0);var o=this._convert3Dto2D(t);Math.cos(2*r)>0?(e.textAlign="center",e.textBaseline="top",o.y+=i):Math.sin(2*r)<0?(e.textAlign="right",e.textBaseline="middle"):(e.textAlign="left",e.textBaseline="middle"),e.fillStyle=this.axisColor,e.fillText(n,o.x,o.y)},g.prototype.drawAxisLabelY=function(e,t,n,r,i){void 0===i&&(i=0);var o=this._convert3Dto2D(t);Math.cos(2*r)<0?(e.textAlign="center",e.textBaseline="top",o.y+=i):Math.sin(2*r)>0?(e.textAlign="right",e.textBaseline="middle"):(e.textAlign="left",e.textBaseline="middle"),e.fillStyle=this.axisColor,e.fillText(n,o.x,o.y)},g.prototype.drawAxisLabelZ=function(e,t,n,r){void 0===r&&(r=0);var i=this._convert3Dto2D(t);e.textAlign="right",e.textBaseline="middle",e.fillStyle=this.axisColor,e.fillText(n,i.x-r,i.y)},g.prototype._line3d=function(e,t,n,r){var i=this._convert3Dto2D(t),o=this._convert3Dto2D(n);this._line(e,i,o,r)},g.prototype._redrawAxis=function(){var e,t,n,r,i,o,a,l,f,d,h=this._getContext();h.font=24/this.camera.getArmLength()+"px arial";var p,v,m,g=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),_=this.camera.getArmRotation().horizontal,w=new u(Math.cos(_),Math.sin(_)),x=this.xRange,O=this.yRange,k=this.zRange;for(h.lineWidth=1,r=void 0===this.defaultXStep,(n=new c(x.min,x.max,this.xStep,r)).start(!0);!n.end();){var E=n.getCurrent();if(this.showGrid?(e=new s(E,O.min,k.min),t=new s(E,O.max,k.min),this._line3d(h,e,t,this.gridColor)):this.showXAxis&&(e=new s(E,O.min,k.min),t=new s(E,O.min+g,k.min),this._line3d(h,e,t,this.axisColor),e=new s(E,O.max,k.min),t=new s(E,O.max-g,k.min),this._line3d(h,e,t,this.axisColor)),this.showXAxis){a=w.x>0?O.min:O.max,p=new s(E,a,k.min);var S="  "+this.xValueLabel(E)+"  ";this.drawAxisLabelX(h,p,S,_,b)}n.next()}for(h.lineWidth=1,r=void 0===this.defaultYStep,(n=new c(O.min,O.max,this.yStep,r)).start(!0);!n.end();){var T=n.getCurrent();if(this.showGrid?(e=new s(x.min,T,k.min),t=new s(x.max,T,k.min),this._line3d(h,e,t,this.gridColor)):this.showYAxis&&(e=new s(x.min,T,k.min),t=new s(x.min+y,T,k.min),this._line3d(h,e,t,this.axisColor),e=new s(x.max,T,k.min),t=new s(x.max-y,T,k.min),this._line3d(h,e,t,this.axisColor)),this.showYAxis){o=w.y>0?x.min:x.max,p=new s(o,T,k.min);var C="  "+this.yValueLabel(T)+"  ";this.drawAxisLabelY(h,p,C,_,b)}n.next()}if(this.showZAxis){for(h.lineWidth=1,r=void 0===this.defaultZStep,(n=new c(k.min,k.max,this.zStep,r)).start(!0),o=w.x>0?x.min:x.max,a=w.y<0?O.min:O.max;!n.end();){var D=n.getCurrent(),A=new s(o,a,D),j=this._convert3Dto2D(A);t=new u(j.x-b,j.y),this._line(h,j,t,this.axisColor);var N=this.zValueLabel(D)+" ";this.drawAxisLabelZ(h,A,N,5),n.next()}h.lineWidth=1,e=new s(o,a,k.min),t=new s(o,a,k.max),this._line3d(h,e,t,this.axisColor)}this.showXAxis&&(h.lineWidth=1,v=new s(x.min,O.min,k.min),m=new s(x.max,O.min,k.min),this._line3d(h,v,m,this.axisColor),v=new s(x.min,O.max,k.min),m=new s(x.max,O.max,k.min),this._line3d(h,v,m,this.axisColor)),this.showYAxis&&(h.lineWidth=1,e=new s(x.min,O.min,k.min),t=new s(x.min,O.max,k.min),this._line3d(h,e,t,this.axisColor),e=new s(x.max,O.min,k.min),t=new s(x.max,O.max,k.min),this._line3d(h,e,t,this.axisColor));var M=this.xLabel;M.length>0&&this.showXAxis&&(d=.1/this.scale.y,o=(x.max+3*x.min)/4,a=w.x>0?O.min-d:O.max+d,i=new s(o,a,k.min),this.drawAxisLabelX(h,i,M,_));var I=this.yLabel;I.length>0&&this.showYAxis&&(f=.1/this.scale.x,o=w.y>0?x.min-f:x.max+f,a=(O.max+3*O.min)/4,i=new s(o,a,k.min),this.drawAxisLabelY(h,i,I,_));var P=this.zLabel;P.length>0&&this.showZAxis&&(o=w.x>0?x.min:x.max,a=w.y<0?O.min:O.max,l=(k.max+3*k.min)/4,i=new s(o,a,l),this.drawAxisLabelZ(h,i,P,30))},g.prototype._hsv2rgb=function(e,t,n){var r,i,o,a,s,u;switch(a=n*t,s=Math.floor(e/60),u=a*(1-Math.abs(e/60%2-1)),s){case 0:r=a,i=u,o=0;break;case 1:r=u,i=a,o=0;break;case 2:r=0,i=a,o=u;break;case 3:r=0,i=u,o=a;break;case 4:r=u,i=0,o=a;break;case 5:r=a,i=0,o=u;break;default:r=0,i=0,o=0}return"RGB("+parseInt(255*r)+","+parseInt(255*i)+","+parseInt(255*o)+")"},g.prototype._getStrokeWidth=function(e){return void 0!==e?this.showPerspective?1/-e.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},g.prototype._redrawBar=function(e,t,n,r,i,o){var a,u=this,l=t.point,c=this.zRange.min,f=[{point:new s(l.x-n,l.y-r,l.z)},{point:new s(l.x+n,l.y-r,l.z)},{point:new s(l.x+n,l.y+r,l.z)},{point:new s(l.x-n,l.y+r,l.z)}],d=[{point:new s(l.x-n,l.y-r,c)},{point:new s(l.x+n,l.y-r,c)},{point:new s(l.x+n,l.y+r,c)},{point:new s(l.x-n,l.y+r,c)}];f.forEach((function(e){e.screen=u._convert3Dto2D(e.point)})),d.forEach((function(e){e.screen=u._convert3Dto2D(e.point)}));var h=[{corners:f,center:s.avg(d[0].point,d[2].point)},{corners:[f[0],f[1],d[1],d[0]],center:s.avg(d[1].point,d[0].point)},{corners:[f[1],f[2],d[2],d[1]],center:s.avg(d[2].point,d[1].point)},{corners:[f[2],f[3],d[3],d[2]],center:s.avg(d[3].point,d[2].point)},{corners:[f[3],f[0],d[0],d[3]],center:s.avg(d[0].point,d[3].point)}];t.surfaces=h;for(var p=0;p<h.length;p++){a=h[p];var v=this._convertPointToTranslation(a.center);a.dist=this.showPerspective?v.length():-v.z}h.sort((function(e,t){return t.dist-e.dist||(e.corners===f?1:t.corners===f?-1:0)})),e.lineWidth=this._getStrokeWidth(t),e.strokeStyle=o,e.fillStyle=i;for(var m=2;m<h.length;m++)a=h[m],this._polygon(e,a.corners)},g.prototype._polygon=function(e,t,n,r){if(!(t.length<2)){void 0!==n&&(e.fillStyle=n),void 0!==r&&(e.strokeStyle=r),e.beginPath(),e.moveTo(t[0].screen.x,t[0].screen.y);for(var i=1;i<t.length;++i){var o=t[i];e.lineTo(o.screen.x,o.screen.y)}e.closePath(),e.fill(),e.stroke()}},g.prototype._drawCircle=function(e,t,n,r,i){var o=this._calcRadius(t,i);e.lineWidth=this._getStrokeWidth(t),e.strokeStyle=r,e.fillStyle=n,e.beginPath(),e.arc(t.screen.x,t.screen.y,o,0,2*Math.PI,!0),e.fill(),e.stroke()},g.prototype._getColorsRegular=function(e){var t=240*(1-(e.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(t,1,1),border:this._hsv2rgb(t,1,.8)}},g.prototype._getColorsColor=function(e){var t,n;if("string"==typeof e.point.value)t=e.point.value,n=e.point.value;else{var r=240*(1-(e.point.value-this.valueRange.min)*this.scale.value);t=this._hsv2rgb(r,1,1),n=this._hsv2rgb(r,1,.8)}return{fill:t,border:n}},g.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},g.prototype._calcRadius=function(e,t){var n;return void 0===t&&(t=this._dotSize()),(n=this.showPerspective?t/-e.trans.z:t*(-this.eye.z/this.camera.getArmLength()))<0&&(n=0),n},g.prototype._redrawBarGraphPoint=function(e,t){var n=this.xBarWidth/2,r=this.yBarWidth/2,i=this._getColorsRegular(t);this._redrawBar(e,t,n,r,i.fill,i.border)},g.prototype._redrawBarColorGraphPoint=function(e,t){var n=this.xBarWidth/2,r=this.yBarWidth/2,i=this._getColorsColor(t);this._redrawBar(e,t,n,r,i.fill,i.border)},g.prototype._redrawBarSizeGraphPoint=function(e,t){var n=(t.point.value-this.valueRange.min)/this.valueRange.range(),r=this.xBarWidth/2*(.8*n+.2),i=this.yBarWidth/2*(.8*n+.2),o=this._getColorsSize();this._redrawBar(e,t,r,i,o.fill,o.border)},g.prototype._redrawDotGraphPoint=function(e,t){var n=this._getColorsRegular(t);this._drawCircle(e,t,n.fill,n.border)},g.prototype._redrawDotLineGraphPoint=function(e,t){var n=this._convert3Dto2D(t.bottom);e.lineWidth=1,this._line(e,n,t.screen,this.gridColor),this._redrawDotGraphPoint(e,t)},g.prototype._redrawDotColorGraphPoint=function(e,t){var n=this._getColorsColor(t);this._drawCircle(e,t,n.fill,n.border)},g.prototype._redrawDotSizeGraphPoint=function(e,t){var n=this._dotSize(),r=(t.point.value-this.valueRange.min)/this.valueRange.range(),i=n*this.dotSizeMinFraction,o=i+(n*this.dotSizeMaxFraction-i)*r,a=this._getColorsSize();this._drawCircle(e,t,a.fill,a.border,o)},g.prototype._redrawSurfaceGraphPoint=function(e,t){var n=t.pointRight,r=t.pointTop,i=t.pointCross;if(void 0!==t&&void 0!==n&&void 0!==r&&void 0!==i){var o,a,u=!0;if(this.showGrayBottom||this.showShadow){var l=s.subtract(i.trans,t.trans),c=s.subtract(r.trans,n.trans),f=s.crossProduct(l,c),d=f.length();u=f.z>0}if(u){var h,p=240*(1-((t.point.z+n.point.z+r.point.z+i.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(h=Math.min(1+f.x/d/2,1),a=o=this._hsv2rgb(p,1,h)):(h=1,o=this._hsv2rgb(p,1,h),a=this.axisColor)}else o="gray",a=this.axisColor;e.lineWidth=this._getStrokeWidth(t);var v=[t,n,i,r];this._polygon(e,v,o,a)}},g.prototype._drawGridLine=function(e,t,n){if(void 0!==t&&void 0!==n){var r=240*(1-((t.point.z+n.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);e.lineWidth=2*this._getStrokeWidth(t),e.strokeStyle=this._hsv2rgb(r,1,1),this._line(e,t.screen,n.screen)}},g.prototype._redrawGridGraphPoint=function(e,t){this._drawGridLine(e,t,t.pointRight),this._drawGridLine(e,t,t.pointTop)},g.prototype._redrawLineGraphPoint=function(e,t){void 0!==t.pointNext&&(e.lineWidth=this._getStrokeWidth(t),e.strokeStyle=this.dataColor.stroke,this._line(e,t.screen,t.pointNext.screen))},g.prototype._redrawDataGraph=function(){var e,t=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),e=0;e<this.dataPoints.length;e++){var n=this.dataPoints[e];this._pointDrawingMethod.call(this,t,n)}},g.prototype._storeMousePosition=function(e){this.startMouseX=y(e),this.startMouseY=b(e),this._startCameraOffset=this.camera.getOffset()},g.prototype._onMouseDown=function(e){if(e=e||window.event,this.leftButtonDown&&this._onMouseUp(e),this.leftButtonDown=e.which?1===e.which:1===e.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(e),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)},this.onmouseup=function(e){t._onMouseUp(e)},a.addEventListener(document,"mousemove",t.onmousemove),a.addEventListener(document,"mouseup",t.onmouseup),a.preventDefault(e)}},g.prototype._onMouseMove=function(e){this.moving=!0,e=e||window.event;var t=parseFloat(y(e))-this.startMouseX,n=parseFloat(b(e))-this.startMouseY;if(e&&!0===e.ctrlKey){var r=.5*this.frame.clientWidth,i=.5*this.frame.clientHeight,o=(this._startCameraOffset.x||0)-t/r*this.camera.armLength*.8,s=(this._startCameraOffset.y||0)+n/i*this.camera.armLength*.8;this.camera.setOffset(o,s),this._storeMousePosition(e)}else{var u=this.startArmRotation.horizontal+t/200,l=this.startArmRotation.vertical+n/200,c=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(u))<c&&(u=Math.round(u/Math.PI)*Math.PI-.001),Math.abs(Math.cos(u))<c&&(u=(Math.round(u/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(l))<c&&(l=Math.round(l/Math.PI)*Math.PI),Math.abs(Math.cos(l))<c&&(l=(Math.round(l/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(u,l)}this.redraw();var f=this.getCameraPosition();this.emit("cameraPositionChange",f),a.preventDefault(e)},g.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",this.leftButtonDown=!1,a.removeEventListener(document,"mousemove",this.onmousemove),a.removeEventListener(document,"mouseup",this.onmouseup),a.preventDefault(e)},g.prototype._onClick=function(e){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var t=this.frame.getBoundingClientRect(),n=y(e)-t.left,r=b(e)-t.top,i=this._dataPointFromXY(n,r);i&&this.onclick_callback(i.point.data)}a.preventDefault(e)}},g.prototype._onTooltip=function(e){var t=this.frame.getBoundingClientRect(),n=y(e)-t.left,r=b(e)-t.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var i=this._dataPointFromXY(n,r);i!==this.tooltip.dataPoint&&(i?this._showTooltip(i):this._hideTooltip())}else{var o=this;this.tooltipTimeout=setTimeout((function(){o.tooltipTimeout=null;var e=o._dataPointFromXY(n,r);e&&o._showTooltip(e)}),300)}},g.prototype._onTouchStart=function(e){this.touchDown=!0;var t=this;this.ontouchmove=function(e){t._onTouchMove(e)},this.ontouchend=function(e){t._onTouchEnd(e)},a.addEventListener(document,"touchmove",t.ontouchmove),a.addEventListener(document,"touchend",t.ontouchend),this._onMouseDown(e)},g.prototype._onTouchMove=function(e){this._onMouseMove(e)},g.prototype._onTouchEnd=function(e){this.touchDown=!1,a.removeEventListener(document,"touchmove",this.ontouchmove),a.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(e)},g.prototype._onWheel=function(e){e||(e=window.event);var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var n=this.camera.getArmLength()*(1-t/10);this.camera.setArmLength(n),this.redraw(),this._hideTooltip()}var r=this.getCameraPosition();this.emit("cameraPositionChange",r),a.preventDefault(e)},g.prototype._insideTriangle=function(e,t){var n=t[0],r=t[1],i=t[2];function o(e){return e>0?1:e<0?-1:0}var a=o((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x)),s=o((i.x-r.x)*(e.y-r.y)-(i.y-r.y)*(e.x-r.x)),u=o((n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x));return!(0!=a&&0!=s&&a!=s||0!=s&&0!=u&&s!=u||0!=a&&0!=u&&a!=u)},g.prototype._dataPointFromXY=function(e,t){var n,r=null,i=null,o=null,a=new u(e,t);if(this.style===g.STYLE.BAR||this.style===g.STYLE.BARCOLOR||this.style===g.STYLE.BARSIZE)for(n=this.dataPoints.length-1;n>=0;n--){var s=(r=this.dataPoints[n]).surfaces;if(s)for(var l=s.length-1;l>=0;l--){var c=s[l].corners,f=[c[0].screen,c[1].screen,c[2].screen],d=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,f)||this._insideTriangle(a,d))return r}}else for(n=0;n<this.dataPoints.length;n++){var h=(r=this.dataPoints[n]).screen;if(h){var p=Math.abs(e-h.x),v=Math.abs(t-h.y),m=Math.sqrt(p*p+v*v);(null===o||m<o)&&m<100&&(o=m,i=r)}}return i},g.prototype.hasBars=function(e){return e==g.STYLE.BAR||e==g.STYLE.BARCOLOR||e==g.STYLE.BARSIZE},g.prototype._showTooltip=function(e){var t,n,r;this.tooltip?(t=this.tooltip.dom.content,n=this.tooltip.dom.line,r=this.tooltip.dom.dot):(t=document.createElement("div"),(0,i.default)(t.style,{},this.tooltipStyle.content),t.style.position="absolute",n=document.createElement("div"),(0,i.default)(n.style,{},this.tooltipStyle.line),n.style.position="absolute",r=document.createElement("div"),(0,i.default)(r.style,{},this.tooltipStyle.dot),r.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:t,line:n,dot:r}}),this._hideTooltip(),this.tooltip.dataPoint=e,"function"==typeof this.showTooltip?t.innerHTML=this.showTooltip(e.point):t.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+e.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+e.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+e.point.z+"</td></tr></table>",t.style.left="0",t.style.top="0",this.frame.appendChild(t),this.frame.appendChild(n),this.frame.appendChild(r);var o=t.offsetWidth,a=t.offsetHeight,s=n.offsetHeight,u=r.offsetWidth,l=r.offsetHeight,c=e.screen.x-o/2;c=Math.min(Math.max(c,10),this.frame.clientWidth-10-o),n.style.left=e.screen.x+"px",n.style.top=e.screen.y-s+"px",t.style.left=c+"px",t.style.top=e.screen.y-s-a+"px",r.style.left=e.screen.x-u/2+"px",r.style.top=e.screen.y-l/2+"px"},g.prototype._hideTooltip=function(){if(this.tooltip)for(var e in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(e)){var t=this.tooltip.dom[e];t&&t.parentNode&&t.parentNode.removeChild(t)}},g.prototype.setCameraPosition=function(e){f.setCameraPosition(e,this),this.redraw()},g.prototype.setSize=function(e,t){this._setSize(e,t),this.redraw()},e.exports=g},function(e,t,n){n(163),e.exports=n(7).Object.assign},function(e,t,n){var r=n(17);r(r.S+r.F,"Object",{assign:n(164)})},function(e,t,n){var r=n(33),i=n(63),o=n(42),a=n(41),s=n(78),u=Object.assign;e.exports=!u||n(28)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var d,h=s(arguments[l++]),p=c?r(h).concat(c(h)):r(h),v=p.length,m=0;v>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:u},function(e,t,n){e.exports={default:n(166),__esModule:!0}},function(e,t,n){n(167),e.exports=n(7).Math.sign},function(e,t,n){var r=n(17);r(r.S,"Math",{sign:n(168)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){e.exports={default:n(170),__esModule:!0}},function(e,t,n){n(171);var r=n(7).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(17);r(r.S+r.F*!n(21),"Object",{defineProperty:n(20).f})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="string",i="boolean",o="number",a="object",s={fill:{string:r},stroke:{string:r},strokeWidth:{number:o},__type__:{string:r,object:a,undefined:"undefined"}},u={animationAutoStart:{boolean:i,undefined:"undefined"},animationInterval:{number:o},animationPreload:{boolean:i},axisColor:{string:r},backgroundColor:s,xBarWidth:{number:o,undefined:"undefined"},yBarWidth:{number:o,undefined:"undefined"},cameraPosition:{distance:{number:o},horizontal:{number:o},vertical:{number:o},__type__:{object:a}},xCenter:{string:r},yCenter:{string:r},dataColor:s,dotSizeMinFraction:{number:o},dotSizeMaxFraction:{number:o},dotSizeRatio:{number:o},filterLabel:{string:r},gridColor:{string:r},onclick:{function:"function"},keepAspectRatio:{boolean:i},xLabel:{string:r},yLabel:{string:r},zLabel:{string:r},legendLabel:{string:r},xMin:{number:o,undefined:"undefined"},yMin:{number:o,undefined:"undefined"},zMin:{number:o,undefined:"undefined"},xMax:{number:o,undefined:"undefined"},yMax:{number:o,undefined:"undefined"},zMax:{number:o,undefined:"undefined"},showAnimationControls:{boolean:i,undefined:"undefined"},showGrid:{boolean:i},showLegend:{boolean:i,undefined:"undefined"},showPerspective:{boolean:i},showShadow:{boolean:i},showXAxis:{boolean:i},showYAxis:{boolean:i},showZAxis:{boolean:i},xStep:{number:o,undefined:"undefined"},yStep:{number:o,undefined:"undefined"},zStep:{number:o,undefined:"undefined"},style:{number:o,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:i,function:"function"},tooltipStyle:{content:{color:{string:r},background:{string:r},border:{string:r},borderRadius:{string:r},boxShadow:{string:r},padding:{string:r},__type__:{object:a}},line:{borderLeft:{string:r},height:{string:r},width:{string:r},__type__:{object:a}},dot:{border:{string:r},borderRadius:{string:r},height:{string:r},width:{string:r},__type__:{object:a}},__type__:{object:a}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:o,undefined:"undefined"},valueMin:{number:o,undefined:"undefined"},verticalRatio:{number:o},height:{string:r},width:{string:r},__type__:{object:a}};t.allOptions=u},function(e,t,n){var r=n(11),i=n(12),o=n(174),a=n(96),s=n(94),u=n(34);function l(){this.dataTable=null}l.prototype.initializeData=function(e,t,n){if(void 0!==t){var o;if(Array.isArray(t)&&(t=new r(t)),!(t instanceof r||t instanceof i))throw new Error("Array, DataSet, or DataView expected");if(0!=(o=t.get()).length){this.style=n,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=t,this.dataTable=o;var s=this;this._onChange=function(){e.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var u=e.hasBars(n);if(u&&(void 0!==e.defaultXBarWidth?this.xBarWidth=e.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(o,this.colX)||1,void 0!==e.defaultYBarWidth?this.yBarWidth=e.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(o,this.colY)||1),this._initializeRange(o,this.colX,e,u),this._initializeRange(o,this.colY,e,u),this._initializeRange(o,this.colZ,e,!1),o[0].hasOwnProperty("style")){this.colValue="style";var l=this.getColumnRange(o,this.colValue);this._setRangeDefaults(l,e.defaultValueMin,e.defaultValueMax),this.valueRange=l}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",e),this.dataFilter.setOnLoadCallback((function(){e.redraw()}))),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},l.prototype._collectRangeSettings=function(e,t){if(-1==["x","y","z"].indexOf(e))throw new Error("Column '"+e+"' invalid");var n=e.toUpperCase();return{barWidth:this[e+"BarWidth"],min:t["default"+n+"Min"],max:t["default"+n+"Max"],step:t["default"+n+"Step"],range_label:e+"Range",step_label:e+"Step"}},l.prototype._initializeRange=function(e,t,n,r){var i=this._collectRangeSettings(t,n),o=this.getColumnRange(e,t);r&&"z"!=t&&o.expand(i.barWidth/2),this._setRangeDefaults(o,i.min,i.max),this[i.range_label]=o,this[i.step_label]=void 0!==i.step?i.step:o.range()/5},l.prototype.getDistinctValues=function(e,t){void 0===t&&(t=this.dataTable);for(var n=[],r=0;r<t.length;r++){var i=t[r][e]||0;-1===n.indexOf(i)&&n.push(i)}return n.sort((function(e,t){return e-t}))},l.prototype.getSmallestDifference=function(e,t){for(var n=this.getDistinctValues(e,t),r=null,i=1;i<n.length;i++){var o=n[i]-n[i-1];(null==r||r>o)&&(r=o)}return r},l.prototype.getColumnRange=function(e,t){for(var n=new o,r=0;r<e.length;r++){var i=e[r][t];n.adjust(i)}return n},l.prototype.getNumberOfRows=function(){return this.dataTable.length},l.prototype._setRangeDefaults=function(e,t,n){void 0!==t&&(e.min=t),void 0!==n&&(e.max=n),e.max<=e.min&&(e.max=e.min+1)},l.prototype.getDataTable=function(){return this.dataTable},l.prototype.getDataSet=function(){return this.dataSet},l.prototype.getDataPoints=function(e){for(var t=[],n=0;n<e.length;n++){var r=new u;r.x=e[n][this.colX]||0,r.y=e[n][this.colY]||0,r.z=e[n][this.colZ]||0,r.data=e[n],void 0!==this.colValue&&(r.value=e[n][this.colValue]||0);var i={};i.point=r,i.bottom=new u(r.x,r.y,this.zRange.min),i.trans=void 0,i.screen=void 0,t.push(i)}return t},l.prototype.initDataAsMatrix=function(e){var t,n,r,i,o=this.getDistinctValues(this.colX,e),a=this.getDistinctValues(this.colY,e),s=this.getDataPoints(e),u=[];for(r=0;r<s.length;r++){i=s[r];var l=o.indexOf(i.point.x),c=a.indexOf(i.point.y);void 0===u[l]&&(u[l]=[]),u[l][c]=i}for(t=0;t<u.length;t++)for(n=0;n<u[t].length;n++)u[t][n]&&(u[t][n].pointRight=t<u.length-1?u[t+1][n]:void 0,u[t][n].pointTop=n<u[t].length-1?u[t][n+1]:void 0,u[t][n].pointCross=t<u.length-1&&n<u[t].length-1?u[t+1][n+1]:void 0);return s},l.prototype.getInfo=function(){var e=this.dataFilter;if(e)return e.getLabel()+": "+e.getSelectedValue()},l.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},l.prototype._getDataPoints=function(e){var t=[];if(this.style===s.STYLE.GRID||this.style===s.STYLE.SURFACE)t=this.initDataAsMatrix(e);else if(this._checkValueField(e),t=this.getDataPoints(e),this.style===s.STYLE.LINE)for(var n=0;n<t.length;n++)n>0&&(t[n-1].pointNext=t[n]);return t},l.prototype._checkValueField=function(e){if(this.style===s.STYLE.BARCOLOR||this.style===s.STYLE.BARSIZE||this.style===s.STYLE.DOTCOLOR||this.style===s.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===e[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},e.exports=l},function(e,t,n){function r(){this.min=void 0,this.max=void 0}r.prototype.adjust=function(e){void 0!==e&&((void 0===this.min||this.min>e)&&(this.min=e),(void 0===this.max||this.max<e)&&(this.max=e))},r.prototype.combine=function(e){this.add(e.min),this.add(e.max)},r.prototype.expand=function(e){if(void 0!==e){var t=this.min-e,n=this.max+e;if(t>n)throw new Error("Passed expansion value makes range invalid");this.min=t,this.max=n}},r.prototype.range=function(){return this.max-this.min},r.prototype.center=function(){return(this.min+this.max)/2},e.exports=r},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){var e=null;return function t(n,r){var i=r||{preventDefault:!1};if(n.Manager){var o=n,a=function(e,n){var r=Object.create(i);return n&&o.assign(r,n),t(new o(e,r),r)};return o.assign(a,o),a.Manager=function(e,n){var r=Object.create(i);return n&&o.assign(r,n),t(new o.Manager(e,r),r)},a}var s=Object.create(n),u=n.element;function l(e){return e.match(/[^ ]+/g)}function c(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var n=!1;t.stopPropagation=function(){n=!0};var r=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof r&&(t.srcEvent.stopPropagation=function(){r(),t.stopPropagation()}),t.firstTarget=e;for(var i=e;i&&!n;){var o=i.hammer;if(o)for(var a,s=0;s<o.length;s++)if(a=o[s]._handlers[t.type])for(var u=0;u<a.length&&!n;u++)a[u](t);i=i.parentNode}}return u.hammer||(u.hammer=[]),u.hammer.push(s),n.on("hammer.input",(function(t){!0!==i.preventDefault&&i.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(e=t.target)})),s._handlers={},s.on=function(e,t){return l(e).forEach((function(e){var r=s._handlers[e];r||(s._handlers[e]=r=[],n.on(e,c)),r.push(t)})),s},s.off=function(e,t){return l(e).forEach((function(e){var r=s._handlers[e];r&&((r=t?r.filter((function(e){return e!==t})):[]).length>0?s._handlers[e]=r:(n.off(e,c),delete s._handlers[e]))})),s},s.emit=function(t,r){e=r.target,n.emit(t,r)},s.destroy=function(){var e=n.element.hammer,t=e.indexOf(s);-1!==t&&e.splice(t,1),e.length||delete n.element.hammer,s._handlers={},n.destroy()},s}})?r.apply(t,[]):r)||(e.exports=i)},function(e,t,n){var r;!function(i,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f=Math.round,d=Math.abs,h=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=g((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=g((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function O(e,t){return e===s?t:e}function k(e,t,n){m(C(t),(function(t){e.addEventListener(t,n,!1)}))}function E(e,t,n){m(C(t),(function(t){e.removeEventListener(t,n,!1)}))}function S(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function C(e){return e.trim().split(/\s+/g)}function D(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function j(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];D(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function N(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var M=1;function I(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var P="ontouchstart"in i,L=N(i,"PointerEvent")!==s,F=P&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R="touch",B="mouse",z=["x","y"],U=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function V(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i==0,a=12&t&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=W(t)),i>1&&!n.firstMultiple?n.firstMultiple=W(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=t.center=q(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(u,l),t.distance=Q(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=Y(t.deltaX,t.deltaY);var c,f,p=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=p.x,t.overallVelocityY=p.y,t.overallVelocity=d(p.x)>d(p.y)?p.x:p.y,t.scale=a?(c=a.pointers,Q((f=r)[0],f[1],U)/Q(c[0],c[1],U)):1,t.rotation=a?function(e,t){return K(t[1],t[0],U)+K(e[1],e[0],U)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||a.velocity===s)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,f=G(u,l,c);r=f.x,i=f.y,n=d(f.x)>d(f.y)?f.x:f.y,o=Y(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var v=e.element;S(t.srcEvent.target,v)&&(v=t.srcEvent.target),t.target=v}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function W(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:q(t),deltaX:e.deltaX,deltaY:e.deltaY}}function q(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function G(e,t,n){return{x:t/e||0,y:n/e||0}}function Y(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function Q(e,t,n){n||(n=z);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function K(e,t,n){n||(n=z);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(I(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4},J="mousedown",$="mousemove mouseup";function Z(){this.evEl=J,this.evWin=$,this.pressed=!1,H.apply(this,arguments)}_(Z,H,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:B,srcEvent:e}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:R,3:"pen",4:B,5:"kinect"},ne="pointerdown",re="pointermove pointerup pointercancel";function ie(){this.evEl=ne,this.evWin=re,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ne="MSPointerDown",re="MSPointerMove MSPointerUp MSPointerCancel"),_(ie,H,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=ee[r],o=te[e.pointerType]||e.pointerType,a=o==R,s=D(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ae="touchstart",se="touchstart touchmove touchend touchcancel";function ue(){this.evTarget=ae,this.evWin=se,this.started=!1,H.apply(this,arguments)}function le(e,t){var n=A(e.touches),r=A(e.changedTouches);return 12&t&&(n=j(n.concat(r),"identifier",!0)),[n,r]}_(ue,H,{handler:function(e){var t=oe[e.type];if(1===t&&(this.started=!0),this.started){var n=le.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:e})}}});var ce={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fe="touchstart touchmove touchend touchcancel";function de(){this.evTarget=fe,this.targetIds={},H.apply(this,arguments)}function he(e,t){var n=A(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=A(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return S(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[j(o.concat(s),"identifier",!0),s]:void 0}function pe(){H.apply(this,arguments);var e=w(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new Z(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ve(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,me.call(this,t)):12&e&&me.call(this,t)}function me(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(de,H,{handler:function(e){var t=ce[e.type],n=he.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:e})}}),_(pe,H,{handler:function(e,t,n){var r=n.pointerType==R,i=n.pointerType==B;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ve.call(this,t,n);else if(i&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ye=N(c.style,"touchAction"),be=ye!==s,_e="compute",we="manipulation",xe="none",Oe="pan-x",ke="pan-y",Ee=function(){if(!be)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function Se(e,t){this.manager=e,this.set(t)}function Te(e){this.options=u({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Ce(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function De(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ae(e,t){var n=t.manager;return n?n.get(e):e}function je(){Te.apply(this,arguments)}function Ne(){je.apply(this,arguments),this.pX=null,this.pY=null}function Me(){je.apply(this,arguments)}function Ie(){Te.apply(this,arguments),this._timer=null,this._input=null}function Pe(){je.apply(this,arguments)}function Le(){je.apply(this,arguments)}function Fe(){Te.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Re(e,t){return(t=t||{}).recognizers=O(t.recognizers,Re.defaults.preset),new Be(e,t)}function Be(e,t){var n;this.options=u({},Re.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(L?ie:F?de:P?pe:Z))(n,V),this.touchAction=new Se(this,this.options.touchAction),ze(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ze(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,(function(i,o){n=N(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Se.prototype={set:function(e){e==_e&&(e=this.compute()),be&&this.manager.element.style&&Ee[e]&&(this.manager.element.style[ye]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(T(e,xe))return xe;var t=T(e,Oe),n=T(e,ke);return t&&n?xe:t||n?t?Oe:ke:T(e,we)?we:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,xe)&&!Ee.none,o=T(r,ke)&&!Ee["pan-y"],a=T(r,Oe)&&!Ee["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},Te.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ae(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=Ae(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===D(t,e=Ae(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=Ae(e,this);var t=D(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Ce(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Ce(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(je,Te,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),_(Ne,je,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(ke),24&e&&t.push(Oe),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return je.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=De(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Me,je,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Ie,Te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(Pe,je,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Le,je,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=De(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Fe,Te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[we]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Q(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Re.VERSION="2.0.7",Re.defaults={domEvents:!1,touchAction:_e,enable:!0,inputTarget:null,inputClass:null,preset:[[Pe,{enable:!1}],[Me,{enable:!1},["rotate"]],[Le,{direction:6}],[Ne,{direction:6},["swipe"]],[Fe],[Fe,{event:"doubletap",taps:2},["tap"]],[Ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Be.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Te)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=D(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return m(C(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return m(C(e),(function(e){t?n[e]&&n[e].splice(D(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ze(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Re,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Be,Input:H,TouchAction:Se,TouchInput:de,MouseInput:Z,PointerEventInput:ie,TouchMouseInput:pe,SingleTouchInput:ue,Recognizer:Te,AttrRecognizer:je,Tap:Fe,Pan:Ne,Swipe:Le,Pinch:Me,Rotate:Pe,Press:Ie,on:k,off:E,each:m,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:N}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Re,(r=function(){return Re}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){t.util=n(2),t.DOMutil=n(14),t.DataSet=n(11),t.DataView=n(12),t.Queue=n(43),t.Timeline=n(178),t.Graph2d=n(180),t.timeline={Core:n(65),DateUtil:n(36),Range:n(64),stack:n(100),TimeStep:n(66),components:{items:{Item:n(38),BackgroundItem:n(103),BoxItem:n(101),PointItem:n(102),RangeItem:n(70)},BackgroundGroup:n(69),Component:n(16),CurrentTime:n(67),CustomTime:n(46),DataAxis:n(107),DataScale:n(108),GraphGroup:n(109),Group:n(68),ItemSet:n(99),Legend:n(112),LineGraph:n(106),TimeAxis:n(45)}},t.moment=n(9),t.Hammer=n(10),t.keycharm=n(35)},function(e,t,n){var r=n(9),i=n(2),o=n(11),a=n(12),s=n(64),u=n(65),l=n(45),c=n(67),f=n(46),d=n(99),h=n(15).printStyle,p=n(105).allOptions,v=n(105).configureOptions,m=n(71).default,g=n(15).default;function y(e,t,n,u){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||n instanceof o||n instanceof a)&&n instanceof Object){var f=u;u=n,n=f}u&&u.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var h=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:r,width:null,height:null,maxHeight:null,minHeight:null},this.options=i.deepExtend({},this.defaultOptions),this._create(e),!u||u&&void 0===u.rtl){this.dom.root.style.visibility="hidden";for(var p,v=this.dom.root;!p&&v;)p=window.getComputedStyle(v,null).direction,v=v.parentElement;this.options.rtl=p&&"rtl"==p.toLowerCase()}else this.options.rtl=u.rtl;this.options.rollingMode=u&&u.rollingMode,this.options.onInitialDrawComplete=u&&u.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return h.timeAxis.step.scale},getStep:function(){return h.timeAxis.step.step},toScreen:h._toScreen.bind(h),toGlobalScreen:h._toGlobalScreen.bind(h),toTime:h._toTime.bind(h),toGlobalTime:h._toGlobalTime.bind(h)}},this.range=new s(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new l(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new c(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new d(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(e){h.emit("click",h.getEventProperties(e))},this.dom.root.ondblclick=function(e){h.emit("doubleClick",h.getEventProperties(e))},this.dom.root.oncontextmenu=function(e){h.emit("contextmenu",h.getEventProperties(e))},this.dom.root.onmouseover=function(e){h.emit("mouseOver",h.getEventProperties(e))},window.PointerEvent?(this.dom.root.onpointerdown=function(e){h.emit("mouseDown",h.getEventProperties(e))},this.dom.root.onpointermove=function(e){h.emit("mouseMove",h.getEventProperties(e))},this.dom.root.onpointerup=function(e){h.emit("mouseUp",h.getEventProperties(e))}):(this.dom.root.onmousemove=function(e){h.emit("mouseMove",h.getEventProperties(e))},this.dom.root.onmousedown=function(e){h.emit("mouseDown",h.getEventProperties(e))},this.dom.root.onmouseup=function(e){h.emit("mouseUp",h.getEventProperties(e))}),this.initialFitDone=!1,this.on("changed",(function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!h.initialFitDone)if(h.initialFitDone=!0,null!=h.options.start||null!=h.options.end){if(null==h.options.start||null==h.options.end)var e=h.getItemRange();var t=null!=h.options.start?h.options.start:e.min,n=null!=h.options.end?h.options.end:e.max;h.setWindow(t,n,{animation:!1})}else h.fit({animation:!1});!h.initialDrawDone&&h.initialRangeChangeDone&&(h.initialDrawDone=!0,h.dom.root.style.visibility="visible",h.options.onInitialDrawComplete&&setTimeout((function(){return h.options.onInitialDrawComplete()}),0))}})),u&&this.setOptions(u),n&&this.setGroups(n),t&&this.setItems(t),this._redraw()}function b(e){return i.convert(e.data.start,"Date").valueOf()}function _(e){var t=null!=e.data.end?e.data.end:e.data.start;return i.convert(t,"Date").valueOf()}function w(e,t){var n=e.props.leftContainer.height,r=e.props.left.height,i=t.parent,o=i.top,a=!0,s=e.timeAxis.options.orientation.axis,u=function(){return"bottom"==s?i.height-t.top-t.height:t.top},l=-1*e._getScrollTop(),c=o+u(),f=t.height;return c<l?o+n<=o+u()+f&&(o+=u()-e.itemSet.options.margin.item.vertical):c+f>l+n?o+=u()+f-n+e.itemSet.options.margin.item.vertical:a=!1,{shouldScroll:a,scrollOffset:o=Math.min(o,r-n),itemTop:c}}y.prototype=new u,y.prototype._createConfigurator=function(){return new m(this,this.dom.container,v)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(e){if(!0===g.validate(e,p)&&console.log("%cErrors have been found in the supplied options object.",h),u.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;var t=this.itemsData;if(t){var n=this.getSelection();this.setItems(null),this.setItems(t),this.setSelection(n)}}},y.prototype.setItems=function(e){var t;t=e?e instanceof o||e instanceof a?e:new o(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.itemSet&&this.itemSet.setItems(t)},y.prototype.setGroups=function(e){var t;if(e){var n=function(e){return!1!==e.visible};t=e instanceof o||e instanceof a?new a(e,{filter:n}):new o(e.filter(n))}else t=null;this.groupsData=t,this.itemSet.setGroups(t)},y.prototype.setData=function(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)},y.prototype.setSelection=function(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(e,t){if(this.itemsData&&null!=e){var n=Array.isArray(e)?e:[e],r=this.itemsData.getDataSet().get(n,{type:{start:"Date",end:"Date"}}),i=null,o=null;if(r.forEach((function(e){var t=e.start.valueOf(),n="end"in e?e.end.valueOf():e.start.valueOf();(null===i||t<i)&&(i=t),(null===o||n>o)&&(o=n)})),null!==i&&null!==o){var a=this,s=this.itemSet.items[n[0]],u=-1*this._getScrollTop(),l=null,c=function(){var e=w(a,s);e.shouldScroll&&e.itemTop!=l.itemTop&&(a._setScrollTop(-e.scrollOffset),a._redraw())},f=(i+o)/2,d=Math.max(this.range.end-this.range.start,1.1*(o-i)),h=!t||void 0===t.animation||t.animation;h||(l={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(f-d/2,f+d/2,{animation:h},(function(){c(),setTimeout(c,100)}),(function(e,t,n){var r=w(a,s);if(l||(l=r),l.itemTop!=r.itemTop||l.shouldScroll){l.itemTop!=r.itemTop&&r.shouldScroll&&(l=r,u=-1*a._getScrollTop());var i=u,o=l.scrollOffset,c=n?o:i+(o-i)*e;a._setScrollTop(-c),t||a._redraw()}}))}}},y.prototype.fit=function(e,t){var n,r=!e||void 0===e.animation||e.animation,i=this.itemsData&&this.itemsData.getDataSet();1===i.length&&void 0===i.get()[0].end?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:r},t)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:r},t))},y.prototype.getItemRange=function(){var e=this.getDataRange(),t=null!==e.min?e.min.valueOf():null,n=null!==e.max?e.max.valueOf():null,r=null,o=null;if(null!=t&&null!=n){var a=n-t;a<=0&&(a=10);var s=a/this.props.center.width,u={},l=0;if(i.forEach(this.itemSet.items,(function(e,t){e.groupShowing&&(u[t]=e.redraw(!0),l=u[t].length)})),l>0)for(var c=0;c<l;c++)i.forEach(u,(function(e){e[c]()}));if(i.forEach(this.itemSet.items,function(e){var i,a,u=b(e),l=_(e);this.options.rtl?(i=u-(e.getWidthRight()+10)*s,a=l+(e.getWidthLeft()+10)*s):(i=u-(e.getWidthLeft()+10)*s,a=l+(e.getWidthRight()+10)*s),i<t&&(t=i,r=e),a>n&&(n=a,o=e)}.bind(this)),r&&o){var f=r.getWidthLeft()+10,d=o.getWidthRight()+10,h=this.props.center.width-f-d;h>0&&(this.options.rtl?(t=b(r)-d*a/h,n=_(o)+f*a/h):(t=b(r)-f*a/h,n=_(o)+d*a/h))}}return{min:null!=t?new Date(t):null,max:null!=n?new Date(n):null}},y.prototype.getDataRange=function(){var e=null,t=null,n=this.itemsData&&this.itemsData.getDataSet();return n&&n.forEach((function(n){var r=i.convert(n.start,"Date").valueOf(),o=i.convert(null!=n.end?n.end:n.start,"Date").valueOf();(null===e||r<e)&&(e=r),(null===t||o>t)&&(t=o)})),{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},y.prototype.getEventProperties=function(e){var t,n=e.center?e.center.x:e.clientX,r=e.center?e.center.y:e.clientY;t=this.options.rtl?i.getAbsoluteRight(this.dom.centerContainer)-n:n-i.getAbsoluteLeft(this.dom.centerContainer);var o=r-i.getAbsoluteTop(this.dom.centerContainer),a=this.itemSet.itemFromTarget(e),s=this.itemSet.groupFromTarget(e),u=f.customTimeFromTarget(e),l=this.itemSet.options.snap||null,c=this.body.util.getScale(),d=this.body.util.getStep(),h=this._toTime(t),p=l?l(h,c,d):h,v=i.getTarget(e),m=null;return null!=a?m="item":null!=u?m="custom-time":i.hasParent(v,this.timeAxis.dom.foreground)||this.timeAxis2&&i.hasParent(v,this.timeAxis2.dom.foreground)?m="axis":i.hasParent(v,this.itemSet.dom.labelSet)?m="group-label":i.hasParent(v,this.currentTime.bar)?m="current-time":i.hasParent(v,this.dom.center)&&(m="background"),{event:e,item:a?a.id:null,group:s?s.groupId:null,what:m,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:t,y:o,time:h,snappedTime:p}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},e.exports=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(19)),i=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(10),u=n(37),l=n(2),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,i.default)(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,o.default)(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var n=void 0,i=this._isColorString(e);if(void 0!==i&&(e=i),!0===l.isString(e)){if(!0===l.isValidRGB(e)){var o=e.substr(4).substr(0,e.length-5).split(",");n={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===l.isValidRGBA(e)){var a=e.substr(5).substr(0,e.length-6).split(",");n={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(!0===l.isValidHex(e)){var s=l.hexToRGB(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var u=void 0!==e.a?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:u}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,r.default)(e));this._setColor(n,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===t&&(this.initialColor=l.extend({},e)),this.color=e;var n=l.RGBToHSV(e.r,e.g,e.b),r=2*Math.PI,i=this.r*n.s,o=this.centerCoordinates.x+i*Math.sin(r*n.h),a=this.centerCoordinates.y+i*Math.cos(r*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=l.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=l.HSVToRGB(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=l.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,i),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),u.onTouch(this.hammer,(function(t){e._moveSelector(t)})),this.hammer.on("tap",(function(t){e._moveSelector(t)})),this.hammer.on("panstart",(function(t){e._moveSelector(t)})),this.hammer.on("panmove",(function(t){e._moveSelector(t)})),this.hammer.on("panend",(function(t){e._moveSelector(t)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,n);var r=void 0,i=void 0,o=void 0,a=void 0;this.centerCoordinates={x:.5*t,y:.5*n},this.r=.49*t;var s=2*Math.PI/360,u=1/this.r,c=void 0;for(o=0;o<360;o++)for(a=0;a<this.r;a++)r=this.centerCoordinates.x+a*Math.sin(s*o),i=this.centerCoordinates.y+a*Math.cos(s*o),c=l.HSVToRGB(.002777777777777778*o,a*u,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(r-.5,i-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,i=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,s=r-i,u=Math.atan2(a,s),c=.98*Math.min(Math.sqrt(a*a+s*s),o),f=Math.cos(u)*c+i,d=Math.sin(u)*c+o;this.colorPickerSelector.style.top=f-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";var h=u/(2*Math.PI);h=h<0?h+1:h;var p=c/this.r,v=l.RGBToHSV(this.color.r,this.color.g,this.color.b);v.h=h,v.s=p;var m=l.HSVToRGB(v.h,v.s,v.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();t.default=c},function(e,t,n){var r=n(9),i=n(2),o=n(11),a=n(12),s=n(64),u=n(65),l=n(45),c=n(67),f=n(46),d=n(106),h=n(15).printStyle,p=n(113).allOptions,v=n(113).configureOptions,m=n(71).default,g=n(15).default;function y(e,t,n,u){if(!(Array.isArray(n)||n instanceof o||n instanceof a)&&n instanceof Object){var f=u;u=n,n=f}u&&u.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var h=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:r,width:null,height:null,maxHeight:null,minHeight:null},this.options=i.deepExtend({},this.defaultOptions),this._create(e),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:h._toScreen.bind(h),toGlobalScreen:h._toGlobalScreen.bind(h),toTime:h._toTime.bind(h),toGlobalTime:h._toGlobalTime.bind(h)}},this.range=new s(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new l(this.body),this.components.push(this.timeAxis),this.currentTime=new c(this.body),this.components.push(this.currentTime),this.linegraph=new d(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",(function(e){h.emit("click",h.getEventProperties(e))})),this.on("doubletap",(function(e){h.emit("doubleClick",h.getEventProperties(e))})),this.dom.root.oncontextmenu=function(e){h.emit("contextmenu",h.getEventProperties(e))},u&&this.setOptions(u),n&&this.setGroups(n),t&&this.setItems(t),this._redraw()}y.prototype=new u,y.prototype.setOptions=function(e){!0===g.validate(e,p)&&console.log("%cErrors have been found in the supplied options object.",h),u.prototype.setOptions.call(this,e)},y.prototype.setItems=function(e){var t,n=null==this.itemsData;if(t=e?e instanceof o||e instanceof a?e:new o(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),n)if(null!=this.options.start||null!=this.options.end){var r=null!=this.options.start?this.options.start:null,i=null!=this.options.end?this.options.end:null;this.setWindow(r,i,{animation:!1})}else this.fit({animation:!1})},y.prototype.setGroups=function(e){var t;t=e?e instanceof o||e instanceof a?e:new o(e):null,this.groupsData=t,this.linegraph.setGroups(t)},y.prototype.getLegend=function(e,t,n){return void 0===t&&(t=15),void 0===n&&(n=15),void 0!==this.linegraph.groups[e]?this.linegraph.groups[e].getLegend(t,n):"cannot find group:'"+e+"'"},y.prototype.isGroupVisible=function(e){return void 0!==this.linegraph.groups[e]&&this.linegraph.groups[e].visible&&(void 0===this.linegraph.options.groups.visibility[e]||1==this.linegraph.options.groups.visibility[e])},y.prototype.getDataRange=function(){var e=null,t=null;for(var n in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(n)&&1==this.linegraph.groups[n].visible)for(var r=0;r<this.linegraph.groups[n].itemsData.length;r++){var o=this.linegraph.groups[n].itemsData[r],a=i.convert(o.x,"Date").valueOf();e=null==e||e>a?a:e,t=null==t||t<a?a:t}return{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},y.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX,n=e.center?e.center.y:e.clientY,r=t-i.getAbsoluteLeft(this.dom.centerContainer),o=n-i.getAbsoluteTop(this.dom.centerContainer),a=this._toTime(r),s=f.customTimeFromTarget(e),u=i.getTarget(e),l=null;i.hasParent(u,this.timeAxis.dom.foreground)||this.timeAxis2&&i.hasParent(u,this.timeAxis2.dom.foreground)?l="axis":i.hasParent(u,this.linegraph.yAxisLeft.dom.frame)||i.hasParent(u,this.linegraph.yAxisRight.dom.frame)?l="data-axis":i.hasParent(u,this.linegraph.legendLeft.dom.frame)||i.hasParent(u,this.linegraph.legendRight.dom.frame)?l="legend":null!=s?l="custom-time":i.hasParent(u,this.currentTime.bar)?l="current-time":i.hasParent(u,this.dom.center)&&(l="background");var c=[],d=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&c.push(d.screenToValue(o)),!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(o)),{event:e,what:l,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:r,y:o,time:a,value:c}},y.prototype._createConfigurator=function(){return new m(this,this.dom.container,v)},e.exports=y},function(e,t,n){t.util=n(2),t.DOMutil=n(14),t.DataSet=n(11),t.DataView=n(12),t.Queue=n(43),t.Network=n(182),t.network={Images:n(116),dotparser:n(114),gephiParser:n(115),allOptions:n(122)},t.network.convertDot=function(e){return t.network.dotparser.DOTToGraph(e)},t.network.convertGephi=function(e,n){return t.network.gephiParser.parseGephi(e,n)},t.moment=n(9),t.Hammer=n(10),t.keycharm=n(35)},function(e,t,n){n(183);var r=n(44),i=n(2),o=n(114),a=n(115),s=n(97),u=n(184),l=n(116).default,c=n(186).default,f=n(187).default,d=n(214).default,h=n(220).default,p=n(227).default,v=n(229).default,m=n(230).default,g=n(231).default,y=n(232).default,b=n(234).default,_=n(235).default,w=n(237).default,x=n(71).default,O=n(15).default,k=n(15).printStyle,E=n(122),S=E.allOptions,T=E.configureOptions,C=n(238).default;function D(e,t,n){var r=this;if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:u,clickToUse:!1},i.extend(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new l((function(){return r.body.emitter.emit("_requestRedraw")})),this.groups=new c,this.canvas=new m(this.body),this.selectionHandler=new b(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new g(this.body,this.canvas),this.renderer=new v(this.body,this.canvas),this.physics=new h(this.body),this.layoutEngine=new _(this.body),this.clustering=new p(this.body),this.manipulation=new w(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new f(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new d(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new C(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}r(D.prototype),D.prototype.setOptions=function(e){var t=this;if(void 0!==e){if(!0===O.validate(e,S)&&console.log("%cErrors have been found in the supplied options object.",k),i.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,e),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new x(this,this.body.container,T,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};i.deepExtend(n.nodes,this.nodesHandler.options),i.deepExtend(n.edges,this.edgesHandler.options),i.deepExtend(n.layout,this.layoutEngine.options),i.deepExtend(n.interaction,this.selectionHandler.options),i.deepExtend(n.interaction,this.renderer.options),i.deepExtend(n.interaction,this.interactionHandler.options),i.deepExtend(n.manipulation,this.manipulation.options),i.deepExtend(n.physics,this.physics.options),i.deepExtend(n.global,this.canvas.options),i.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new s(this.canvas.frame),this.activator.on("change",(function(){t.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},D.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)e.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=e[i.fromId],a=e[i.toId],s=void 0!==o&&void 0!==a;!this.clustering._isClusteredEdge(r)&&!1===i.options.hidden&&s&&!1===o.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(i.id)}},D.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")}))},D.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=o.DOTToGraph(e.dot);this.setData(t)}else if(e&&e.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=a.parseGephi(e.gephi);this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},D.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&delete this.body.nodes[e];for(var t in this.body.edges)this.body.edges.hasOwnProperty(t)&&delete this.body.edges[t];i.recursiveDOMDelete(this.body.container)},D.prototype._updateValueRange=function(e){var t,n=void 0,r=void 0,i=0;for(t in e)if(e.hasOwnProperty(t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),r=void 0===r?o:Math.max(o,r),i+=o)}if(void 0!==n&&void 0!==r)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(n,r,i)},D.prototype.isActive=function(){return!this.activator||this.activator.active},D.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},D.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},D.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},D.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},D.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},D.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},D.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},D.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},D.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},D.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},D.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},D.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},D.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},D.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},D.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},D.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},D.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},D.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},D.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},D.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},D.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},D.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},D.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},D.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},D.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},D.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},D.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},D.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},D.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},D.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},D.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},D.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},D.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},D.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},D.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},D.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},D.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},D.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},D.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},D.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},D.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},D.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},D.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},D.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e},e.exports=D},function(e,t,n){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(e,t,n){this.beginPath(),this.arc(e,t,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(e,t,n){this.beginPath(),this.rect(e-n,t-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(e,t,n){this.beginPath(),t+=.275*(n*=1.15);var r=2*n,i=r/2,o=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-i*i);this.moveTo(e,t-(a-o)),this.lineTo(e+i,t+o),this.lineTo(e-i,t+o),this.lineTo(e,t-(a-o)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(e,t,n){this.beginPath(),t-=.275*(n*=1.15);var r=2*n,i=r/2,o=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-i*i);this.moveTo(e,t+(a-o)),this.lineTo(e+i,t-o),this.lineTo(e-i,t-o),this.lineTo(e,t+(a-o)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(e,t,n){this.beginPath(),t+=.1*(n*=.82);for(var r=0;r<10;r++){var i=r%2==0?1.3*n:.5*n;this.lineTo(e+i*Math.sin(2*r*Math.PI/10),t-i*Math.cos(2*r*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(e,t,n){this.beginPath(),this.lineTo(e,t+n),this.lineTo(e+n,t),this.lineTo(e,t-n),this.lineTo(e-n,t),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r,i){var o=Math.PI/180;n-2*i<0&&(i=n/2),r-2*i<0&&(i=r/2),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+n-i,t),this.arc(e+n-i,t+i,i,270*o,360*o,!1),this.lineTo(e+n,t+r-i),this.arc(e+n-i,t+r-i,i,0,90*o,!1),this.lineTo(e+i,t+r),this.arc(e+i,t+r-i,i,90*o,180*o,!1),this.lineTo(e,t+i),this.arc(e+i,t+i,i,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(e,t,n,r){var i=.5522848,o=n/2*i,a=r/2*i,s=e+n,u=t+r,l=e+n/2,c=t+r/2;this.beginPath(),this.moveTo(e,c),this.bezierCurveTo(e,c-a,l-o,t,l,t),this.bezierCurveTo(l+o,t,s,c-a,s,c),this.bezierCurveTo(s,c+a,l+o,u,l,u),this.bezierCurveTo(l-o,u,e,c+a,e,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(e,t,n,r){var i=r*(1/3),o=.5522848,a=n/2*o,s=i/2*o,u=e+n,l=t+i,c=e+n/2,f=t+i/2,d=t+(r-i/2),h=t+r;this.beginPath(),this.moveTo(u,f),this.bezierCurveTo(u,f+s,c+a,l,c,l),this.bezierCurveTo(c-a,l,e,f+s,e,f),this.bezierCurveTo(e,f-s,c-a,t,c,t),this.bezierCurveTo(c+a,t,u,f-s,u,f),this.lineTo(u,d),this.bezierCurveTo(u,d+s,c+a,h,c,h),this.bezierCurveTo(c-a,h,e,d+s,e,d),this.lineTo(e,f)},CanvasRenderingContext2D.prototype.dashedLine=function(e,t,n,r,i){this.beginPath(),this.moveTo(e,t);for(var o=i.length,a=n-e,s=r-t,u=s/a,l=Math.sqrt(a*a+s*s),c=0,f=!0,d=0,h=i[0];l>=.1;)(h=i[c++%o])>l&&(h=l),d=Math.sqrt(h*h/(1+u*u)),e+=d=a<0?-d:d,t+=u*d,!0===f?this.lineTo(e,t):this.moveTo(e,t),l-=h,f=!f},CanvasRenderingContext2D.prototype.hexagon=function(e,t,n){this.beginPath();var r=2*Math.PI/6;this.moveTo(e+n,t);for(var i=1;i<6;i++)this.lineTo(e+n*Math.cos(r*i),t+n*Math.sin(r*i));this.closePath()})},function(e,t,n){t.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},t.en_EN=t.en,t.en_US=t.en,t.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},t.de_DE=t.de,t.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},t.es_ES=t.es,t.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},t.it_IT=t.it,t.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},t.nl_NL=t.nl,t.nl_BE=t.nl,t["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},t["pt-BR"]=t["pt-br"],t.pt_BR=t["pt-br"],t.pt_br=t["pt-br"],t.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},t.ru_RU=t.ru,t.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},t.zh_CN=t.cn},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,r.default)(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,i.default)(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var n=Math.floor(t/2),r=Math.floor(t/4),i=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),s=Math.floor(e/4),u=Math.floor(e/8),l=Math.floor(e/16);this.canvas.width=3*s,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,s,r],[a,r,u,i],[5*u,r,l,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var r=this.coordinates[n-1],i=this.coordinates[n];e.drawImage(this.canvas,r[0],r[1],r[2],r[3],i[0],i[1],i[2],i[3])}}},{key:"drawImageAtPosition",value:function(e,t,n,r,i,o){if(this.initialized())if(t>2){t*=.5;for(var a=0;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var s=this.coordinates[a];e.drawImage(this.canvas,s[0],s[1],s[2],s[3],n,r,i,o)}else e.drawImage(this.image,n,r,i,o)}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=function(){function e(){(0,r.default)(this,e),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},a.extend(this.options,this.defaultOptions)}return(0,i.default)(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n)){var r=e[n];this.add(n,r)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.groups[e];if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var r=this.groupIndex%this.groupsArray.length;this.groupIndex++,(n={}).color=this.groups[this.groupsArray[r]],this.groups[e]=n}else{var i=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(n={}).color=this.defaultGroups[i],this.groups[e]=n}return n}},{key:"add",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=n(11),u=n(12),l=n(47).default,c=function(){function e(t,n,i,o){var s=this;if((0,r.default)(this,e),this.body=t,this.images=n,this.groups=i,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(e,t){s.add(t.items)},update:function(e,t){s.update(t.items,t.data,t.oldData)},remove:function(e,t){s.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,r){if(t===e)return.5;var i=1/(t-e);return Math.max(0,(r-e)*i)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=a.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,i.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){a.forEach(e.nodesListeners,(function(t,n){e.body.data.nodes&&e.body.data.nodes.off(n,t)})),delete e.body.functions.createNode,delete e.nodesListeners.add,delete e.nodesListeners.update,delete e.nodesListeners.remove,delete e.nodesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){if(l.parseOptions(this.options,e),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==e.size)for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.body.nodes[r].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(e instanceof s||e instanceof u)this.body.data.nodes=e;else if(Array.isArray(e))this.body.data.nodes=new s,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new s}if(n&&a.forEach(this.nodesListeners,(function(e,t){n.off(t,e)})),this.body.nodes={},this.body.data.nodes){var r=this;a.forEach(this.nodesListeners,(function(e,t){r.body.data.nodes.on(t,e)}));var i=this.body.data.nodes.getIds();this.add(i,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,r=[],i=0;i<e.length;i++){n=e[i];var o=this.body.data.nodes.get(n),a=this.create(o);r.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(r),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,n){for(var r=this.body.nodes,i=!1,o=0;o<e.length;o++){var a=e[o],s=r[a],u=t[o];void 0!==s?s.setOptions(u)&&(i=!0):(i=!0,s=this.create(u),r[a]=s)}i||void 0===n||(i=t.some((function(e,t){var r=n[t];return r&&r.level!==e.level}))),!0===i?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.forEach(this.body.nodes,(function(n,r){var i=e.body.data.nodes.get(r);void 0!==i&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(i))}))}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Array.isArray(e)){for(var n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){var r=this.body.nodes[e[n]];t[e[n]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[e]){var i=this.body.nodes[e];t[e]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var a=this.body.nodes[this.body.nodeIndices[o]];t[this.body.nodeIndices[o]]={x:Math.round(a.x),y:Math.round(a.y)}}return t}},{key:"storePositions",value:function(){var e=[],t=this.body.data.nodes.getDataSet();for(var n in t._data)if(t._data.hasOwnProperty(n)){var r=this.body.nodes[n];t._data[n].x==Math.round(r.x)&&t._data[n].y==Math.round(r.y)||e.push({id:r.id,x:Math.round(r.x),y:Math.round(r.y)})}t.update(e)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var r=this.body.nodes[e],i={},o=0;o<r.edges.length;o++){var a=r.edges[o];"to"!==t&&a.toId==r.id?void 0===i[a.fromId]&&(n.push(a.fromId),i[a.fromId]=!0):"from"!==t&&a.fromId==r.id&&void 0===i[a.toId]&&(n.push(a.toId),i[a.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],r=0;r<n.edges.length;r++)t.push(n.edges[r].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,n){var r=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(n),setTimeout((function(){r.body.emitter.emit("startSimulation")}),0)):console.log("Node id supplied to moveNode does not exist. Provided: ",e)}}]),e}();t.default=c},function(e,t,n){e.exports={default:n(189),__esModule:!0}},function(e,t,n){n(49),n(60),e.exports=n(190)},function(e,t,n){var r=n(86),i=n(13)("iterator"),o=n(31);e.exports=n(7).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(192).default,s=n(48).default,u=function(){function e(t,n,i,o){var s=this;(0,r.default)(this,e),this.ctx=t,this.parent=n,this.lines=new a((function(e,n){if(void 0===e)return 0;var r=s.parent.getFormattingValues(t,i,o,n),a=0;return""!==e&&(a=s.ctx.measureText(e).width),{width:a,values:r}}))}return(0,i.default)(e,[{key:"process",value:function(e){if(!s.isValidLabel(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(e).split("\n"),r=n.length;if(t.multi)for(var i=0;i<r;i++){var o=this.splitBlocks(n[i],t.multi);if(void 0!==o)if(0!==o.length){if(t.maxWdt>0)for(var a=0;a<o.length;a++){var u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(var c=0;c<o.length;c++){var f=o[c].mod,d=o[c].text;this.lines.append(d,f)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var h=0;h<r;h++)this.splitStringIntoLines(n[h]);else for(var p=0;p<r;p++)this.lines.newLine(n[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=[],n={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(t.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(e){" "===e&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}};n.position<e.length;){var r=e.charAt(n.position);/[ \t]/.test(r)?n.mono?n.add(r):n.spacing=!0:/</.test(r)?n.mono||n.bold||!/<b>/.test(e.substr(n.position,3))?n.mono||n.ital||!/<i>/.test(e.substr(n.position,3))?!n.mono&&/<code>/.test(e.substr(n.position,6))?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono"),n.position+=5):!n.mono&&"bold"===n.mod()&&/<\/b>/.test(e.substr(n.position,4))?(n.emitBlock(),n.bold=!1,n.modStack.shift(),n.position+=3):!n.mono&&"ital"===n.mod()&&/<\/i>/.test(e.substr(n.position,4))?(n.emitBlock(),n.ital=!1,n.modStack.shift(),n.position+=3):"mono"===n.mod()&&/<\/code>/.test(e.substr(n.position,7))?(n.emitBlock(),n.mono=!1,n.modStack.shift(),n.position+=6):n.add(r):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital"),n.position+=2):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold"),n.position+=2):/&/.test(r)?/&lt;/.test(e.substr(n.position,4))?(n.add("<"),n.position+=3):/&amp;/.test(e.substr(n.position,5))?(n.add("&"),n.position+=4):n.add("&"):n.add(r),n.position++}return n.emitBlock(),t}},{key:"splitMarkdownBlocks",value:function(e){for(var t=[],n={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(t.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(e){" "===e&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}};n.position<e.length;){var r=e.charAt(n.position);/[ \t]/.test(r)?(n.mono?n.add(r):n.spacing=!0,n.beginable=!0):/\\/.test(r)?n.position<e.length+1&&(n.position++,r=e.charAt(n.position),/ \t/.test(r)?n.spacing=!0:(n.add(r),n.beginable=!1)):n.mono||n.bold||!n.beginable&&!n.spacing||!/\*/.test(r)?n.mono||n.ital||!n.beginable&&!n.spacing||!/\_/.test(r)?!n.mono&&(n.beginable||n.spacing)&&/`/.test(r)?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono")):!n.mono&&"bold"===n.mod()&&/\*/.test(r)?n.position===e.length-1||/[.,_` \t\n]/.test(e.charAt(n.position+1))?(n.emitBlock(),n.bold=!1,n.modStack.shift()):n.add(r):!n.mono&&"ital"===n.mod()&&/\_/.test(r)?n.position===e.length-1||/[.,*` \t\n]/.test(e.charAt(n.position+1))?(n.emitBlock(),n.ital=!1,n.modStack.shift()):n.add(r):n.mono&&"mono"===n.mod()&&/`/.test(r)?n.position===e.length-1||/[.,*_ \t\n]/.test(e.charAt(n.position+1))?(n.emitBlock(),n.mono=!1,n.modStack.shift()):n.add(r):(n.add(r),n.beginable=!1):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital")):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold")),n.position++}return n.emitBlock(),t}},{key:"splitBlocks",value:function(e,t){var n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",n=0;n<e.length;){var r=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(r))break;t=r,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(e.slice(0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");r.length>0;){var i=this.getLongestFit(r);if(0===i){var o=r[0],a=this.getLongestFitWord(o);this.lines.newLine(o.slice(0,a),t),r[0]=o.slice(a)}else{var s=i;" "===r[i-1]?i--:" "===r[s]&&s++;var u=r.slice(0,i).join("");i==r.length&&n?this.lines.append(u,t):this.lines.newLine(u,t),r=r.slice(s)}}}}]),e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(90)),i=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,i.default)(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,o.default)(e,[{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;void 0!==t&&""!==t||(i=" ");var o=this.measureText(i,n),a=(0,r.default)({},o.values);a.text=t,a.width=o.width,a.mod=n,void 0!==t&&""!==t||(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var r=0;r<t.blocks.length;r++){var i=t.blocks[r];n<i.height&&(n=i.height)}t.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,n=0;n<this.lines.length;n++){var r=this.lines[n];r.width>e&&(e=r.width),t+=r.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t];if(0!==n.blocks.length&&(t!==this.lines.length-1||0!==n.width)){var i={};(0,r.default)(i,n),i.blocks=[];for(var o=void 0,a=[],s=0;s<n.blocks.length;s++){var u=n.blocks[s];0!==u.width?a.push(u):void 0===o&&(o=u)}0===a.length&&void 0!==o&&a.push(o),i.blocks=a,e.push(i)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){(0,i.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return s._setMargins(o),s}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n);this.width=r.width+this.margin.right+this.margin.left,this.height=r.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),e.roundRect(this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i)}},{key:"updateBoundingBox",value:function(e,t,n,r,i){this._updateBoundingBox(e,t,n,r,i);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){n(195),e.exports=n(7).Object.getPrototypeOf},function(e,t,n){var r=n(41),i=n(85);n(87)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(197),__esModule:!0}},function(e,t,n){n(198),e.exports=n(7).Object.setPrototypeOf},function(e,t,n){var r=n(17);r(r.S,"Object",{setPrototypeOf:n(199).set})},function(e,t,n){var r=n(32),i=n(27),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(80)(Function.call,n(89).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){(0,i.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return s._setMargins(o),s}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n),i=Math.max(r.width+this.margin.right+this.margin.left,r.height+this.margin.top+this.margin.bottom);this.options.size=i/2,this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,r,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),.5*this.width}}]),t}(u(n(73)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o,s,u){(0,i.default)(this,t);var l=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return l.setImages(s,u),l}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,r=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(r){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,r,i,o){this.switchImages(r),this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,t,n,r,i),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),.5*this.width}}]),t}(u(n(73)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){(0,i.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return s._setMargins(o),s}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e,t,n){if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),e.database(t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"diamond",4,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"circle",2,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),this.options.size}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n);this.height=2*r.height,this.width=r.width+r.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),e.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=.5*this.width,r=.5*this.height,i=Math.sin(t)*n,o=Math.cos(t)*r;return n*r/Math.sqrt(i*i+o*o)}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){(0,i.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return s._setMargins(o),s}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,r,i,o),void 0!==this.options.label&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,r),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(e,t,n,r,i,o){var a=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=(r?"bold ":"")+a+"px "+this.options.icon.face,e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o,s,u){(0,i.default)(this,t);var l=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return l.setImages(s,u),l}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,r=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(r){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,r,i,o){if(this.switchImages(r),this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var a=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,u=(r?s:a)/this.body.view.scale;e.lineWidth=Math.min(this.width,u),e.beginPath(),e.strokeStyle=r?this.options.color.highlight.border:i?this.options.color.hover.border:this.options.color.border,e.fillStyle=r?this.options.color.highlight.background:i?this.options.color.hover.background:this.options.color.background,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),e.fill(),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,t,n,r,i),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.resize(),this._updateBoundingBox(e,t),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(73)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"square",2,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"hexagon",4,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"star",4,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){(0,i.default)(this,t);var s=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o));return s._setMargins(o),s}return(0,s.default)(t,e),(0,o.default)(t,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(23)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"triangle",3,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"triangleDown",3,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(u(n(24)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=n(11),u=n(12),l=n(74).default,c=function(){function e(t,n,i){var o=this;(0,r.default)(this,e),this.body=t,this.images=n,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,r){if(t===e)return.5;var i=1/(t-e);return Math.max(0,(r-e)*i)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},a.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,i.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var r=!1;for(var i in e.body.edges)if(e.body.edges.hasOwnProperty(i)){var o=e.body.edges[i],a=e.body.data.edges._data[i];if(void 0!==a){var s=a.smooth;void 0!==s&&!0===s.enabled&&"dynamic"===s.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),r=!0)}}!0===n&&!0===r&&e.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){e.reconnectEdges()})),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){a.forEach(e.edgesListeners,(function(t,n){e.body.data.edges&&e.body.data.edges.off(n,t)})),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){l.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var r in this.body.edges)this.body.edges.hasOwnProperty(r)&&this.body.edges[r].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(e instanceof s||e instanceof u)this.body.data.edges=e;else if(Array.isArray(e))this.body.data.edges=new s,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new s}if(r&&a.forEach(this.edgesListeners,(function(e,t){r.off(t,e)})),this.body.edges={},this.body.data.edges){a.forEach(this.edgesListeners,(function(e,n){t.body.data.edges.on(n,e)}));var i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,r=this.body.data.edges,i=0;i<e.length;i++){var o=e[i],a=n[o];a&&a.disconnect();var s=r.get(o,{showInternalIds:!0});n[o]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,r=!1,i=0;i<e.length;i++){var o=e[i],a=n.get(o),s=t[o];void 0!==s?(s.disconnect(),r=s.setOptions(a)||r,s.connect()):(this.body.edges[o]=this.create(a),r=!0)}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;a.forEach(e,(function(e){var t=n[e];void 0!==t&&t.remove()})),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;a.forEach(this.body.edges,(function(t,n){var r=e.body.data.edges._data[n];void 0!==r&&t.setOptions(r)}))}},{key:"create",value:function(e){return new l(e,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in n)if(n.hasOwnProperty(e)){var r=n[e];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];a.forEach(this.body.edges,(function(n,r){var i=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];void 0!==i&&!0===i.isCluster||void 0!==o&&!0===o.isCluster||void 0!==i&&void 0!==o||t.push(r)})),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.edges,t=this.body.data.edges,n=[];t.forEach((function(t,r){void 0===e[r]&&n.push(r)})),this.add(n,!0)}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(30)),i=l(n(3)),o=l(n(0)),a=l(n(1)),s=l(n(4)),u=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,r){return(0,o.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,r))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"_line",value:function(e,t,n){var r=n[0],i=n[1];this._bezierCurve(e,t,r,i)}},{key:"_getViaCoordinates",value:function(){var e=this.from.x-this.to.x,t=this.from.y-this.to.y,n=void 0,r=void 0,i=void 0,o=void 0,a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(r=this.from.y,o=this.to.y,n=this.from.x-a*e,i=this.to.x+a*e):(r=this.from.y-a*t,o=this.to.y+a*t,n=this.from.x,i=this.to.x),[{x:n,y:r},{x:i,y:o}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),u=(0,r.default)(s,2),l=u[0],c=u[1];return this._getDistanceToBezierEdge(e,t,n,i,o,a,l,c)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=(0,r.default)(t,2),i=n[0],o=n[1],a=e,s=[];s[0]=Math.pow(1-a,3),s[1]=3*a*Math.pow(1-a,2),s[2]=3*Math.pow(a,2)*(1-a),s[3]=Math.pow(a,3);var u=s[0]*this.fromPoint.x+s[1]*i.x+s[2]*o.x+s[3]*this.toPoint.x,l=s[0]*this.fromPoint.y+s[1]*i.y+s[2]*o.y+s[3]*this.toPoint.y;return{x:u,y:l}}}]),t}(l(n(216)).default);t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_getDistanceToBezierEdge",value:function(e,t,n,r,i,o,a,s){var u=1e9,l=void 0,c=void 0,f=void 0,d=void 0,h=void 0,p=e,v=t,m=[0,0,0,0];for(c=1;c<10;c++)f=.1*c,m[0]=Math.pow(1-f,3),m[1]=3*f*Math.pow(1-f,2),m[2]=3*Math.pow(f,2)*(1-f),m[3]=Math.pow(f,3),d=m[0]*e+m[1]*a.x+m[2]*s.x+m[3]*n,h=m[0]*t+m[1]*a.y+m[2]*s.y+m[3]*r,c>0&&(u=(l=this._getDistanceToLine(p,v,d,h,i,o))<u?l:u),p=d,v=h;return u}}]),t}(u(n(75)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(30)),i=l(n(3)),o=l(n(0)),a=l(n(1)),s=l(n(4)),u=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,r){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n,r));return a._boundFunction=function(){a.positionBezierNode()},a.body.emitter.on("_repositionBezierNodes",a._boundFunction),a}return(0,u.default)(t,e),(0,a.default)(t,[{key:"setOptions",value:function(e){var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this.body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this.body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,n=e,i=void 0,o=void 0;if(this.from===this.to){var a=this._getCircleData(this.from),s=(0,r.default)(a,3),u=s[0],l=s[1],c=s[2],f=2*Math.PI*(1-n);i=u+c*Math.sin(f),o=l+c-c*(1-Math.cos(f))}else i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.toPoint.x,o=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:o}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){return this._getDistanceToBezierEdge(e,t,n,r,i,o,this.via)}}]),t}(l(n(75)).default);t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e=void 0,t=void 0,n=this.options.smooth.roundness,r=this.options.smooth.type,i=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===r||"diagonalCross"===r){var a=void 0,s=void 0;a=s=i<=o?n*o:n*i,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(s=-s),e=this.from.x+a,t=this.from.y+s,"discrete"===r&&(i<=o?e=i<n*o?this.from.x:e:t=o<n*i?this.from.y:t)}else if("straightCross"===r){var u=(1-n)*i,l=(1-n)*o;i<=o?(u=0,this.from.y<this.to.y&&(l=-l)):(this.from.x<this.to.x&&(u=-u),l=0),e=this.to.x+u,t=this.to.y+l}else if("horizontal"===r){var c=(1-n)*i;this.from.x<this.to.x&&(c=-c),e=this.to.x+c,t=this.from.y}else if("vertical"===r){var f=(1-n)*o;this.from.y<this.to.y&&(f=-f),e=this.from.x,t=this.to.y+f}else if("curvedCW"===r){i=this.to.x-this.from.x,o=this.from.y-this.to.y;var d=Math.sqrt(i*i+o*o),h=Math.PI,p=(Math.atan2(o,i)+(.5*n+.5)*h)%(2*h);e=this.from.x+(.5*n+.5)*d*Math.sin(p),t=this.from.y+(.5*n+.5)*d*Math.cos(p)}else if("curvedCCW"===r){i=this.to.x-this.from.x,o=this.from.y-this.to.y;var v=Math.sqrt(i*i+o*o),m=Math.PI,g=(Math.atan2(o,i)+(.5*-n+.5)*m)%(2*m);e=this.from.x+(.5*n+.5)*v*Math.sin(g),t=this.from.y+(.5*n+.5)*v*Math.cos(g)}else{var y=void 0,b=void 0;y=b=i<=o?n*o:n*i,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),e=this.from.x+y,t=this.from.y+b,i<=o?e=this.from.x<=this.to.x?this.to.x<e?this.to.x:e:this.to.x>e?this.to.x:e:t=this.from.y>=this.to.y?this.to.y>t?this.to.y:t:this.to.y<t?this.to.y:t}return{x:e,y:t}}},{key:"_findBorderPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,r,i,o,a)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=e,r=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.toPoint.x,i=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.toPoint.y;return{x:r,y:i}}}]),t}(u(n(75)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){var n=this.to,r=this.from;e.id===this.from.id&&(n=this.from,r=this.to);var i=Math.atan2(n.y-r.y,n.x-r.x),o=n.x-r.x,a=n.y-r.y,s=Math.sqrt(o*o+a*a),u=(s-e.distanceToBorder(t,i))/s,l={};return l.x=(1-u)*r.x+u*n.x,l.y=(1-u)*r.y+u*n.y,l}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){return this._getDistanceToLine(e,t,n,r,i,o)}}]),t}(u(n(118)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(8)),i=a(n(0)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(120).default,u=n(221).default,l=n(222).default,c=n(223).default,f=n(224).default,d=n(121).default,h=n(225).default,p=n(226).default,v=n(2),m=n(119).default,g=function(){function e(t){(0,i.default)(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},v.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,o.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",(function(){e.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){e.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){e.stopSimulation(),e.ready=!1})),this.body.emitter.on("disablePhysics",(function(){e.physicsEnabled=!1,e.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===e.ready&&e.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){e.stopSimulation()})),this.body.emitter.on("destroy",(function(){e.stopSimulation(!1),e.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){e.updatePhysicsData()}))}},{key:"setOptions",value:function(e){void 0!==e&&(!1===e?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===e?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,v.selectiveNotDeepExtend(["stabilization"],this.options,e),v.mergeOptions(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new h(this.body,this.physicsBody,e),this.edgesSolver=new c(this.body,this.physicsBody,e),this.gravitySolver=new p(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new u(this.body,this.physicsBody,e),this.edgesSolver=new c(this.body,this.physicsBody,e),this.gravitySolver=new d(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new l(this.body,this.physicsBody,e),this.edgesSolver=new f(this.body,this.physicsBody,e),this.gravitySolver=new d(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new s(this.body,this.physicsBody,e),this.edgesSolver=new c(this.body,this.physicsBody,e),this.gravitySolver=new d(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Date.now();this.physicsTick(),(Date.now()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout((function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var r in t)t.hasOwnProperty(r)&&!0===t[r].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var o=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var e=(0,r.default)(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<e.length;i++){var o=e[i];void 0!==t[o]?!0===t[o].options.physics&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},n[o].x=this.previousStates[o].vx,n[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e=void 0,t=void 0,n=this.body.nodes,r=this.referenceState;for(var i in this.referenceState)if(this.referenceState.hasOwnProperty(i)&&void 0!==n[i]&&(e=n[i].x-r[i].positions.x,t=n[i].y-r[i].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,r=0;r<e.length;r++){var i=e[r],o=this._performStep(i);t=Math.max(t,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var r=this.options.maxVelocity||1e9;return Math.abs(e)>r&&(e=e>0?r:-r),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],n=this.physicsBody.forces[e],r=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:r.x,vy:r.y},!1===t.options.fixed.x?(r.x=this.calculateComponentVelocity(r.x,n.x,t.options.mass),t.x+=r.x*this.timestep):(n.x=0,r.x=0),!1===t.options.fixed.y?(r.y=this.calculateComponentVelocity(r.y,n.y,t.options.mass),t.y+=r.y*this.timestep):(n.y=0,r.y=0),Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(e.hasOwnProperty(t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout((function(){return e._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var r=0;t()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),t()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var n=this.physicsBody.physicsNodeIndices[t],r=this.body.nodes[n],i=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.x,2)),a=Math.min(Math.max(5,o),15),s=3*a,u=v.HSVToHex((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),l={x:r.x+20*i.x,y:r.y+20*i.y};e.lineWidth=a,e.strokeStyle=u,e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(l.x,l.y),e.stroke();var c=Math.atan2(i.y,i.x);e.fillStyle=u,m.draw(e,{type:"arrow",point:l,angle:c,length:s}),e.fill()}}}]),e}();t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return(0,i.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,r,i,o,a,s,u=this.body.nodes,l=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,f=this.options.nodeDistance,d=-2/3/f,h=0;h<l.length-1;h++){a=u[l[h]];for(var p=h+1;p<l.length;p++)e=(s=u[l[p]]).x-a.x,t=s.y-a.y,0===(n=Math.sqrt(e*e+t*t))&&(e=n=.1*Math.random()),n<2*f&&(o=n<.5*f?1:d*n+1.3333333333333333,r=e*(o/=n),i=t*o,c[a.id].x-=r,c[a.id].y-=i,c[s.id].x+=r,c[s.id].y+=i)}}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return(0,i.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){var e,t,n,r,i,o,a,s,u,l,c=this.body.nodes,f=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,h=this.options.nodeDistance;for(u=0;u<f.length-1;u++)for(a=c[f[u]],l=u+1;l<f.length;l++)s=c[f[l]],a.level===s.level&&(e=s.x-a.x,t=s.y-a.y,o=(n=Math.sqrt(e*e+t*t))<h?-Math.pow(.05*n,2)+Math.pow(.05*h,2):0,0===n?n=.01:o/=n,r=e*o,i=t*o,d[a.id].x-=r,d[a.id].y-=i,d[s.id].x+=r,d[s.id].y+=i)}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return(0,i.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,n=this.physicsBody.physicsEdgeIndices,r=this.body.edges,i=void 0,o=void 0,a=void 0,s=0;s<n.length;s++)!0===(t=r[n[s]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(i,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.max(Math.sqrt(r*r+i*i),.01),a=this.options.springConstant*(n-o)/o,s=r*a,u=i*a;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=s,this.physicsBody.forces[e.id].y+=u),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=s,this.physicsBody.forces[t.id].y-=u)}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return(0,i.default)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,r,i,o,a,s,u,l,c=this.body.edges,f=.5,d=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<h.length;v++){var m=h[v];p[m].springFx=0,p[m].springFy=0}for(var g=0;g<d.length;g++)!0===(t=c[d[g]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,r=t.from.y-t.to.y,s=0===(s=Math.sqrt(n*n+r*r))?.01:s,i=n*(a=this.options.springConstant*(e-s)/s),o=r*a,t.to.level!=t.from.level?(void 0!==p[t.toId]&&(p[t.toId].springFx-=i,p[t.toId].springFy-=o),void 0!==p[t.fromId]&&(p[t.fromId].springFx+=i,p[t.fromId].springFy+=o)):(void 0!==p[t.toId]&&(p[t.toId].x-=f*i,p[t.toId].y-=f*o),void 0!==p[t.fromId]&&(p[t.fromId].x+=f*i,p[t.fromId].y+=f*o)));a=1;for(var y=0;y<h.length;y++){var b=h[y];u=Math.min(a,Math.max(-a,p[b].springFx)),l=Math.min(a,Math.max(-a,p[b].springFy)),p[b].x+=u,p[b].y+=l}for(var _=0,w=0,x=0;x<h.length;x++){var O=h[x];_+=p[O].x,w+=p[O].y}for(var k=_/h.length,E=w/h.length,S=0;S<h.length;S++){var T=h[S];p[T].x-=k,p[T].y-=E}}}]),e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_calculateForces",value:function(e,t,n,r,i){0===e&&(t=e=.1*Math.random()),this.overlapAvoidanceFactor<1&&r.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));var o=r.edges.length+1,a=this.options.gravitationalConstant*i.mass*r.options.mass*o/Math.pow(e,2),s=t*a,u=n*a;this.physicsBody.forces[r.id].x+=s,this.physicsBody.forces[r.id].y+=u}}]),t}(u(n(120)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n,o){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_calculateForces",value:function(e,t,n,r,i){if(e>0){var o=i.edges.length+1,a=this.options.centralGravity*o*i.options.mass;r[i.id].x=t*a,r[i.id].y=n*a}}}]),t}(u(n(121)).default);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(8)),i=s(n(6)),o=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=n(2),l=n(76).default,c=n(228).default,f=n(74).default,d=n(47).default,h=function(){function e(t){var n=this;(0,o.default)(this,e),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},u.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return(0,a.default)(e,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===(void 0===e?"undefined":(0,i.default)(e))&&(t=this._checkOptions(e),e=this._getHubSize());for(var n=[],r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>=e&&n.push(o.id)}for(var a=0;a<n.length;a++)this.clusterByConnection(n[a],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var r={},i={};u.forEach(this.body.nodes,(function(n,o){var a=l.cloneOptions(n);!0===t.joinCondition(a)&&(r[o]=n,u.forEach(n.edges,(function(t){void 0===e.clusteredEdges[t.id]&&(i[t.id]=t)})))})),this._cluster(r,i,t,n)}},{key:"clusterByEdgeCount",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var o=[],a={},s=void 0,u=void 0,c=void 0,f=function(i){var f={},d={},v=n.body.nodeIndices[i],m=n.body.nodes[v];if(void 0===a[v]){c=0,u=[];for(var g=0;g<m.edges.length;g++)s=m.edges[g],void 0===n.clusteredEdges[s.id]&&(s.toId!==s.fromId&&c++,u.push(s));if(c===e){h=function(e){if(void 0===t.joinCondition||null===t.joinCondition)return!0;var n=l.cloneOptions(e);return t.joinCondition(n)};for(var y=!0,b=0;b<u.length;b++){s=u[b];var _=n._getConnectedId(s,v);if(!h(m)){y=!1;break}d[s.id]=s,f[v]=m,f[_]=n.body.nodes[_],a[v]=!0}if((0,r.default)(f).length>0&&(0,r.default)(d).length>0&&!0===y)if(void 0!==(p=function(){for(var e=0;e<o.length;++e)for(var t in f)if(void 0!==o[e].nodes[t])return o[e]}())){for(var w in f)void 0===p.nodes[w]&&(p.nodes[w]=f[w]);for(var x in d)void 0===p.edges[x]&&(p.edges[x]=d[x])}else o.push({nodes:f,edges:d})}}},d=0;d<this.body.nodeIndices.length;d++){var h,p;f(d)}for(d=0;d<o.length;d++)this._cluster(o[d].nodes,o[d].edges,t,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var i=this.body.nodes[e];void 0===(t=this._checkOptions(t,i)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=i.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=i.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=i.options.fixed.x,t.clusterNodeProperties.fixed.y=i.options.fixed.y);var o={},a={},s=i.id,u=l.cloneOptions(i);o[s]=i;for(var c=0;c<i.edges.length;c++){var f=i.edges[c];if(void 0===this.clusteredEdges[f.id]){var d=this._getConnectedId(f,s);if(void 0===this.clusteredNodes[d])if(d!==s)if(void 0===t.joinCondition)a[f.id]=f,o[d]=this.body.nodes[d];else{var h=l.cloneOptions(this.body.nodes[d]);!0===t.joinCondition(u,h)&&(a[f.id]=f,o[d]=this.body.nodes[d])}else a[f.id]=f}}var p=(0,r.default)(o).map((function(e){return o[e].id}));for(v in o)if(o.hasOwnProperty(v))for(var v=o[v],m=0;m<v.edges.length;m++){var g=v.edges[m];p.indexOf(this._getConnectedId(g,v.id))>-1&&(a[g.id]=g)}this._cluster(o,a,t,n)}},{key:"_createClusterEdges",value:function(e,t,n,i){for(var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=(0,r.default)(e),d=[],h=0;h<f.length;h++){s=e[a=f[h]];for(var p=0;p<s.edges.length;p++)o=s.edges[p],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?t[o.id]=o:o.toId==a?(u=n.id,c=l=o.fromId):(u=o.toId,l=n.id,c=u),void 0===e[c]&&d.push({edge:o,fromId:l,toId:u}))}for(var v=[],m=function(e){for(var t=0;t<v.length;t++){var n=v[t],r=e.fromId===n.fromId&&e.toId===n.toId,i=e.fromId===n.toId&&e.toId===n.fromId;if(r||i)return n}return null},g=0;g<d.length;g++){var y=d[g],b=y.edge,_=m(y);null===_?(_=this._createClusteredEdge(y.fromId,y.toId,b,i),v.push(_)):_.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=_.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var a in e)e.hasOwnProperty(a)&&void 0!==this.clusteredNodes[a]&&o.push(a);for(var s=0;s<o.length;++s)delete e[o[s]];if(0!=(0,r.default)(e).length&&(1!=(0,r.default)(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var f=u.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var d=[];for(var h in e)if(e.hasOwnProperty(h)){var p=l.cloneOptions(e[h]);d.push(p)}var v=[];for(var m in t)if(t.hasOwnProperty(m)&&"clusterEdge:"!==m.substr(0,12)){var g=l.cloneOptions(t[m],"edge");v.push(g)}if(!(f=n.processProperties(f,d,v)))throw new Error("The processProperties function does not return properties!")}void 0===f.id&&(f.id="cluster:"+u.randomUUID());var y=f.id;void 0===f.label&&(f.label="cluster");var b=void 0;void 0===f.x&&(b=this._getClusterPosition(e),f.x=b.x),void 0===f.y&&(void 0===b&&(b=this._getClusterPosition(e)),f.y=b.y),f.id=y;var _=this.body.functions.createNode(f,c);_.containedNodes=e,_.containedEdges=t,_.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[f.id]=_,this._clusterEdges(e,t,f,n.clusterEdgeProperties),f.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t=(0,r.default)(e),n=e[t[0]].x,i=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].y,s=void 0,u=1;u<t.length;u++)n=(s=e[t[u]]).x<n?s.x:n,i=s.x>i?s.x:i,o=s.y<o?s.y:o,a=s.y>a?s.y:a;return{x:.5*(n+i),y:.5*(o+a)}}},{key:"openCluster",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var r=this.body.nodes[e];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var i=this.findNode(e),o=i.indexOf(e)-1;if(o>=0){var a=i[o],s=this.body.nodes[a];return s._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var l=r.containedNodes,c=r.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var f={},d={x:r.x,y:r.y};for(var h in l)if(l.hasOwnProperty(h)){var p=this.body.nodes[h];f[h]={x:p.x,y:p.y}}var v=t.releaseFunction(d,f);for(var m in l)if(l.hasOwnProperty(m)){var g=this.body.nodes[m];void 0!==v[m]&&(g.x=void 0===v[m].x?r.x:v[m].x,g.y=void 0===v[m].y?r.y:v[m].y)}}else u.forEach(l,(function(e){!1===e.options.fixed.x&&(e.x=r.x),!1===e.options.fixed.y&&(e.y=r.y)}));for(var y in l)if(l.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=r.vx,b.vy=r.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var _=[],w=0;w<r.edges.length;w++)_.push(r.edges[w]);for(var x=0;x<_.length;x++){for(var O=_[x],k=this._getConnectedId(O,e),E=this.clusteredNodes[k],S=0;S<O.clusteringEdgeReplacingIds.length;S++){var T=O.clusteringEdgeReplacingIds[S],C=this.body.edges[T];if(void 0!==C)if(void 0!==E){var D=this.body.nodes[E.clusterId];D.containedEdges[C.id]=C,delete c[C.id];var A=C.fromId,j=C.toId;C.toId==k?j=E.clusterId:A=E.clusterId,this._createClusteredEdge(A,j,C,D.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(C)}O.remove()}for(var N in c)c.hasOwnProperty(N)&&this._restoreEdge(c[N]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var r in n)n.hasOwnProperty(r)&&t.push(this.body.nodes[r].id)}return t}},{key:"findNode",value:function(e){for(var t=[],n=0,r=void 0;void 0!==this.clusteredNodes[e]&&n<100;){if(void 0===(r=this.body.nodes[e]))return[];t.push(r.id),e=this.clusteredNodes[e].clusterId,n++}return void 0===(r=this.body.nodes[e])?[]:(t.push(r.id),t.reverse(),t)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),r=0;r<n.length;r++)this.body.edges[n[r]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return t.reverse(),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],n=[],r=[],i=0;t.length>0&&i<100;){var o=t.pop();if(void 0!==o){var a=this.body.edges[o];if(void 0!==a){i++;var s=a.clusteringEdgeReplacingIds;if(void 0===s)r.push(o);else for(var u=0;u<s.length;++u){var l=s[u];-1===t.indexOf(s)&&-1===n.indexOf(s)&&t.push(l)}n.push(o)}}}return r}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,n=0,r=0,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.edges.length>r&&(r=o.edges.length),e+=o.edges.length,t+=Math.pow(o.edges.length,2),n+=1}e/=n;var a=(t/=n)-Math.pow(e,2),s=Math.sqrt(a),u=Math.floor(e+2*s);return u>r&&(u=r),u}},{key:"_createClusteredEdge",value:function(e,t,n,r,i){var o=l.cloneOptions(n,"edge");u.deepExtend(o,r),o.from=e,o.to=t,o.id="clusterEdge:"+u.randomUUID(),void 0!==i&&u.deepExtend(o,i);var a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(e,t,n,r){if(t instanceof f){var i=t,o={};o[i.id]=i,t=o}if(e instanceof d){var a=e,s={};s[a.id]=a,e=s}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var u in void 0===r&&(r=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,r),t)if(t.hasOwnProperty(u)&&void 0!==this.body.edges[u]){var l=this.body.edges[u];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(var c in e)e.hasOwnProperty(c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,t){var n=[];return u.forEach(e,(function(e){t(e)&&n.push(e)})),n}},{key:"_updateState",value:function(){var e=this,t=void 0,n=[],i=[],o=function(t){u.forEach(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(t)&&void 0===this.body.nodes[t]&&n.push(t);o((function(e){for(var t=0;t<n.length;t++)delete e.containedNodes[n[t]]}));for(var a=0;a<n.length;a++)delete this.clusteredNodes[n[a]];u.forEach(this.clusteredEdges,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()||i.push(t)})),o((function(e){u.forEach(e.containedEdges,(function(e,t){e.endPointsValid()||-1!==i.indexOf(t)||i.push(t)}))})),u.forEach(this.body.edges,(function(t,n){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var a=0;u.forEach(o,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()&&(a+=1)})),r=a>0}t.endPointsValid()&&r||i.push(n)})),o((function(t){u.forEach(i,(function(n){delete t.containedEdges[n],u.forEach(t.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(e){return-1===i.indexOf(e)})):t.edges[o]=null})),t.edges=e._filter(t.edges,(function(e){return null!==e}))}))})),u.forEach(i,(function(t){delete e.clusteredEdges[t]})),u.forEach(i,(function(t){delete e.body.edges[t]}));var s=(0,r.default)(this.body.edges);u.forEach(s,(function(t){var n=e.body.edges[t],r=e._isClusteredNode(n.fromId)||e._isClusteredNode(n.toId);if(r!==e._isClusteredEdge(n.id)){if(!r)throw new Error("remove edge from clustering not implemented!");var i=e._getClusterNodeForNode(n.fromId);void 0!==i&&e._clusterEdges(e.body.nodes[n.fromId],n,i);var o=e._getClusterNodeForNode(n.toId);void 0!==o&&e._clusterEdges(e.body.nodes[n.toId],n,o)}}));for(var l=!1,c=!0,f=function(){var t=[];o((function(e){var n=(0,r.default)(e.containedNodes).length,i=!0===e.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&t.push(e.id)}));for(var n=0;n<t.length;++n)e.openCluster(t[n],{},!1);c=t.length>0,l=l||c};c;)f();l&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),e}();t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(0)),o=u(n(1)),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=n(2),c=function(e){function t(e,n,o,s,u,l){(0,i.default)(this,t);var c=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n,o,s,u,l));return c.isCluster=!0,c.containedNodes={},c.containedEdges={},c}return(0,s.default)(t,e),(0,o.default)(t,[{key:"_openChildCluster",value:function(e){var t=this,n=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],l.forEach(n.edges,(function(e){delete t.containedEdges[e.id]})),l.forEach(n.containedNodes,(function(e,n){t.containedNodes[n]=e})),n.containedNodes={},l.forEach(n.containedEdges,(function(e,n){t.containedEdges[n]=e})),n.containedEdges={},l.forEach(n.edges,(function(e){l.forEach(t.edges,(function(n){var r=n.clusteringEdgeReplacingIds.indexOf(e.id);-1!==r&&(l.forEach(e.clusteringEdgeReplacingIds,(function(e){n.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=n.id})),n.clusteringEdgeReplacingIds.splice(r,1))}))})),n.edges=[]}}]),t}(n(47).default);t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=function(){function e(t,n){var i;(0,r.default)(this,e),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(e){e()}:i,this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},a.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,i.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(e){void 0!==e&&a.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if("undefined"!=typeof window){var n=void 0,r=window;return!0===this.requiresTimeout?n=r.setTimeout(e,t):r.requestAnimationFrame&&(n=r.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){e._redraw(!1)}),0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var t=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(t.clearRect(0,0,n,r),0===this.canvas.frame.clientWidth)return;t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,e),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),!0===e&&t.clearRect(0,0,n,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t=this.body.nodes,n=void 0;for(var r in t)t.hasOwnProperty(r)&&((n=t[r]).resize(e),n.updateBoundingBox(e,n.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,i=void 0,o=[],a=20,s=this.canvas.DOMtoCanvas({x:-a,y:-a}),u=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),l={top:s.y,left:s.x,bottom:u.y,right:u.x},c=0;c<r.length;c++)(i=n[r[c]]).isSelected()?o.push(r[c]):!0===t||!0===i.isBoundingBoxOverlappingWith(l)?i.draw(e):i.updateBoundingBox(e,i.selected);for(var f=0;f<o.length;f++)(i=n[o[f]]).draw(e)}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,r=void 0,i=0;i<n.length;i++)!0===(r=t[n[i]]).connected&&r.draw(e)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=e.indexOf("msie 9.0")||-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(37),u=n(2),l=function(){function e(t){(0,r.default)(this,e),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},u.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,i.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(e){var t=this;void 0!==e&&u.selectiveDeepExtend(["width","height","autoResize"],this.options,e),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval((function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=this._onResize.bind(this),u.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),u.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1!=e?n=this.cameraState.scale*e:1!=t&&(n=this.cameraState.scale*t),this.body.view.scale=n;var r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),i={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=i.x*this.body.view.scale,this.body.view.translation.y+=i.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==e.indexOf("%")||-1!==e.indexOf("px"))return e;if(-1===e.indexOf("%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new a(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_ALL}),s.onTouch(this.hammer,(function(t){e.body.eventListeners.onTouch(t)})),this.hammer.on("tap",(function(t){e.body.eventListeners.onTap(t)})),this.hammer.on("doubletap",(function(t){e.body.eventListeners.onDoubleTap(t)})),this.hammer.on("press",(function(t){e.body.eventListeners.onHold(t)})),this.hammer.on("panstart",(function(t){e.body.eventListeners.onDragStart(t)})),this.hammer.on("panmove",(function(t){e.body.eventListeners.onDrag(t)})),this.hammer.on("panend",(function(t){e.body.eventListeners.onDragEnd(t)})),this.hammer.on("pinch",(function(t){e.body.eventListeners.onPinch(t)})),this.frame.canvas.addEventListener("mousewheel",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener("DOMMouseScroll",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener("mousemove",(function(t){e.body.eventListeners.onMouseMove(t)})),this.frame.canvas.addEventListener("contextmenu",(function(t){e.body.eventListeners.onContext(t)})),this.hammerFrame=new a(this.frame),s.onRelease(this.hammerFrame,(function(t){e.body.eventListeners.onRelease(t)}))}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var n=!1,r=this.frame.canvas.width,i=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),s=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===s||this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==s&&(this.frame.canvas.height=s,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(i/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return"undefined"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=n(76).default,u=function(){function e(t,n){var i=this;(0,r.default)(this,e),this.body=t,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",(function(){i.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,i.default)(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,r=void 0;if(void 0!==e.nodes&&0!==e.nodes.length||(e.nodes=this.body.nodeIndices),!0===t){var i=0;for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var a=this.body.nodes[o];!0===a.predefinedPosition&&(i+=1)}if(i>.5*this.body.nodeIndices.length)return void this.fit(e,!1);n=s.getRange(this.body.nodes,e.nodes);var u=this.body.nodeIndices.length;r=12.662/(u+7.4147)+.0964822;var l=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);r*=l}else{this.body.emitter.emit("_resizeNodes"),n=s.getRange(this.body.nodes,e.nodes);var c=1.1*Math.abs(n.maxX-n.minX),f=1.1*Math.abs(n.maxY-n.minY),d=this.canvas.frame.canvas.clientWidth/c,h=this.canvas.frame.canvas.clientHeight/f;r=d<=h?d:h}(r>1||0===r)&&(r=1);var p=s.findCenter(n),v={position:p,scale:r,animation:e.animation};this.moveTo(v)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){void 0!==e?(void 0===e.offset&&(e.offset={x:0,y:0}),void 0===e.offset.x&&(e.offset.x=0),void 0===e.offset.y&&(e.offset.y=0),void 0===e.scale&&(e.scale=this.body.view.scale),void 0===e.position&&(e.position=this.getViewPosition()),void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)):e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=t.x-e.position.x,r=t.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+n*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=n.x-e,i=n.y-t,o=this.body.view.translation,a={x:o.x+r*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t=a.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(2),s=n(233).default,u=n(104).default,l=function(){function e(t,n,i){(0,r.default)(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new s(t,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,i.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",(function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer}))}},{key:"setOptions",value:function(e){void 0!==e&&(a.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),a.mergeOptions(this.options,e,"keyboard"),e.tooltip&&(a.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=a.parseColor(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-a.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-a.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent("click",e,t),this.selectionHandler._generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.selectionHandler.getSelection(),i=!1;i=!0===n?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var o=this.selectionHandler.getSelection(),a=this._determineDifference(r,o),s=this._determineDifference(o,r);a.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",t,e,r),i=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",t,e,r),i=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",t,e),i=!0),s.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",t,e),i=!0),!0===i&&this.selectionHandler._generateClickEvent("select",t,e)}},{key:"_determineDifference",value:function(e,t){var n=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];-1===t.indexOf(i)&&n.push(i)}return n};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=a.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],o={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",e,n);var i=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;r.forEach((function(e){var n=e.node;!1===e.xFixed&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+i)),!1===e.yFixed&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var a=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(t.forEach((function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var r=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));var i=this.body.view.translation,o=e/n,a=(1-o)*t.x+i.x*o,s=(1-o)*t.y+i.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:s},null!=r){var u=this.canvas.canvasToDOM(r);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0!==t){var n=this.body.view.scale,r=t/10;t<0&&(r/=1-r),n*=1+r;var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(n,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),r=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(r=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===r&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout((function(){return t._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),r={left:t,top:n,right:t,bottom:n},i=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,a="node";if(void 0===this.popupObj){for(var s=this.body.nodeIndices,l=this.body.nodes,c=void 0,f=[],d=0;d<s.length;d++)!0===(c=l[s[d]]).isOverlappingWith(r)&&void 0!==c.getTitle()&&f.push(s[d]);f.length>0&&(this.popupObj=l[f[f.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var h=this.body.edgeIndices,p=this.body.edges,v=void 0,m=[],g=0;g<h.length;g++)!0===(v=p[h[g]]).isOverlappingWith(r)&&!0===v.connected&&void 0!==v.getTitle()&&m.push(h[g]);m.length>0&&(this.popupObj=p[m[m.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==i&&(void 0===this.popup&&(this.popup=new u(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var r=this.selectionHandler.getNodeAt(e);n=void 0!==r&&r.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(10),s=n(37),u=n(35),l=function(){function e(t,n){var i=this;(0,r.default)(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return(0,i.default)(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var r=0;r<t.length;r++){this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[r]]);var i=new a(this.navigationDOM[t[r]]);"_fit"===n[r]?s.onTouch(i,this._fit.bind(this)):s.onTouch(i,this.bindToRedraw.bind(this,n[r])),this.navigationHammers.push(i)}var o=new a(this.canvas.frame);s.onRelease(o,(function(){e._stopMovement()})),this.navigationHammers.push(o),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=t/e,i=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,o=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=t/e,i=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,o=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=u({container:window,preventDefault:!0}):this.keycharm=u({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",(function(){e.bindToRedraw("_moveUp")}),"keydown"),this.keycharm.bind("down",(function(){e.bindToRedraw("_moveDown")}),"keydown"),this.keycharm.bind("left",(function(){e.bindToRedraw("_moveLeft")}),"keydown"),this.keycharm.bind("right",(function(){e.bindToRedraw("_moveRight")}),"keydown"),this.keycharm.bind("=",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num+",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num-",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("-",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("[",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("]",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pageup",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pagedown",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("up",(function(){e.unbindFromRedraw("_moveUp")}),"keyup"),this.keycharm.bind("down",(function(){e.unbindFromRedraw("_moveDown")}),"keyup"),this.keycharm.bind("left",(function(){e.unbindFromRedraw("_moveLeft")}),"keyup"),this.keycharm.bind("right",(function(){e.unbindFromRedraw("_moveRight")}),"keyup"),this.keycharm.bind("=",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num+",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num-",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("-",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("[",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("]",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pageup",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pagedown",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(47).default,s=n(74).default,u=n(2),l=function(){function e(t,n){var i=this;(0,r.default)(this,e),this.body=t,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},u.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return(0,i.default)(e,[{key:"setOptions",value:function(e){void 0!==e&&u.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var n={};return n.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},n.event=e,n}},{key:"_generateClickEvent",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(t,n);if(!0===i)o.nodes=[],o.edges=[];else{var a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}void 0!==r&&(o.previousSelection=r),"click"==e&&(o.items=this.getClickedItems(n)),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof a&&!0===t&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],n=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++){var i=this.body.nodeIndices[r];n[i].isOverlappingWith(e)&&t.push(i)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(n);return r.length>0?!0===t?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var i=this.body.edgeIndices[r];n[i].isOverlappingWith(e)&&t.push(i)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),r=10,i=null,o=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a],u=o[s];if(u.connected){var l=u.from.x,c=u.from.y,f=u.to.x,d=u.to.y,h=u.edgeType.getDistanceToEdge(l,c,f,d,n.x,n.y);h<r&&(i=s,r=h)}}return null!==i?!0===t?this.body.edges[i]:i:void 0}},{key:"_addToSelection",value:function(e){e instanceof a?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof a?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof a?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.select(),this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.hover=!0,this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.unselect(),this._removeFromSelection(n)}}},{key:"emitBlurEvent",value:function(e,t,n){var r=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof a?(r.node=n.id,this.body.emitter.emit("blurNode",r)):(r.edge=n.id,this.body.emitter.emit("blurEdge",r)))}},{key:"emitHoverEvent",value:function(e,t,n){var r=this._initBaseEvent(e,t),i=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),i=!0,n instanceof a?(r.node=n.id,this.body.emitter.emit("hoverNode",r)):(r.edge=n.id,this.body.emitter.emit("hoverEdge",r))),i}},{key:"hoverObject",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var r=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===n||n instanceof a&&n.id!=i||n instanceof s)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],r=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===r?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof s&&n.id!=o||n instanceof a&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],r=!0));void 0!==n&&(r=r||this.emitHoverEvent(e,t,n),n instanceof a&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)),!0===r&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(this.selectionObj.nodes[t].id);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(this.selectionObj.edges[t].id);return e}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,r=void 0;if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes)for(n=0;n<e.nodes.length;n++){r=e.nodes[n];var i=this.body.nodes[r];if(!i)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(i,t.highlightEdges)}if(e.edges)for(n=0;n<e.edges.length;n++){r=e.edges[n];var o=this.body.edges[r];if(!o)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],r=this.body.nodeIndices,i=this.body.nodes,o=r.length-1;o>=0;o--){var a=i[r[o]].getItemsOnPoint(t);n.push.apply(n,a)}for(var s=this.body.edgeIndices,u=this.body.edges,l=s.length-1;l>=0;l--){var c=u[s[l]].getItemsOnPoint(t);n.push.apply(n,c)}return n}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(30)),i=u(n(6)),o=u(n(8)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=n(2),c=n(76).default,f=n(236),d=f.HorizontalStrategy,h=f.VerticalStrategy,p=function(){function e(){(0,a.default)(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,s.default)(e,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,n={};return function e(r){if(void 0!==n[r])return n[r];var i=t.levels[r];if(t.childrenReference[r]){var o=t.childrenReference[r];if(o.length>0)for(var a=0;a<o.length;a++)i=Math.max(i,e(o[a]))}return n[r]=i,i}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var n in e)e.hasOwnProperty(n)&&void 0!==this.levels[n]&&(t=Math.min(this.levels[n],t));for(var r in e)e.hasOwnProperty(r)&&void 0!==this.levels[r]&&(this.levels[r]-=t)}},{key:"getTreeSize",value:function(e,t){var n=1e9,r=-1e9,i=1e9,o=-1e9;for(var a in this.trees)if(this.trees.hasOwnProperty(a)&&this.trees[a]===t){var s=e[a];n=Math.min(s.x,n),r=Math.max(s.x,r),i=Math.min(s.y,i),o=Math.max(s.y,o)}return{min_x:n,max_x:r,min_y:i,max_y:o}}},{key:"hasSameParent",value:function(e,t){var n=this.parentReference[e.id],r=this.parentReference[t.id];if(void 0===n||void 0===r)return!1;for(var i=0;i<n.length;i++)for(var o=0;o<r.length;o++)if(n[i]==r[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return(0,o.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,r=this.distributionOrdering[t];for(var i in r)if(r[i]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),e}(),v=function(){function e(t){(0,a.default)(this,e),this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,s.default)(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){e.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}}))}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,r=n.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,e),l.mergeOptions(this.options,e,"hierarchical"),void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed),!0===n.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===r)return this.body.emitter.emit("refresh"),l.deepExtend(t,this.optionsBackup)}return t}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===(0,i.default)(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var r=e.edges.smooth;void 0!==r.type&&"dynamic"!==r.type&&(n=r.type),this.optionsBackup.edges={smooth:void 0===r.enabled||r.enabled,type:void 0===r.type?"dynamic":r.type,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection},e.edges.smooth={enabled:void 0===r.enabled||r.enabled,type:n,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var t=e.length+50,n=0;n<e.length;n++){var r=e[n],i=2*Math.PI*this.seededRandom();void 0===r.x&&(r.x=t*Math.cos(i)),void 0===r.y&&(r.y=t*Math.sin(i))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){var r=0,i={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>150){for(var o=e.length;e.length>150&&r<=10;){r+=1;var a=e.length;if(r%3==0?this.body.modules.clustering.clusterBridges(i):this.body.modules.clustering.clusterOutliers(i),a==e.length&&r%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}r>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var s=0;s<e.length;s++){var u=this.body.nodes[e[s]];!1===u.predefinedPosition&&(u.x+=70*(.5-this.seededRandom()),u.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=c.getRangeCore(this.body.nodes,this.body.nodeIndices),t=c.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.x-=t.x,r.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e=void 0,t=void 0,n=!1,r=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new p,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(void 0!==(e=this.body.nodes[t]).options.level?(n=!0,this.hierarchical.levels[t]=e.options.level):r=!0);if(!0===r&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===r){var i=this.options.hierarchical.sortMethod;"hubsize"===i?this._determineLevelsByHubsize():"directed"===i?this._determineLevelsDirected():"custom"===i&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,n={},i=function(t,n){var r=e.hierarchical.trees;for(var i in r)r.hasOwnProperty(i)&&r[i]===t&&e.direction.shift(i,n)},o=function t(n,r){if(!r[n.id]&&(r[n.id]=!0,e.hierarchical.childrenReference[n.id])){var i=e.hierarchical.childrenReference[n.id];if(i.length>0)for(var o=0;o<i.length;o++)t(e.body.nodes[i[o]],r)}},a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,o=1e9,a=1e9,s=-1e9;for(var u in t)if(t.hasOwnProperty(u)){var l=e.body.nodes[u],c=e.hierarchical.levels[l.id],f=e.direction.getPosition(l),d=e._getSpaceAroundNode(l,t),h=(0,r.default)(d,2),p=h[0],v=h[1];i=Math.min(p,i),o=Math.min(v,o),c<=n&&(a=Math.min(f,a),s=Math.max(f,s))}return[a,s,i,o]},s=function(t,n){var r=e.hierarchical.getMaxLevel(t.id),i=e.hierarchical.getMaxLevel(n.id);return Math.min(r,i)},u=function(t,n,r){for(var i=e.hierarchical,o=0;o<n.length;o++){var a=n[o],s=i.distributionOrdering[a];if(s.length>1)for(var u=0;u<s.length-1;u++){var l=s[u],c=s[u+1];i.hasSameParent(l,c)&&i.inSameSubNetwork(l,c)&&t(l,c,r)}}},l=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=e.direction.getPosition(n),l=e.direction.getPosition(r),c=Math.abs(l-u),f=e.options.hierarchical.nodeSpacing;if(c>f){var d={},h={};o(n,d),o(r,h);var p=s(n,r),v=a(d,p),m=a(h,p),g=v[1],y=m[0],b=m[2],_=Math.abs(g-y);if(_>f){var w=g-y+f;w<-b+f&&(w=-b+f),w<0&&(e._shiftBlock(r.id,w),t=!0,!0===i&&e._centerParent(r))}}},c=function(i,s){for(var u=s.id,l=s.edges,c=e.hierarchical.levels[s.id],f=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,d={},h=[],p=0;p<l.length;p++){var v=l[p];if(v.toId!=v.fromId){var m=v.toId==u?v.from:v.to;d[l[p].id]=m,e.hierarchical.levels[m.id]<c&&h.push(v)}}var g=function(t,n){for(var r=0,i=0;i<n.length;i++)if(void 0!==d[n[i].id]){var o=e.direction.getPosition(d[n[i].id])-t;r+=o/Math.sqrt(o*o+f)}return r},y=function(t,n){for(var r=0,i=0;i<n.length;i++)if(void 0!==d[n[i].id]){var o=e.direction.getPosition(d[n[i].id])-t;r-=f*Math.pow(o*o+f,-1.5)}return r},b=function(t,n){for(var r=e.direction.getPosition(s),i={},o=0;o<t;o++){var a=g(r,n),u=y(r,n);if(void 0!==i[r-=Math.max(-40,Math.min(40,Math.round(a/u)))])break;i[r]=o}return r},_=b(i,h);!function(r){var i=e.direction.getPosition(s);if(void 0===n[s.id]){var u={};o(s,u),n[s.id]=u}var l=a(n[s.id]),c=l[2],f=l[3],d=r-i,h=0;d>0?h=Math.min(d,f-e.options.hierarchical.nodeSpacing):d<0&&(h=-Math.min(-d,c-e.options.hierarchical.nodeSpacing)),0!=h&&(e._shiftBlock(s.id,h),t=!0)}(_),function(n){var i=e.direction.getPosition(s),o=e._getSpaceAroundNode(s),a=(0,r.default)(o,2),u=a[0],l=a[1],c=n-i,f=i;c>0?f=Math.min(i+(l-e.options.hierarchical.nodeSpacing),n):c<0&&(f=Math.max(i-(u-e.options.hierarchical.nodeSpacing),n)),f!==i&&(e.direction.setPosition(s,f),t=!0)}(_=b(i,l))};!0===this.options.hierarchical.blockShifting&&(function(n){var r=e.hierarchical.getLevels();r=r.reverse();for(var i=0;i<5&&(t=!1,u(l,r,!0),!0===t);i++);}(),function(){for(var t in e.body.nodes)e.body.nodes.hasOwnProperty(t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var r=e.hierarchical.getLevels();r=r.reverse();for(var i=0;i<20;i++){t=!1;for(var o=0;o<r.length;o++)for(var a=r[o],s=e.hierarchical.distributionOrdering[a],u=0;u<s.length;u++)c(1e3,s[u]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=t.reverse();for(var n=0;n<t.length;n++)for(var r=t[n],i=e.hierarchical.distributionOrdering[r],o=0;o<i.length;o++)e._centerParent(i[o])}(),function(){for(var t=function(){for(var t=[],n=0;n<e.hierarchical.numTrees();n++)t.push(e.direction.getTreeSize(n));return t}(),n=0,r=0;r<t.length-1;r++)n+=t[r].max-t[r+1].min+e.options.hierarchical.treeSpacing,i(r+1,n)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var n=!0;void 0===t&&(n=!1);var r=this.hierarchical.levels[e.id];if(void 0!==r){var i=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[r],s=1e9,u=1e9;if(0!==i){var l=a[i-1];(!0===n&&void 0===t[l.id]||!1===n)&&(s=o-this.direction.getPosition(l))}if(i!=a.length-1){var c=a[i+1];if(!0===n&&void 0===t[c.id]||!1===n){var f=this.direction.getPosition(c);u=Math.min(u,f-o)}}return[s,u]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var i=t[n],o=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(void 0!==a){var s=this._getCenterPosition(a),u=this.direction.getPosition(o),l=this._getSpaceAroundNode(o),c=(0,r.default)(l,2),f=c[0],d=c[1],h=u-s;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<f-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,s)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(e.hasOwnProperty(t)){var n=(0,o.default)(e[t]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var r=0,i=0;i<n.length;i++){var a=n[i];if(void 0===this.positionedNodes[a.id]){var s=this.options.hierarchical.nodeSpacing,u=s*r;r>0&&(u=this.direction.getPosition(n[i-1])+s),this.direction.setPosition(a,u,t),this._validatePositionAndContinue(a,t,u),r++}}}}},{key:"_placeBranchNodes",value:function(e,t){var n=this.hierarchical.childrenReference[e];if(void 0!==n){for(var r=[],i=0;i<n.length;i++)r.push(this.body.nodes[n[i]]);this.direction.sort(r);for(var o=0;o<r.length;o++){var a=r[o],s=this.hierarchical.levels[a.id];if(!(s>t&&void 0===this.positionedNodes[a.id]))return;var u,l=this.options.hierarchical.nodeSpacing;u=0===o?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(r[o-1])+l,this.direction.setPosition(a,u,s),this._validatePositionAndContinue(a,s,u)}var c=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[e],c,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-r<this.options.hierarchical.nodeSpacing){var i=r+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,i)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:"_getDistribution",value:function(){var e={},t=void 0,n=void 0;for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){n=this.body.nodes[t];var r=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(n,r),void 0===e[r]&&(e[r]={}),e[r][t]=n}return e}},{key:"_getActiveEdges",value:function(e){var t=this,n=[];return l.forEach(e.edges,(function(e){-1!==t.body.edgeIndices.indexOf(e.id)&&n.push(e)})),n}},{key:"_getHubSizes",value:function(){var e=this,t={},n=this.body.nodeIndices;l.forEach(n,(function(n){var r=e.body.nodes[n],i=e._getActiveEdges(r).length;t[i]=!0}));var r=[];return l.forEach(t,(function(e){r.push(Number(e))})),r.sort((function(e,t){return t-e})),r}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(t,n){e.hierarchical.levelDownstream(t,n)},n=this._getHubSizes(),r=function(r){var i=n[r];if(0===i)return"break";l.forEach(e.body.nodeIndices,(function(n){var r=e.body.nodes[n];i===e._getActiveEdges(r).length&&e._crawlNetwork(t,n)}))},i=0;i<n.length&&"break"!==r(i);++i);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork((function(t,n,r){var i=e.hierarchical.levels[t.id];void 0===i&&(i=e.hierarchical.levels[t.id]=1e5);var o=(c.cloneOptions(t,"node"),c.cloneOptions(n,"node"),void c.cloneOptions(r,"edge"));e.hierarchical.levels[n.id]=i+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e=this;this._crawlNetwork((function(t,n,r){var i=e.hierarchical.levels[t.id],o=e.hierarchical.levels[n.id];(function(t){return l.forEach(e.body.edges,(function(e){if(e.toId===t.fromId&&e.fromId===t.toId)return!0})),!1})(r)&&void 0!==i&&void 0!==o||(void 0===i&&(i=e.hierarchical.levels[t.id]=1e4),r.toId==n.id?e.hierarchical.levels[n.id]=i+1:e.hierarchical.levels[n.id]=i-1)})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork((function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1],r={},i=function n(i,o){if(void 0===r[i.id]){e.hierarchical.setTreeIndex(i,o),r[i.id]=!0;for(var a=void 0,s=e._getActiveEdges(i),u=0;u<s.length;u++){var l=s[u];!0===l.connected&&(a=l.toId==i.id?l.from:l.to,i.id!=a.id&&(t(i,a,l),n(a,o)))}}};if(void 0===n)for(var o=0,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];if(void 0===r[s]){var u=this.body.nodes[s];i(u,o),o+=1}}else{var l=this.body.nodes[n];if(void 0===l)return void console.error("Node not found:",n);i(l)}}},{key:"_shiftBlock",value:function(e,t){var n=this,r={};!function e(i){if(!r[i]){r[i]=!0,n.direction.shift(i,t);var o=n.hierarchical.childrenReference[i];if(void 0!==o)for(var a=0;a<o.length;a++)e(o[a])}}(e)}},{key:"_findCommonParent",value:function(e,t){var n=this,r={};return function e(t,r){var i=n.hierarchical.parentReference[r];if(void 0!==i)for(var o=0;o<i.length;o++){var a=i[o];t[a]=!0,e(t,a)}}(r,e),function e(t,r){var i=n.hierarchical.parentReference[r];if(void 0!==i)for(var o=0;o<i.length;o++){var a=i[o];if(void 0!==t[a])return{foundParent:a,withChild:r};var s=e(t,a);if(null!==s.foundParent)return s}return{foundParent:null,withChild:r}}(r,t)}},{key:"setDirectionStrategy",value:function(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new h(this):new d(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,n=-1e9,r=0;r<e.length;r++){var i=void 0;if(void 0!==e[r].id)i=e[r];else{var o=e[r];i=this.body.nodes[o]}var a=this.direction.getPosition(i);t=Math.min(t,a),n=Math.max(n,a)}return.5*(t+n)}}]),e}();t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalStrategy=t.HorizontalStrategy=void 0;var r=u(n(3)),i=u(n(4)),o=u(n(5)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),c=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.layout=e,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:"sort",value:function(e){e.sort((function(e,t){return void 0===e.x||void 0===t.x?0:e.x-t.x}))}},{key:"fix",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),t}(l),f=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.layout=e,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:"sort",value:function(e){e.sort((function(e,t){return void 0===e.y||void 0===t.y?0:e.y-t.y}))}},{key:"fix",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),t}(l);t.HorizontalStrategy=f,t.VerticalStrategy=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(8)),i=u(n(19)),o=u(n(6)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var l=n(2),c=n(10),f=n(37),d=function(){function e(t,n,r){var i=this;(0,a.default)(this,e),this.body=t,this.canvas=n,this.selectionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},l.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){i._clean()})),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,s.default)(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=n.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=n.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,l.deepExtend(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),t=this.selectionHandler._getSelectedEdgeCount(),n=e+t,r=this.options.locales[this.options.locale],i=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),i=!0),!1!==this.options.addEdge&&(!0===i?this._createSeperator(1):i=!0,this._createAddEdgeButton(r)),1===e&&"function"==typeof this.options.editNode?(!0===i?this._createSeperator(2):i=!0,this._createEditNodeButton(r)):1===t&&0===e&&!1!==this.options.editEdge&&(!0===i?this._createSeperator(3):i=!0,this._createEditEdgeButton(r)),0!==n&&(e>0&&!1!==this.options.deleteNode||0===e&&!1!==this.options.deleteEdge)&&(!0===i&&this._createSeperator(4),this._createDeleteButton(r)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=l.deepExtend({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,o.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var t=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(t.from.x,t.from.y),r=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(r.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(e){var i=t.edgeType.findBorderPositions(e);!1===n.selected&&(n.x=i.from.x,n.y=i.from.y),!1===r.selected&&(r.x=i.to.x,r.y=i.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var i=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(i.from,i.to)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),r=void 0;if(t.length>0){for(var i=0;i<t.length;i++)if(!0===this.body.nodes[t[i]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(r=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(r=this.options.deleteEdge);if("function"==typeof r){var o={nodes:t,edges:n};if(2!==r.length)throw new Error("The function for delete does not support two arguments (data, callback)");r(o,(function(t){null!=t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=l.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+l.randomUUID(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var r=this.body.functions.createNode(n);return r.shape.boundingBox={left:e,right:e,top:t,bottom:t},r}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},l.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),l.recursiveDOMDelete(this.manipulationDiv),l.recursiveDOMDelete(this.editModeDiv),l.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(e){var t=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(e){var t=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(e){var t=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(e){var t;t=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var n=this._createButton("delete",t,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(e){var t=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerHTML=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+(0,i.default)((0,r.default)(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,t){var n=new c(e,{});f.onTouch(n,t),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var t=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);-1!==t&&this.body.edgeIndices.splice(t,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var r=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==r&&this.body.nodeIndices.splice(r,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=l.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(e){var t=this.lastTouch,n=this.selectionHandler._pointerToPositionObject(t),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=r.isOverlappingWith(n),s=i.isOverlappingWith(n);!0===a?(this.selectedControlNode=r,o.edgeType.from=r):!0===s&&(this.selectedControlNode=i,o.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var r=t.x-this.lastTouch.x,i=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+i}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var i=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=i.length-1;a>=0;a--)if(i[a]!==this.selectedControlNode.id){o=this.body.nodes[i[a]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===s.id?this._performEditEdge(o.id,r.to.id):this._performEditEdge(r.from.id,o.id)}else r.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=l.extend({},this.body.view.translation);var t=this.lastTouch,n=this.selectionHandler.getNodeAt(t);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(n.x,n.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var i=this.body.functions.createEdge({id:"connectionEdge"+l.randomUUID(),from:n.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[i.id]=i,this.body.edgeIndices.push(i.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(i.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center);if(void 0!==this.temporaryIds.nodes[0]){var n=this.body.nodes[this.temporaryIds.nodes[0]];n.x=this.canvas._XconvertDOMtoCanvas(t.x),n.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else{var r=t.x-this.lastTouch.x,i=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+i}}}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var i=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=i.length-1;a>=0;a--)if(-1===this.temporaryIds.nodes.indexOf(i[a])){o=this.body.nodes[i[a]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(r,o.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,n={id:l.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(e){null!=e&&"addNode"===t.inMode&&(t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar())}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var n=this,r={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,(function(e){null!=e&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var n=this,r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges._data[this.edgeBeingEditedId].label},i=this.options.editEdge;if("object"===(void 0===i?"undefined":(0,o.default)(i))&&(i=i.editWithoutDrag),"function"==typeof i){if(2!==i.length)throw new Error("The function for edit does not support two arguments (data, callback)");i(r,(function(e){null==e||"editEdge"!==n.inMode?(n.body.edges[r.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(30)),i=s(n(0)),o=s(n(1)),a=s(n(239));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,r){(0,i.default)(this,e),this.body=t,this.springLength=n,this.springConstant=r,this.distanceSolver=new a.default}return(0,o.default)(e,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var o=.01,a=1,s=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,c=1e9,f=0,d=0,h=0,p=0,v=0;c>o&&s<u;){s+=1;var m=this._getHighestEnergyNode(n),g=(0,r.default)(m,4);for(f=g[0],c=g[1],d=g[2],h=g[3],p=c,v=0;p>a&&v<l;){v+=1,this._moveNode(f,d,h);var y=this._getEnergy(f),b=(0,r.default)(y,3);p=b[0],d=b[1],h=b[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=0,o=t[0],a=0,s=0,u=0;u<t.length;u++){var l=t[u];if(!1===n[l].predefinedPosition||!0===n[l].isCluster&&!0===e||!0===n[l].options.fixed.x||!0===n[l].options.fixed.y){var c=this._getEnergy(l),f=(0,r.default)(c,3),d=f[0],h=f[1],p=f[2];i<d&&(i=d,o=l,a=h,s=p)}}return[o,i,a,s]}},{key:"_getEnergy",value:function(e){var t=(0,r.default)(this.E_sums[e],2),n=t[0],i=t[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(e,t,n){for(var r=this.body.nodeIndices,i=this.body.nodes,o=0,a=0,s=0,u=i[e].x,l=i[e].y,c=this.K_matrix[e],f=this.L_matrix[e],d=0;d<r.length;d++){var h=r[d];if(h!==e){var p=i[h].x,v=i[h].y,m=c[h],g=f[h],y=1/Math.pow(Math.pow(u-p,2)+Math.pow(l-v,2),1.5);o+=m*(1-g*Math.pow(l-v,2)*y),a+=m*(g*(u-p)*(l-v)*y),s+=m*(1-g*Math.pow(u-p,2)*y)}}var b=(t/o+n/a)/(a/o-s/a),_=-(a*b+t)/o;i[e].x+=_,i[e].y+=b,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var r=0;r<t.length;r++){this.L_matrix[t[r]]={};for(var i=0;i<t.length;i++)this.L_matrix[t[r]][t[i]]=n*e[t[r]][t[i]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var r=0;r<t.length;r++){this.K_matrix[t[r]]={};for(var i=0;i<t.length;i++)this.K_matrix[t[r]][t[i]]=n*Math.pow(e[t[r]][t[i]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var r=0;r<e.length;r++){for(var i=e[r],o=t[i].x,a=t[i].y,s=0,u=0,l=r;l<e.length;l++){var c=e[l];if(c!==i){var f=t[c].x,d=t[c].y,h=1/Math.sqrt(Math.pow(o-f,2)+Math.pow(a-d,2));this.E_matrix[i][l]=[this.K_matrix[i][c]*(o-f-this.L_matrix[i][c]*(o-f)*h),this.K_matrix[i][c]*(a-d-this.L_matrix[i][c]*(a-d)*h)],this.E_matrix[c][r]=this.E_matrix[i][l],s+=this.E_matrix[i][l][0],u+=this.E_matrix[i][l][1]}}this.E_sums[i]=[s,u]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,r=this.E_matrix[e],i=this.K_matrix[e],o=this.L_matrix[e],a=n[e].x,s=n[e].y,u=0,l=0,c=0;c<t.length;c++){var f=t[c];if(f!==e){var d=r[c],h=d[0],p=d[1],v=n[f].x,m=n[f].y,g=1/Math.sqrt(Math.pow(a-v,2)+Math.pow(s-m,2)),y=i[f]*(a-v-o[f]*(a-v)*g),b=i[f]*(s-m-o[f]*(s-m)*g);r[c]=[y,b],u+=y,l+=b;var _=this.E_sums[f];_[0]+=y-h,_[1]+=b-p}}this.E_sums[e]=[u,l]}}]),e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"getDistances",value:function(e,t,n){for(var r={},i=e.edges,o=0;o<t.length;o++){var a={};r[t[o]]=a;for(var s=0;s<t.length;s++)a[t[s]]=o==s?0:1e9}for(var u=0;u<n.length;u++){var l=i[n[u]];!0===l.connected&&void 0!==r[l.fromId]&&void 0!==r[l.toId]&&(r[l.fromId][l.toId]=1,r[l.toId][l.fromId]=1)}for(var c=t.length,f=0;f<c;f++)for(var d=t[f],h=r[d],p=0;p<c-1;p++)for(var v=t[p],m=r[v],g=p+1;g<c;g++){var y=t[g],b=r[y],_=Math.min(m[y],m[d]+h[y]);m[y]=_,b[v]=_}return r}}]),e}();t.default=a}])},e.exports=r()},91:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},92:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},93:function(e,t,n){var r=n(94);e.exports=function(e){var t,n=[],i=[],o=[],a={},s=[];function u(e){var n,r,c=!1;for(i.push(e),o[e]=!0,n=0;n<s[e].length;n++)(r=s[e][n])===t?(l(t,i),c=!0):o[r]||(c=u(r));if(c)!function e(t){o[t]=!1,a.hasOwnProperty(t)&&Object.keys(a[t]).forEach((function(n){delete a[t][n],o[n]&&e(n)}))}(e);else for(n=0;n<s[e].length;n++){r=s[e][n];var f=a[r];f||(f={},a[r]=f),f[r]=!0}return i.pop(),c}function l(e,t){var r=[].concat(t).concat(e);n.push(r)}function c(t){!function(t){for(var n=0;n<e.length;n++)n<t&&(e[n]=[]),e[n]=e[n].filter((function(e){return e>=t}))}(t);for(var n,i=r(e).components.filter((function(e){return e.length>1})),o=1/0,a=0;a<i.length;a++)for(var s=0;s<i[a].length;s++)i[a][s]<o&&(o=i[a][s],n=a);var u=i[n];return!!u&&{leastVertex:o,adjList:e.map((function(e,t){return-1===u.indexOf(t)?[]:e.filter((function(e){return-1!==u.indexOf(e)}))}))}}t=0;for(var f=e.length;t<f;){var d=c(t);if(t=d.leastVertex,s=d.adjList){for(var h=0;h<s.length;h++)for(var p=0;p<s[h].length;p++){var v=s[h][p];o[+v]=!1,a[v]={}}u(t),t+=1}else t=f}return n}},94:function(e,t,n){"use strict";e.exports=function(e){for(var t=e.length,n=new Array(t),r=new Array(t),i=new Array(t),o=new Array(t),a=new Array(t),s=new Array(t),u=0;u<t;++u)n[u]=-1,r[u]=0,i[u]=!1,o[u]=0,a[u]=-1,s[u]=[];var l,c=0,f=[],d=[];function h(t){var u=[t],l=[t];for(n[t]=r[t]=c,i[t]=!0,c+=1;l.length>0;){t=l[l.length-1];var h=e[t];if(o[t]<h.length){for(var p=o[t];p<h.length;++p){var v=h[p];if(n[v]<0){n[v]=r[v]=c,i[v]=!0,c+=1,u.push(v),l.push(v);break}i[v]&&(r[t]=0|Math.min(r[t],r[v])),a[v]>=0&&s[t].push(a[v])}o[t]=p}else{if(r[t]===n[t]){var m=[],g=[],y=0;for(p=u.length-1;p>=0;--p){var b=u[p];if(i[b]=!1,m.push(b),g.push(s[b]),y+=s[b].length,a[b]=f.length,b===t){u.length=p;break}}f.push(m);var _=new Array(y);for(p=0;p<g.length;p++)for(var w=0;w<g[p].length;w++)_[--y]=g[p][w];d.push(_)}l.pop()}}}for(u=0;u<t;++u)n[u]<0&&h(u);for(u=0;u<d.length;u++){var p=d[u];if(0!==p.length){p.sort((function(e,t){return e-t})),l=[p[0]];for(var v=1;v<p.length;v++)p[v]!==p[v-1]&&l.push(p[v]);d[u]=l}}return{components:f,adjacencyList:d}}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=10,t=50,n=4,o=null;function a(a){var s=e+t;a.append("path").attr("d",o).style("stroke-width",1).style("stroke","black").style("stroke-dasharray",e+","+t).each((function(t){var o=(0,r.select)(this).node(),a=(0,r.select)(this.parentNode),u=o.getTotalLength(),l=Math.ceil(u/s);(l-1)*s+(e+(n+1))>u&&(l-=1);var c=(0,i.range)(l).map((function(t,n){var r=n*s+e,i=o.getPointAtLength(r),a=o.getPointAtLength(r-2),u=0;if(i.y==a.y)u=i.x<a.x?180:0;else if(i.x==a.x)u=i.y<a.y?-90:90;else{var l=Math.abs(i.x-a.x),c=Math.abs(i.y-a.y),f=Math.atan(c/l)*(180/Math.PI);i.x<a.x&&(f+=2*(90-f)),u=i.y<a.y?-f:f}return{x:i.x,y:i.y,rotation:u}}));a.selectAll(".arrow-heads").data(c).enter().append("path").attr("d",(function(e){return"M"+e.x+","+(e.y-n/2)+" L"+(e.x+n)+","+e.y+" L"+e.x+","+(e.y+n/2)})).attr("class","arrow-head").attr("transform",(function(e){return"rotate("+e.rotation+","+e.x+","+e.y+")"})).style("fill","black")}))}return a.arrowLength=function(t){return arguments.length?(e=t,a):e},a.gapLength=function(e){return arguments.length?(t=e,a):t},a.arrowHeadSize=function(e){return arguments.length?(n=e,a):n},a.path=function(e){return arguments.length?"function"==typeof e?(o=e,a):(o=function(){return e},a):o},a};var r=n(98),i=n(100)},96:function(e,t,n){"use strict";n.r(t),n.d(t,"graphPlugins",(function(){return Sr}));var r=n(1),s=n.n(r),u=function(e,t){var n=Object(r.useRef)(!1);Object(r.useEffect)((function(){n.current?e():n.current=!0}),t)},l=function(e){var t=e.model,n=e.condition,i=e.value,o=e.setValue,a=e.title;return Object(r.useEffect)((function(){if(t){var e=Object.keys(t).filter(n);i||o(e[0])}}),[JSON.stringify(t)]),s.a.createElement("div",{className:"widget-option"},s.a.createElement("label",null,a),s.a.createElement("select",{className:"custom-select",value:i,onChange:function(e){return o(e.target.value)}},Object.keys(t).length?Object.keys(t).map((function(e,t){return n(e)?s.a.createElement("option",{key:t,value:e},e.split(".").slice(-1)):null})):i?s.a.createElement("option",{value:i},i.split(".").slice(-1)):null))};function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.model,n=(e.config,e.setConfig),i=e.displayedData,o=c(Object(r.useState)(""),2),a=o[0],f=o[1];return Object(r.useEffect)((function(){f("light")}),[]),u((function(){t&&n({data:i,theme:a})}),[a,i]),s.a.createElement("div",{className:"widget"},s.a.createElement("div",{className:"widget-editor"},s.a.createElement(l,{value:a,setValue:f,condition:function(){return!0},title:"Theme",model:{light:"light",dark:"dark"}})))},h=n(0),p=n.n(h),v=n(5),m=n.n(v),g=n(9);function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=parseInt(e.replace("#",""),16),i=Math.round(2.55*t),o=(r>>16)+(n?i:-i),a=(r>>8&255)+(n?i:-i),s=(255&r)+(n?i:-i);return"#".concat((16777216+65536*(o<255?o<1?0:o:255)+256*(a<255?a<1?0:a:255)+(s<255?s<1?0:s:255)).toString(16).slice(1))}var b={value:function(){}};function _(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new w(r)}function w(e){this._=e}function x(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function O(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function k(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=b,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}w.prototype=_.prototype={constructor:w,on:function(e,t){var n,r=this._,i=x(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=k(r[n],e.name,t);else if(null==t)for(n in r)r[n]=k(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=O(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new w(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var E=_;function S(){}var T=function(e){return null==e?S:function(){return this.querySelector(e)}},C=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)};function D(){return[]}var A=function(e){return null==e?D:function(){return this.querySelectorAll(e)}},j=function(e){return function(){return this.matches(e)}};function N(e){return function(t){return t.matches(e)}}var M=Array.prototype.find;function I(){return this.firstElementChild}var P=Array.prototype.filter;function L(){return this.children}var F=function(e){return new Array(e.length)};function R(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}R.prototype={constructor:R,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var B=function(e){return function(){return e}};function z(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new R(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function U(e,t,n,r,i,o,a){var s,u,l,c=new Map,f=t.length,d=o.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=l=a.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<d;++s)l=a.call(e,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new R(e,o[s]);for(s=0;s<f;++s)(u=t[s])&&c.get(h[s])===u&&(i[s]=u)}function H(e){return e.__data__}function V(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var W="http://www.w3.org/1999/xhtml",q={svg:"http://www.w3.org/2000/svg",xhtml:W,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},G=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),q.hasOwnProperty(t)?{space:q[t],local:e}:e};function Y(e){return function(){this.removeAttribute(e)}}function Q(e){return function(){this.removeAttributeNS(e.space,e.local)}}function K(e,t){return function(){this.setAttribute(e,t)}}function X(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function J(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Z(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var ee=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function te(e){return function(){this.style.removeProperty(e)}}function ne(e,t,n){return function(){this.style.setProperty(e,t,n)}}function re(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ie(e,t){return e.style.getPropertyValue(t)||ee(e).getComputedStyle(e,null).getPropertyValue(t)}function oe(e){return function(){delete this[e]}}function ae(e,t){return function(){this[e]=t}}function se(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ue(e){return e.trim().split(/^|\s+/)}function le(e){return e.classList||new ce(e)}function ce(e){this._node=e,this._names=ue(e.getAttribute("class")||"")}function fe(e,t){for(var n=le(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function de(e,t){for(var n=le(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function he(e){return function(){fe(this,e)}}function pe(e){return function(){de(this,e)}}function ve(e,t){return function(){(t.apply(this,arguments)?fe:de)(this,e)}}function me(){this.textContent=""}function ge(e){return function(){this.textContent=e}}function ye(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function be(){this.innerHTML=""}function _e(e){return function(){this.innerHTML=e}}function we(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function xe(){this.nextSibling&&this.parentNode.appendChild(this)}function Oe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ke(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===W&&t.documentElement.namespaceURI===W?t.createElement(e):t.createElementNS(n,e)}}function Ee(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}ce.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Se=function(e){var t=G(e);return(t.local?Ee:ke)(t)};function Te(){return null}function Ce(){var e=this.parentNode;e&&e.removeChild(this)}function De(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ae(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function je(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Ne(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Me(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ie(e,t,n){var r=ee(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Pe(e,t){return function(){return Ie(this,e,t)}}function Le(e,t){return function(){return Ie(this,e,t.apply(this,arguments))}}var Fe=[null];function Re(e,t){this._groups=e,this._parents=t}function Be(){return new Re([[document.documentElement]],Fe)}Re.prototype=Be.prototype=i({constructor:Re,select:function(e){"function"!=typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Re(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:C(t)}}(e):A(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new Re(r,i)},selectChild:function(e){return this.select(null==e?I:function(e){return function(){return M.call(this.children,e)}}("function"==typeof e?e:N(e)))},selectChildren:function(e){return this.selectAll(null==e?L:function(e){return function(){return P.call(this.children,e)}}("function"==typeof e?e:N(e)))},filter:function(e){"function"!=typeof e&&(e=j(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new Re(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,H);var n=t?U:z,r=this._parents,i=this._groups;"function"!=typeof e&&(e=B(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,h=C(e.call(c,c&&c.__data__,l,r)),p=h.length,v=s[l]=new Array(p),m=a[l]=new Array(p),g=u[l]=new Array(d);n(c,f,v,m,g,h,t);for(var y,b,_=0,w=0;_<p;++_)if(y=v[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<p;);y._next=b||null}}return(a=new Re(a,r))._enter=s,a._exit=u,a},enter:function(){return new Re(this._enter||this._groups.map(F),this._parents)},exit:function(){return new Re(this._exit||this._groups.map(F),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){if(!(e instanceof Re))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=t[s],c=n[s],f=l.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=l[h]||c[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new Re(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=V);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new Re(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e,t=0,n=a(this);try{for(n.s();!(e=n.n()).done;)e.value,++t}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=G(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Q:Y:"function"==typeof t?n.local?Z:J:n.local?X:K)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?te:"function"==typeof t?re:ne)(e,t,null==n?"":n)):ie(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?oe:"function"==typeof t?se:ae)(e,t)):this.node()[e]},classed:function(e,t){var n=ue(e+"");if(arguments.length<2){for(var r=le(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?ve:t?he:pe)(n,t))},text:function(e){return arguments.length?this.each(null==e?me:("function"==typeof e?ye:ge)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?be:("function"==typeof e?we:_e)(e)):this.node().innerHTML},raise:function(){return this.each(xe)},lower:function(){return this.each(Oe)},append:function(e){var t="function"==typeof e?e:Se(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Se(e),r=null==t?Te:"function"==typeof t?t:T(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ce)},clone:function(e){return this.select(e?Ae:De)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=je(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Me:Ne,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?Le:Pe)(e,t))}},Symbol.iterator,o.mark((function e(){var t,n,r,i,a,s,u;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._groups,n=0,r=t.length;case 1:if(!(n<r)){e.next=14;break}a=t[n],s=0,u=a.length;case 3:if(!(s<u)){e.next=11;break}if(e.t0=i=a[s],!e.t0){e.next=8;break}return e.next=8,i;case 8:++s,e.next=3;break;case 11:++n,e.next=1;break;case 14:case"end":return e.stop()}}),e,this)})));var ze=Be,Ue=function(e){return"string"==typeof e?new Re([[document.querySelector(e)]],[document.documentElement]):new Re([[e]],Fe)},He=function(e){e.preventDefault(),e.stopImmediatePropagation()},Ve=function(e){var t=e.document.documentElement,n=Ue(e).on("dragstart.drag",He,!0);"onselectstart"in t?n.on("selectstart.drag",He,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function We(e,t){var n=e.document.documentElement,r=Ue(e).on("dragstart.drag",null);t&&(r.on("click.drag",He,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var qe=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Ge(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ye(){}var Qe=1/.7,Ke="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Je="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$e=/^#([0-9a-f]{3,8})$/,Ze=new RegExp("^rgb\\("+[Ke,Ke,Ke]+"\\)$"),et=new RegExp("^rgb\\("+[Je,Je,Je]+"\\)$"),tt=new RegExp("^rgba\\("+[Ke,Ke,Ke,Xe]+"\\)$"),nt=new RegExp("^rgba\\("+[Je,Je,Je,Xe]+"\\)$"),rt=new RegExp("^hsl\\("+[Xe,Je,Je]+"\\)$"),it=new RegExp("^hsla\\("+[Xe,Je,Je,Xe]+"\\)$"),ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function at(){return this.rgb().formatHex()}function st(){return this.rgb().formatRgb()}function ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?lt(t):3===n?new ht(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ct(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ct(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ze.exec(e))?new ht(t[1],t[2],t[3],1):(t=et.exec(e))?new ht(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tt.exec(e))?ct(t[1],t[2],t[3],t[4]):(t=nt.exec(e))?ct(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rt.exec(e))?gt(t[1],t[2]/100,t[3]/100,1):(t=it.exec(e))?gt(t[1],t[2]/100,t[3]/100,t[4]):ot.hasOwnProperty(e)?lt(ot[e]):"transparent"===e?new ht(NaN,NaN,NaN,0):null}function lt(e){return new ht(e>>16&255,e>>8&255,255&e,1)}function ct(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function ft(e){return e instanceof Ye||(e=ut(e)),e?new ht((e=e.rgb()).r,e.g,e.b,e.opacity):new ht}function dt(e,t,n,r){return 1===arguments.length?ft(e):new ht(e,t,n,null==r?1:r)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pt(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)}function vt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function mt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function gt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bt(e,t,n,r)}function yt(e){if(e instanceof bt)return new bt(e.h,e.s,e.l,e.opacity);if(e instanceof Ye||(e=ut(e)),!e)return new bt;if(e instanceof bt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new bt(a,s,u,e.opacity)}function bt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function _t(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function wt(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}qe(Ye,ut,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:at,formatHex:at,formatHsl:function(){return yt(this).formatHsl()},formatRgb:st,toString:st}),qe(ht,dt,Ge(Ye,{brighter:function(e){return e=null==e?Qe:Math.pow(Qe,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pt,formatHex:pt,formatRgb:vt,toString:vt})),qe(bt,(function(e,t,n,r){return 1===arguments.length?yt(e):new bt(e,t,n,null==r?1:r)}),Ge(Ye,{brighter:function(e){return e=null==e?Qe:Math.pow(Qe,e),new bt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new bt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ht(_t(e>=240?e-240:e+120,i,r),_t(e,i,r),_t(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var xt=function(e){return function(){return e}};function Ot(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):xt(isNaN(e)?t:e)}var kt=function e(t){var n=function(e){return 1==(e=+e)?Ot:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):xt(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=dt(e)).r,(t=dt(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Ot(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Et(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=dt(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Et((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return wt((n-r/t)*t,a,i,o,s)}})),Et((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return wt((n-r/t)*t,i,o,a,s)}}));var St,Tt,Ct=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,At=new RegExp(Dt.source,"g"),jt=function(e,t){var n,r,i,o=Dt.lastIndex=At.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Dt.exec(e))&&(r=At.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Ct(n,r)})),o=At.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Nt=function(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]},Mt=0,It=0,Pt=0,Lt=0,Ft=0,Rt=0,Bt="object"==typeof performance&&performance.now?performance:Date,zt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ut(){return Ft||(zt(Ht),Ft=Bt.now()+Rt)}function Ht(){Ft=0}function Vt(){this._call=this._time=this._next=null}function Wt(e,t,n){var r=new Vt;return r.restart(e,t,n),r}function qt(){Ft=(Lt=Bt.now())+Rt,Mt=It=0;try{!function(){Ut(),++Mt;for(var e,t=St;t;)(e=Ft-t._time)>=0&&t._call.call(null,e),t=t._next;--Mt}()}finally{Mt=0,function(){for(var e,t,n=St,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:St=t);Tt=e,Yt(r)}(),Ft=0}}function Gt(){var e=Bt.now(),t=e-Lt;t>1e3&&(Rt-=t,Lt=e)}function Yt(e){Mt||(It&&(It=clearTimeout(It)),e-Ft>24?(e<1/0&&(It=setTimeout(qt,e-Bt.now()-Rt)),Pt&&(Pt=clearInterval(Pt))):(Pt||(Lt=Bt.now(),Pt=setInterval(Gt,1e3)),Mt=1,zt(qt)))}Vt.prototype=Wt.prototype={constructor:Vt,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ut():+n)+(null==t?0:+t),this._next||Tt===this||(Tt?Tt._next=this:St=this,Tt=this),this._call=e,this._time=n,Yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yt())}};var Qt=function(e,t,n){var r=new Vt;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},Kt=E("start","end","cancel","interrupt"),Xt=[],Jt=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(u){var l,c,f,d;if(1!==n.state)return s();for(l in i)if((d=i[l]).name===n.name){if(3===d.state)return Qt(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(Qt((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Wt((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:Kt,tween:Xt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function $t(e,t){var n=en(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Zt(e,t){var n=en(e,t);if(n.state>3)throw new Error("too late; already running");return n}function en(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var tn,nn=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},rn=180/Math.PI,on={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},an=function(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*rn,skewX:Math.atan(u)*rn,scaleX:a,scaleY:s}};function sn(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:Ct(e,i)},{i:u-2,x:Ct(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ct(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ct(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ct(e,n)},{i:s-2,x:Ct(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var un=sn((function(e){var t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?on:an(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ln=sn((function(e){return null==e?on:(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",e),(e=tn.transform.baseVal.consolidate())?(e=e.matrix,an(e.a,e.b,e.c,e.d,e.e,e.f)):on)}),", ",")",")");function cn(e,t){var n,r;return function(){var i=Zt(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function fn(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Zt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function dn(e,t,n){var r=e._id;return e.each((function(){var e=Zt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return en(e,r).value[t]}}var hn=function(e,t){var n;return("number"==typeof t?Ct:t instanceof ut?kt:(n=ut(t))?(t=n,kt):jt)(e,t)};function pn(e){return function(){this.removeAttribute(e)}}function vn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function gn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function yn(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttribute(e)}}function bn(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttributeNS(e.space,e.local)}}function _n(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function xn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&wn(e,i)),n}return i._value=t,i}function On(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&_n(e,i)),n}return i._value=t,i}function kn(e,t){return function(){$t(this,e).delay=+t.apply(this,arguments)}}function En(e,t){return t=+t,function(){$t(this,e).delay=t}}function Sn(e,t){return function(){Zt(this,e).duration=+t.apply(this,arguments)}}function Tn(e,t){return t=+t,function(){Zt(this,e).duration=t}}function Cn(e,t){if("function"!=typeof t)throw new Error;return function(){Zt(this,e).ease=t}}function Dn(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?$t:Zt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var An=ze.prototype.constructor;function jn(e){return function(){this.style.removeProperty(e)}}function Nn(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Mn(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Nn(e,o,n)),r}return o._value=t,o}function In(e){return function(t){this.textContent=e.call(this,t)}}function Pn(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&In(r)),t}return r._value=e,r}var Ln=0;function Fn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Rn(){return++Ln}var Bn=ze.prototype;Fn.prototype=function(e){return ze().transition(e)}.prototype=i({constructor:Fn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=T(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,f=o[a]=new Array(c),d=0;d<c;++d)(s=l[d])&&(u=e.call(s,s.__data__,d,l))&&("__data__"in s&&(u.__data__=s.__data__),f[d]=u,Jt(f[d],t,n,d,f,en(s,n)));return new Fn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=A(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var d,h=e.call(u,u.__data__,f,l),p=en(u,n),v=0,m=h.length;v<m;++v)(d=h[v])&&Jt(d,t,n,v,h,p);o.push(h),a.push(u)}return new Fn(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=j(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new Fn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=t[s],c=n[s],f=l.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=l[h]||c[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new Fn(a,this._parents,this._name,this._id)},selection:function(){return new An(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Rn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=en(a,t);Jt(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fn(r,this._parents,e,n)},call:Bn.call,nodes:Bn.nodes,node:Bn.node,size:Bn.size,empty:Bn.empty,each:Bn.each,on:function(e,t){var n=this._id;return arguments.length<2?en(this.node(),n).on.on(e):this.each(Dn(n,e,t))},attr:function(e,t){var n=G(e),r="transform"===n?ln:hn;return this.attrTween(e,"function"==typeof t?(n.local?bn:yn)(n,r,dn(this,"attr."+e,t)):null==t?(n.local?vn:pn)(n):(n.local?gn:mn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=G(e);return this.tween(n,(r.local?xn:On)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?un:hn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=ie(this,e),a=(this.style.removeProperty(e),ie(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,jn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=ie(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=ie(this,e)),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}(e,r,dn(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var u=Zt(this,e),l=u.on,c=null==u.value[a]?o||(o=jn(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=ie(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Mn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(dn(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Pn(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=en(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?cn:fn)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?kn:En)(t,e)):en(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Sn:Tn)(t,e)):en(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Cn(t,e)):en(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Zt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=Zt(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===i&&o()}))}},Symbol.iterator,Bn[Symbol.iterator]);var zn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Un(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}function Hn(e){return{type:e}}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}ze.prototype.interrupt=function(e){return this.each((function(){nn(this,e)}))},ze.prototype.transition=function(e){var t,n;e instanceof Fn?(t=e._id,e=e._name):(t=Rn(),(n=zn).time=Ut(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Jt(a,e,t,l,s,n||Un(a,t));return new Fn(r,this._parents,e,t)},Math.abs,Math.max,Math.min,["w","e"].map(Hn),["n","s"].map(Hn),["n","w","e","s","nw","ne","sw","se"].map(Hn);var Wn=Symbol("implicit");function qn(){var e=new Map,t=[],n=[],r=Wn;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==Wn)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=a(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s+"";e.has(u)||e.set(u,t.push(s))}}catch(l){o.e(l)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return qn(t,n).unknown(r)},Vn.apply(i,arguments),i}var Gn=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Yn(e){return((e=Math.exp(e))+1/e)/2}var Qn=function e(t,n,r){function i(e,i){var o,a,s=e[0],u=e[1],l=e[2],c=i[0],f=i[1],d=i[2],h=c-s,p=f-u,v=h*h+p*p;if(v<1e-12)a=Math.log(d/l)/t,o=function(e){return[s+e*h,u+e*p,l*Math.exp(t*e*a)]};else{var m=Math.sqrt(v),g=(d*d-l*l+r*v)/(2*l*n*m),y=(d*d-l*l-r*v)/(2*d*n*m),b=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(y*y+1)-y);a=(_-b)/t,o=function(e){var r,i=e*a,o=Yn(b),c=l/(n*m)*(o*(r=t*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+c*h,u+c*p,l*o/Yn(t*i+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4),Kn=function(e){return function(){return e}};function Xn(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,o=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Jn(e,t,n){this.k=e,this.x=t,this.y=n}Jn.prototype={constructor:Jn,scale:function(e){return 1===e?this:new Jn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Jn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $n=new Jn(1,0,0);function Zn(e){e.stopImmediatePropagation()}Jn.prototype;var er=function(e){e.preventDefault(),e.stopImmediatePropagation()};function tr(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function nr(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function rr(){return this.__zoom||$n}function ir(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function or(){return navigator.maxTouchPoints||"ontouchstart"in this}function ar(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var sr=n(13),ur=n(44),lr=0;function cr(e){this.id=e,this.href=new URL("#".concat(e),location)+""}function fr(e){return function(e){if(Array.isArray(e))return dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e){return{query:e.trim(),variables:{},data:null,setData:function(e,t){this.data=e,this.cryptoCurrency=p.a.keys(e)[0],p.a.each(this.controls,(function(e){e.refresh()})),p.a.each(this.components,(function(e){e.g.render(t)}))},components:[],controls:[],url:"https://graphql.bitquery.io",request:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p.a.isEmpty(this.variables)||(this.loading=!0,this.addLoader()),fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:this.query,variables:p.a.defaults(e,this.variables)})}).then((function(e){return e.json()})).then((function(i){p.a.isEmpty(t.variables)&&(t.variables=e,t.currency||(t.currency=e.currency)),t.currencyType=pr(e.currency),t.currentAddress=e.address,r&&p.a.merge(t.variables,e),t.loading&&(t.loading=!1,t.removeLoader()),t.setData(i.data,n)}))},addLoader:function(){p.a.each(this.components,(function(e){$(e.g.container).parent().prepend('<div class="request-loader"></div>'),$(e.g.container).addClass("loading")}))},removeLoader:function(){p.a.each(this.components,(function(e){$(".request-loader").remove(),$(e.g.container).removeClass("loading")}))}}}function mr(e,t,n,r){var i={};e="#"+e,i.container=document.querySelector(e);var o=$(i.container),a=Array.isArray(t.values)?hr({},n.split(".")[1],t.values):Object.assign({},t.values);if(console.log(a),a.inbound&&a.inbound.length>0||a.outbound&&a.outbound.length>0){var s=JSON.parse(t.variables),u=a.inbound&&a.inbound.length>0&&a.inbound[0].currency.symbol||a.outbound&&a.outbound.length>0&&a.outbound[0].currency.symbol;o.addClass("graph"),o.parent().hasClass("wrapper")||o.wrap('<div class="wrapper" style="width:100%; height:100%;">');var l=o.parent(".wrapper");return i.theme=r.theme||"light","dark"==i.theme?o.addClass("dark"):o.removeClass("dark"),i.render=function(){l.removeClass("initializing");var t=$(e).parent().parent().width(),n=$(e).parent().parent().height(),o="dark"==r.theme?"white":"black",c="dark"==r.theme?"white":"black",f="dark"==r.theme?1:.85,d={},h=Ue(e).append("svg").attr("width","100%").attr("height","100%"),v=function(e){var t=function(e){return"0x0000000000000000000000000000000000000000"==e.address?"Coinbase":e.smartContract&&"Generic"==e.smartContract.contractType?null:!e.smartContract||"Token"!=e.smartContract.contractType&&"TokenSale"!=e.smartContract.contractType?e.smartContract&&"MarginPositionToken"==e.smartContract.contractType||e.smartContract&&"Multisig"==e.smartContract.contractType||e.smartContract&&"DEX"==e.smartContract.contractType?e.annotation||null:""==e.address?"Coinbase":e.annotation?e.annotation:null:e.smartContract.currency.name+" ("+e.smartContract.currency.symbol+")"},n=[],r=[];e.inbound&&p.a.each(e.inbound,(function(e){n.push({source:e.sender.address,target:e.receiver.address,amount:e.amount,value:e.amount,countOfTransfers:e.count}),r.push({id:e.sender.address,label:t(e.sender),depthLevel:e.sender.address==s.address?0:-e.depth,valueFromOneLink:e.amount}),r.push({id:e.receiver.address,label:t(e.receiver),depthLevel:e.receiver.address==s.address?0:1-e.depth,valueFromOneLink:e.amount})})),e.outbound&&p.a.each(e.outbound,(function(e){n.push({source:e.sender.address,target:e.receiver.address,amount:e.amount,value:e.amount,countOfTransfers:e.count}),r.push({id:e.sender.address,label:t(e.sender),depthLevel:e.sender.address==s.address?0:e.depth-1,valueFromOneLink:e.amount}),r.push({id:e.receiver.address,label:t(e.receiver),depthLevel:e.receiver.address==s.address?0:e.depth,valueFromOneLink:e.amount})})),r=p.a.uniqBy(p.a.sortBy(r,[function(e){return-e.valueFromOneLink},function(e){return Math.pow(e.depthLevel,2)}]),"id");var i=p.a.reduce(r,(function(e,t){return e[t.depthLevel]?e[t.depthLevel]+=1:e[t.depthLevel]=1,e}),{}),o=p.a.max(p.a.values(i)),a=p.a.values(i).length;return d.width=650*a,d.height=o*(300-Math.min(200,100*Math.log10(o))),{links:n,nodes:r,units:u}}(a),g=qn(Gn.slice(5)),y=qn(Gn.slice(0,5)),b=function(e){return e.column%2==0?g(void 0===e.category?e.id:e.category):y(void 0===e.category?e.id:e.category)},_=v.units?function(e){return"".concat(m()(e).format("0.0000a")," ").concat(v.units)}:function(e){return"".concat(m()(e).format("0.0000a"))},w=sr.sankeyCircular().nodeId((function(e){return e.id})).nodeAlign(sr.sankeyFixed).nodeWidth(50).nodePaddingRatio(.7).circularLinkGap(15).size([d.width,d.height]);i.sankey=w;var x=w(v),O=p.a.find(x.nodes,{id:s.address}),k=function(e){var t=[];function n(e,r){e.id==O.id||p.a.includes(r,e.id)?S(t,r)||t.push(fr(r)):0==e.sourceLinks.length?(r.push(e.id),S(t,r)||t.push(fr(r))):(r.push(e.id),S(t,r)||t.push(fr(r)),p.a.forEach(e.sourceLinks,(function(e){n(e.target,fr(r))})))}p.a.forEach(O.sourceLinks,(function(e){var t=[O.id];n(e.target,t)}));var r=[];return p.a.forEach(O.targetLinks,(function(e){var t=[O.id];!function e(t,n){t.id==O.id||p.a.includes(n,t.id)?S(r,fr(n).reverse())||r.push(fr(n).reverse()):0==t.targetLinks.length?(n.push(t.id),S(r,fr(n).reverse())||r.push(fr(n).reverse())):(n.push(t.id),S(r,fr(n).reverse())||r.push(fr(n).reverse()),p.a.forEach(t.targetLinks,(function(t){var r=fr(n);e(t.source,r)})))}(e.source,t)})),p.a.concat(t,r)}();function S(e,t){return p.a.some(e,(function(e){return p.a.isEqual(t,e)}))}function T(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return p.a.forEach(t,(function(t){var i=n?t.length-1:0;p.a.indexOf(t,e)==i&&r.push(t)})),r}var C=function(e,t){var n={};return p.a.forEach(e,(function(e){var r=p.a.concat(T(e.id,t),T(e.id,t,!1)),i=p.a.uniq(p.a.flattenDeep(r)),o=[];p.a.forEach(r,(function(e){for(var t=0;t<e.length-1;t++){var n=[e[t],e[t+1]];S(o,n)||o.push(n)}})),n[e.id]={nodesToHighlight:i,linksToHighlight:o}})),n}(x.nodes,k),D=h.append("g").attr("class","root-g");D.append("rect").attr("class","divider").attr("x",O.x0).attr("y",-1e4).attr("height",2e4).attr("width",O.x1-O.x0).attr("fill","silver").attr("opacity",.5);var A=D.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",f).selectAll("path"),j=D.append("g").attr("class","nodes").attr("font-family","sans-serif").attr("font-size",12).selectAll("g").data(x.nodes).enter().append("g"),N=Ue(".tooltip").empty()?Ue("body").append("div").attr("class","dark"==r.theme?"tooltip tooltip--dark":"tooltip"):Ue(".tooltip");j.append("rect").attr("x",(function(e){return e.x0})).attr("y",(function(e){return e.y1-e.y0<1?e.y0-.5:e.y0})).attr("height",(function(e){return e.y1-e.y0<1?1:e.y1-e.y0})).attr("width",(function(e){return e.x1-e.x0})).attr("fill",b).attr("stroke",c).attr("stroke-width",1).on("mouseover",R).on("mousemove",B).on("mouseout",z).on("contextmenu",U),j.append("text").attr("x",(function(e){return(e.x0+e.x1)/2})).attr("y",(function(e){return e.y0-4})).attr("text-anchor","middle").attr("fill",o).attr("class",(function(e){return e.isHidden=!1,e.label?"annotation":"address"})).text((function(e){return e.label||p.a.truncate(e.id,{length:15,separator:"..."})})).on("mouseover",R).on("mousemove",B).on("mouseout",z).on("contextmenu",U);var M=A.data(x.links).enter().append("g"),I=M.append("linearGradient").attr("id",(function(e){return(e.uid=new cr("O-link-"+ ++lr)).id})).attr("gradientUnits","userSpaceOnUse").attr("x1",(function(e){return e.source.x1})).attr("x2",(function(e){return e.target.x0}));I.append("stop").attr("offset","0%").attr("stop-color",(function(e){return b(e.source)})),I.append("stop").attr("offset","100%").attr("stop-color",(function(e){return b(e.target)})),M.append("path").attr("class","sankey-link").attr("d",(function(e){return e.path})).attr("stroke",(function(e){return e.uid})).attr("stroke-width",(function(e){return Math.max(1,e.width)})).attr("opacity",1).on("mouseover",(function(e,t){var n=t.source.id,r=t.target.id;M.selectAll(".sankey-link").style("opacity",(function(e){return e.source.id==n&&e.target.id==r?e.isHighlighted=!0:e.isDarken=!0,F(e,"link")})),j.selectAll("rect").style("opacity",(function(e){return e.id==n||e.id==r?e.isHighlighted=!0:e.isDarken=!0,F(e,"node")})),j.selectAll("text").style("opacity",(function(e){return F(e,"text")})),N.style("visibility","visible").html("<ul>\n\t\t\t\t\t<li>Amount: ".concat(_(t.amount),"</li>\n\t\t\t\t\t<li>From:</li>\n\t\t\t\t\t<li>").concat(t.source.label||t.source.id,"</li>\n\t\t\t\t\t<li>To:</li>\n\t\t\t\t\t<li>").concat(t.target.label||t.target.id,"</li>\n\t\t\t\t\t<li>Count of transfers: ").concat(t.countOfTransfers,"</li>\n\t\t\t\t</ul>"))})).on("mousemove",(function(e,t){var n=Ue("body").style("width").slice(0,-2),r=e.pageY-N.style("height").slice(0,-2)-10,i=N.style("width").slice(0,-2),o=e.pageX<i/2?0:e.pageX+i/2>n?n-i:e.pageX-i/2;N.style("top",r+"px").style("left",o+"px")})).on("mouseout",(function(e,t){j.selectAll("rect").style("opacity",(function(e){return e.isHighlighted=!1,e.isDarken=!1,F(e,"node")})),M.selectAll(".sankey-link").style("opacity",(function(e){return e.isHighlighted=!1,e.isDarken=!1,F(e,"link")})),j.selectAll("text").style("opacity",(function(e){return F(e,"text")})),N.style("visibility","hidden")}));var P=ur.pathArrows().arrowLength(10).gapLength(150).arrowHeadSize(4).path((function(e){return e.path})),L=A.data(x.links).enter().append("g").attr("class","g-arrow").call(P);function F(e,t){var n;switch(t){case"node":n=e.isHighlighted?1:e.isDarken?.3:1;break;case"text":n=e.isHighlighted?1:e.isHidden?0:e.isDarken?.3:1;break;case"link":n=e.isHighlighted?1:e.isDarken?.3:1}return n}function R(e,t){var n=t.id;j.selectAll("rect").style("opacity",(function(e){return function(e,t){p.a.includes(C[t].nodesToHighlight,e.id)?e.isHighlighted=!0:e.isDarken=!0}(e,n),F(e,"node")})),function(e){return new Re([document.querySelectorAll(e)],[document.documentElement])}(".sankey-link").style("opacity",(function(e){return function(e,t){p.a.some(C[t].linksToHighlight,(function(t){return e.source.id==t[0]&&e.target.id==t[1]}))?e.isHighlighted=!0:e.isDarken=!0}(e,n),F(e,"link")})),j.selectAll("text").style("opacity",(function(e){return F(e,"text")}));var r=0;p.a.each(t.targetLinks,(function(e){r+=e.amount}));var i=0;p.a.each(t.sourceLinks,(function(e){i+=e.amount})),N.style("visibility","visible").html("<ul>\n\t\t\t\t\t".concat(0!=r?"<li>Income: ".concat(_(r),"</li>"):"","\n\t\t\t\t\t").concat(0!=i?"<li>Outcome: ".concat(_(i),"</li>"):"","\n\t\t\t\t\t<li>").concat(t.label||t.id,"</li>\n\t\t\t\t</ul>"))}function B(e,t){var n=Ue("body").style("width").slice(0,-2),r=e.pageY-N.style("height").slice(0,-2)-10,i=N.style("width").slice(0,-2),o=e.pageX<i/2?0:e.pageX+i/2>n?n-i:e.pageX-i/2;N.style("top",r+"px").style("left",o+"px")}function z(e,t){j.selectAll("rect").style("opacity",(function(e){return e.isHighlighted=!1,e.isDarken=!1,F(e,"node")})),M.selectAll(".sankey-link").style("opacity",(function(e){return e.isHighlighted=!1,e.isDarken=!1,F(t,"link")})),j.selectAll("text").style("opacity",(function(e){return F(e,"text")})),N.style("visibility","hidden")}function U(e,t){e.preventDefault();var n=window.location.pathname.slice(1);window.open("".concat(window.location.origin,"/").concat(n.slice(0,n.indexOf("/")),"/address/").concat(t.id),"_blank")}L.select("path").style("stroke",c),L.selectAll(".arrow-head").style("fill",c);var H=function(){var e,t,n,r=tr,i=nr,o=ar,a=ir,s=or,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Qn,d=E("start","zoom","end"),h=500,p=0,v=10;function m(e){e.property("__zoom",rr).on("wheel.zoom",O).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new Jn(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Jn(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n,r){e.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,a=w(e,o).event(r),s=i.apply(e,o),u=null==n?b(s):"function"==typeof n?n.apply(e,o):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=e.__zoom,d="function"==typeof t?t.apply(e,o):t,h=f(c.invert(u).concat(l/c.k),d.invert(u).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=l/t[2];e=new Jn(n,u[0]-t[0]*n,u[1]-t[1]*n)}a.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=w(this,n).event(e),c=this.__zoom,f=Math.max(u[0],Math.min(u[1],c.k*Math.pow(2,a.apply(this,arguments)))),d=Nt(e);if(s.wheel)s.mouse[0][0]===d[0]&&s.mouse[0][1]===d[1]||(s.mouse[1]=c.invert(s.mouse[0]=d)),clearTimeout(s.wheel);else{if(c.k===f)return;s.mouse=[d,c.invert(d)],nn(this),s.start()}er(e),s.wheel=setTimeout(h,150),s.zoom("mouse",o(y(g(c,f),s.mouse[0],s.mouse[1]),s.extent,l))}function h(){s.wheel=null,s.end()}}function k(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(!n&&r.apply(this,arguments)){var s=w(this,i,!0).event(e),u=Ue(e.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",m,!0),c=Nt(e,f),f=e.currentTarget,d=e.clientX,h=e.clientY;Ve(e.view),Zn(e),s.mouse=[c,this.__zoom.invert(c)],nn(this),s.start()}function v(e){if(er(e),!s.moved){var t=e.clientX-d,n=e.clientY-h;s.moved=t*t+n*n>p}s.event(e).zoom("mouse",o(y(s.that.__zoom,s.mouse[0]=Nt(e,f),s.mouse[1]),s.extent,l))}function m(e){u.on("mousemove.zoom mouseup.zoom",null),We(e.view,s.moved),er(e),s.event(e).end()}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=this.__zoom,u=Nt(e.changedTouches?e.changedTouches[0]:e,this),f=s.invert(u),d=s.k*(e.shiftKey?.5:2),h=o(y(g(s,d),u,f),i.apply(this,n),l);er(e),c>0?Ue(this).transition().duration(c).call(_,h,u,e):Ue(this).call(m.transform,h,u,e)}}function T(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(r.apply(this,arguments)){var s,u,l,c,f=n.touches,d=f.length,p=w(this,o,n.changedTouches.length===d).event(n);for(Zn(n),u=0;u<d;++u)l=f[u],c=[c=Nt(l,this),this.__zoom.invert(c),l.identifier],p.touch0?p.touch1||p.touch0[2]===c[2]||(p.touch1=c,p.taps=0):(p.touch0=c,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),h)),nn(this),p.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s,u,c=w(this,n).event(e),f=e.changedTouches,d=f.length;for(er(e),i=0;i<d;++i)a=f[i],s=Nt(a,this),c.touch0&&c.touch0[2]===a.identifier?c.touch0[0]=s:c.touch1&&c.touch1[2]===a.identifier&&(c.touch1[0]=s);if(a=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],v=c.touch1[0],m=c.touch1[1],b=(b=v[0]-h[0])*b+(b=v[1]-h[1])*b,_=(_=m[0]-p[0])*_+(_=m[1]-p[1])*_;a=g(a,Math.sqrt(b/_)),s=[(h[0]+v[0])/2,(h[1]+v[1])/2],u=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;s=c.touch0[0],u=c.touch0[1]}c.zoom("touch",o(y(a,s,u),c.extent,l))}}function D(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(this.__zooming){var a,s,u=w(this,i).event(e),l=e.changedTouches,c=l.length;for(Zn(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),a=0;a<c;++a)s=l[a],u.touch0&&u.touch0[2]===s.identifier?delete u.touch0:u.touch1&&u.touch1[2]===s.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(s=Nt(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<v)){var f=Ue(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",rr),e!==i?_(e,t,n,r):i.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof t?t.apply(this,arguments):t;return o(y(g(r,u),a,s),e,l)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,(function(){var e=i.apply(this,arguments),a=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return o($n.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)}),r,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ue(this.that).datum();d.call(e,this.that,new Xn(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:d}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:Kn(+e),m):a},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:Kn(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Kn(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"==typeof e?e:Kn([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],m):[u[0],u[1]]},m.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(f=e,m):f},m.on=function(){var e=d.on.apply(d,arguments);return e===d?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(v=+e,m):v},m}().on("zoom",(function(e){D.select(".nodes").attr("font-size",12/e.transform.k),12/e.transform.k>36?j.selectAll(".address").style("opacity",(function(e){return e.isHidden=!0,F(e,"text")})):j.selectAll(".address").style("opacity",(function(e){return e.isHidden=!1,F(e,"text")})),D.select(".divider").attr("y",(function(t){return-1e4/e.transform.k})).attr("height",2e4/e.transform.k),D.attr("transform",e.transform)})).on("start",(function(e){e.sourceEvent&&"mousedown"==e.sourceEvent.type&&h.attr("cursor","move")})).on("end",(function(e){e.sourceEvent&&"mouseup"==e.sourceEvent.type&&h.attr("cursor","default")})),V=3*Math.min(t/d.width,n/d.height)/4;h.call(H).call(H.transform,$n.translate((t-d.width*V)/2,120).scale(V)).on("dblclick.zoom",null);var W=h.node();$(e).html(W)},i.render(),i}o.empty()}cr.prototype.toString=function(){return"url("+this.href+")"},function(e){e.register("locale","my",{delimiters:{thousands:" ",decimal:"."},abbreviations:{thousand:"k",million:"M",billion:"B",trillion:"t"}}),e.locale("my")}(m.a);var gr=function(e){var t=e.el,n=e.config,i=e.dataSource,o=e.displayedData;return Object(r.useEffect)((function(){i&&n&&n.data&&i.data&&(console.log("address_sankey"),mr(t,i,o,{theme:n.theme}))}),[JSON.stringify(n),JSON.stringify(i)]),i?s.a.createElement("div",{className:"widget-display"},s.a.createElement("div",{style:{width:"100%",overflowY:"hidden"},id:t})):s.a.createElement("div",null)};function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var br=function(e){var t=e.model,n=(e.config,e.setConfig),i=e.displayedData,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(r.useState)(""),2),a=o[0],c=o[1];return Object(r.useEffect)((function(){c("light")}),[]),u((function(){t&&n({data:i,theme:a})}),[a,i]),s.a.createElement("div",{className:"widget"},s.a.createElement("div",{className:"widget-editor"},s.a.createElement(l,{value:a,setValue:c,condition:function(){return!0},title:"Theme",model:{light:"light",dark:"dark"}})))},_r=function(e){var t=e.el,n=e.config,i=e.dataSource,o=e.displayedData;return Object(r.useEffect)((function(){i&&n&&n.data&&i.data&&(console.log(i),console.log("address_graph"),function(e,t,n,r){var i={};e="#"+e,i.container=document.querySelector(e);var o=$(i.container),a=Array.isArray(t.values)?hr({},n.split(".")[1],t.values):Object.assign({},t.values);if(a.inbound&&a.inbound.length>0||a.outbound&&a.outbound.length>0){var s=JSON.parse(t.variables),u=a.inbound&&a.inbound.length>0&&a.inbound[0].currency.symbol||a.outbound&&a.outbound.length>0&&a.outbound[0].currency.symbol;o.addClass("graph"),o.parent().hasClass("wrapper")||o.wrap('<div class="wrapper" style="width:100%; height:100%;">');var l=o.parent(".wrapper");return o.append('<i class="fa fa-flag" style="visibility:hidden;position:absolute;"></i>'),i.theme=r.theme||"light","dark"==i.theme?o.addClass("dark"):o.removeClass("dark"),i.networkOptions={height:"100%",physics:{stabilization:{enabled:!1,iterations:10,onlyDynamicEdges:!0},barnesHut:{damping:.4,avoidOverlap:.1,springConstant:.09}},interaction:{hover:!0,hoverConnectedEdges:!1}},i.hashCode=function(e){var t=JSON.stringify(e);if(Array.prototype.reduce)return t.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0);var n=0;if(0===t.length)return n;for(var r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n&=n;return n},i.prepareNodes=function(e){if(!e)return[];var t=function(e){return"0x0000000000000000000000000000000000000000"==e.address?{id:e.address,label:"Coinbase",title:e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf0ac",weight:900,size:40,color:"#03a9f4"},font:{color:"dark"==i.theme?"white":"black"}}:e.smartContract&&"Generic"==e.smartContract.contractType?{id:e.address,label:p.a.truncate(e.address,{length:15,separator:"..."}),title:"Smart Contract "+e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf013",weight:900,size:40,color:"#f0a30a"},font:{color:"dark"==i.theme?"white":"black"}}:!e.smartContract||"Token"!=e.smartContract.contractType&&"TokenSale"!=e.smartContract.contractType?e.smartContract&&"MarginPositionToken"==e.smartContract.contractType?{id:e.address,label:e.annotation||p.a.truncate(e.address,{length:15,separator:"..."}),title:"MarginPositionToken "+e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf1b2",weight:900,size:40,color:"#ff5722"},font:{color:"dark"==i.theme?"white":"black"}}:e.smartContract&&"Multisig"==e.smartContract.contractType?{id:e.address,label:e.annotation||p.a.truncate(e.address,{length:15,separator:"..."}),title:"MultiSig Wallet "+e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf4d3",weight:900,size:40,color:"#03a9f4"},font:{color:"dark"==i.theme?"white":"black"}}:e.smartContract&&"DEX"==e.smartContract.contractType?{id:e.address,label:e.annotation||p.a.truncate(e.address,{length:15,separator:"..."}),title:"DEX "+e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf021",weight:900,size:40,color:"#03a9f4"},font:{color:"dark"==i.theme?"white":"black"}}:""==e.address?{id:e.address,label:"Coinbase",title:e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf0ac",weight:900,size:40,color:"#03a9f4"},font:{color:"dark"==i.theme?"white":"black"}}:e.annotation?{id:e.address,label:e.annotation,title:e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf007",weight:900,size:40,color:"dark"==i.theme?"#00967b":"#009183"},font:{background:"dark"==i.theme?"#00967b":"#009183",color:"#ffffff"}}:{id:e.address,label:p.a.truncate(e.address,{length:15,separator:"..."}),title:e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf007",weight:900,size:40,color:"dark"==i.theme?"#009b77":"#009688"},font:{color:"dark"==i.theme?"white":"black"}}:{id:e.address,label:e.smartContract.currency.name+" ("+e.smartContract.currency.symbol+")",title:e.smartContract.currency.name+" ("+e.smartContract.currency.symbol+") "+e.address,shape:"icon",icon:{face:"FontAwesome",code:"\uf51f",weight:900,size:40,color:"#ff5722"},font:{color:"dark"==i.theme?"white":"black"}}},n=[];return p.a.each(e,(function(e){n.push(t(e.receiver)),n.push(t(e.sender))})),n},i.prepareEdges=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return[];var n=function(e){var n=u,r=e.amount>1?1.5*Math.log10(e.amount)+1:1,o=(parseFloat(e.amount)<=1e-6?e.amount:m()(e.amount).format("0.0000a"))+" "+n;return t?{from:e.sender.address,to:e.receiver.address,arrows:"to",label:o,color:{color:"dark"==i.theme?"silver":"grey",highlight:"#ff5722"},font:{align:"middle",multi:!0,color:"dark"==i.theme?"white":"black",strokeWidth:4,strokeColor:"dark"==i.theme?"black":"white"},smooth:!0,width:r,select_type:"select_transfers",hidden:!1,id:i.hashCode(["select_transfers",e.sender.address,e.receiver.address,o])}:{from:e.sender.address,to:e.receiver.address,arrows:"to",label:o,color:{color:"dark"==i.theme?"white":"black",highlight:"#ff5722"},font:{align:"middle",multi:!0,color:"dark"==i.theme?"white":"black",strokeWidth:4,strokeColor:"dark"==i.theme?"black":"white"},smooth:!0,width:r,select_type:"select_transfers",hidden:!1,id:i.hashCode(["select_transfers",e.sender.address,e.receiver.address,o])}},r=[];return p.a.each(e,(function(e){r.push(n(e))})),r},i.setDataset=function(e){i.dataset||(i.dataset={nodes:new g.DataSet,edges:new g.DataSet}),i.dataset.nodes.clear(),i.dataset.edges.clear(),p.a.each(p.a.uniqBy(i.prepareNodes(e.inbound).concat(i.prepareNodes(e.outbound)),"id"),(function(e){i.dataset.nodes.add(e)})),p.a.each(p.a.uniqBy(i.prepareEdges(e.inbound).concat(i.prepareEdges(e.outbound,!1)),"id"),(function(e){i.dataset.edges.add(e)}))},i.expandNode=function(e){var t=i.dataset.nodes.get(e);if(!t.expanded){t.expanded=!0;var n=t.icon.color;t.physics=!1,t.icon={color:y(n,20,"dark"==i.theme)},"dark"==i.theme&&(t.shadow={enabled:!0,color:n,size:20,x:0,y:0}),i.dataset.nodes.update(t)}},i.expandDataset=function(){p.a.each(p.a.uniqBy(i.prepareNodes(vr.data[vr.cryptoCurrency].inbound).concat(i.prepareNodes(vr.data[vr.cryptoCurrency].outbound)),"id"),(function(e){i.dataset.nodes.get(e.id)||i.dataset.nodes.add(e)})),p.a.each(p.a.uniqBy(i.prepareEdges(vr.data[vr.cryptoCurrency].inbound).concat(i.prepareEdges(vr.data[vr.cryptoCurrency].outbound,!1)),"id"),(function(e){i.dataset.edges.get(e.id)||i.dataset.edges.add(e)}))},i.expand=function(e){i.dataset.nodes.get(e).expanded||(i.expandNode(e),vr.request({address:e},!0,!1))},i.initGraph=function(){l.removeClass("initializing"),i.setDataset(a),i.network=new g.Network(i.container,i.dataset,i.networkOptions),i.network.on("dragStart",(function(e){0!=e.nodes.length?i.network.canvas.body.container.style.cursor="grabbing":i.network.canvas.body.container.style.cursor="move"})),i.network.on("dragEnd",(function(e){0!=e.nodes.length?i.network.canvas.body.container.style.cursor="grab":i.network.canvas.body.container.style.cursor="default";var t=e.nodes[0],n=i.dataset.nodes.get(t);n.physics=!1,i.dataset.nodes.update(n)})),i.network.on("hold",(function(e){0!=e.nodes.length?i.network.canvas.body.container.style.cursor="grabbing":i.network.canvas.body.container.style.cursor="move"})),i.network.on("release",(function(e){0!=e.nodes.length?i.network.canvas.body.container.style.cursor="grabbing":i.network.canvas.body.container.style.cursor="default"})),i.network.on("hoverNode",(function(e){i.network.canvas.body.container.style.cursor="grab"})),i.network.on("blurNode",(function(e){i.network.canvas.body.container.style.cursor="default"})),i.network.on("oncontext",(function(e){event.preventDefault();var t=i.network.getNodeAt(e.pointer.DOM);if(t){var n=i.dataset.nodes.get(t),r=window.location.pathname.slice(1);window.open("".concat(window.location.origin,"/").concat(r.slice(0,r.indexOf("/")),"/address/").concat(n.id),"_blank")}})),0!=i.dataset.nodes.length&&i.expandNode(s.address)},i.initGraph(),i}o.empty()}(t,i,o,{theme:n.theme}))}),[JSON.stringify(n),JSON.stringify(i)]),i?s.a.createElement("div",{className:"widget-display"},s.a.createElement("div",{style:{width:"100%",overflowY:"hidden"},id:t,key:t})):s.a.createElement("div",null)};function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t,n){return t&&xr(e.prototype,t),n&&xr(e,n),e}var kr=function(){function e(){wr(this,e),this.id="sankey",this.name="Sankey",this.editor=d,this.renderer=gr}return Or(e,[{key:"supportsModel",value:function(e){for(var t in e)return!t.includes(".")||"["===e[t].typeInfo.toString()[0]&&"0"!==e[t].typeInfo.toString().slice(-2,-1)}}]),e}(),Er=function(){function e(){wr(this,e),this.id="graph",this.name="Graph",this.editor=br,this.renderer=_r}return Or(e,[{key:"supportsModel",value:function(e){for(var t in e)return!t.includes(".")||"["===e[t].typeInfo.toString()[0]&&"0"!==e[t].typeInfo.toString().slice(-2,-1)}}]),e}(),Sr=[new kr,new Er]},97:function(e,t,n){"use strict";n.r(t),n.d(t,"arc",(function(){return j})),n.d(t,"area",(function(){return F})),n.d(t,"line",(function(){return L})),n.d(t,"pie",(function(){return z})),n.d(t,"areaRadial",(function(){return G})),n.d(t,"radialArea",(function(){return G})),n.d(t,"lineRadial",(function(){return q})),n.d(t,"radialLine",(function(){return q})),n.d(t,"pointRadial",(function(){return Y})),n.d(t,"linkHorizontal",(function(){return te})),n.d(t,"linkVertical",(function(){return ne})),n.d(t,"linkRadial",(function(){return re})),n.d(t,"symbol",(function(){return xe})),n.d(t,"symbols",(function(){return we})),n.d(t,"symbolCircle",(function(){return ie})),n.d(t,"symbolCross",(function(){return oe})),n.d(t,"symbolDiamond",(function(){return ue})),n.d(t,"symbolSquare",(function(){return he})),n.d(t,"symbolStar",(function(){return de})),n.d(t,"symbolTriangle",(function(){return ve})),n.d(t,"symbolWye",(function(){return _e})),n.d(t,"curveBasisClosed",(function(){return Ce})),n.d(t,"curveBasisOpen",(function(){return Ae})),n.d(t,"curveBasis",(function(){return Se})),n.d(t,"curveBundle",(function(){return Ne})),n.d(t,"curveCardinalClosed",(function(){return Fe})),n.d(t,"curveCardinalOpen",(function(){return Be})),n.d(t,"curveCardinal",(function(){return Pe})),n.d(t,"curveCatmullRomClosed",(function(){return We})),n.d(t,"curveCatmullRomOpen",(function(){return Ge})),n.d(t,"curveCatmullRom",(function(){return He})),n.d(t,"curveLinearClosed",(function(){return Qe})),n.d(t,"curveLinear",(function(){return M})),n.d(t,"curveMonotoneX",(function(){return nt})),n.d(t,"curveMonotoneY",(function(){return rt})),n.d(t,"curveNatural",(function(){return at})),n.d(t,"curveStep",(function(){return ut})),n.d(t,"curveStepAfter",(function(){return ct})),n.d(t,"curveStepBefore",(function(){return lt})),n.d(t,"stack",(function(){return pt})),n.d(t,"stackOffsetExpand",(function(){return vt})),n.d(t,"stackOffsetDiverging",(function(){return mt})),n.d(t,"stackOffsetNone",(function(){return ft})),n.d(t,"stackOffsetSilhouette",(function(){return gt})),n.d(t,"stackOffsetWiggle",(function(){return yt})),n.d(t,"stackOrderAppearance",(function(){return bt})),n.d(t,"stackOrderAscending",(function(){return wt})),n.d(t,"stackOrderDescending",(function(){return Ot})),n.d(t,"stackOrderInsideOut",(function(){return kt})),n.d(t,"stackOrderNone",(function(){return dt})),n.d(t,"stackOrderReverse",(function(){return Et}));var r=Math.PI,i=2*r,o=1e-6,a=i-o;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new s}s.prototype=u.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,i,a){e=+e,t=+t,n=+n,i=+i,a=+a;var s=this._x1,u=this._y1,l=n-e,c=i-t,f=s-e,d=u-t,h=f*f+d*d;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>o)if(Math.abs(d*l-c*f)>o&&a){var p=n-s,v=i-u,m=l*l+c*c,g=p*p+v*v,y=Math.sqrt(m),b=Math.sqrt(h),_=a*Math.tan((r-Math.acos((m+h-g)/(2*y*b)))/2),w=_/b,x=_/y;Math.abs(w-1)>o&&(this._+="L"+(e+w*f)+","+(t+w*d)),this._+="A"+a+","+a+",0,0,"+ +(d*p>f*v)+","+(this._x1=e+x*l)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,s,u,l){e=+e,t=+t;var c=(n=+n)*Math.cos(s),f=n*Math.sin(s),d=e+c,h=t+f,p=1^l,v=l?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>o||Math.abs(this._y1-h)>o)&&(this._+="L"+d+","+h),n&&(v<0&&(v=v%i+i),v>a?this._+="A"+n+","+n+",0,1,"+p+","+(e-c)+","+(t-f)+"A"+n+","+n+",0,1,"+p+","+(this._x1=d)+","+(this._y1=h):v>o&&(this._+="A"+n+","+n+",0,"+ +(v>=r)+","+p+","+(this._x1=e+n*Math.cos(u))+","+(this._y1=t+n*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var l=u,c=function(e){return function(){return e}},f=Math.abs,d=Math.atan2,h=Math.cos,p=Math.max,v=Math.min,m=Math.sin,g=Math.sqrt,y=1e-12,b=Math.PI,_=b/2,w=2*b;function x(e){return e>1?0:e<-1?b:Math.acos(e)}function O(e){return e>=1?_:e<=-1?-_:Math.asin(e)}function k(e){return e.innerRadius}function E(e){return e.outerRadius}function S(e){return e.startAngle}function T(e){return e.endAngle}function C(e){return e&&e.padAngle}function D(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,f=s-o,d=f*u-c*l;if(!(d*d<y))return[e+(d=(c*(t-o)-f*(e-i))/d)*u,t+d*l]}function A(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/g(s*s+u*u),c=l*u,f=-l*s,d=e+c,h=t+f,v=n+c,m=r+f,y=(d+v)/2,b=(h+m)/2,_=v-d,w=m-h,x=_*_+w*w,O=i-o,k=d*m-v*h,E=(w<0?-1:1)*g(p(0,O*O*x-k*k)),S=(k*w-_*E)/x,T=(-k*_-w*E)/x,C=(k*w+_*E)/x,D=(-k*_+w*E)/x,A=S-y,j=T-b,N=C-y,M=D-b;return A*A+j*j>N*N+M*M&&(S=C,T=D),{cx:S,cy:T,x01:-c,y01:-f,x11:S*(i/O-1),y11:T*(i/O-1)}}var j=function(){var e=k,t=E,n=c(0),r=null,i=S,o=T,a=C,s=null;function u(){var u,c,p=+e.apply(this,arguments),k=+t.apply(this,arguments),E=i.apply(this,arguments)-_,S=o.apply(this,arguments)-_,T=f(S-E),C=S>E;if(s||(s=u=l()),k<p&&(c=k,k=p,p=c),k>y)if(T>w-y)s.moveTo(k*h(E),k*m(E)),s.arc(0,0,k,E,S,!C),p>y&&(s.moveTo(p*h(S),p*m(S)),s.arc(0,0,p,S,E,C));else{var j,N,M=E,I=S,P=E,L=S,F=T,R=T,B=a.apply(this,arguments)/2,z=B>y&&(r?+r.apply(this,arguments):g(p*p+k*k)),U=v(f(k-p)/2,+n.apply(this,arguments)),H=U,V=U;if(z>y){var W=O(z/p*m(B)),q=O(z/k*m(B));(F-=2*W)>y?(P+=W*=C?1:-1,L-=W):(F=0,P=L=(E+S)/2),(R-=2*q)>y?(M+=q*=C?1:-1,I-=q):(R=0,M=I=(E+S)/2)}var G=k*h(M),Y=k*m(M),Q=p*h(L),K=p*m(L);if(U>y){var X,J=k*h(I),$=k*m(I),Z=p*h(P),ee=p*m(P);if(T<b&&(X=D(G,Y,Z,ee,J,$,Q,K))){var te=G-X[0],ne=Y-X[1],re=J-X[0],ie=$-X[1],oe=1/m(x((te*re+ne*ie)/(g(te*te+ne*ne)*g(re*re+ie*ie)))/2),ae=g(X[0]*X[0]+X[1]*X[1]);H=v(U,(p-ae)/(oe-1)),V=v(U,(k-ae)/(oe+1))}}R>y?V>y?(j=A(Z,ee,G,Y,k,V,C),N=A(J,$,Q,K,k,V,C),s.moveTo(j.cx+j.x01,j.cy+j.y01),V<U?s.arc(j.cx,j.cy,V,d(j.y01,j.x01),d(N.y01,N.x01),!C):(s.arc(j.cx,j.cy,V,d(j.y01,j.x01),d(j.y11,j.x11),!C),s.arc(0,0,k,d(j.cy+j.y11,j.cx+j.x11),d(N.cy+N.y11,N.cx+N.x11),!C),s.arc(N.cx,N.cy,V,d(N.y11,N.x11),d(N.y01,N.x01),!C))):(s.moveTo(G,Y),s.arc(0,0,k,M,I,!C)):s.moveTo(G,Y),p>y&&F>y?H>y?(j=A(Q,K,J,$,p,-H,C),N=A(G,Y,Z,ee,p,-H,C),s.lineTo(j.cx+j.x01,j.cy+j.y01),H<U?s.arc(j.cx,j.cy,H,d(j.y01,j.x01),d(N.y01,N.x01),!C):(s.arc(j.cx,j.cy,H,d(j.y01,j.x01),d(j.y11,j.x11),!C),s.arc(0,0,p,d(j.cy+j.y11,j.cx+j.x11),d(N.cy+N.y11,N.cx+N.x11),C),s.arc(N.cx,N.cy,H,d(N.y11,N.x11),d(N.y01,N.x01),!C))):s.arc(0,0,p,L,P,C):s.lineTo(Q,K)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-b/2;return[h(r)*n,m(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:c(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:c(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:c(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:c(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u};function N(e){this._context=e}N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var M=function(e){return new N(e)};function I(e){return e[0]}function P(e){return e[1]}var L=function(){var e=I,t=P,n=c(!0),r=null,i=M,o=null;function a(a){var s,u,c,f=a.length,d=!1;for(null==r&&(o=i(c=l())),s=0;s<=f;++s)!(s<f&&n(u=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,s,a),+t(u,s,a));if(c)return o=null,c+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:c(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},F=function(){var e=I,t=null,n=c(0),r=P,i=c(!0),o=null,a=M,s=null;function u(u){var c,f,d,h,p,v=u.length,m=!1,g=new Array(v),y=new Array(v);for(null==o&&(s=a(p=l())),c=0;c<=v;++c){if(!(c<v&&i(h=u[c],c,u))===m)if(m=!m)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=c-1;d>=f;--d)s.point(g[d],y[d]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+e(h,c,u),y[c]=+n(h,c,u),s.point(t?+t(h,c,u):g[c],r?+r(h,c,u):y[c]))}if(p)return s=null,p+""||null}function f(){return L().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"==typeof n?n:c(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:c(+e),u):t},u.y=function(e){return arguments.length?(n="function"==typeof e?e:c(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"==typeof e?e:c(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:c(+e),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(n)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:c(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u},R=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},B=function(e){return e},z=function(){var e=B,t=R,n=null,r=c(0),i=c(w),o=c(0);function a(a){var s,u,l,c,f,d=a.length,h=0,p=new Array(d),v=new Array(d),m=+r.apply(this,arguments),g=Math.min(w,Math.max(-w,i.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/d,o.apply(this,arguments)),b=y*(g<0?-1:1);for(s=0;s<d;++s)(f=v[p[s]=s]=+e(a[s],s,a))>0&&(h+=f);for(null!=t?p.sort((function(e,n){return t(v[e],v[n])})):null!=n&&p.sort((function(e,t){return n(a[e],a[t])})),s=0,l=h?(g-d*b)/h:0;s<d;++s,m=c)u=p[s],c=m+((f=v[u])>0?f*l:0)+b,v[u]={data:a[u],index:s,value:f,startAngle:m,endAngle:c,padAngle:y};return v}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:c(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),a):i},a.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:c(+e),a):o},a},U=V(M);function H(e){this._curve=e}function V(e){function t(t){return new H(e(t))}return t._curve=e,t}function W(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(V(e)):t()._curve},e}H.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var q=function(){return W(L().curve(U))},G=function(){var e=F().curve(U),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return W(n())},delete e.lineX0,e.lineEndAngle=function(){return W(r())},delete e.lineX1,e.lineInnerRadius=function(){return W(i())},delete e.lineY0,e.lineOuterRadius=function(){return W(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(V(e)):t()._curve},e},Y=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},Q=Array.prototype.slice;function K(e){return e.source}function X(e){return e.target}function J(e){var t=K,n=X,r=I,i=P,o=null;function a(){var a,s=Q.call(arguments),u=t.apply(this,s),c=n.apply(this,s);if(o||(o=a=l()),e(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"==typeof e?e:c(+e),a):r},a.y=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function $(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function Z(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function ee(e,t,n,r,i){var o=Y(t,n),a=Y(t,n=(n+i)/2),s=Y(r,n),u=Y(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function te(){return J($)}function ne(){return J(Z)}function re(){var e=J(ee);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var ie={draw:function(e,t){var n=Math.sqrt(t/b);e.moveTo(n,0),e.arc(0,0,n,0,w)}},oe={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ae=Math.sqrt(1/3),se=2*ae,ue={draw:function(e,t){var n=Math.sqrt(t/se),r=n*ae;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},le=Math.sin(b/10)/Math.sin(7*b/10),ce=Math.sin(w/10)*le,fe=-Math.cos(w/10)*le,de={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=ce*n,i=fe*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=w*o/5,s=Math.cos(a),u=Math.sin(a);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},he={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},pe=Math.sqrt(3),ve={draw:function(e,t){var n=-Math.sqrt(t/(3*pe));e.moveTo(0,2*n),e.lineTo(-pe*n,-n),e.lineTo(pe*n,-n),e.closePath()}},me=-.5,ge=Math.sqrt(3)/2,ye=1/Math.sqrt(12),be=3*(ye/2+1),_e={draw:function(e,t){var n=Math.sqrt(t/be),r=n/2,i=n*ye,o=r,a=n*ye+n,s=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(me*r-ge*i,ge*r+me*i),e.lineTo(me*o-ge*a,ge*o+me*a),e.lineTo(me*s-ge*u,ge*s+me*u),e.lineTo(me*r+ge*i,me*i-ge*r),e.lineTo(me*o+ge*a,me*a-ge*o),e.lineTo(me*s+ge*u,me*u-ge*s),e.closePath()}},we=[ie,oe,ue,he,de,ve,_e],xe=function(){var e=c(ie),t=c(64),n=null;function r(){var r;if(n||(n=r=l()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:c(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},Oe=function(){};function ke(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ee(e){this._context=e}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ke(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ke(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Se=function(e){return new Ee(e)};function Te(e){this._context=e}Te.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ke(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ce=function(e){return new Te(e)};function De(e){this._context=e}De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ke(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ae=function(e){return new De(e)};function je(e,t){this._basis=new Ee(e),this._beta=t}je.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Ne=function e(t){function n(e){return 1===t?new Ee(e):new je(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Me(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ie(e,t){this._context=e,this._k=(1-t)/6}Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Me(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Pe=function e(t){function n(e){return new Ie(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Le(e,t){this._context=e,this._k=(1-t)/6}Le.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fe=function e(t){function n(e){return new Le(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Re(e,t){this._context=e,this._k=(1-t)/6}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Be=function e(t){function n(e){return new Re(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ze(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>y){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>y){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Ue(e,t){this._context=e,this._alpha=t}Ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ze(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var He=function e(t){function n(e){return t?new Ue(e,t):new Ie(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ve(e,t){this._context=e,this._alpha=t}Ve.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ze(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var We=function e(t){function n(e){return t?new Ve(e,t):new Le(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function qe(e,t){this._context=e,this._alpha=t}qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ze(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ge=function e(t){function n(e){return t?new qe(e,t):new Re(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ye(e){this._context=e}Ye.prototype={areaStart:Oe,areaEnd:Oe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Qe=function(e){return new Ye(e)};function Ke(e){return e<0?-1:1}function Xe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ke(o)+Ke(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Je(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $e(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Ze(e){this._context=e}function et(e){this._context=new tt(e)}function tt(e){this._context=e}function nt(e){return new Ze(e)}function rt(e){return new et(e)}function it(e){this._context=e}function ot(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}Ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$e(this,this._t0,Je(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$e(this,Je(this,n=Xe(this,e,t)),n);break;default:$e(this,this._t0,n=Xe(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(et.prototype=Object.create(Ze.prototype)).point=function(e,t){Ze.prototype.point.call(this,t,e)},tt.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ot(e),i=ot(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var at=function(e){return new it(e)};function st(e,t){this._context=e,this._t=t}st.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ut=function(e){return new st(e,.5)};function lt(e){return new st(e,0)}function ct(e){return new st(e,1)}var ft=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},dt=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function ht(e,t){return e[t]}var pt=function(){var e=c([]),t=dt,n=ft,r=ht;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var f,d=s[o],h=c[o]=new Array(u),p=0;p<u;++p)h[p]=f=[0,+r(i[p],d,p,i)],f.data=i[p];h.key=d}for(o=0,a=t(c);o<l;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:c(Q.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:c(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?dt:"function"==typeof e?e:c(Q.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ft:e,i):n},i},vt=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}ft(e,t)}},mt=function(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,u=0,l=e[t[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},gt=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ft(e,t)}},yt=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=e[t[s]],f=c[a][1]||0,d=(f-(c[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];d+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,l+=d*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,ft(e,t)}},bt=function(e){var t=e.map(_t);return dt(e).sort((function(e,n){return t[e]-t[n]}))};function _t(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}var wt=function(e){var t=e.map(xt);return dt(e).sort((function(e,n){return t[e]-t[n]}))};function xt(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var Ot=function(e){return wt(e).reverse()},kt=function(e){var t,n,r=e.length,i=e.map(xt),o=bt(e),a=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},Et=function(e){return dt(e).reverse()}},98:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return ve})),n.d(t,"creator",(function(){return u})),n.d(t,"local",(function(){return ge})),n.d(t,"matcher",(function(){return h})),n.d(t,"mouse",(function(){return we})),n.d(t,"namespace",(function(){return o})),n.d(t,"namespaces",(function(){return i})),n.d(t,"clientPoint",(function(){return _e})),n.d(t,"select",(function(){return pe})),n.d(t,"selectAll",(function(){return xe})),n.d(t,"selection",(function(){return he})),n.d(t,"selector",(function(){return c})),n.d(t,"selectorAll",(function(){return d})),n.d(t,"style",(function(){return D})),n.d(t,"touch",(function(){return Oe})),n.d(t,"touches",(function(){return ke})),n.d(t,"window",(function(){return E})),n.d(t,"event",(function(){return ee})),n.d(t,"customEvent",(function(){return ae}));var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.hasOwnProperty(t)?{space:i[t],local:e}:e};function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var u=function(e){var t=o(e);return(t.local?s:a)(t)};function l(){}var c=function(e){return null==e?l:function(){return this.querySelector(e)}};function f(){return[]}var d=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},h=function(e){return function(){return this.matches(e)}},p=function(e){return new Array(e.length)};function v(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function m(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new v(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function g(e,t,n,r,i,o,a){var s,u,l,c={},f=t.length,d=o.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=l="$"+a.call(u,u.__data__,s,t),l in c?i[s]=u:c[l]=u);for(s=0;s<d;++s)(u=c[l="$"+a.call(e,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new v(e,o[s]);for(s=0;s<f;++s)(u=t[s])&&c[h[s]]===u&&(i[s]=u)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b(e){return function(){this.removeAttribute(e)}}function _(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w(e,t){return function(){this.setAttribute(e,t)}}function x(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}v.prototype={constructor:v,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var E=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function S(e){return function(){this.style.removeProperty(e)}}function T(e,t,n){return function(){this.style.setProperty(e,t,n)}}function C(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function D(e,t){return e.style.getPropertyValue(t)||E(e).getComputedStyle(e,null).getPropertyValue(t)}function A(e){return function(){delete this[e]}}function j(e,t){return function(){this[e]=t}}function N(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function M(e){return e.trim().split(/^|\s+/)}function I(e){return e.classList||new P(e)}function P(e){this._node=e,this._names=M(e.getAttribute("class")||"")}function L(e,t){for(var n=I(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function F(e,t){for(var n=I(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function R(e){return function(){L(this,e)}}function B(e){return function(){F(this,e)}}function z(e,t){return function(){(t.apply(this,arguments)?L:F)(this,e)}}function U(){this.textContent=""}function H(e){return function(){this.textContent=e}}function V(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function W(){this.innerHTML=""}function q(e){return function(){this.innerHTML=e}}function G(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function X(){var e=this.parentNode;e&&e.removeChild(this)}function J(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}P.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Z={},ee=null;function te(e,t,n){return e=ne(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ne(e,t,n){return function(r){var i=ee;ee=r;try{e.call(this,this.__data__,t,n)}finally{ee=i}}}function re(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ie(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function oe(e,t,n){var r=Z.hasOwnProperty(e.type)?te:ne;return function(i,o,a){var s,u=this.__on,l=r(t,o,a);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function ae(e,t,n,r){var i=ee;e.sourceEvent=ee,ee=e;try{return t.apply(n,r)}finally{ee=i}}function se(e,t,n){var r=E(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ue(e,t){return function(){return se(this,e,t)}}function le(e,t){return function(){return se(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Z={mouseenter:"mouseover",mouseleave:"mouseout"}));var ce=[null];function fe(e,t){this._groups=e,this._parents=t}function de(){return new fe([[document.documentElement]],ce)}fe.prototype=de.prototype={constructor:fe,select:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,l=r[i]=new Array(u),f=0;f<u;++f)(o=s[f])&&(a=e.call(o,o.__data__,f,s))&&("__data__"in o&&(a.__data__=o.__data__),l[f]=a);return new fe(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new fe(r,i)},filter:function(e){"function"!=typeof e&&(e=h(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new fe(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?g:m,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],d=o[c],h=d.length,p=e.call(f,f&&f.__data__,c,i),v=p.length,y=u[c]=new Array(v),b=s[c]=new Array(v);r(f,d,y,b,l[c]=new Array(h),p,t);for(var _,w,x=0,O=0;x<v;++x)if(_=y[x]){for(x>=O&&(O=x+1);!(w=b[O])&&++O<v;);_._next=w||null}}return(s=new fe(s,i))._enter=u,s._exit=l,s},enter:function(){return new fe(this._enter||this._groups.map(p),this._parents)},exit:function(){return new fe(this._exit||this._groups.map(p),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=t[s],c=n[s],f=l.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=l[h]||c[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new fe(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new fe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=o(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?_:b:"function"==typeof t?n.local?k:O:n.local?x:w)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?S:"function"==typeof t?C:T)(e,t,null==n?"":n)):D(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?A:"function"==typeof t?N:j)(e,t)):this.node()[e]},classed:function(e,t){var n=M(e+"");if(arguments.length<2){for(var r=I(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?z:t?R:B)(n,t))},text:function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?V:H)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?W:("function"==typeof e?G:q)(e)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(Q)},append:function(e){var t="function"==typeof e?e:u(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:u(e),r=null==t?K:"function"==typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(X)},clone:function(e){return this.select(e?$:J)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=re(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?oe:ie,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?le:ue)(e,t))}};var he=de,pe=function(e){return"string"==typeof e?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],ce)},ve=function(e){return pe(u(e).call(document.documentElement))},me=0;function ge(){return new ye}function ye(){this._="@"+(++me).toString(36)}ye.prototype=ge.prototype={constructor:ye,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var be=function(){for(var e,t=ee;e=t.sourceEvent;)t=e;return t},_e=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},we=function(e){var t=be();return t.changedTouches&&(t=t.changedTouches[0]),_e(e,t)},xe=function(e){return"string"==typeof e?new fe([document.querySelectorAll(e)],[document.documentElement]):new fe([null==e?[]:e],ce)},Oe=function(e,t,n){arguments.length<3&&(n=t,t=be().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return _e(e,r);return null},ke=function(e,t){null==t&&(t=be().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=_e(e,t[n]);return i}},99:function(e,t,n){"use strict";n.r(t),n.d(t,"bisect",(function(){return u})),n.d(t,"bisectRight",(function(){return a})),n.d(t,"bisectLeft",(function(){return s})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return f})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return v})),n.d(t,"extent",(function(){return m})),n.d(t,"histogram",(function(){return A})),n.d(t,"thresholdFreedmanDiaconis",(function(){return N})),n.d(t,"thresholdScott",(function(){return M})),n.d(t,"thresholdSturges",(function(){return D})),n.d(t,"max",(function(){return I})),n.d(t,"mean",(function(){return P})),n.d(t,"median",(function(){return L})),n.d(t,"merge",(function(){return F})),n.d(t,"min",(function(){return R})),n.d(t,"pairs",(function(){return l})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return j})),n.d(t,"range",(function(){return x})),n.d(t,"scan",(function(){return z})),n.d(t,"shuffle",(function(){return U})),n.d(t,"sum",(function(){return H})),n.d(t,"ticks",(function(){return S})),n.d(t,"tickIncrement",(function(){return T})),n.d(t,"tickStep",(function(){return C})),n.d(t,"transpose",(function(){return V})),n.d(t,"variance",(function(){return p})),n.d(t,"zip",(function(){return q}));var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},o=i(r),a=o.right,s=o.left,u=a,l=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function c(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,u=t.length,l=new Array(s*u);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=e[r],i=0;i<u;++i,++o)l[o]=n(a,t[i]);return l},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,u=0;if(null==t)for(;++a<i;)isNaN(n=h(e[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=h(t(e[a],a,e)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},v=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},m=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,b=g.map,_=function(e){return function(){return e}},w=function(e){return e},x=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},O=Math.sqrt(50),k=Math.sqrt(10),E=Math.sqrt(2),S=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=T(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function T(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=O?10:o>=k?5:o>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=O?10:o>=k?5:o>=E?2:1)}function C(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=O?i*=10:o>=k?i*=5:o>=E&&(i*=2),t<e?-i:i}var D=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},A=function(){var e=w,t=m,n=D;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var l=t(s),c=l[0],f=l[1],d=n(s,c,f);Array.isArray(d)||(d=C(c,f,d),d=x(Math.ceil(c/d)*d,f,d));for(var h=d.length;d[0]<=c;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var p,v=new Array(h+1);for(i=0;i<=h;++i)(p=v[i]=[]).x0=i>0?d[i-1]:c,p.x1=i<h?d[i]:f;for(i=0;i<a;++i)c<=(o=s[i])&&o<=f&&v[u(d,o,0,h)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:_(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:_([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?_(y.call(e)):_(e),r):n},r},j=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},N=function(e,t,n){return e=b.call(e,h).sort(r),Math.ceil((n-t)/(2*(j(e,.75)-j(e,.25))*Math.pow(e.length,-1/3)))},M=function(e,t,n){return Math.ceil((n-t)/(3.5*v(e)*Math.pow(e.length,-1/3)))},I=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},P=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=h(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=h(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},L=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=h(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=h(t(e[o],o,e)))||a.push(n);return j(a.sort(r),.5)},F=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},R=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},U=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},H=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},V=function(e){if(!(i=e.length))return[];for(var t=-1,n=R(e,W),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function W(e){return e.length}var q=function(){return V(arguments)}}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectVariables=void 0;var r=n(30);function i(e,t){var n=Object.create(null);return t.definitions.forEach((function(t){if("OperationDefinition"===t.kind){var i=t.variableDefinitions;i&&i.forEach((function(t){var i=t.variable,o=t.type,a=r.typeFromAST(e,o);a&&(n[i.name.value]=a)}))}})),n}t.default=function(e,t){if(t){var n;try{n=r.parse(t)}catch(s){return}var o=e?i(e,n):void 0,a=[];return n.definitions.forEach((function(e){"OperationDefinition"===e.kind&&a.push(e)})),{variableToType:o,operations:a}}},t.collectVariables=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n(16),o=n(44),a=n(2);function s(e,t){switch(e.kind){case a.a.NULL:return null;case a.a.INT:return parseInt(e.value,10);case a.a.FLOAT:return parseFloat(e.value);case a.a.STRING:case a.a.ENUM:case a.a.BOOLEAN:return e.value;case a.a.LIST:return e.values.map((function(e){return s(e,t)}));case a.a.OBJECT:return Object(o.a)(e.fields,(function(e){return e.name.value}),(function(e){return s(e.value,t)}));case a.a.VARIABLE:return null===t||void 0===t?void 0:t[e.name.value]}Object(i.a)(0,"Unexpected value node: "+Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(9),i=n(3),o=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function a(e){var t=s(e);if(t)throw t;return e}function s(e){return"string"===typeof e||Object(r.a)(0,"Expected name to be a string."),e.length>1&&"_"===e[0]&&"_"===e[1]?new i.a('Name "'.concat(e,'" must not begin with "__", which is reserved by GraphQL introspection.')):o.test(e)?void 0:new i.a('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'.concat(e,'" does not.'))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),i=n(2),o=n(39);function a(e){return{Document:function(t){for(var n=0,a=t.definitions;n<a.length;n++){var s=a[n];if(!Object(o.b)(s)){var u=s.kind===i.a.SCHEMA_DEFINITION||s.kind===i.a.SCHEMA_EXTENSION?"schema":'"'+s.name.value+'"';e.reportError(new r.a("The ".concat(u," definition is not executable."),s))}}return!1}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null);return{OperationDefinition:function(n){var i=n.name;return i&&(t[i.value]?e.reportError(new r.a('There can be only one operation named "'.concat(i.value,'".'),[t[i.value],i])):t[i.value]=i),!1},FragmentDefinition:function(){return!1}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(2);function o(e){var t=0;return{Document:function(e){t=e.definitions.filter((function(e){return e.kind===i.a.OPERATION_DEFINITION})).length},OperationDefinition:function(n){!n.name&&t>1&&e.reportError(new r.a("This anonymous operation must be the only defined operation.",n))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){return{OperationDefinition:function(t){"subscription"===t.operation&&1!==t.selectionSet.selections.length&&e.reportError(new r.a(t.name?'Subscription "'.concat(t.name.value,'" must select only one top level field.'):"Anonymous Subscription must select only one top level field.",t.selectionSet.selections.slice(1)))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),i=n(17),o=n(1),a=n(29);function s(e){return{InlineFragment:function(t){var n=t.typeCondition;if(n){var s=Object(a.a)(e.getSchema(),n);if(s&&!Object(o.D)(s)){var u=Object(i.a)(n);e.reportError(new r.a('Fragment cannot condition on non composite type "'.concat(u,'".'),n))}}},FragmentDefinition:function(t){var n=Object(a.a)(e.getSchema(),t.typeCondition);if(n&&!Object(o.D)(n)){var s=Object(i.a)(t.typeCondition);e.reportError(new r.a('Fragment "'.concat(t.name.value,'" cannot condition on non composite type "').concat(s,'".'),t.typeCondition))}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),i=n(17),o=n(1),a=n(29);function s(e){return{VariableDefinition:function(t){var n=Object(a.a)(e.getSchema(),t.type);if(n&&!Object(o.G)(n)){var s=t.variable.name.value,u=Object(i.a)(t.type);e.reportError(new r.a('Variable "$'.concat(s,'" cannot be non-input type "').concat(u,'".'),t.type))}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),i=n(3),o=n(1);function a(e){return{Field:function(t){var n=e.getType(),a=t.selectionSet;if(n)if(Object(o.I)(Object(o.A)(n))){if(a){var s=t.name.value,u=Object(r.a)(n);e.reportError(new i.a('Field "'.concat(s,'" must not have a selection since type "').concat(u,'" has no subfields.'),a))}}else if(!a){var l=t.name.value,c=Object(r.a)(n);e.reportError(new i.a('Field "'.concat(l,'" of type "').concat(c,'" must have a selection of subfields. Did you mean "').concat(l,' { ... }"?'),t))}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(50),i=n(34),o=n(36),a=n(3),s=n(1);function u(e){return{Field:function(t){var n=e.getParentType();if(n&&!e.getFieldDef()){var u=e.getSchema(),l=t.name.value,c=Object(i.a)("to use an inline fragment on",function(e,t,n){if(!Object(s.C)(t))return[];for(var i=new Set,o=Object.create(null),a=0,u=e.getPossibleTypes(t);a<u.length;a++){var l=u[a];if(l.getFields()[n]){i.add(l),o[l.name]=1;for(var c=0,f=l.getInterfaces();c<f.length;c++){var d,h=f[c];h.getFields()[n]&&(i.add(h),o[h.name]=(null!==(d=o[h.name])&&void 0!==d?d:0)+1)}}}return Object(r.a)(i).sort((function(t,n){var r=o[n.name]-o[t.name];return 0!==r?r:Object(s.H)(t)&&e.isSubType(t,n)?-1:Object(s.H)(n)&&e.isSubType(n,t)?1:t.name.localeCompare(n.name)})).map((function(e){return e.name}))}(u,n,l));""===c&&(c=Object(i.a)(function(e,t){if(Object(s.N)(e)||Object(s.H)(e)){var n=Object.keys(e.getFields());return Object(o.a)(t,n)}return[]}(n,l))),e.reportError(new a.a('Cannot query field "'.concat(l,'" on type "').concat(n.name,'".')+c,t))}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var i=n.name.value;return t[i]?e.reportError(new r.a('There can be only one fragment named "'.concat(i,'".'),[t[i],n.name])):t[i]=n.name,!1}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){return{FragmentSpread:function(t){var n=t.name.value;e.getFragment(n)||e.reportError(new r.a('Unknown fragment "'.concat(n,'".'),t.name))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=[],n=[];return{OperationDefinition:function(e){return t.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){for(var i=Object.create(null),o=0;o<t.length;o++)for(var a=t[o],s=0,u=e.getRecursivelyReferencedFragments(a);s<u.length;s++){i[u[s].name.value]=!0}for(var l=0;l<n.length;l++){var c=n[l],f=c.name.value;!0!==i[f]&&e.reportError(new r.a('Fragment "'.concat(f,'" is never used.'),c))}}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),i=n(3),o=n(1),a=n(29),s=n(52);function u(e){return{InlineFragment:function(t){var n=e.getType(),a=e.getParentType();if(Object(o.D)(n)&&Object(o.D)(a)&&!Object(s.a)(e.getSchema(),n,a)){var u=Object(r.a)(a),l=Object(r.a)(n);e.reportError(new i.a('Fragment cannot be spread here as objects of type "'.concat(u,'" can never be of type "').concat(l,'".'),t))}},FragmentSpread:function(t){var n=t.name.value,u=function(e,t){var n=e.getFragment(t);if(n){var r=Object(a.a)(e.getSchema(),n.typeCondition);if(Object(o.D)(r))return r}}(e,n),l=e.getParentType();if(u&&l&&!Object(s.a)(e.getSchema(),u,l)){var c=Object(r.a)(l),f=Object(r.a)(u);e.reportError(new i.a('Fragment "'.concat(n,'" cannot be spread here as objects of type "').concat(c,'" can never be of type "').concat(f,'".'),t))}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null),n=[],i=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(o){return function o(a){if(t[a.name.value])return;var s=a.name.value;t[s]=!0;var u=e.getFragmentSpreads(a.selectionSet);if(0===u.length)return;i[s]=n.length;for(var l=0;l<u.length;l++){var c=u[l],f=c.name.value,d=i[f];if(n.push(c),void 0===d){var h=e.getFragment(f);h&&o(h)}else{var p=n.slice(d),v=p.slice(0,-1).map((function(e){return'"'+e.name.value+'"'})).join(", ");e.reportError(new r.a('Cannot spread fragment "'.concat(f,'" within itself')+(""!==v?" via ".concat(v,"."):"."),p))}n.pop()}i[s]=void 0}(o),!1}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null);return{OperationDefinition:function(){t=Object.create(null)},VariableDefinition:function(n){var i=n.variable.name.value;t[i]?e.reportError(new r.a('There can be only one variable named "$'.concat(i,'".'),[t[i],n.variable.name])):t[i]=n.variable.name}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){for(var i=e.getRecursiveVariableUsages(n),o=0;o<i.length;o++){var a=i[o].node,s=a.name.value;!0!==t[s]&&e.reportError(new r.a(n.name?'Variable "$'.concat(s,'" is not defined by operation "').concat(n.name.value,'".'):'Variable "$'.concat(s,'" is not defined.'),[a,n]))}}},VariableDefinition:function(e){t[e.variable.name.value]=!0}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=[];return{OperationDefinition:{enter:function(){t=[]},leave:function(n){for(var i=Object.create(null),o=e.getRecursiveVariableUsages(n),a=0;a<o.length;a++){i[o[a].node.name.value]=!0}for(var s=0,u=t;s<u.length;s++){var l=u[s],c=l.variable.name.value;!0!==i[c]&&e.reportError(new r.a(n.name?'Variable "$'.concat(c,'" is never used in operation "').concat(n.name.value,'".'):'Variable "$'.concat(c,'" is never used.'),l))}}},VariableDefinition:function(e){t.push(e)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(15),i=n(31),o=n(4),a=n(34),s=n(36),u=n(3),l=n(17),c=n(1);function f(e){return{ListValue:function(t){var n=Object(c.B)(e.getParentInputType());if(!Object(c.J)(n))return d(e,t),!1},ObjectValue:function(t){var n=Object(c.A)(e.getInputType());if(!Object(c.F)(n))return d(e,t),!1;for(var a=Object(i.a)(t.fields,(function(e){return e.name.value})),s=0,l=Object(r.a)(n.getFields());s<l.length;s++){var f=l[s];if(!a[f.name]&&Object(c.Q)(f)){var h=Object(o.a)(f.type);e.reportError(new u.a('Field "'.concat(n.name,".").concat(f.name,'" of required type "').concat(h,'" was not provided.'),t))}}},ObjectField:function(t){var n=Object(c.A)(e.getParentInputType());if(!e.getInputType()&&Object(c.F)(n)){var r=Object(s.a)(t.name.value,Object.keys(n.getFields()));e.reportError(new u.a('Field "'.concat(t.name.value,'" is not defined by type "').concat(n.name,'".')+Object(a.a)(r),t))}},NullValue:function(t){var n=e.getInputType();Object(c.L)(n)&&e.reportError(new u.a('Expected value of type "'.concat(Object(o.a)(n),'", found ').concat(Object(l.a)(t),"."),t))},EnumValue:function(t){return d(e,t)},IntValue:function(t){return d(e,t)},FloatValue:function(t){return d(e,t)},StringValue:function(t){return d(e,t)},BooleanValue:function(t){return d(e,t)}}}function d(e,t){var n=e.getInputType();if(n){var r=Object(c.A)(n);if(Object(c.I)(r))try{if(void 0===r.parseLiteral(t,void 0)){var i=Object(o.a)(n);e.reportError(new u.a('Expected value of type "'.concat(i,'", found ').concat(Object(l.a)(t),"."),t))}}catch(f){var a=Object(o.a)(n);f instanceof u.a?e.reportError(f):e.reportError(new u.a('Expected value of type "'.concat(a,'", found ').concat(Object(l.a)(t),"; ")+f.message,t,void 0,void 0,void 0,f))}else{var s=Object(o.a)(n);e.reportError(new u.a('Expected value of type "'.concat(s,'", found ').concat(Object(l.a)(t),"."),t))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),i=n(3),o=n(2),a=n(1),s=n(29),u=n(52);function l(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){for(var o=e.getRecursiveVariableUsages(n),a=0;a<o.length;a++){var u=o[a],l=u.node,f=u.type,d=u.defaultValue,h=l.name.value,p=t[h];if(p&&f){var v=e.getSchema(),m=Object(s.a)(v,p.type);if(m&&!c(v,m,p.defaultValue,f,d)){var g=Object(r.a)(m),y=Object(r.a)(f);e.reportError(new i.a('Variable "$'.concat(h,'" of type "').concat(g,'" used in position expecting type "').concat(y,'".'),[p,l]))}}}}},VariableDefinition:function(e){t[e.variable.name.value]=e}}}function c(e,t,n,r,i){if(Object(a.L)(r)&&!Object(a.L)(t)){if(!(null!=n&&n.kind!==o.a.NULL)&&!(void 0!==i))return!1;var s=r.ofType;return Object(u.c)(e,t,s)}return Object(u.c)(e,t,r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(48),i=n(46),o=n(4),a=n(3),s=n(2),u=n(17),l=n(1),c=n(29);function f(e){return Array.isArray(e)?e.map((function(e){var t=e[0],n=e[1];return'subfields "'.concat(t,'" conflict because ')+f(n)})).join(" and "):e}function d(e){var t=new b,n=new Map;return{SelectionSet:function(r){for(var o=function(e,t,n,r,o){var a=[],s=g(e,t,r,o),u=s[0],l=s[1];if(function(e,t,n,r,o){for(var a=0,s=Object(i.a)(o);a<s.length;a++){var u=s[a],l=u[0],c=u[1];if(c.length>1)for(var f=0;f<c.length;f++)for(var d=f+1;d<c.length;d++){var h=m(e,n,r,!1,l,c[f],c[d]);h&&t.push(h)}}}(e,a,t,n,u),0!==l.length)for(var c=0;c<l.length;c++){h(e,a,t,n,!1,u,l[c]);for(var f=c+1;f<l.length;f++)p(e,a,t,n,!1,l[c],l[f])}return a}(e,n,t,e.getParentType(),r),s=0;s<o.length;s++){var u=o[s],l=u[0],c=l[0],d=l[1],v=u[1],y=u[2],b=f(d);e.reportError(new a.a('Fields "'.concat(c,'" conflict because ').concat(b,". Use different aliases on the fields to fetch both if this was intentional."),v.concat(y)))}}}}function h(e,t,n,r,i,o,a){var s=e.getFragment(a);if(s){var u=y(e,n,s),l=u[0],c=u[1];if(o!==l){v(e,t,n,r,i,o,l);for(var f=0;f<c.length;f++)h(e,t,n,r,i,o,c[f])}}}function p(e,t,n,r,i,o,a){if(o!==a&&!r.has(o,a,i)){r.add(o,a,i);var s=e.getFragment(o),u=e.getFragment(a);if(s&&u){var l=y(e,n,s),c=l[0],f=l[1],d=y(e,n,u),h=d[0],m=d[1];v(e,t,n,r,i,c,h);for(var g=0;g<m.length;g++)p(e,t,n,r,i,o,m[g]);for(var b=0;b<f.length;b++)p(e,t,n,r,i,f[b],a)}}}function v(e,t,n,r,i,o,a){for(var s=0,u=Object.keys(o);s<u.length;s++){var l=u[s],c=a[l];if(c)for(var f=o[l],d=0;d<f.length;d++)for(var h=0;h<c.length;h++){var p=m(e,n,r,i,l,f[d],c[h]);p&&t.push(p)}}}function m(e,t,n,i,a,s,c){var f=s[0],d=s[1],m=s[2],y=c[0],b=c[1],_=c[2],w=i||f!==y&&Object(l.N)(f)&&Object(l.N)(y);if(!w){var x,O,k=d.name.value,E=b.name.value;if(k!==E)return[[a,'"'.concat(k,'" and "').concat(E,'" are different fields')],[d],[b]];if(!function(e,t){if(e.length!==t.length)return!1;return e.every((function(e){var n,i,o=Object(r.a)(t,(function(t){return t.name.value===e.name.value}));return!!o&&(n=e.value,i=o.value,Object(u.a)(n)===Object(u.a)(i))}))}(null!==(x=d.arguments)&&void 0!==x?x:[],null!==(O=b.arguments)&&void 0!==O?O:[]))return[[a,"they have differing arguments"],[d],[b]]}var S=null===m||void 0===m?void 0:m.type,T=null===_||void 0===_?void 0:_.type;if(S&&T&&function e(t,n){if(Object(l.J)(t))return!Object(l.J)(n)||e(t.ofType,n.ofType);if(Object(l.J)(n))return!0;if(Object(l.L)(t))return!Object(l.L)(n)||e(t.ofType,n.ofType);if(Object(l.L)(n))return!0;if(Object(l.I)(t)||Object(l.I)(n))return t!==n;return!1}(S,T))return[[a,'they return conflicting types "'.concat(Object(o.a)(S),'" and "').concat(Object(o.a)(T),'"')],[d],[b]];var C=d.selectionSet,D=b.selectionSet;return C&&D?function(e,t,n,r){if(e.length>0)return[[t,e.map((function(e){return e[0]}))],e.reduce((function(e,t){var n=t[1];return e.concat(n)}),[n]),e.reduce((function(e,t){var n=t[2];return e.concat(n)}),[r])]}(function(e,t,n,r,i,o,a,s){var u=[],l=g(e,t,i,o),c=l[0],f=l[1],d=g(e,t,a,s),m=d[0],y=d[1];if(v(e,u,t,n,r,c,m),0!==y.length)for(var b=0;b<y.length;b++)h(e,u,t,n,r,c,y[b]);if(0!==f.length)for(var _=0;_<f.length;_++)h(e,u,t,n,r,m,f[_]);for(var w=0;w<f.length;w++)for(var x=0;x<y.length;x++)p(e,u,t,n,r,f[w],y[x]);return u}(e,t,n,w,Object(l.A)(S),C,Object(l.A)(T),D),a,d,b):void 0}function g(e,t,n,r){var i=t.get(r);if(!i){var o=Object.create(null),a=Object.create(null);!function e(t,n,r,i,o){for(var a=0,u=r.selections;a<u.length;a++){var f=u[a];switch(f.kind){case s.a.FIELD:var d=f.name.value,h=void 0;(Object(l.N)(n)||Object(l.H)(n))&&(h=n.getFields()[d]);var p=f.alias?f.alias.value:d;i[p]||(i[p]=[]),i[p].push([n,f,h]);break;case s.a.FRAGMENT_SPREAD:o[f.name.value]=!0;break;case s.a.INLINE_FRAGMENT:var v=f.typeCondition,m=v?Object(c.a)(t.getSchema(),v):n;e(t,m,f.selectionSet,i,o)}}}(e,n,r,o,a),i=[o,Object.keys(a)],t.set(r,i)}return i}function y(e,t,n){var r=t.get(n.selectionSet);if(r)return r;var i=Object(c.a)(e.getSchema(),n.typeCondition);return g(e,t,i,n.selectionSet)}var b=function(){function e(){this._data=Object.create(null)}var t=e.prototype;return t.has=function(e,t,n){var r=this._data[e],i=r&&r[t];return void 0!==i&&(!1!==n||!1===i)},t.add=function(e,t,n){_(this._data,e,t,n),_(this._data,t,e,n)},e}();function _(e,t,n,r){var i=e[t];i||(i=Object.create(null),e[t]=i),i[n]=r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t,n,i,o=e.getSchema(),a=null!==(t=null!==(n=null!==(i=null===o||void 0===o?void 0:o.astNode)&&void 0!==i?i:null===o||void 0===o?void 0:o.getQueryType())&&void 0!==n?n:null===o||void 0===o?void 0:o.getMutationType())&&void 0!==t?t:null===o||void 0===o?void 0:o.getSubscriptionType(),s=0;return{SchemaDefinition:function(t){a?e.reportError(new r.a("Cannot define a new schema within a schema extension.",t)):(s>0&&e.reportError(new r.a("Must provide only one schema definition.",t)),++s)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=e.getSchema(),n=Object.create(null),i=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:o,SchemaExtension:o};function o(t){for(var o,a=null!==(o=t.operationTypes)&&void 0!==o?o:[],s=0;s<a.length;s++){var u=a[s],l=u.operation,c=n[l];i[l]?e.reportError(new r.a("Type for ".concat(l," already defined in the schema. It cannot be redefined."),u)):c?e.reportError(new r.a("There can be only one ".concat(l," type in schema."),[c,u])):n[l]=u}return!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:i,ObjectTypeDefinition:i,InterfaceTypeDefinition:i,UnionTypeDefinition:i,EnumTypeDefinition:i,InputObjectTypeDefinition:i};function i(i){var o=i.name.value;if(!(null===n||void 0===n?void 0:n.getType(o)))return t[o]?e.reportError(new r.a('There can be only one type named "'.concat(o,'".'),[t[o],i.name])):t[o]=i.name,!1;e.reportError(new r.a('Type "'.concat(o,'" already exists in the schema. It cannot also be defined in this type definition.'),i.name))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(1);function o(e){var t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),o=Object.create(null);return{EnumTypeDefinition:a,EnumTypeExtension:a};function a(t){var a,s=t.name.value;o[s]||(o[s]=Object.create(null));for(var u=null!==(a=t.values)&&void 0!==a?a:[],l=o[s],c=0;c<u.length;c++){var f=u[c],d=f.name.value,h=n[s];Object(i.E)(h)&&h.getValue(d)?e.reportError(new r.a('Enum value "'.concat(s,".").concat(d,'" already exists in the schema. It cannot also be defined in this type extension.'),f.name)):l[d]?e.reportError(new r.a('Enum value "'.concat(s,".").concat(d,'" can only be defined once.'),[l[d],f.name])):l[d]=f.name}return!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(1);function o(e){var t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),i=Object.create(null);return{InputObjectTypeDefinition:o,InputObjectTypeExtension:o,InterfaceTypeDefinition:o,InterfaceTypeExtension:o,ObjectTypeDefinition:o,ObjectTypeExtension:o};function o(t){var o,s=t.name.value;i[s]||(i[s]=Object.create(null));for(var u=null!==(o=t.fields)&&void 0!==o?o:[],l=i[s],c=0;c<u.length;c++){var f=u[c],d=f.name.value;a(n[s],d)?e.reportError(new r.a('Field "'.concat(s,".").concat(d,'" already exists in the schema. It cannot also be defined in this type extension.'),f.name)):l[d]?e.reportError(new r.a('Field "'.concat(s,".").concat(d,'" can only be defined once.'),[l[d],f.name])):l[d]=f.name}return!1}}function a(e,t){return!!(Object(i.N)(e)||Object(i.H)(e)||Object(i.F)(e))&&e.getFields()[t]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=Object.create(null),n=e.getSchema();return{DirectiveDefinition:function(i){var o=i.name.value;if(!(null===n||void 0===n?void 0:n.getDirective(o)))return t[o]?e.reportError(new r.a('There can be only one directive named "@'.concat(o,'".'),[t[o],i.name])):t[o]=i.name,!1;e.reportError(new r.a('Directive "@'.concat(o,'" already exists in the schema. It cannot be redefined.'),i.name))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i=n(4),o=n(16),a=n(34),s=n(36),u=n(3),l=n(2),c=n(39),f=n(1);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=e.getSchema(),n=Object.create(null),r=0,d=e.getDocument().definitions;r<d.length;r++){var h=d[r];Object(c.d)(h)&&(n[h.name.value]=h)}return{ScalarTypeExtension:v,ObjectTypeExtension:v,InterfaceTypeExtension:v,UnionTypeExtension:v,EnumTypeExtension:v,InputObjectTypeExtension:v};function v(r){var c,d=r.name.value,h=n[d],v=null===t||void 0===t?void 0:t.getType(d);if(h?c=p[h.kind]:v&&(c=function(e){if(Object(f.R)(e))return l.a.SCALAR_TYPE_EXTENSION;if(Object(f.N)(e))return l.a.OBJECT_TYPE_EXTENSION;if(Object(f.H)(e))return l.a.INTERFACE_TYPE_EXTENSION;if(Object(f.T)(e))return l.a.UNION_TYPE_EXTENSION;if(Object(f.E)(e))return l.a.ENUM_TYPE_EXTENSION;if(Object(f.F)(e))return l.a.INPUT_OBJECT_TYPE_EXTENSION;Object(o.a)(0,"Unexpected type: "+Object(i.a)(e))}(v)),c){if(c!==r.kind){var m=function(e){switch(e){case l.a.SCALAR_TYPE_EXTENSION:return"scalar";case l.a.OBJECT_TYPE_EXTENSION:return"object";case l.a.INTERFACE_TYPE_EXTENSION:return"interface";case l.a.UNION_TYPE_EXTENSION:return"union";case l.a.ENUM_TYPE_EXTENSION:return"enum";case l.a.INPUT_OBJECT_TYPE_EXTENSION:return"input object"}Object(o.a)(0,"Unexpected kind: "+Object(i.a)(e))}(r.kind);e.reportError(new u.a("Cannot extend non-".concat(m,' type "').concat(d,'".'),h?[h,r]:r))}}else{var g=Object.keys(n);t&&(g=g.concat(Object.keys(t.getTypeMap())));var y=Object(s.a)(d,g);e.reportError(new u.a('Cannot extend type "'.concat(d,'" because it is not defined.')+Object(a.a)(y),r.name))}}}var p=(d(r={},l.a.SCALAR_TYPE_DEFINITION,l.a.SCALAR_TYPE_EXTENSION),d(r,l.a.OBJECT_TYPE_DEFINITION,l.a.OBJECT_TYPE_EXTENSION),d(r,l.a.INTERFACE_TYPE_DEFINITION,l.a.INTERFACE_TYPE_EXTENSION),d(r,l.a.UNION_TYPE_DEFINITION,l.a.UNION_TYPE_EXTENSION),d(r,l.a.ENUM_TYPE_DEFINITION,l.a.ENUM_TYPE_EXTENSION),d(r,l.a.INPUT_OBJECT_TYPE_DEFINITION,l.a.INPUT_OBJECT_TYPE_EXTENSION),r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(1);function o(e){return{Field:function(t){var n=e.getFieldDef(),i=e.getParentType();i&&null!=(null===n||void 0===n?void 0:n.deprecationReason)&&e.reportError(new r.a("The field ".concat(i.name,".").concat(n.name," is deprecated. ")+n.deprecationReason,t))},EnumValue:function(t){var n=Object(i.A)(e.getInputType()),o=e.getEnumValue();n&&null!=(null===o||void 0===o?void 0:o.deprecationReason)&&e.reportError(new r.a('The enum value "'.concat(n.name,".").concat(o.name,'" is deprecated. ')+o.deprecationReason,t))}}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1},e),n=t.descriptions?"description":"",o=t.specifiedByUrl?"specifiedByUrl":"",a=t.directiveIsRepeatable?"isRepeatable":"",s=t.schemaDescription?n:"";return"\n    query IntrospectionQuery {\n      __schema {\n        ".concat(s,"\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ").concat(n,"\n          ").concat(a,"\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ").concat(n,"\n      ").concat(o,"\n      fields(includeDeprecated: true) {\n        name\n        ").concat(n,"\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ").concat(n,"\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ").concat(n,"\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ")}n.d(t,"a",(function(){return o}))},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgMAAACMCAMAAADWfFpBAAADAFBMVEVhU1FNT09hUlJ4S06ER0t+RUuAREt+QUt6Q0p1QkpUSk1mRktWSkxLTU1LTU1OUE9MT052hnlMT05LTU1LTU1KRExMREtORUtTO0lXNEdUH0BjIUNpGEJmCD11FEJ8DECMDUKXEUWiEUaxE0nCFkvGF07SGU/mIlXoHVfnHVb2JFr9ImH3IF71IF3xH1vnHVblHVXYGk7YGk/WGk7MGE3FF0y6FUu1FEqqEkigEUeKDEF4CD94Cj9rB0BfBTxhDDxeCzxXCDtXGkBUIUJRMEZPO0lOQEpLTU1KRExLTU1LTU1LTU1LTU1LTU1LTU1LTU1LTU1LTU1ASkFLTU1LTU1LTU1LTk5LTU1NVltNVVlMVFg/TENGVFM8ZGIzcm4miIIXo5sPsqgHwbYCzcABzsEA0sQA08UA0sQA0sQA0cQA0cMAzsEAzsEA0sUAwrgAyb8ArKYAqaECqqMHraEVrKQzsaNPtaNotp+Ht5eXtpSvt4vGuIfMvYPXxoHh0H3o3HXx32rz5WH92G370l3+1Gr90Wv+ynX/vW/+xmT+ulr/u2f/t23+qlL+rVf/smf6qGr0qGz7oWf/pGD/n1f/mln/lFT/eD3/ajL/ZSz/Zi//YSn/dUL/e0n/f0z/gU7/hlL/hlH/hVH/hVT/jFj/kln/jk7/l1T/mkz/okD/gSr/cjb/cTP/bDf/Zh3/Uxr+WRT/Vxv/URr/VBr/UyP/Uy/+Uj/+Tkf+WFb9UVj8TVj+QFb8PFf7MFrxIlrzHlvyG1/3H2XqEFrqClnmGVjdHFTJGE7FGEy3FEqzFkazFFOoCUelEUeuCUi+FUrKGEzYGk7kEVbyEl74HGL5Il7/Vhv/XSD/VBv/VBv/XB//ZyX/diz/gjP/jzv/qUL/nUL/i1f/lFv/s1z/qUn/tFr/sVr/r13/sHD/n2D/rWb+uFX8ulj/tE//wFX/xVf/yVz/1HUApqYAwLcAtq8A08UA08UAyb5JVVdNVltNVltTT1ZLTU1oBj16Cj+aD0SvE0jQGU0QyIH7AAAAynRSTlMADwgIExcYFxUbHCEoLjpETlpaaG5nZWViY2VlZ2poamppamdoT0cpV2GKlpibn6epi7nF0Nrk6vL0/vb39Pf09PbRxamUinl3hI+ZoKWwusTMwdbc6uX27/Dz+fzlzaqIZVZHTQ1wi6a3zd/o8/T+/vf99/v7+fj39/b19vb4+vv9+f76/Pz++v79/vj79fr3+Pf48eWVgmtfQGiAoa7X3ez+/v35+fv4/Pr7+vn++vHvmvbx9Pb0+Pj3+fj+9/n4/Pz59vn3/vf3okwT6wAAGbtJREFUeNrtnXlwE1eexyWRqq3S6FrJf23V1u4E73iY/WMnVyV4E6r4yyXZ1lGSrP8ndwIWkEy4khkcB+MxrIdApmbCZpLyAYkJ5GCTkIBFBscJ2WLBawkK32apSgwFBJvC/wjb7Ht9vvf6ve6W1BaS6Z8aAbZky/0++v7O17b8fMuLjY1r1qw1wl54/rlnn3z6aYtp5WX/0Pn7DdPr1800Jm8ZZC88+5SJQXkxUN26bdP09PT69etuNjYahMGa5540z2z52D+uOt60bev6aWjrN6xb39g4u3atEWrwjM08ueXCwOr/6Wx6/fe/nZ7esAEc0NY3zjSuNYIC0yWUCwPVfXuaXr+xeQOkYMM6aNAz3DTAM7xgeoQyYeCJ/029ASD43UsQgnWSbeAwAJ6hEAqeM6WgLBhYfabvaBOA4AYIDREGBLu5vnG2AM/woikFZcDA7dXVmZNdEILXX103TRIAbutAoHhzZk2+ueMz5jku/bxg9e3U19+0NW0DStCycXqaROAmMPAX9AxJ0x8sUR1Ytfr7TN+xbRwEN7ZgUnBznQCBYI0z+XiF500ISp0B6AxSfZ1NwB203Ljxu5fX0ZRAoiCfZOEFE4JSZ2DVE/2Z1Mk9Tds4CLZv2jCNE8AfhVBgQlDqDNxefQYw0LsdQLAdQHDjtZdkf3ATlwGegtwdwvPmiS5xBlatTKVSMEFsBkrQcmN7y0YkHqBAcDP34PA580yXNgO3oTNI9YEEcds2AEHLjZYtpDMgpcBMEZcaA7dPAQZOpkCC2Nz0BoCgZXvLK1JaQNGBfCAwi0UlzgB0BqmTX21rat7WDJUA2GZBB+gM5B4amnFhiTMwN5CBIUEnEAIRgu2vvaQKQc5S8Kx5skuWgTkYFT4KGRgECWJzs+AOgG2SXYGSg5mcpcD0BqWrA3O351bNZzhv0PsGhKBZhGArMx4ACEApSK41E8Tyt3+CCNy+/Xg/DwFMEGUIWkFoyPAFM/wtp+rxb8zTXcIMzK36jmMgBTqIzRIEO8Cx5SbLAAEQAzB0BHuKelB4wTzdpcrAHDy4zAAmiK08BM08BDtaX6PHhYIOiAbm05Ozt7QmEZ8yz3dJMjA3x0HwBO8MUn1fNUsQQB1oaWvZxNYBhAIOhMbkbHLNGrNaWIYMQAy+5xmACWKzDAG47Wh9dR01JiQIkElgg2CmBiXNgOAMUumv94gQtHIIAH+wYyMzHiBslr8lk42zAARFmGBWjEuZgTm+TASrBMdbeQR+EiAA1rZFIx6QEOAw4A3IQeNaPHs0i4UlzcDjjwoMwA4ijwCAQGBgR9vu31LjAaoOoJZMooHiWpOBUmbg9rzIQKqvu4lH4KefZAh2bNIVD3AIzGAQoBSYzqCkfUF1vwjB16lWXgfA0bpDsLa2V7XyAikcmCWkQHYIZq2wdBmonqt+4jtJCE5+CRAQrLVFomDnRiIeoAYECgZmb81KUmCWiUqTAbD+8G5uZUr2Bp0IBCIDO9uw0JAWE9JkADJwKylkCGvN7LAUGagWKJj7d8kZpAa/3tUkIHBdgmAnoEAKDbl4YIYmAzQd4CBYa5YKS5QBsP4QgWpwLzuDVB9IEAUErl9vlRjY2da+WdUbcBCQFPAM8BCYQWFp6gCPQfXcypRsfUcFb3D9uggBZGBn2/+9inqCm3qcAWRAhMCcJCk9+2deAvg/sjMA7uCtZoEACEG7yMDOnT+0b+I8AS0gmGUykLzFuwOzZVCKvkC2uUdRBlJ/aL4uWWubxACgYCsjImTGhJABOJBuMlCaOoAwMJ9BvcFXzRIE165dkxm4vPOH3a/M0AuFjNyQ9wV3sXVoc/l8Hqu53JoM4M4g1dfR/JPMwB/adooGILi8ZYbRL5idYcWEd5EBTzQLLOE3KdBk4PHvUAbSqT3NEgIAgh0SAuDWvptaJJpl54ZJI6aLa+rrahnm97lZS1ybFSzqMFdcSweQMhHXQYSZ4TXRrrTJQnD5MggNZ6hFIno8IApBgQyEs2rWEPTSroZWIz8iYiqBGgPzvDPI4AmihMCVKyIEl8EBKPjhP7ayMkMVX7CoDEAMKhQUuBLI52vMJWcwMC8gUP0tigCYJzkgQgAQuHpFhOBHKARACnZv1B0TGuQLNBkAb3UX8Zw6jBFTCGgMzIsUgD+PpTAb7N3VLBFwFVi7GA9w9kP7Fr25oSgEzyw6A4r3egT7pMtccyUD8/INQPBNBofgSxgQADdw5YoMAUrB7pcp/QIVX/CbIjCQDaBPsUaxz3noX9juvIcZ4NwAt/7cHZoZZFKZ9MmOnzgErvIIcBDICAAI/rhZKyTEfMGTxWAAg4BgwE35qk5vMBu8dxn4ubD63F+Ah5UZYfmFDGEwtes69AMCARIEsu3ZqrdfAK9X+HRRGMhWMJ+jeL+7/GEYNN7LDMClR40rE2XkY/D4lesIAVfHr7a3/3gZpWDvHzfq6hcYMUekl4GEi5oagogRSxusntqYkDXc0wxwAiCRUP19RoBA1ILBo9dRGbgEIUB14PLUFJCCJCoDM0xf8GyRGECX1BpDPu7FvlyQ+oR7Xgf+G4YBKAXp1N5rsgxcAhCMt6MyMAWOvbtfSerqFzxVLAbQ2M/NiBYtlpDJgKADmK3kykQIBVAIEAKgjeNKMAWlYDOUAioCiC9Y87SRDCQwIxioR57ljjEqRCYDVAZAmQgFIAOLBKIQQAR4Cnb9iBIAGJiaerUxSZstx3xBwR0jlIF6mxUxZyCORwR21O/XhBsaInWKeNBkgMrA/GMnMGeQghcxvc4TIOrApUsf7EK9AWcH3tyYnNXIC54ykoE64nM/Uy0EWGkFQpMBBQOnuWOA8AWZvqO4CFy6NHFpYpdCCKb2wtBQzRe8+PRiMmBxNDALRQwzGUAZOM3d5k+DP99lUhgFmcHju3AVAAhMSBBICAApAKFhklUnTBoxTKjKgMXLCghMBtTsfmH9+b+gzT8mlwe4HCGTTr0PAoJLkk3gEHAM8BhcnNoCIGD5gsJlQIMBOyoEYYMZsDrdbrfTUZRf1WV3uOA3sxeNAW7hTyPWLwiBeEulu6/JfkBEYGJij6wDohIAKZhJsnzBs7ZFZsBSj3w6mhsDqrJh9daGYjDmTDREgv7FbTvZK+rDUQ7meCxcX5NDH+NnvtpgJI/m+P2nFbbyuwyGAKgVdl5VEgCsXdYBybrf3ExKgeAL1hiw6ViDAT+VgZqGqGCxCD9I5E/w/0cSyoT4mIZ6Mnp0BBrwvDPMjarYwtLXTUi1aWtQ+mBDreL12YJx8bNxKnRWX5hIchNhLy2a9UrfJhrnmLR5+WeCL1sn/SzRhjBNS5zRmPxsN2RgnmBg/hQGAAwIOq6Oo55AtL0yAhIGFy8e2EpAIPgCI7YWaDBQi3w6RP2oU/ER5QACfs6tgYTyMWHwdWxIMuqX3sVRNW9kQ/rYEeXLt/litBcUo0xH+Yh2uEv8yrVEcdxrUX+rxB00HTj9GCwTYTogMYAAMDExxgnBFK4DgIJukCUmFTpgyPUn1BmwhqkxYQB5V+XMgCdGf5SPzgDapQypMqAkxBVlvaSQXY0B0AqtkP4DGLA1ZNXjnAiePpEMLICbkoGjAgMQAYSCsT1KZ3ARHAe6QWiYJBgwZLepOgMu9Lz5DWGghvkwv6WhIAYUOlCj8priHlUdQJ5aS7zPlY1SfLjOgzMA1x8eoEKAQ5D+UiAAVQEgA2PvU3UA+IPu3S/fSmK+wJhNZuoMhOgDQwUw4Fd5nD9mpA7YAur9Dy+bASfKPmTAoV4nQX+oiBQTLggAcPcLpwcIHUgfvwR1YAInYGKMYwBJDUUdALZ/apMEAWTAoCsRqTIQYAwO5s+AX2+HqmAdsAW1voWPyYAnTDCA/XxRMpiwhQhC7l+QCVhYWIB/OAZwCHonlH6A04F2RV7A6QBUgv1bZwQKAANrDLrugAoDjhBrqDBvBmqyi8hAmBnN6lEClIFwnGTAoxYVoqqRcPAMSLcFgQKlDqTeHyfDQXAb4xmg6gCE4M2Nt7ioADBg1GUHUAaiAdSInCruLJwBTzZbLB3QQxv6I2EMYFarOE9BlVCCA3G5sPwiAnQdyPxpnIbAGB8UUnUA2OT+LUkoBbdmDbtate75gRpLwQzYY9li6YA7keNcjBYDFSx2iKiJczDLBflfQIzUAVAs7hgnQgGAACcEP5IxoaQDnBTsfuUWuBqRcRee0MtAyFI4A/WUHSyRaGIRdMAWIepCIb/P4/H6QwnmlKQGA7YYY7gSDxj5BvtybPWpOgCOExgDogjQnYGsAxcvdk2+tdnQa4/oZCBiL4CBsJXqCeL1XgeYU7A7K8JG60AFToBfevV2vD6FxLlMBuqU8TFe8KhQPHj5Ap0BCQDO0kfH8YRAgmAvmRyiOnCxu2tycuvfW4rNQMhhUWfA6fV43OCGLonbDT8GDhcfSBOBegDByhU2VAfw6fcI9uKdYXrNg85APJYQCtSOBGuePqwIFwkGTi2cOrWwwOsAZ2KBAGEAIWBs9H2VeAAw0N3d1fnufcVmIGDRYEBHz8iNOwG3ShpaqA5g6xm0qWRycp6nZCBe73M77A67TenJ0AzKgSQRUSvOALf6wt0Asvzcvwa/GieCQQmCvay8gGegC9h79xXbF4QdOTMQVCmkZBscarXaAnXAFlY6IrQAHqXleSQDiVoHm+G4lZ6BCJqxXASAW/9T3B2qAzwKg8cxBhAMRmFqMMXWgS5jIdAbE2KxcD4MYAPpCUq3OGCYDmCyTflOXto7mmAgoqgIY2QhWVJQ6SOW82u/IB6nRAawkGDw+AcMAkZHx976ERUCig50db27rNi5oXp9QJsBV1Zjw7o1YpQO1GgNwCGvMmqnMhCmTGbUUNMkZ0L5CpYjay8argPwn+neP4kI4AQABgAEuBIodGBycvKvxWZAPlv5MVDB3JtEHVwrRAeCGrshsQzFRWOggTYkgJU33DT9qJEYUBqhA7BA0NshlQVwBCAEo+/vUY0HAAOT7xSbAdXesTYDtcz8mtqBLUQH0I9ZsXl53jBn4aUxQH+BdbTXF6R0FFEGznB34J7QAVAsPtE5MYG7AQkATgoO7HlTVQcmu/YZzkCkpsbvBwf/p8YfTDDq6/kwENa+ZEHAGB2wI4F6PEK1hPK962OEfGhamVAqhYOWgVQiAIDl5w9SB0BQeGic9AN8MDAq2v4Db8mtY6UOTL63zGgGFL7TXkcvrebDQIOWK8CdQQE64Epkc7BaCgN12tOS4hvCR2tELifWH5pCB+AUyTiZFGIEjI72AAzemtqDQ4Aw0PmO0QxQfvQK6qUGCmSANXGMLl4BOpAbA0GLymKqxBEhxfmLS8lkJSQAWX+JASweyAx+9cGYwg+gCAAb6RkZ7QAcAASUvgBAsG/xGcAztor8GbDGlW89hewkDNEBT7ZQBtysaegI0STGCkRyvFR5Cl19gYFvSB0AQeH+CVo0SNjIyMjofoDBRRoD7xaBASytD+bPAPrmZG1YMmiesKJgBpiz7oqss4I6VlB5hmKyDkg2eOgDRTRIAsDfIAYdF7unFAx0/ufiM4AJgVAKLVQHWO7WaYwOuHPyBaEcdADbcxMlsoKYVYWBs2fOKHUgkz5ORINKAkQEoEGnoGDg3SIwgAZqcfvixgPZuxAP1OWiA1jTwIszgXi4SmL9z8o6QEBwaAKNBcdUEYB2EDiF7ovdCAMGCIEmAx7KSG0+DCBLGWNs+arInQELLS+I58KAPxcdwPiqY4JTKb73+QPcCTqgYKB3VNUP4ABAG/5wpGM/VAKJgb+WDwMh7XNcnzsD6M5oUQesyMcScY2blAPo0wH0fIGosI6e8FaKS8+JwFn+jqYDmcFjE5SyAEoAf6AUjAwf3N/VLTHQWbXoDGD1M0f+DFALQExnS99npNzx6M6q1wnjHrtT3aw56QDmGr1okIO2QCrPnEUWH96Bv2g6ACD4EuoARQaUfgCB4PBBAQLIwDuLzkDIoHjAm6Vl0szmsp/Wrovb1dxHmFbT9ek9ETp1AM2TQl7GzpPKs2fEpZfsTIrKQCb9BQcBQwVGlM6Ag2D4w44ukYH3FpsBLMguIC/At2nQtodiHV9EKoIqK4rNg0RouOm+rrpOHcDSQ1acW8kvPwYBQwcy6cFjlHBAdgRKEQAEgGN4f5fAQEfV4jKAT2XlVB8g2q9Y+53SPLaF6PMDWJSgOpsk6QDaMKC3qe1564DFSY84sS5T5VmKMRgA7qD30FjPmC5HMCxRAKyzi0Og8MxAnQFnJJt3nZD4DFG6IZfGHmTMEeGVSnyXoB17eREqNrR9wjXZGlu+OkCbjiabzbkxAKXgEKYEtIRA1gEBgeEPuwQI3jWQAfAusyHm9NQTmXZO/QLyTYtf3Chbi62CM8aaJ8TZiaGRhB1vfIfp8pDw0uQ85s1TByyehMZOBSUDd+CRyqhA8DdAQQ/pB0bp6w8R4DDoEBh4z0AGEnHMEsw9BmwGsDdtyGW3A5bsduUEAQwu5EtBOJRXJPBTU3IQFsprR+4sj9DnuwBu2JvUIXwy5MxPB4hL99PEpvIOuv6QgDt3zg5kVCydTh87xDsEXX6AN4GBjn3GMaBlFdoMEFu8ErFwKJwI8YvtiCsGd2u8bo9PsfODSB+Jcx6qcDkcDldFSDH3yihqwPlQL58D2hxeRMrr7PnoAD7vpKgTiwyIay+aii8QwgJIQc8oMyVUEDA8fLCLDwjeLhoDYR1zRC61fUa5NHP8rGFT+D0bGuIUbCKMqSWet2gkGAxHcAzjSFigXwcoW+aILlglBOAOYf0nNCAQPQKfDowqU0KldUwaERTmwIBbBwP2BrU9p8G8GHAkcmVU8TsWmObNQwcoG+hdJAMU+1aLAdEj9FCTQl4FcBDOC0LwTrEYUN17rnJ+EAaohGgyYAno3A/H6kHqGZHMQQeUTSmyCFE5QAIwAG7fZHQYRwGtLjRM04HDnV3FZCBg0cWAS42BHFp6KAP2eM46oK+DjK5dDjqgSA/JRLcSX36OgIE7/RldEAymv+jpUUkJUR0QhKBIDPgt+hig7T5FTrVbbTkbEozv581dBxg5HP4Ee155gTLkJJmRdIBff3gAu3Mio5OCYwd7qCpAoaB4viDhs+hlwB5RfbupQBB3x1htJeYlbIIq1yXzaHge/EqDuegAkaoo2pkcA/ybXwQAWr9OCEBL+cMeIiWkAgCE4FCxGCBSaVUGKBBg7tLBuhAF+EpxZmuRERKE0Aq04rpkdtUfLmDLsz5ANlOVuxEq8bUXTac34MrHqA5QAeAIGB4631EUBiJelfkyJQMWa0g1ZLLSr1UAdrXa2AxYfAn6DJDq9QltPqbqRD351gnJEQVKN7NygIYAsG90Q/BFD9IlpMnAeQ6C8x8fWnQG4tE6ypuiVuN8uUPYuY8SYbPyagPZeAVrplR6kqIm1ACeY4uq6ABcLD9VdqLKX+BbkYsOYKmnsgm6YoBhd3RDkP6sh2wUKhGAEAyBsLBABnwBP9tqvPQLPHuQJ9F7s3ZvoC4UhVt6oqGQsnXnrsV8dbjCbtFiAHzXepSsCP8c+fUH6KMCNk89USuI1noom1xc8s8U0Ly8uYfdx4L2i4GCIUgfp5cEMBGANjTc2WnQvsNFMGGnH31TkdVdEQgCREJ1fq9TeIgGA4Asj78+HImE6wI+Vw6XbLc6vf5a+M0iwVq/12XAL2hGhYwyHVk1oAKBvsAw/bfPe9RFQKRg6OBk6TKggxJg6H+1GKA8J+9vVpB4qo9CWKr6VSDQmR0MHusZoYsAAECWAcDAeSP2GJQMEnoYKAHDuuC0y2nc9/CAiumDIN17iFUZkjUAEDA0dO7gPpOBIhue91CHMH89YAAEwBmoBYMiAkPnPqkyGSiu4bNVCWoe+cCAup3Qlx4yQ4HzKANDR5aZDBTzJbqIcRf6b+z55UDhEKS/ODwyrIoAB8DQuaEjFpOBIpmrvraevKoqfUreUvVI4RCkjx3+UDUYFBk497bJQLGsRmucGLEHNRDQUTYGTQNKSqCUgSUVDpQ6Az72pmULrVqsDoFmsSidISdGiHyAdwTnLiwlV1B+DDA8gUaFQEgOtCOCQ4cJP0ARgXPnLrxtMnD3GEh42A9+0AAh+GxEyw8ACC58WmUycNcYUENApWWgn4HPD6smBDwCS8sVlBkDCdXu4rKHNJ3BCe3kkBoKoCJw7sIn+0wG7hYDEY0hgxWaQpDSTA7phSFUBJaaDJQTAwm/Vv9JWwg0GeiltQkJBD7dZzJwVxiIBRzaD19RMAMZTRG48NESk4HyYCARrvXom0D4tRYDaS0d+ExDBC4ssaQAmkcyr7P0Xp0d/L4ej9OuewhBo0agHQ+c+OwwEwFBBv5iMa2kbUWhvgAmh/R84AJk4KMl5wmWoD1YkA7A5FAZCkgaABBYep5g6VnVwwVNkqSPH6ZGg4If+Oijt81TXPr2i/5CJozTvYepIsD7gY/MYKA87F/YDOiYIOj9ZJjSIxJEwAwGysV+WcBQocwAxQ+YCJR9cnBnQM8eg88Ok8MCJgJlqQT9eU8UgsRgiO4HTATKLDB8JN/RYo4Bmh8ww8GySxEfzGuMiBsrRRiQ/cBSaxTdE/ZAf94MoLMCoh+4zzyj5SgFD+XhCmBicB7vEUERMCtDZZsfPJLPnsMLeKcYisAy81yWrf3dA4/kehmCdOa/PsYI+PSI2SEob7tvhegRvtV7ibLPP0Z6RJ/+2SRgKeSJDzzcn8MVyngG+GmRI2YcsFRsWdUD//aQ7ivSfPEx7BF9euTP+8xcYIk5haqqX6741b/qsF8d+cvb+8z1Lz/7f0mcItGFazh0AAAAAElFTkSuQmCC"},,,function(e,t,n){e.exports=n(250)},function(e,t,n){"use strict";var r=n(96),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var O=x.prototype=new w;O.constructor=x,r(O,_.prototype),O.isPureReactComponent=!0;var k={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g,A=[];function j(e,t,n,r){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+I(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+I(s=t[l],l);u+=e(s,c,r,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+I(s,l++),r,i);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function P(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),M(e,L,t=j(t,o,r,i)),N(t)}var R={current:null};function B(){var e=R.current;if(null===e)throw Error(g(321));return e}var z={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,P,t=j(null,null,t,n)),N(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(g(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=l,t.PureComponent=x,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=n(0),i=n(96),o=n(178);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,f=null,d={onError:function(e){u=!0,l=e}};function h(e,t,n,r,i,o,a,c,f){u=!1,l=null,s.apply(d,arguments)}var p=null,v=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,o,s,d,p){if(h.apply(this,arguments),u){if(!u)throw Error(a(198));var v=l;u=!1,l=null,c||(c=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!x[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(O.hasOwnProperty(u))throw Error(a(99,u));O[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&w(l[i],s,u);i=!0}else o.registrationName?(w(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function w(e,t,n){if(k[e])throw Error(a(100,e));k[e]=t,E[e]=t.eventTypes[n].dependencies}var x=[],O={},k={},E={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&_()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,D=null,A=null;function j(e){if(e=v(e)){if("function"!==typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function N(e){D?A?A.push(e):A=[e]:D=e}function M(){if(D){var e=D,t=A;if(A=D=null,j(e),t)for(e=0;e<t.length;e++)j(t[e])}}function I(e,t){return e(t)}function P(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=I,R=!1,B=!1;function z(){null===D&&null===A||(L(),M())}function U(e,t,n){if(B)return e(t,n);B=!0;try{return F(e,t,n)}finally{B=!1,z()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,W={},q={};function G(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,K);Y[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,K);Y[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,K);Y[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(q,e)||!V.call(W,e)&&(H.test(e)?q[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,he=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case he:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=me(e.type);n=null,r&&(n=me(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace($,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Oe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Ee(e,t){ke(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ne(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ie="http://www.w3.org/1999/xhtml",Pe="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Re,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Pe||"innerHTML"in e)e.innerHTML=t;else{for((Re=Re||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Re.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},Ve={},We={};function qe(e){if(Ve[e])return Ve[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return Ve[e]=n[t];return e}T&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var Ge=qe("animationend"),Ye=qe("animationiteration"),Qe=qe("animationstart"),Ke=qe("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<x.length;u++){var l=x[u];l&&(l=l.extractEvents(r,t,o,i,a))&&(s=rt(s,l))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Qt(t,"scroll",!0);break;case"focus":case"blur":Qt(t,"focus",!0),Qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var vt,mt,gt,yt=!1,bt=[],_t=null,wt=null,xt=null,Ot=new Map,kt=new Map,Et=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Dt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,r,i,o),null!==t&&(null!==(t=Cn(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function jt(e){var t=Tn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Nt(e)&&n.delete(t)}function It(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&vt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Nt(_t)&&(_t=null),null!==wt&&Nt(wt)&&(wt=null),null!==xt&&Nt(xt)&&(xt=null),Ot.forEach(Mt),kt.forEach(Mt)}function Pt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,It)))}function Lt(e){function t(t){return Pt(t,e)}if(0<bt.length){Pt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Pt(_t,e),null!==wt&&Pt(wt,e),null!==xt&&Pt(xt,e),Ot.forEach(t),kt.forEach(t),n=0;n<Et.length;n++)(r=Et[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)jt(n),null===n.blockedOn&&Et.shift()}var Ft={},Rt=new Map,Bt=new Map,zt=["abort","abort",Ge,"animationEnd",Ye,"animationIteration",Qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Rt.set(r,o),Ft[i]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(zt,2);for(var Ht="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ht.length;Vt++)Bt.set(Ht[Vt],0);var Wt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Gt=!0;function Yt(e,t){Qt(t,e,!1)}function Qt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){R||L();var i=Jt,o=R;R=!0;try{P(i,e,t,n,r)}finally{(R=o)||z()}}function Xt(e,t,n,r){qt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Gt)if(0<bt.length&&-1<St.indexOf(e))e=Ct(null,e,t,n,r),bt.push(e);else{var i=$t(e,t,n,r);if(null===i)Dt(e,r);else if(-1<St.indexOf(e))e=Ct(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=At(_t,e,t,n,r,i),!0;case"dragenter":return wt=At(wt,e,t,n,r,i),!0;case"mouseover":return xt=At(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,At(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,At(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Dt(e,r),e=dt(e,r,null,t);try{U(ht,e)}finally{ft(e)}}}}function $t(e,t,n,r){if(null!==(n=Tn(n=ut(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{U(ht,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ie;function un(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function cn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=null,mn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+On,En="__reactEventHandlers$"+On,Sn="__reactContainere$"+On;function Tn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[kn])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[kn]||e[Sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[En]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=Nn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function In(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Pn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Nn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Pn(e._targetInst,null,e)}function Fn(e){it(e,In)}var Rn=null,Bn=null,zn=null;function Un(){if(zn)return zn;var e,t,n=Bn,r=n.length,i="value"in Rn?Rn.value:Rn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Hn(){return!0}function Vn(){return!1}function Wn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Vn,this.isPropagationStopped=Vn,this}function qn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=qn,e.release=Gn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Wn);var Qn=Wn.extend({data:null}),Kn=Wn.extend({data:null}),Xn=[9,13,27,32],Jn=T&&"CompositionEvent"in window,$n=null;T&&"documentMode"in document&&($n=document.documentMode);var Zn=T&&"TextEvent"in window&&!$n,er=T&&(!Jn||$n&&8<$n&&11>=$n),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Jn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Un()):(Bn="value"in(Rn=r)?Rn.value:Rn.textContent,ar=!0)),o=Qn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Jn&&ir(e,t)?(e=Un(),zn=Bn=Rn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(nr.beforeInput,t,n,r)).data=e,Fn(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Wn.getPooled(cr.change,e,t,n)).type="change",N(n),Fn(e),e}var dr=null,hr=null;function pr(e){st(e)}function vr(e){if(we(Dn(e)))return e}function mr(e,t){if("change"===e)return t}var gr=!1;function yr(){dr&&(dr.detachEvent("onpropertychange",br),hr=dr=null)}function br(e){if("value"===e.propertyName&&vr(hr))if(e=fr(hr,e,ut(e)),R)st(e);else{R=!0;try{I(pr,e)}finally{R=!1,z()}}}function _r(e,t,n){"focus"===e?(yr(),hr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vr(hr)}function xr(e,t){if("click"===e)return vr(t)}function Or(e,t){if("input"===e||"change"===e)return vr(t)}T&&(gr=lt("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:cr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var i=t?Dn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=mr;else if(lr(i))if(gr)a=Or;else{a=wr;var s=_r}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=xr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},Er=Wn.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Cr(){return Tr}var Dr=0,Ar=0,jr=!1,Nr=!1,Mr=Er.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,jr?"mousemove"===e.type?e.screenX-t:0:(jr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,Nr?"mousemove"===e.type?e.screenY-t:0:(Nr=!0,0)}}),Ir=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Pr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Pr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mr,u=Pr.mouseLeave,l=Pr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ir,u=Pr.pointerLeave,l=Pr.pointerEnter,c="pointer");if(e=null==a?o:Dn(a),o=null==t?o:Dn(t),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(l,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(l=c,a=0,e=s=r;e;e=jn(e))a++;for(e=0,t=l;t;t=jn(t))e++;for(;0<a-e;)s=jn(s),a--;for(;0<e-a;)l=jn(l),e--;for(;a--;){if(s===l||s===l.alternate)break e;s=jn(s),l=jn(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)s.push(r),r=jn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=jn(c);for(c=0;c<s.length;c++)Pn(s[c],"bubbled",u);for(c=r.length;0<c--;)Pn(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Rr=Object.prototype.hasOwnProperty;function Br(e,t){if(Fr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Rr.call(t,n[r])||!Fr(e[n[r]],t[n[r]]))return!1;return!0}var zr=T&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Vr=null,Wr=null,qr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qr||null==Hr||Hr!==cn(n)?null:("selectionStart"in(n=Hr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Br(Wr,n)?null:(Wr=n,(e=Wn.getPooled(Ur.select,Vr,e,t)).type="select",e.target=Hr,Fn(e),e))}var Yr={eventTypes:Ur,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),o=E.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Dn(t):window,e){case"focus":(lr(i)||"true"===i.contentEditable)&&(Hr=i,Vr=t,Wr=null);break;case"blur":Wr=Vr=Hr=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return qr=!1,Gr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Qr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=Er.extend({relatedTarget:null});function Jr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Er.extend({key:function(e){if(e.key){var t=$r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?Jr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Mr.extend({dataTransfer:null}),ni=Er.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Rt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Jr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ge:case Ye:case Qe:e=Qr;break;case Ke:e=ri;break;case"scroll":e=Er;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ir;break;default:e=Wn}return Fn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=An,v=Cn,m=Dn,S({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:kr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var ci={},fi={current:ci},di={current:!1},hi=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){ui(di),ui(fi)}function gi(e,t,n){if(fi.current!==ci)throw Error(a(168));li(fi,t),li(di,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=fi.current,li(fi,e),li(di,di.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(di),ui(fi),li(fi,e)):ui(di),li(di,n)}var wi=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Oi=o.unstable_cancelCallback,ki=o.unstable_requestPaint,Ei=o.unstable_now,Si=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Ni={},Mi=o.unstable_shouldYield,Ii=void 0!==ki?ki:function(){},Pi=null,Li=null,Fi=!1,Ri=Ei(),Bi=1e4>Ri?Ei:function(){return Ei()-Ri};function zi(){switch(Si()){case Ti:return 99;case Ci:return 98;case Di:return 97;case Ai:return 96;case ji:return 95;default:throw Error(a(332))}}function Ui(e){switch(e){case 99:return Ti;case 98:return Ci;case 97:return Di;case 96:return Ai;case 95:return ji;default:throw Error(a(332))}}function Hi(e,t){return e=Ui(e),wi(e,t)}function Vi(e,t,n){return e=Ui(e),xi(e,t,n)}function Wi(e){return null===Pi?(Pi=[e],Li=xi(Ti,Gi)):Pi.push(e),Ni}function qi(){if(null!==Li){var e=Li;Li=null,Oi(e)}Gi()}function Gi(){if(!Fi&&null!==Pi){Fi=!0;var e=0;try{var t=Pi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Pi=null}catch(n){throw null!==Pi&&(Pi=Pi.slice(e+1)),xi(Ti,qi),n}finally{Fi=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Qi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ki={current:null},Xi=null,Ji=null,$i=null;function Zi(){$i=Ji=Xi=null}function eo(e){var t=Ki.current;ui(Ki),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Xi=e,$i=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function ro(e,t){if($i!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Xi)throw Error(a(308));Ji=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,f=null,d=null,h=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=v,f=l):h=h.next=v,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ou(s,p.suspenseConfig);e:{var m=e,g=p;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){l=m.call(v,l,s);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,l,s):m)||void 0===s)break e;l=i({},l,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=l:h.next=d,o.baseState=f,o.baseQueue=h,au(c),e.expirationTime=c,e.memoizedState=l}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ho=X.ReactCurrentBatchConfig,po=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gs(),i=ho.suspense;(i=so(r=Ys(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Qs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gs(),i=ho.suspense;(i=so(r=Ys(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Qs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gs(),r=ho.suspense;(r=so(n=Ys(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),uo(e,r),Qs(e,n)}};function go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function yo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=vi(t)?hi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=vi(t)?hi:fi.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var wo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Oo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Su(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Tu(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Cu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tu(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case te:return(t=Au(t,e.mode,n)).return=e,t}if(wo(t)||ve(t))return(t=Cu(t,e.mode,n,null)).return=e,t;Oo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(wo(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Oo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Oo(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=ve(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=xo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Cu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Tu(o.type,o.key,o.props,null,e.mode,u)).ref=xo(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Au(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Du(o,e.mode,u)).return=e,e=r),s(e);if(wo(o))return v(e,r,o,u);if(ve(o))return m(e,r,o,u);if(c&&Oo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Eo=ko(!0),So=ko(!1),To={},Co={current:To},Do={current:To},Ao={current:To};function jo(e){if(e===To)throw Error(a(174));return e}function No(e,t){switch(li(Ao,t),li(Do,e),li(Co,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Co),li(Co,t)}function Mo(){ui(Co),ui(Do),ui(Ao)}function Io(e){jo(Ao.current);var t=jo(Co.current),n=Fe(t,e.type);t!==n&&(li(Do,e),li(Co,n))}function Po(e){Do.current===e&&(ui(Co),ui(Do))}var Lo={current:0};function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ro(e,t){return{responder:e,props:t}}var Bo=X.ReactCurrentDispatcher,zo=X.ReactCurrentBatchConfig,Uo=0,Ho=null,Vo=null,Wo=null,qo=!1;function Go(){throw Error(a(321))}function Yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fr(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,i,o){if(Uo=o,Ho=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?ga:ya,e=n(r,i),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=Vo=null,t.updateQueue=null,Bo.current=ba,e=n(r,i)}while(t.expirationTime===Uo)}if(Bo.current=ma,t=null!==Vo&&null!==Vo.next,Uo=0,Wo=Vo=Ho=null,qo=!1,t)throw Error(a(300));return e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Ho.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Xo(){if(null===Vo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Wo?Ho.memoizedState:Wo.next;if(null!==t)Wo=t,Vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Wo?Ho.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Jo(e,t){return"function"===typeof t?t(e):t}function $o(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.expirationTime;if(c<Uo){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,c>Ho.expirationTime&&(Ho.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,Fr(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Fr(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e}).dispatch=va.bind(null,Ho,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ho.updateQueue)?(t={lastEffect:null},Ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Xo().memoizedState}function ra(e,t,n,r){var i=Ko();Ho.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Xo();r=void 0===r?null:r;var o=void 0;if(null!==Vo){var a=Vo.memoizedState;if(o=a.destroy,null!==r&&Yo(r,a.deps))return void ta(t,n,o,r)}Ho.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)}function ca(){}function fa(e,t){return Ko().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=zi();Hi(98>r?98:r,(function(){e(!0)})),Hi(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function va(e,t,n){var r=Gs(),i=ho.suspense;i={expirationTime:r=Ys(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Ho||null!==o&&o===Ho)qo=!0,i.expirationTime=Uo,Ho.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(u){}Qs(e,r)}}var ma={readContext:ro,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ga={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=va.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ko().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Ro,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:da,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:ha,useReducer:$o,useRef:na,useState:function(){return $o(Jo)},useDebugValue:ca,useResponder:Ro,useDeferredValue:function(e,t){var n=$o(Jo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=$o(Jo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:da,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:ha,useReducer:Zo,useRef:na,useState:function(){return Zo(Jo)},useDebugValue:ca,useResponder:Ro,useDeferredValue:function(e,t){var n=Zo(Jo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Jo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},_a=null,wa=null,xa=!1;function Oa(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ea(e){if(xa){var t=wa;if(t){var n=t;if(!ka(e,t)){if(!(t=wn(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,xa=!1,void(_a=e);Oa(_a,n)}_a=e,wa=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xa=!1,_a=e}}function Sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Ta(e){if(e!==_a)return!1;if(!xa)return Sa(e),xa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=wa;t;)Oa(e,t),t=wn(t.nextSibling);if(Sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wa=wn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wa=null}}else wa=_a?wn(e.stateNode.nextSibling):null;return!0}function Ca(){wa=_a=null,xa=!1}var Da=X.ReactCurrentOwner,Aa=!1;function ja(e,t,n,r){t.child=null===e?So(t,null,n,r):Eo(t,e.child,n,r)}function Na(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Qo(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qa(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Eu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ia(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Qa(e,t,o):(t.effectTag|=1,(e=Su(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ia(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Aa=!1,i<o)?(t.expirationTime=e.expirationTime,Qa(e,t,o)):La(e,t,n,r,o)}function Pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=vi(n)?hi:fi.current;return o=pi(t,o),no(t,i),n=Qo(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qa(e,t,i))}function Fa(e,t,n,r,i){if(vi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ro(l):l=pi(t,l=vi(n)?hi:fi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(t,a,r,l),io=!1;var d=t.memoizedState;a.state=d,co(t,r,a,i),u=t.memoizedState,s!==r||d!==u||di.current||io?("function"===typeof c&&(vo(t,n,c,r),u=t.memoizedState),(s=io||go(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Qi(t.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(t,l=vi(n)?hi:fi.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(t,a,r,l),io=!1,u=t.memoizedState,a.state=u,co(t,r,a,i),d=t.memoizedState,s!==r||u!==d||di.current||io?("function"===typeof c&&(vo(t,n,c,r),d=t.memoizedState),(c=io||go(t,n,s,r,u,d,l))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ra(e,t,n,r,o,i)}function Ra(e,t,n,r,i,o){Pa(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&_i(t,n,!1),Qa(e,t,o);r=t.stateNode,Da.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),No(e,t.containerInfo)}var za,Ua,Ha,Va={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Lo,1&a),null===e){if(void 0!==o.fallback&&Ea(t),s){if(s=o.fallback,(o=Cu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=So(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Su(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Su(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,i}return n=Eo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Cu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=Eo(t,e,o.children,n)}function qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ga(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n);else if(19===e.tag)qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Su(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Su(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&mi(),null;case 3:return Mo(),ui(di),ui(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ta(t)||(t.effectTag|=4),null;case 5:Po(t),n=jo(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=jo(Co.current),Ta(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[kn]=t,r[En]=s,o){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Yt(Xe[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Oe(r,s),Yt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),un(n,"onChange");break;case"textarea":je(r,s),Yt("invalid",r),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):k.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":_e(r),Se(r,s,!0);break;case"textarea":_e(r),Me(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[kn]=t,e[En]=r,za(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":Yt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Xe.length;l++)Yt(Xe[l],e);l=r;break;case"source":Yt("error",e),l=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),l=r;break;case"form":Yt("reset",e),Yt("submit",e),l=r;break;case"details":Yt("toggle",e),l=r;break;case"input":Oe(e,r),l=xe(e,r),Yt("invalid",e),un(n,"onChange");break;case"option":l=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Yt("invalid",e),un(n,"onChange");break;case"textarea":je(e,r),l=Ae(e,r),Yt("invalid",e),un(n,"onChange");break;default:l=r}on(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Be(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&ze(e,f):"number"===typeof f&&ze(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&J(e,s,f,u))}switch(o){case"input":_e(e),Se(e,r,!1);break;case"textarea":_e(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?De(e,!!r.multiple,n,!1):null!=r.defaultValue&&De(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=ln)}gn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=jo(Ao.current),jo(Co.current),Ta(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return ui(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ta(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Ts===_s&&(Ts=ws):(Ts!==_s&&Ts!==ws||(Ts=xs),0!==Ns&&null!==ks&&(Mu(ks,Ss),Iu(ks,Ns)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mo(),null;case 10:return eo(t),null;case 17:return vi(t.type)&&mi(),null;case 19:if(ui(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Ka(r,!1);else if(Ts!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fo(s))){for(t.effectTag|=64,Ka(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return li(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Fo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ka(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ka(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Lo.current,li(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ja(e){switch(e.tag){case 1:vi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mo(),ui(di),ui(fi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Po(e),null;case 13:return ui(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Lo),null;case 4:return Mo(),null;case 10:return eo(e),null;default:return null}}function $a(e,t){return{value:e,source:t,stack:ge(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,l=t.stateNode;switch(jo(Co.current),e=null,n){case"input":a=xe(l,a),r=xe(l,r),e=[];break;case"option":a=Ce(l,a),r=Ce(l,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(l,a),r=Ae(l,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=c&&un(o,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ha=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof xu&&xu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){yu(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,l=o,c=n,f=l;;)if(as(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[En]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Be(n,u):"children"===s?ze(n,u):J(n,s,u,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Is=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=_u.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Fs=r),es(e,t)},n}function vs(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Rs?Rs=new Set([this]):Rs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,gs=Math.ceil,ys=X.ReactCurrentDispatcher,bs=X.ReactCurrentOwner,_s=0,ws=3,xs=4,Os=0,ks=null,Es=null,Ss=0,Ts=_s,Cs=null,Ds=1073741823,As=1073741823,js=null,Ns=0,Ms=!1,Is=0,Ps=null,Ls=!1,Fs=null,Rs=null,Bs=!1,zs=null,Us=90,Hs=null,Vs=0,Ws=null,qs=0;function Gs(){return 0!==(48&Os)?1073741821-(Bi()/10|0):0!==qs?qs:qs=1073741821-(Bi()/10|0)}function Ys(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=zi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Os))return Ss;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ks&&e===Ss&&--e,e}function Qs(e,t){if(50<Vs)throw Vs=0,Ws=null,Error(a(185));if(null!==(e=Ks(e,t))){var n=zi();1073741823===t?0!==(8&Os)&&0===(48&Os)?Zs(e):(Js(e),0===Os&&qi()):Js(e),0===(4&Os)||98!==n&&99!==n||(null===Hs?Hs=new Map([[e,t]]):(void 0===(n=Hs.get(e))||n>t)&&Hs.set(e,t))}}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ks===i&&(au(t),Ts===xs&&Mu(i,Ss)),Iu(i,t)),i}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Nu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(Zs.bind(null,e));else{var t=Xs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ni&&Oi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi(Zs.bind(null,e)):Vi(r,$s.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function $s(e,t){if(qs=0,t)return Pu(e,t=Gs()),Js(e),null;var n=Xs(e);if(0!==n){if(t=e.callbackNode,0!==(48&Os))throw Error(a(327));if(vu(),e===ks&&n===Ss||nu(e,n),null!==Es){var r=Os;Os|=16;for(var i=iu();;)try{uu();break}catch(u){ru(e,u)}if(Zi(),Os=r,ys.current=i,1===Ts)throw t=Cs,nu(e,n),Mu(e,n),Js(e),t;if(null===Es)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ts,ks=null,r){case _s:case 1:throw Error(a(345));case 2:Pu(e,2<n?2:n);break;case ws:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===Ds&&10<(i=Is+500-Bi())){if(Ms){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=Xs(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(du.bind(null,e),i);break}du(e);break;case xs:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),Ms&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=Xs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==As?r=10*(1073741821-As)-Bi():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(du.bind(null,e),r);break}du(e);break;case 5:if(1073741823!==Ds&&null!==js){o=Ds;var s=js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Mu(e,n),e.timeoutHandle=bn(du.bind(null,e),r);break}}du(e);break;default:throw Error(a(329))}if(Js(e),e.callbackNode===t)return $s.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Os))throw Error(a(327));if(vu(),e===ks&&t===Ss||nu(e,t),null!==Es){var n=Os;Os|=16;for(var r=iu();;)try{su();break}catch(i){ru(e,i)}if(Zi(),Os=n,ys.current=r,1===Ts)throw n=Cs,nu(e,t),Mu(e,t),Js(e),n;if(null!==Es)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ks=null,du(e),Js(e)}return null}function eu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&qi()}}function tu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&qi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==Es)for(n=Es.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Mo(),ui(di),ui(fi);break;case 5:Po(r);break;case 4:Mo();break;case 13:case 19:ui(Lo);break;case 10:eo(r)}n=n.return}ks=e,Es=Su(e.current,null),Ss=t,Ts=_s,Cs=null,As=Ds=1073741823,js=null,Ns=0,Ms=!1}function ru(e,t){for(;;){try{if(Zi(),Bo.current=ma,qo)for(var n=Ho.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Uo=0,Wo=Vo=Ho=null,qo=!1,null===Es||null===Es.return)return Ts=1,Cs=t,Es=null;e:{var i=e,o=Es.return,a=Es,s=t;if(t=Ss,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Lo.current),f=o;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=so(1073741823,null);g.tag=2,uo(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new hs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==Ts&&(Ts=2),s=$a(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,lo(f,ps(f,u,t));break e;case 1:u=s;var _=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Rs||!Rs.has(w)))){f.effectTag|=4096,f.expirationTime=t,lo(f,vs(f,u,t));break e}}f=f.return}while(null!==f)}Es=cu(Es)}catch(x){t=x;continue}break}}function iu(){var e=ys.current;return ys.current=ma,null===e?ma:e}function ou(e,t){e<Ds&&2<e&&(Ds=e),null!==t&&e<As&&2<e&&(As=e,js=t)}function au(e){e>Ns&&(Ns=e)}function su(){for(;null!==Es;)Es=lu(Es)}function uu(){for(;null!==Es&&!Mi();)Es=lu(Es)}function lu(e){var t=ms(e.alternate,e,Ss);return e.memoizedProps=e.pendingProps,null===t&&(t=cu(e)),bs.current=null,t}function cu(e){Es=e;do{var t=Es.alternate;if(e=Es.return,0===(2048&Es.effectTag)){if(t=Xa(t,Es,Ss),1===Ss||1!==Es.childExpirationTime){for(var n=0,r=Es.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Es.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Es.firstEffect),null!==Es.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Es.firstEffect),e.lastEffect=Es.lastEffect),1<Es.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Es:e.firstEffect=Es,e.lastEffect=Es))}else{if(null!==(t=Ja(Es)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Es.sibling))return t;Es=e}while(null!==Es);return Ts===_s&&(Ts=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function du(e){var t=zi();return Hi(99,hu.bind(null,e,t)),null}function hu(e,t){do{vu()}while(null!==zs);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ks&&(Es=ks=null,Ss=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Os;Os|=32,bs.current=null,vn=Gt;var s=hn();if(pn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(S){u=null;break e}var d=0,h=-1,p=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==c&&3!==g.nodeType||(h=d+c),g!==f||0!==l&&3!==g.nodeType||(p=d+l),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++v===c&&(h=d),y===f&&++m===l&&(p=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===h||-1===p?null:{start:h,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:u},Gt=!1,Ps=i;do{try{pu()}catch(S){if(null===Ps)throw Error(a(330));yu(Ps,S),Ps=Ps.nextEffect}}while(null!==Ps);Ps=i;do{try{for(s=e,u=t;null!==Ps;){var _=Ps.effectTag;if(16&_&&ze(Ps.stateNode,""),128&_){var w=Ps.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:ls(Ps),Ps.effectTag&=-3;break;case 6:ls(Ps),Ps.effectTag&=-3,fs(Ps.alternate,Ps);break;case 1024:Ps.effectTag&=-1025;break;case 1028:Ps.effectTag&=-1025,fs(Ps.alternate,Ps);break;case 4:fs(Ps.alternate,Ps);break;case 8:cs(s,c=Ps,u),ss(c)}Ps=Ps.nextEffect}}catch(S){if(null===Ps)throw Error(a(330));yu(Ps,S),Ps=Ps.nextEffect}}while(null!==Ps);if(x=mn,w=hn(),_=x.focusedElem,u=x.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==u&&pn(_)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(x,_.value.length)):(x=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=_.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!x.extend&&s>u&&(c=u,u=s,s=c),c=dn(_,s),f=dn(_,u),c&&f&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=_;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)(x=w[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Gt=!!vn,mn=vn=null,e.current=n,Ps=i;do{try{for(_=e;null!==Ps;){var O=Ps.effectTag;if(36&O&&os(_,Ps.alternate,Ps),128&O){w=void 0;var k=Ps.ref;if(null!==k){var E=Ps.stateNode;switch(Ps.tag){case 5:w=E;break;default:w=E}"function"===typeof k?k(w):k.current=w}}Ps=Ps.nextEffect}}catch(S){if(null===Ps)throw Error(a(330));yu(Ps,S),Ps=Ps.nextEffect}}while(null!==Ps);Ps=null,Ii(),Os=o}else e.current=n;if(Bs)Bs=!1,zs=e,Us=t;else for(Ps=i;null!==Ps;)t=Ps.nextEffect,Ps.nextEffect=null,Ps=t;if(0===(t=e.firstPendingTime)&&(Rs=null),1073741823===t?e===Ws?Vs++:(Vs=0,Ws=e):Vs=0,"function"===typeof wu&&wu(n.stateNode,r),Js(e),Ls)throw Ls=!1,e=Fs,Fs=null,e;return 0!==(8&Os)||qi(),null}function pu(){for(;null!==Ps;){var e=Ps.effectTag;0!==(256&e)&&ns(Ps.alternate,Ps),0===(512&e)||Bs||(Bs=!0,Vi(97,(function(){return vu(),null}))),Ps=Ps.nextEffect}}function vu(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Hi(e,mu)}}function mu(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&Os))throw Error(a(331));var t=Os;for(Os|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));yu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Os=t,qi(),!0}function gu(e,t,n){uo(e,t=ps(e,t=$a(n,t),1073741823)),null!==(e=Ks(e,1073741823))&&Js(e)}function yu(e,t){if(3===e.tag)gu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rs||!Rs.has(r))){uo(n,e=vs(n,e=$a(t,e),1073741823)),null!==(n=Ks(n,1073741823))&&Js(n);break}}n=n.return}}function bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ks===e&&Ss===n?Ts===xs||Ts===ws&&1073741823===Ds&&Bi()-Is<500?nu(e,Ss):Ms=!0:Nu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Js(e)))}function _u(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=Gs(),e,null)),null!==(e=Ks(e,t))&&Js(e)}ms=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Aa=!0;else{if(r<n){switch(Aa=!1,t.tag){case 3:Ba(t),Ca();break;case 5:if(Io(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vi(t.type)&&bi(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,li(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(li(Lo,1&Lo.current),null!==(t=Qa(e,t,n))?t.sibling:null);li(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ya(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Lo,Lo.current),!r)return null}return Qa(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Qo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternalFiber=t,_o(t,r,e,n),t=Ra(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Eu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Fa(null,t,i,e,n);break e;case 11:t=Na(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ca(),t=Qa(e,t,n);else{if((i=t.stateNode.hydrate)&&(wa=wn(t.stateNode.containerInfo.firstChild),_a=t,i=xa=!0),i)for(n=So(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ja(e,t,r,n),Ca();t=t.child}return t;case 5:return Io(t),null===e&&Ea(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==o&&yn(r,o)&&(t.effectTag|=16),Pa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ja(e,t,s,n),t=t.child),t;case 6:return null===e&&Ea(t),null;case 13:return Wa(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Ki,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){t=Qa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=so(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,ja(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ma(e,t,i,o=Qi(i.type,o),r,n);case 15:return Ia(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,no(t,n),yo(t,r,i),_o(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Ya(e,t,n)}throw Error(a(156,t.tag))};var wu=null,xu=null;function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ku(e,t,n,r){return new Ou(e,t,n,r)}function Eu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Su(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Eu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Cu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=ku(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=ku(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=ku(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Cu(e,t,n,r){return(e=ku(7,e,r,t)).expirationTime=n,e}function Du(e,t,n){return(e=ku(6,e,null,t)).expirationTime=n,e}function Au(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Nu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Mu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Iu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Pu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Lu(e,t,n,r){var i=t.current,o=Gs(),s=ho.suspense;o=Ys(o,i,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=yi(n,l,u);break e}}n=u}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),Qs(i,o),o}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ru(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bu(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function zu(e,t,n){var r=new ju(e,t,n=null!=n&&!0===n.hydrate),i=ku(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[Sn]=r.current,n&&0!==t&&function(e,t){var n=$e(t);St.forEach((function(e){pt(e,t,n)})),Tt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Fu(a);s.call(e)}}Lu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Fu(a);u.call(e)}}tu((function(){Lu(t,a,e,i)}))}return Fu(a)}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(t))throw Error(a(200));return Vu(e,t,null,n)}zu.prototype.render=function(e){Lu(e,this._internalRoot,null,null)},zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lu(null,e,null,(function(){t[Sn]=null}))},vt=function(e){if(13===e.tag){var t=Yi(Gs(),150,100);Qs(e,t),Bu(e,t)}},mt=function(e){13===e.tag&&(Qs(e,3),Bu(e,3))},gt=function(e){if(13===e.tag){var t=Gs();Qs(e,t=Ys(t,e,null)),Bu(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=An(r);if(!i)throw Error(a(90));we(r),Ee(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},I=eu,P=function(e,t,n,r,i){var o=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&qi()}},L=function(){0===(49&Os)&&(function(){if(null!==Hs){var e=Hs;Hs=null,e.forEach((function(e,t){Pu(t,e),Js(t)})),qi()}}(),vu())},F=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&qi()}};var qu={Events:[Cn,Dn,An,S,O,Fn,function(e){it(e,Ln)},N,M,Jt,st,vu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);wu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},xu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qu,t.createPortal=Wu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Os))throw Error(a(187));var n=Os;Os|=1;try{return Hi(99,e.bind(null,t))}finally{Os=n,qi()}},t.hydrate=function(e,t,n){if(!Uu(t))throw Error(a(200));return Hu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Uu(t))throw Error(a(200));return Hu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){Hu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sn]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Wu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Hu(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(179)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var y=!1,b=null,_=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,k=O.port2;O.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+w;try{b(!0,e)?k.postMessage(null):(y=!1,b=null)}catch(n){throw k.postMessage(null),n}}else y=!1},r=function(e){b=e,y||(y=!0,k.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){v(_),_=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],A=[],j=1,N=null,M=3,I=!1,P=!1,L=!1;function F(e){for(var t=S(A);null!==t;){if(null===t.callback)T(A);else{if(!(t.startTime<=e))break;T(A),t.sortIndex=t.expirationTime,E(D,t)}t=S(A)}}function R(e){if(L=!1,F(e),!P)if(null!==S(D))P=!0,r(B);else{var t=S(A);null!==t&&i(R,t.startTime-e)}}function B(e,n){P=!1,L&&(L=!1,o()),I=!0;var r=M;try{for(F(n),N=S(D);null!==N&&(!(N.expirationTime>n)||e&&!a());){var s=N.callback;if(null!==s){N.callback=null,M=N.priorityLevel;var u=s(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===S(D)&&T(D),F(n)}else T(D);N=S(D)}if(null!==N)var l=!0;else{var c=S(A);null!==c&&i(R,c.startTime-n),l=!1}return l}finally{N=null,M=r,I=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||I||(P=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return S(D)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:z(e)}else a=z(e),u=s;return e={id:j++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,E(A,e),null===S(D)&&e===S(A)&&(L?o():L=!0,i(R,u-s))):(e.sortIndex=a,E(D,e),P||I||(P=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=S(D);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=p(o),s=p(n(43)),u=p(n(13)),l=p(n(183)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(98)),f=n(77),d=p(f),h=n(190);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",b=void 0!==s.default.createPortal,_=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var x=function(e){function t(){var e,n,i;v(this,t);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!b&&s.default.unmountComponentAtNode(i.node);var e=w(i.props.parentSelector);e?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=_()(i,a.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},m(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),_()(a.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(o.Component);x.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},x.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},x.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(x),t.default=x},function(e,t,n){"use strict";var r=n(182);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=m(a),u=m(n(13)),l=v(n(184)),c=m(n(185)),f=v(n(98)),d=v(n(188)),h=m(n(77)),p=m(n(99));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}n(189);var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.remove(document.body,o),i&&d.remove(document.getElementsByTagName("html")[0],i),r&&y>0&&0===(y-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.add(document.body,i),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(y+=1,f.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=n?{}:o.content,u=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(a.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(h.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,testId:u.default.string},t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var r,i=n(97),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function l(){u=!0}function c(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var l=n.indexOf(document.activeElement);l>-1&&(l+=i?-1:1);if("undefined"===typeof(r=n[l]))return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),r.focus()};var r,i=n(97),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},i={};t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},function(e,t,n){"use strict";var r,i=n(99),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,u=[];function l(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",l),(s=a.cloneNode()).addEventListener("focus",l)),(u=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var c={};function f(){}function d(){}function h(){}var p={};p[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=g.constructor=h,h.constructor=d,d.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),s(g,a,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(41),i=n(100),o=n(193),a=n(107);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(103));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(108),u.CancelToken=n(206),u.isCancel=n(102),u.all=function(e){return Promise.all(e)},u.spread=n(207),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(41),i=n(101),o=n(194),a=n(195),s=n(107);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(41);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(41),i=n(196),o=n(102),a=n(103);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(41);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(41);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(106);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(41);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(202),i=n(203);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(41),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(41);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(108);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=t.InfoIcon=t.FlameIcon=t.CheckIcon=t.AlertIcon=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};function s(e){return{"aria-hidden":!0,height:16,width:e,viewBox:"0 0 "+e+" 16",style:{display:"inline-block",verticalAlign:"text-top",fill:"currentColor"}}}t.AlertIcon=function(e){return a.default.createElement("svg",i({},s(16),e),a.default.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},t.CheckIcon=function(e){return a.default.createElement("svg",i({},s(12),e),a.default.createElement("path",{fillRule:"evenodd",d:"M12 5.5l-8 8-4-4L1.5 8 4 10.5 10.5 4 12 5.5z"}))},t.FlameIcon=function(e){return a.default.createElement("svg",i({},s(12),e),a.default.createElement("path",{fillRule:"evenodd",d:"M5.05.01c.81 2.17.41 3.38-.52 4.31C3.55 5.37 1.98 6.15.9 7.68c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.01 8.68 2.15 5.05.02L5.03 0l.02.01z"}))},t.InfoIcon=function(e){return a.default.createElement("svg",i({},s(14),e),a.default.createElement("path",{fillRule:"evenodd",d:"M6.3 5.71a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 8.01c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V8v.01zM7 2.32C3.86 2.32 1.3 4.86 1.3 8c0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 1c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},t.CloseIcon=function(e){return a.default.createElement("svg",i({},s(14),e),a.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.R50="#FFEBE6",t.R75="#FFBDAD",t.R100="#FF8F73",t.R200="#FF7452",t.R300="#FF5630",t.R400="#DE350B",t.R500="#BF2600",t.Y50="#FFFAE6",t.Y75="#FFF0B3",t.Y100="#FFE380",t.Y200="#FFC400",t.Y300="#FFAB00",t.Y400="#FF991F",t.Y500="#FF8B00",t.G50="#E3FCEF",t.G75="#ABF5D1",t.G100="#79F2C0",t.G200="#57D9A3",t.G300="#36B37E",t.G400="#00875A",t.G500="#006644",t.B50="#DEEBFF",t.B75="#B3D4FF",t.B100="#4C9AFF",t.B200="#2684FF",t.B300="#0065FF",t.B400="#0052CC",t.B500="#0747A6",t.P50="#EAE6FF",t.P75="#C0B6F2",t.P100="#998DD9",t.P200="#8777D9",t.P300="#6554C0",t.P400="#5243AA",t.P500="#403294",t.T50="#E6FCFF",t.T75="#B3F5FF",t.T100="#79E2F2",t.T200="#00C7E6",t.T300="#00B8D9",t.T400="#00A3BF",t.T500="#008DA6",t.N0="#FFFFFF",t.N10="#FAFBFC",t.N20="#F4F5F7",t.N30="#EBECF0",t.N40="#DFE1E6",t.N50="#C1C7D0",t.N60="#B3BAC5",t.N70="#A5ADBA",t.N80="#97A0AF",t.N90="#8993A4",t.N100="#7A869A",t.N200="#6B778C",t.N300="#5E6C84",t.N400="#505F79",t.N500="#42526E",t.N600="#344563",t.N700="#253858",t.N800="#172B4D",t.N900="#091E42",t.N10A="rgba(9, 30, 66, 0.02)",t.N20A="rgba(9, 30, 66, 0.04)",t.N30A="rgba(9, 30, 66, 0.08)",t.N40A="rgba(9, 30, 66, 0.13)",t.N50A="rgba(9, 30, 66, 0.25)",t.N60A="rgba(9, 30, 66, 0.31)",t.N70A="rgba(9, 30, 66, 0.36)",t.N80A="rgba(9, 30, 66, 0.42)",t.N90A="rgba(9, 30, 66, 0.48)",t.N100A="rgba(9, 30, 66, 0.54)",t.N200A="rgba(9, 30, 66, 0.60)",t.N300A="rgba(9, 30, 66, 0.66)",t.N400A="rgba(9, 30, 66, 0.71)",t.N500A="rgba(9, 30, 66, 0.77)",t.N600A="rgba(9, 30, 66, 0.82)",t.N700A="rgba(9, 30, 66, 0.89)",t.N800A="rgba(9, 30, 66, 0.95)"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToasts=t.withToastManager=t.ToastConsumer=t.ToastProvider=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=(r=a)&&r.__esModule?r:{default:r},u=n(43),l=n(83),c=n(211),f=n(109),d=n(79),h=n(80);function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g={Toast:d.DefaultToast,ToastContainer:f.ToastContainer},y=s.default.createContext(),b=y.Consumer,_=y.Provider,w=!("undefined"===typeof window||!window.document||!window.document.createElement);(t.ToastProvider=function(e){function t(){var e,n,r;v(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={toasts:[]},r.has=function(e){return!!r.state.toasts.length&&Boolean(r.state.toasts.filter((function(t){return t.id===e})).length)},r.onDismiss=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.NOOP;return function(){t(e),r.remove(e)}},r.add=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.NOOP,o=t.id||(0,h.generateUEID)(),a=function(){return n(o)};if(!r.has(o))return r.setState((function(n){var r=i({content:e,id:o},t);return{toasts:[].concat(p(n.toasts),[r])}}),a),o},r.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.NOOP,n=function(){return t(e)};r.has(e)&&r.setState((function(t){return{toasts:t.toasts.filter((function(t){return t.id!==e}))}}),n)},r.removeAll=function(){r.state.toasts.length&&r.state.toasts.forEach((function(e){return r.remove(e.id)}))},r.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.NOOP,o=function(){return n(e)};r.has(e)&&r.setState((function(n){var r=n.toasts,o=r.findIndex((function(t){return t.id===e})),a=i({},r[o],t);return{toasts:[].concat(p(r.slice(0,o)),[a],p(r.slice(o+1)))}}),o)},m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.autoDismiss,r=t.autoDismissTimeout,o=t.children,a=t.components,f=t.placement,d=t.transitionDuration,h=i({},g,a),p=h.Toast,v=h.ToastContainer,m=this.add,y=this.remove,b=this.removeAll,x=this.update,O=Object.freeze(this.state.toasts),k=Boolean(O.length),E=w?document.body:null;return s.default.createElement(_,{value:{add:m,remove:y,removeAll:b,update:x,toasts:O}},o,E?(0,u.createPortal)(s.default.createElement(v,{placement:f,hasToasts:k},s.default.createElement(l.TransitionGroup,{component:null},O.map((function(t){var o=t.appearance,a=t.autoDismiss,u=t.content,h=t.id,v=t.onDismiss,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["appearance","autoDismiss","content","id","onDismiss"]);return s.default.createElement(l.Transition,{appear:!0,key:h,mountOnEnter:!0,timeout:d,unmountOnExit:!0},(function(t){return s.default.createElement(c.ToastController,i({appearance:o,autoDismiss:void 0!==a?a:n,autoDismissTimeout:r,component:p,key:h,onDismiss:e.onDismiss(h,v),placement:f,transitionDuration:d,transitionState:t},m),u)}))})))),E):s.default.createElement(v,{placement:f,hasToasts:k}))}}]),t}(a.Component)).defaultProps={autoDismiss:!1,autoDismissTimeout:5e3,components:g,placement:"top-right",transitionDuration:220};var x=t.ToastConsumer=function(e){var t=e.children;return s.default.createElement(b,null,(function(e){return t(e)}))};t.withToastManager=function(e){return s.default.forwardRef((function(t,n){return s.default.createElement(x,null,(function(r){return s.default.createElement(e,i({toastManager:r},t,{ref:n}))}))}))},t.useToasts=function(){var e=(0,a.useContext)(y);if(!e)throw Error("The `useToasts` hook must be called from a descendent of the `ToastProvider`.");return{addToast:e.add,removeToast:e.remove,removeAllToasts:e.removeAll,updateToast:e.update,toastStack:e.toasts}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastController=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=(r=a)&&r.__esModule?r:{default:r},u=(n(83),n(80));function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}u.NOOP,u.NOOP,u.NOOP;function f(e,t){var n=void 0,r=t,i=t;this.clear=function(){clearTimeout(n)},this.pause=function(){clearTimeout(n),i-=Date.now()-r},this.resume=function(){r=Date.now(),clearTimeout(n),n=setTimeout(e,i)},this.resume()}(t.ToastController=function(e){function t(){var e,n,r;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isRunning:Boolean(r.props.autoDismiss)},r.startTimer=function(){var e=r.props,t=e.autoDismiss,n=e.autoDismissTimeout,i=e.onDismiss;t&&(r.setState({isRunning:!0}),r.timeout=new f(i,n))},r.clearTimer=function(){r.timeout&&r.timeout.clear()},r.onMouseEnter=function(){r.setState({isRunning:!1},(function(){r.timeout&&r.timeout.pause()}))},r.onMouseLeave=function(){r.setState({isRunning:!0},(function(){r.timeout&&r.timeout.resume()}))},c(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(e){e.autoDismiss!==this.props.autoDismiss&&(this.props.autoDismiss?this.startTimer:this.clearTimer)()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.autoDismiss,n=e.autoDismissTimeout,r=e.component,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["autoDismiss","autoDismissTimeout","component"]),a=this.state.isRunning,l=t?this.onMouseEnter:u.NOOP,c=t?this.onMouseLeave:u.NOOP;return s.default.createElement(r,i({autoDismiss:t,autoDismissTimeout:n,isRunning:a,onMouseEnter:l,onMouseLeave:c},o))}}]),t}(a.Component)).defaultProps={autoDismiss:!1}},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function O(e){return x(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||x(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(113),i=n(114),o=n(69),a=n(116);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){var r=n(117),i=n(118);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){var r=n(219);function i(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(t,n,o||t)}e.exports=i},function(e,t,n){var r=n(81);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){var r=n(117);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(81),i=n(118),o=n(111);e.exports=function(e){return function(){var t,n=r(e);if(i()){var a=r(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return o(this,t)}}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t,n){var r=n(225),i=n(114),o=n(69),a=n(226);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){var r=n(115);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){},function(e,t,n){!function(e){"use strict";var t={},n=/[^\s\u00a0]/,r=e.Pos,i=e.cmpPos;function o(e){var t=e.search(n);return-1==t?0:t}function a(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",(function(e){e||(e=t);for(var n=1/0,i=this.listSelections(),o=null,a=i.length-1;a>=0;a--){var s=i[a].from(),u=i[a].to();s.line>=n||(u.line>=n&&(u=r(n,0)),n=s.line,null==o?this.uncomment(s,u,e)?o="un":(this.lineComment(s,u,e),o="line"):"un"==o?this.uncomment(s,u,e):this.lineComment(s,u,e))}})),e.defineExtension("lineComment",(function(e,i,s){s||(s=t);var u=this,l=a(u,e),c=u.getLine(e.line);if(null!=c&&(f=e,d=c,!/\bstring\b/.test(u.getTokenTypeAt(r(f.line,0)))||/^[\'\"\`]/.test(d))){var f,d,h=s.lineComment||l.lineComment;if(h){var p=Math.min(0!=i.ch||i.line==e.line?i.line+1:i.line,u.lastLine()+1),v=null==s.padding?" ":s.padding,m=s.commentBlankLines||e.line==i.line;u.operation((function(){if(s.indent){for(var t=null,i=e.line;i<p;++i){var a=(l=u.getLine(i)).slice(0,o(l));(null==t||t.length>a.length)&&(t=a)}for(i=e.line;i<p;++i){var l=u.getLine(i),c=t.length;(m||n.test(l))&&(l.slice(0,c)!=t&&(c=o(l)),u.replaceRange(t+h+v,r(i,0),r(i,c)))}}else for(i=e.line;i<p;++i)(m||n.test(u.getLine(i)))&&u.replaceRange(h+v,r(i,0))}))}else(s.blockCommentStart||l.blockCommentStart)&&(s.fullLines=!0,u.blockComment(e,i,s))}})),e.defineExtension("blockComment",(function(e,o,s){s||(s=t);var u=this,l=a(u,e),c=s.blockCommentStart||l.blockCommentStart,f=s.blockCommentEnd||l.blockCommentEnd;if(c&&f){if(!/\bcomment\b/.test(u.getTokenTypeAt(r(e.line,0)))){var d=Math.min(o.line,u.lastLine());d!=e.line&&0==o.ch&&n.test(u.getLine(d))&&--d;var h=null==s.padding?" ":s.padding;e.line>d||u.operation((function(){if(0!=s.fullLines){var t=n.test(u.getLine(d));u.replaceRange(h+f,r(d)),u.replaceRange(c+h,r(e.line,0));var a=s.blockCommentLead||l.blockCommentLead;if(null!=a)for(var p=e.line+1;p<=d;++p)(p!=d||t)&&u.replaceRange(a+h,r(p,0))}else{var v=0==i(u.getCursor("to"),o),m=!u.somethingSelected();u.replaceRange(f,o),v&&u.setSelection(m?o:u.getCursor("from"),o),u.replaceRange(c,e)}}))}}else(s.lineComment||l.lineComment)&&0!=s.fullLines&&u.lineComment(e,o,s)})),e.defineExtension("uncomment",(function(e,i,o){o||(o=t);var s,u=this,l=a(u,e),c=Math.min(0!=i.ch||i.line==e.line?i.line:i.line-1,u.lastLine()),f=Math.min(e.line,c),d=o.lineComment||l.lineComment,h=[],p=null==o.padding?" ":o.padding;e:if(d){for(var v=f;v<=c;++v){var m=u.getLine(v),g=m.indexOf(d);if(g>-1&&!/comment/.test(u.getTokenTypeAt(r(v,g+1)))&&(g=-1),-1==g&&n.test(m))break e;if(g>-1&&n.test(m.slice(0,g)))break e;h.push(m)}if(u.operation((function(){for(var e=f;e<=c;++e){var t=h[e-f],n=t.indexOf(d),i=n+d.length;n<0||(t.slice(i,i+p.length)==p&&(i+=p.length),s=!0,u.replaceRange("",r(e,n),r(e,i)))}})),s)return!0}var y=o.blockCommentStart||l.blockCommentStart,b=o.blockCommentEnd||l.blockCommentEnd;if(!y||!b)return!1;var _=o.blockCommentLead||l.blockCommentLead,w=u.getLine(f),x=w.indexOf(y);if(-1==x)return!1;var O=c==f?w:u.getLine(c),k=O.indexOf(b,c==f?x+y.length:0),E=r(f,x+1),S=r(c,k+1);if(-1==k||!/comment/.test(u.getTokenTypeAt(E))||!/comment/.test(u.getTokenTypeAt(S))||u.getRange(E,S,"\n").indexOf(b)>-1)return!1;var T=w.lastIndexOf(y,e.ch),C=-1==T?-1:w.slice(0,e.ch).indexOf(b,T+y.length);if(-1!=T&&-1!=C&&C+b.length!=e.ch)return!1;C=O.indexOf(b,i.ch);var D=O.slice(i.ch).lastIndexOf(y,C-i.ch);return T=-1==C||-1==D?-1:i.ch+D,(-1==C||-1==T||T==i.ch)&&(u.operation((function(){u.replaceRange("",r(c,k-(p&&O.slice(k-p.length,k)==p?p.length:0)),r(c,k+b.length));var e=x+y.length;if(p&&w.slice(e,e+p.length)==p&&(e+=p.length),u.replaceRange("",r(f,x),r(f,e)),_)for(var t=f+1;t<=c;++t){var i=u.getLine(t),o=i.indexOf(_);if(-1!=o&&!n.test(i.slice(0,o))){var a=o+_.length;p&&i.slice(a,a+p.length)==p&&(a+=p.length),u.replaceRange("",r(t,o),r(t,a))}}})),!0)}))}(n(21))},function(e,t,n){!function(e){"use strict";function t(t,n,i,o){if(i&&i.call){var a=i;i=null}else a=r(t,i,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var s=r(t,i,"minFoldSize");function u(e){var r=a(t,n);if(!r||r.to.line-r.from.line<s)return null;for(var i=t.findMarksAt(r.from),u=0;u<i.length;++u)if(i[u].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0,i[u].clear()}return r}var l=u(!0);if(r(t,i,"scanUp"))for(;!l&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),l=u(!1);if(l&&!l.cleared&&"unfold"!==o){var c=function(e,t,n){var i=r(e,t,"widget");if("function"==typeof i&&(i=i(n.from,n.to)),"string"==typeof i){var o=document.createTextNode(i);(i=document.createElement("span")).appendChild(o),i.className="CodeMirror-foldmarker"}else i&&(i=i.cloneNode(!0));return i}(t,i,l);e.on(c,"mousedown",(function(t){f.clear(),e.e_preventDefault(t)}));var f=t.markText(l.from,l.to,{replacedWith:c,clearOnEnter:r(t,i,"clearOnEnter"),__isFold:!0});f.on("clear",(function(n,r){e.signal(t,"unfold",t,n,r)})),e.signal(t,"fold",t,l.from,l.to)}}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",(function(e,n,r){t(this,e,n,r)})),e.defineExtension("isFolded",(function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0})),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")}))},e.commands.unfoldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")}))},e.registerHelper("fold","combine",(function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}})),e.registerHelper("fold","auto",(function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}}));var n={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function r(e,t,r){if(t&&void 0!==t[r])return t[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:n[r]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",(function(e,t){return r(this,e,t)}))}(n(21))},function(e,t,n){!function(e){"use strict";function t(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(e){return e.state.search||(e.state.search=new t)}function r(e){return"string"==typeof e&&e==e.toLowerCase()}function i(e,t,n){return e.getSearchCursor(t,n,{caseFold:r(t),multiline:!0})}function o(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function a(e){return e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"==t?"\\":e}))}function s(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}else e=a(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function u(e,t,n){t.queryText=n,t.query=s(n),e.removeOverlay(t.overlay,r(t.query)),t.overlay=function(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}(t.query,r(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,r(t.query)))}function l(t,r,i,a){var s=n(t);if(s.query)return c(t,r);var l=t.getSelection()||s.lastQuery;if(l instanceof RegExp&&"x^"==l.source&&(l=null),i&&t.openDialog){var h=null,p=function(n,r){e.e_stop(r),n&&(n!=s.queryText&&(u(t,s,n),s.posFrom=s.posTo=t.getCursor()),h&&(h.style.opacity=1),c(t,r.shiftKey,(function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((h=r).style.opacity=.4)})))};!function(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){f(e)},onKeyDown:i})}(t,d(t),l,p,(function(r,i){var o=e.keyName(r),a=t.getOption("extraKeys"),s=a&&a[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==s||"findPrev"==s||"findPersistentNext"==s||"findPersistentPrev"==s?(e.e_stop(r),u(t,n(t),i),t.execCommand(s)):"find"!=s&&"findPersistent"!=s||(e.e_stop(r),p(i,r))})),a&&l&&(u(t,s,l),c(t,r))}else o(t,d(t),"Search for:",l,(function(e){e&&!s.query&&t.operation((function(){u(t,s,e),s.posFrom=s.posTo=t.getCursor(),c(t,r)}))}))}function c(t,r,o){t.operation((function(){var a=n(t),s=i(t,a.query,r?a.posFrom:a.posTo);(s.find(r)||(s=i(t,a.query,r?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(r))&&(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),o&&o(s.from(),s.to()))}))}function f(e){e.operation((function(){var t=n(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))}))}function d(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function h(e,t,n){e.operation((function(){for(var r=i(e,t);r.findNext();)if("string"!=typeof t){var o=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,(function(e,t){return o[t]})))}else r.replace(n)}))}function p(e,t){if(!e.getOption("readOnly")){var r=e.getSelection()||n(e).lastQuery,u='<span class="CodeMirror-search-label">'+(t?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";o(e,u+function(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(e),u,r,(function(n){n&&(n=s(n),o(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(e),e.phrase("Replace with:"),"",(function(r){if(r=a(r),t)h(e,n,r);else{f(e);var o=i(e,n,e.getCursor("from")),s=function t(){var a,s=o.from();!(a=o.findNext())&&(o=i(e,n),!(a=o.findNext())||s&&o.from().line==s.line&&o.from().ch==s.ch)||(e.setSelection(o.from(),o.to()),e.scrollIntoView({from:o.from(),to:o.to()}),function(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}(e),e.phrase("Replace?"),[function(){u(a)},t,function(){h(e,n,r)}]))},u=function(e){o.replace("string"==typeof n?r:r.replace(/\$(\d)/g,(function(t,n){return e[n]}))),s()};s()}})))}))}}e.commands.find=function(e){f(e),l(e)},e.commands.findPersistent=function(e){f(e),l(e,!1,!0)},e.commands.findPersistentNext=function(e){l(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){l(e,!0,!0,!0)},e.commands.findNext=l,e.commands.findPrev=function(e){l(e,!0)},e.commands.clearSearch=f,e.commands.replace=p,e.commands.replaceAll=function(e){p(e,!0)}}(n(21),n(70),n(71))},function(e,t,n){"use strict";var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(135),a=n(30);i.default.registerHelper("hint","graphql",(function(e,t){var n=t.schema;if(n){var r=e.getCursor(),s=e.getTokenAt(r),u=function(e,t,n){var r="Invalid"===n.state.kind?n.state.prevState:n.state;if(!r)return[];var i=r.kind,s=r.step,u=(0,o.getTypeInfo)(e,n.state);if("Document"===i)return(0,o.hintList)(n,[{label:"query"},{label:"mutation"},{label:"subscription"},{label:"fragment"},{label:"{"}]);if("SelectionSet"===i||"Field"===i||"AliasedField"===i)return function(e,t,n){if(t.parentType){var r=t.parentType,i=(0,a.isObjectType)(r)&&"getFields"in r?(0,o.objectValues)(r.getFields()):[];return(0,a.isCompositeType)(r)&&i.push(a.TypeNameMetaFieldDef),r===n.getQueryType()&&i.push(a.SchemaMetaFieldDef,a.TypeMetaFieldDef),(0,o.hintList)(e,i.map((function(e){var t;return{label:e.name,type:e.type,documentation:null!==(t=e.description)&&void 0!==t?t:void 0,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason}})))}return[]}(n,u,e);if("Arguments"===i||"Argument"===i&&0===s){var l=u.argDefs;if(l)return(0,o.hintList)(n,l.map((function(e){var t;return{label:e.name,type:e.type,documentation:null!==(t=e.description)&&void 0!==t?t:void 0}})))}if(("ObjectValue"===i||"ObjectField"===i&&0===s)&&u.objectFieldDefs){var c=(0,o.objectValues)(u.objectFieldDefs);return(0,o.hintList)(n,c.map((function(e){var t;return{label:e.name,type:e.type,documentation:null!==(t=e.description)&&void 0!==t?t:void 0}})))}if("EnumValue"===i||"ListValue"===i&&1===s||"ObjectField"===i&&2===s||"Argument"===i&&2===s)return function(e,t){var n=(0,a.getNamedType)(t.inputType);if(n instanceof a.GraphQLEnumType){var r=n.getValues();return(0,o.hintList)(e,r.map((function(e){var t;return{label:e.name,type:n,documentation:null!==(t=e.description)&&void 0!==t?t:void 0,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason}})))}if(n===a.GraphQLBoolean)return(0,o.hintList)(e,[{label:"true",type:a.GraphQLBoolean,documentation:"Not false."},{label:"false",type:a.GraphQLBoolean,documentation:"Not true."}]);return[]}(n,u);if("TypeCondition"===i&&1===s||"NamedType"===i&&null!=r.prevState&&"TypeCondition"===r.prevState.kind)return function(e,t,n){var r;if(t.parentType)if((0,a.isAbstractType)(t.parentType)){var i=(0,a.assertAbstractType)(t.parentType),s=n.getPossibleTypes(i),u=Object.create(null);s.forEach((function(e){e.getInterfaces().forEach((function(e){u[e.name]=e}))})),r=s.concat((0,o.objectValues)(u))}else r=[t.parentType];else{var l=n.getTypeMap();r=(0,o.objectValues)(l).filter(a.isCompositeType)}return(0,o.hintList)(e,r.map((function(e){var t=(0,a.getNamedType)(e);return{label:String(e),documentation:t&&t.description||""}})))}(n,u,e);if("FragmentSpread"===i&&1===s)return function(e,t,n,r){var i=n.getTypeMap(),s=(0,o.getDefinitionState)(e.state),u=(0,o.getFragmentDefinitions)(r).filter((function(e){return i[e.typeCondition.name.value]&&!(s&&"FragmentDefinition"===s.kind&&s.name===e.name.value)&&(0,a.isCompositeType)(t.parentType)&&(0,a.isCompositeType)(i[e.typeCondition.name.value])&&(0,a.doTypesOverlap)(n,t.parentType,i[e.typeCondition.name.value])}));return(0,o.hintList)(e,u.map((function(e){return{label:e.name.value,type:i[e.typeCondition.name.value],documentation:"fragment ".concat(e.name.value," on ").concat(e.typeCondition.name.value)}})))}(n,u,e,t);if("VariableDefinition"===i&&2===s||"ListType"===i&&1===s||"NamedType"===i&&r.prevState&&("VariableDefinition"===r.prevState.kind||"ListType"===r.prevState.kind))return function(e,t){var n=t.getTypeMap(),r=(0,o.objectValues)(n).filter(a.isInputType);return(0,o.hintList)(e,r.map((function(e){return{label:e.name,documentation:e.description}})))}(n,e);if("Directive"===i)return function(e,t,n){if(t.prevState&&t.prevState.kind){var r=n.getDirectives().filter((function(e){return(0,o.canUseDirective)(t.prevState,e)}));return(0,o.hintList)(e,r.map((function(e){return{label:e.name,documentation:e.description||""}})))}return[]}(n,r,e);return[]}(n,e.getValue(),s),l=null!==s.type&&/"|\w/.test(s.string[0])?s.start:s.end,c={list:u.map((function(e){return{text:e.label,type:e.type,description:e.documentation,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason}})),from:{line:r.line,column:l},to:{line:r.line,column:s.end}};return c&&c.list&&c.list.length>0&&(c.from=i.default.Pos(c.from.line,c.from.column),c.to=i.default.Pos(c.to.line,c.to.column),i.default.signal(e,"hasCompletion",e,c,s)),c}}))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(_){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])v(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(k(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var l,_="",w=!1,E=["{","}"];(h(n)&&(w=!0,E=["[","]"]),k(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),x(n)&&(_=" "+Date.prototype.toUTCString.call(n)),O(n)&&(_=" "+f(n)),0!==a.length||w&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=w?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)D(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,w)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,_,E)):E[0]+_+E[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),D(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function v(e){return null===e}function m(e){return"number"===typeof e}function g(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"===typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===E(e)}function O(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function k(e){return"function"===typeof e}function E(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=Object({NODE_ENV:"production",PUBLIC_URL:"https://graphql.bitquery.io/test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENDPOINT_URL:"https://graphql.bitquery.io",REACT_APP_IDE_URL:"/test"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=O,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(235);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(236),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!==typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(j,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(104))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(135);var a=["error","warning","information","hint"],s={"GraphQL: Validation":"validation","GraphQL: Deprecation":"deprecation","GraphQL: Syntax":"syntax"};i.default.registerHelper("lint","graphql",(function(e,t){var n=t.schema;return(0,o.getDiagnostics)(e,n).map((function(e){return{message:e.message,severity:a[e.severity-1],type:s[e.source],from:i.default.Pos(e.range.start.line,e.range.start.character),to:i.default.Pos(e.range.end.line,e.range.end.character)}}))}))},function(e,t,n){"use strict";var r=n(30),i=s(n(21)),o=s(n(132)),a=n(134);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){var r=t.fieldDef.name;"__"!==r.slice(0,2)&&(f(e,t,n,t.parentType),h(e,".")),h(e,r,"field-name",n,(0,a.getFieldReference)(t))}function l(e,t,n){h(e,"@"+t.directiveDef.name,"directive-name",n,(0,a.getDirectiveReference)(t))}function c(e,t,n,r){h(e,": "),f(e,t,n,r)}function f(e,t,n,i){i instanceof r.GraphQLNonNull?(f(e,t,n,i.ofType),h(e,"!")):i instanceof r.GraphQLList?(h(e,"["),f(e,t,n,i.ofType),h(e,"]")):h(e,i.name,"type-name",n,(0,a.getTypeReference)(t,i))}function d(e,t,n){var r=n.description;if(r){var i=document.createElement("div");i.className="info-description",t.renderDescription?i.innerHTML=t.renderDescription(r):i.appendChild(document.createTextNode(r)),e.appendChild(i)}!function(e,t,n){var r=n.deprecationReason;if(r){var i=document.createElement("div");i.className="info-deprecation",t.renderDescription?i.innerHTML=t.renderDescription(r):i.appendChild(document.createTextNode(r));var o=document.createElement("span");o.className="info-deprecation-label",o.appendChild(document.createTextNode("Deprecated: ")),i.insertBefore(o,i.firstChild),e.appendChild(i)}}(e,t,n)}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{onClick:null},i=arguments.length>4?arguments[4]:void 0;if(n){var o,a=r.onClick;a?((o=document.createElement("a")).href="javascript:void 0",o.addEventListener("click",(function(e){a(i,e)}))):o=document.createElement("span"),o.className=n,o.appendChild(document.createTextNode(t)),e.appendChild(o)}else e.appendChild(document.createTextNode(t))}n(239),i.default.registerHelper("info","graphql",(function(e,t){if(t.schema&&e.state){var n=e.state,r=n.kind,i=n.step,s=(0,o.default)(t.schema,e.state);if("Field"===r&&0===i&&s.fieldDef||"AliasedField"===r&&2===i&&s.fieldDef){var p=document.createElement("div");return function(e,t,n){u(e,t,n),c(e,t,n,t.type)}(p,s,t),d(p,t,s.fieldDef),p}if("Directive"===r&&1===i&&s.directiveDef){var v=document.createElement("div");return l(v,s,t),d(v,t,s.directiveDef),v}if("Argument"===r&&0===i&&s.argDef){var m=document.createElement("div");return function(e,t,n){t.directiveDef?l(e,t,n):t.fieldDef&&u(e,t,n);var r=t.argDef.name;h(e,"("),h(e,r,"arg-name",n,(0,a.getArgumentReference)(t)),c(e,t,n,t.inputType),h(e,")")}(m,s,t),d(m,t,s.argDef),m}if("EnumValue"===r&&s.enumValue&&s.enumValue.description){var g=document.createElement("div");return function(e,t,n){var r=t.enumValue.name;f(e,t,n,t.inputType),h(e,"."),h(e,r,"enum-value",n,(0,a.getEnumValueReference)(t))}(g,s,t),d(g,t,s.enumValue),g}if("NamedType"===r&&s.type&&s.type.description){var y=document.createElement("div");return f(y,s,t,s.type),d(y,t,s.type),y}}}))},function(e,t,n){"use strict";var r,i=(r=n(21))&&r.__esModule?r:{default:r};function o(e,t){var n=e.state.info,r=t.target||t.srcElement;if("SPAN"===r.nodeName&&void 0===n.hoverTimeout){var o=r.getBoundingClientRect(),a=function(){clearTimeout(n.hoverTimeout),n.hoverTimeout=setTimeout(u,l)},s=function t(){i.default.off(document,"mousemove",a),i.default.off(e.getWrapperElement(),"mouseout",t),clearTimeout(n.hoverTimeout),n.hoverTimeout=void 0},u=function(){i.default.off(document,"mousemove",a),i.default.off(e.getWrapperElement(),"mouseout",s),n.hoverTimeout=void 0,function(e,t){var n=e.coordsChar({left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}),r=e.state.info.options,o=r.render||e.getHelper(n,"info");if(o){var a=e.getTokenAt(n,!0);if(a){var s=o(a,r,e,n);s&&function(e,t,n){var r=document.createElement("div");r.className="CodeMirror-info",r.appendChild(n),document.body.appendChild(r);var o=r.getBoundingClientRect(),a=r.currentStyle||window.getComputedStyle(r),s=o.right-o.left+parseFloat(a.marginLeft)+parseFloat(a.marginRight),u=o.bottom-o.top+parseFloat(a.marginTop)+parseFloat(a.marginBottom),l=t.bottom;u>window.innerHeight-t.bottom-15&&t.top>window.innerHeight-t.bottom&&(l=t.top-u);l<0&&(l=t.bottom);var c,f=Math.max(0,window.innerWidth-s-15);f>t.left&&(f=t.left);r.style.opacity=1,r.style.top=l+"px",r.style.left=f+"px";var d=function(){clearTimeout(c)},h=function(){clearTimeout(c),c=setTimeout(p,200)},p=function(){i.default.off(r,"mouseover",d),i.default.off(r,"mouseout",h),i.default.off(e.getWrapperElement(),"mouseout",h),r.style.opacity?(r.style.opacity=0,setTimeout((function(){r.parentNode&&r.parentNode.removeChild(r)}),600)):r.parentNode&&r.parentNode.removeChild(r)};i.default.on(r,"mouseover",d),i.default.on(r,"mouseout",h),i.default.on(e.getWrapperElement(),"mouseout",h)}(e,t,s)}}}(e,o)},l=function(e){var t=e.state.info.options;return t&&t.hoverTime||500}(e);n.hoverTimeout=setTimeout(u,l),i.default.on(document,"mousemove",a),i.default.on(e.getWrapperElement(),"mouseout",s)}}i.default.defineOption("info",!1,(function(e,t,n){if(n&&n!==i.default.Init){var r=e.state.info.onMouseOver;i.default.off(e.getWrapperElement(),"mouseover",r),clearTimeout(e.state.info.hoverTimeout),delete e.state.info}if(t){var a=e.state.info=function(e){return{options:e instanceof Function?{render:e}:!0===e?{}:e}}(t);a.onMouseOver=o.bind(null,e),i.default.on(e.getWrapperElement(),"mouseover",a.onMouseOver)}}))},function(e,t,n){"use strict";var r=a(n(21)),i=a(n(132)),o=n(134);function a(e){return e&&e.__esModule?e:{default:e}}n(241),r.default.registerHelper("jump","graphql",(function(e,t){if(t.schema&&t.onClick&&e.state){var n=e.state,r=n.kind,a=n.step,s=(0,i.default)(t.schema,n);return"Field"===r&&0===a&&s.fieldDef||"AliasedField"===r&&2===a&&s.fieldDef?(0,o.getFieldReference)(s):"Directive"===r&&1===a&&s.directiveDef?(0,o.getDirectiveReference)(s):"Argument"===r&&0===a&&s.argDef?(0,o.getArgumentReference)(s):"EnumValue"===r&&s.enumValue?(0,o.getEnumValueReference)(s):"NamedType"===r&&s.type?(0,o.getTypeReference)(s):void 0}}))},function(e,t,n){"use strict";var r,i=(r=n(21))&&r.__esModule?r:{default:r};function o(e,t){var n=t.target||t.srcElement;if("SPAN"===n.nodeName){var r=n.getBoundingClientRect(),i={left:(r.left+r.right)/2,top:(r.top+r.bottom)/2};e.state.jump.cursor=i,e.state.jump.isHoldingModifier&&l(e)}}function a(e){e.state.jump.isHoldingModifier||!e.state.jump.cursor?e.state.jump.isHoldingModifier&&e.state.jump.marker&&c(e):e.state.jump.cursor=null}function s(e,t){if(!e.state.jump.isHoldingModifier&&t.key===(u?"Meta":"Control")){e.state.jump.isHoldingModifier=!0,e.state.jump.cursor&&l(e);var n=function(t){var n=e.state.jump.destination;n&&e.state.jump.options.onClick(n,t)},r=function(t,n){e.state.jump.destination&&(n.codemirrorIgnore=!0)};i.default.on(document,"keyup",(function o(a){a.code===t.code&&(e.state.jump.isHoldingModifier=!1,e.state.jump.marker&&c(e),i.default.off(document,"keyup",o),i.default.off(document,"click",n),e.off("mousedown",r))})),i.default.on(document,"click",n),e.on("mousedown",r)}}i.default.defineOption("jump",!1,(function(e,t,n){if(n&&n!==i.default.Init){var r=e.state.jump.onMouseOver;i.default.off(e.getWrapperElement(),"mouseover",r);var u=e.state.jump.onMouseOut;i.default.off(e.getWrapperElement(),"mouseout",u),i.default.off(document,"keydown",e.state.jump.onKeyDown),delete e.state.jump}if(t){var l=e.state.jump={options:t,onMouseOver:o.bind(null,e),onMouseOut:a.bind(null,e),onKeyDown:s.bind(null,e)};i.default.on(e.getWrapperElement(),"mouseover",l.onMouseOver),i.default.on(e.getWrapperElement(),"mouseout",l.onMouseOut),i.default.on(document,"keydown",l.onKeyDown)}}));var u="undefined"!==typeof navigator&&navigator&&-1!==navigator.appVersion.indexOf("Mac");function l(e){if(!e.state.jump.marker){var t=e.state.jump.cursor,n=e.coordsChar(t),r=e.getTokenAt(n,!0),i=e.state.jump.options,o=i.getDestination||e.getHelper(n,"jump");if(o){var a=o(r,i,e);if(a){var s=e.markText({line:n.line,ch:r.start},{line:n.line,ch:r.end},{className:"CodeMirror-jump-token"});e.state.jump.marker=s,e.state.jump.destination=a}}}}function c(e){var t=e.state.jump.marker;e.state.jump.marker=null,e.state.jump.destination=null,t.clear()}},function(e,t,n){"use strict";var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(6);function a(e,t){var n=e.levels;return(n&&0!==n.length?n[n.length-1]-(this.electricInput.test(t)?1:0):e.indentLevel)*this.config.indentUnit}i.default.defineMode("graphql",(function(e){var t=(0,o.onlineParser)({eatWhitespace:function(e){return e.eatWhile(o.isIgnored)},lexRules:o.LexRules,parseRules:o.ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:t.startState,token:t.token,indent:a,electricInput:/^\s*[})\]]/,fold:"brace",lineComment:"#",closeBrackets:{pairs:'()[]{}""',explode:"()[]{}"}}}))},function(e,t,n){"use strict";var r=s(n(21)),i=n(30),o=s(n(133)),a=s(n(244));function s(e){return e&&e.__esModule?e:{default:e}}r.default.registerHelper("hint","graphql-variables",(function(e,t){var n=e.getCursor(),s=e.getTokenAt(n),u=function(e,t,n){var r="Invalid"===t.state.kind?t.state.prevState:t.state,s=r.kind,u=r.step;if("Document"===s&&0===u)return(0,a.default)(e,t,[{text:"{"}]);var l=n.variableToType;if(!l)return;var c=function(e,t){var n={type:null,fields:null};return(0,o.default)(t,(function(t){if("Variable"===t.kind)n.type=e[t.name];else if("ListValue"===t.kind){var r=(0,i.getNullableType)(n.type);n.type=r instanceof i.GraphQLList?r.ofType:null}else if("ObjectValue"===t.kind){var o=(0,i.getNamedType)(n.type);n.fields=o instanceof i.GraphQLInputObjectType?o.getFields():null}else if("ObjectField"===t.kind){var a=t.name&&n.fields?n.fields[t.name]:null;n.type=a&&a.type}})),n}(l,t.state);if("Document"===s||"Variable"===s&&0===u){var f=Object.keys(l);return(0,a.default)(e,t,f.map((function(e){return{text:'"'.concat(e,'": '),type:l[e]}})))}if(("ObjectValue"===s||"ObjectField"===s&&0===u)&&c.fields){var d=Object.keys(c.fields).map((function(e){return c.fields[e]}));return(0,a.default)(e,t,d.map((function(e){return{text:'"'.concat(e.name,'": '),type:e.type,description:e.description}})))}if("StringValue"===s||"NumberValue"===s||"BooleanValue"===s||"NullValue"===s||"ListValue"===s&&1===u||"ObjectField"===s&&2===u||"Variable"===s&&2===u){var h=(0,i.getNamedType)(c.type);if(h instanceof i.GraphQLInputObjectType)return(0,a.default)(e,t,[{text:"{"}]);if(h instanceof i.GraphQLEnumType){var p=h.getValues(),v=Object.keys(p).map((function(e){return p[e]}));return(0,a.default)(e,t,v.map((function(e){return{text:'"'.concat(e.name,'"'),type:h,description:e.description}})))}if(h===i.GraphQLBoolean)return(0,a.default)(e,t,[{text:"true",type:i.GraphQLBoolean,description:"Not false."},{text:"false",type:i.GraphQLBoolean,description:"Not true."}])}}(n,s,t);return u&&u.list&&u.list.length>0&&(u.from=r.default.Pos(u.from.line,u.from.column),u.to=r.default.Pos(u.to.line,u.to.column),r.default.signal(e,"hasCompletion",e,u,s)),u}))},function(e,t,n){"use strict";function r(e,t){var n=e.filter(t);return 0===n.length?e:n}function i(e){return e.toLowerCase().replace(/\W/g,"")}function o(e,t){var n=function(e,t){var n,r,i=[],o=e.length,a=t.length;for(n=0;n<=o;n++)i[n]=[n];for(r=1;r<=a;r++)i[0][r]=r;for(n=1;n<=o;n++)for(r=1;r<=a;r++){var s=e[n-1]===t[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+s),n>1&&r>1&&e[n-1]===t[r-2]&&e[n-2]===t[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+s))}return i[o][a]}(t,e);return e.length>t.length&&(n-=e.length-t.length-1,n+=0===e.indexOf(t)?0:.5),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=function(e,t){if(!t)return r(e,(function(e){return!e.isDeprecated}));return r(r(e.map((function(e){return{proximity:o(i(e.text),t),entry:e}})),(function(e){return e.proximity<=2})),(function(e){return!e.entry.isDeprecated})).sort((function(e,t){return(e.entry.isDeprecated?1:0)-(t.entry.isDeprecated?1:0)||e.proximity-t.proximity||e.entry.text.length-t.entry.text.length})).map((function(e){return e.entry}))}(n,i(t.string));if(!a)return;var s=null!==t.type&&/"|\w/.test(t.string[0])?t.start:t.end;return{list:a,from:{line:e.line,column:s},to:{line:e.line,column:t.end}}}},function(e,t,n){"use strict";var r=n(120),i=s(n(21)),o=n(30),a=s(n(246));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return{message:n,severity:"error",type:"validation",from:e.posFromIndex(t.start),to:e.posFromIndex(t.end)}}function l(e,t){return Array.prototype.concat.apply([],e.map(t))}i.default.registerHelper("lint","graphql-variables",(function(e,t,n){if(!e)return[];var i;try{i=(0,a.default)(e)}catch(c){if(c.stack)throw c;return[u(n,c,c.message)]}var s=t.variableToType;return s?function(e,t,n){var i=[];return n.members.forEach((function(n){var a=n.key.value,s=t[a];s?function e(t,n){if(t instanceof o.GraphQLNonNull)return"Null"===n.kind?[[n,'Type "'.concat(t,'" is non-nullable and cannot be null.')]]:e(t.ofType,n);if("Null"===n.kind)return[];if(t instanceof o.GraphQLList){var r=t.ofType;return"Array"===n.kind?l(n.values,(function(t){return e(r,t)})):e(r,n)}if(t instanceof o.GraphQLInputObjectType){if("Object"!==n.kind)return[[n,'Type "'.concat(t,'" must be an Object.')]];var i=Object.create(null),a=l(n.members,(function(n){var r=n.key.value;i[r]=!0;var o=t.getFields()[r];if(!o)return[[n.key,'Type "'.concat(t,'" does not have a field "').concat(r,'".')]];var a=o?o.type:void 0;return e(a,n.value)}));return Object.keys(t.getFields()).forEach((function(e){i[e]||t.getFields()[e].type instanceof o.GraphQLNonNull&&a.push([n,'Object of type "'.concat(t,'" is missing required field "').concat(e,'".')])})),a}if("Boolean"===t.name&&"Boolean"!==n.kind||"String"===t.name&&"String"!==n.kind||"ID"===t.name&&"Number"!==n.kind&&"String"!==n.kind||"Float"===t.name&&"Number"!==n.kind||"Int"===t.name&&("Number"!==n.kind||(0|n.value)!==n.value))return[[n,'Expected value of type "'.concat(t,'".')]];if((t instanceof o.GraphQLEnumType||t instanceof o.GraphQLScalarType)&&("String"!==n.kind&&"Number"!==n.kind&&"Boolean"!==n.kind&&"Null"!==n.kind||(null===(s=t.parseValue(n.value))||void 0===s||s!==s)))return[[n,'Expected value of type "'.concat(t,'".')]];var s;return[]}(s,n.value).forEach((function(t){var n=r(t,2),o=n[0],a=n[1];i.push(u(e,o,a))})):i.push(u(e,n.key,'Variable "$'.concat(a,'" does not appear in any GraphQL query.')))})),i}(n,s,i):[]}))},function(e,t,n){"use strict";var r,i,o,a,s,u,l;function c(){var e=o,t=[];if(p("{"),!m("}")){do{t.push(f())}while(m(","));p("}")}return{kind:"Object",start:e,end:s,members:t}}function f(){var e=o,t="String"===l?h():null;p("String"),p(":");var n=d();return{kind:"Member",start:e,end:s,key:t,value:n}}function d(){switch(l){case"[":return function(){var e=o,t=[];if(p("["),!m("]")){do{t.push(d())}while(m(","));p("]")}return{kind:"Array",start:e,end:s,values:t}}();case"{":return c();case"String":case"Number":case"Boolean":case"Null":var e=h();return y(),e}return p("Value")}function h(){return{kind:l,start:o,end:a,value:JSON.parse(r.slice(o,a))}}function p(e){if(l!==e){var t;if("EOF"===l)t="[end of file]";else if(a-o>1)t="`"+r.slice(o,a)+"`";else{var n=r.slice(o).match(/^.+?\b/);t="`"+(n?n[0]:r[o])+"`"}throw v("Expected ".concat(e," but found ").concat(t,"."))}y()}function v(e){return{message:e,start:o,end:a}}function m(e){if(l===e)return y(),!0}function g(){a<i&&(a++,u=a===i?0:r.charCodeAt(a))}function y(){for(s=a;9===u||10===u||13===u||32===u;)g();if(0!==u){switch(o=a,u){case 34:return l="String",function(){g();for(;34!==u&&u>31;)if(92===u)switch(g(),u){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:g();break;case 117:g(),b(),b(),b(),b();break;default:throw v("Bad character escape sequence.")}else{if(a===i)throw v("Unterminated string.");g()}if(34===u)return void g();throw v("Unterminated string.")}();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l="Number",function(){45===u&&g();48===u?g():_();46===u&&(g(),_());69!==u&&101!==u||(g(),43!==u&&45!==u||g(),_())}();case 102:if("false"!==r.slice(o,o+5))break;return a+=4,g(),void(l="Boolean");case 110:if("null"!==r.slice(o,o+4))break;return a+=3,g(),void(l="Null");case 116:if("true"!==r.slice(o,o+4))break;return a+=3,g(),void(l="Boolean")}l=r[o],g()}else l="EOF"}function b(){if(u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102)return g();throw v("Expected hexadecimal digit.")}function _(){if(u<48||u>57)throw v("Expected decimal digit.");do{g()}while(u>=48&&u<=57)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){r=e,i=e.length,o=a=s=-1,g(),y();var t=c();return p("EOF"),t}},function(e,t,n){"use strict";var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(6);function a(e,t){var n=e.levels;return(n&&0!==n.length?n[n.length-1]-(this.electricInput.test(t)?1:0):e.indentLevel)*this.config.indentUnit}i.default.defineMode("graphql-variables",(function(e){var t=(0,o.onlineParser)({eatWhitespace:function(e){return e.eatSpace()},lexRules:s,parseRules:u,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:t.startState,token:t.token,indent:a,electricInput:/^\s*[}\]]/,fold:"brace",closeBrackets:{pairs:'[]{}""',explode:"[]{}"}}}));var s={Punctuation:/^\[|]|\{|\}|:|,/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/,Keyword:/^true|false|null/},u={Document:[(0,o.p)("{"),(0,o.list)("Variable",(0,o.opt)((0,o.p)(","))),(0,o.p)("}")],Variable:[l("variable"),(0,o.p)(":"),"Value"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue"}return null;case"Keyword":switch(e.value){case"true":case"false":return"BooleanValue";case"null":return"NullValue"}return null}},NumberValue:[(0,o.t)("Number","number")],StringValue:[(0,o.t)("String","string")],BooleanValue:[(0,o.t)("Keyword","builtin")],NullValue:[(0,o.t)("Keyword","keyword")],ListValue:[(0,o.p)("["),(0,o.list)("Value",(0,o.opt)((0,o.p)(","))),(0,o.p)("]")],ObjectValue:[(0,o.p)("{"),(0,o.list)("ObjectField",(0,o.opt)((0,o.p)(","))),(0,o.p)("}")],ObjectField:[l("attribute"),(0,o.p)(":"),"Value"]};function l(e){return{style:e,match:function(e){return"String"===e.kind},update:function(e,t){e.name=t.value.slice(1,-1)}}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(43),a=n.n(o),s=(n(76),n(62)),u=n.n(s),l=n(28),c=n(7),f=new function e(){var t=this;Object(l.a)(this,e),this.modalIsOpen=!1,this.loginIsOpen=!1,this.registerIsOpen=!1,this.saveQueryIsOpen=!1,this.shareQueryIsOpen=!1,this.editDialogIsOpen=!1,this.confirmationIsOpen=!1,this.forgotPasswordIsOpen=!1,this.changePasswordIsOpen=!1,this.toggleModal=function(){t.modalIsOpen=!t.modalIsOpen},this.toggleLogin=function(e){e&&e.preventDefault(),t.loginIsOpen=!t.loginIsOpen},this.toggleRegister=function(){t.registerIsOpen=!t.registerIsOpen},this.toggleSaveQuery=function(){t.saveQueryIsOpen=!t.saveQueryIsOpen},this.toggleShareQuery=function(){t.shareQueryIsOpen=!t.shareQueryIsOpen},this.toggleEditDialog=function(){t.editDialogIsOpen=!t.editDialogIsOpen},this.toggleConfirmation=function(){t.confirmationIsOpen=!t.confirmationIsOpen},this.toggleForgotPassword=function(){t.forgotPasswordIsOpen=!t.forgotPasswordIsOpen},this.toggleChangePassword=function(){t.changePasswordIsOpen=!t.changePasswordIsOpen},Object(c.f)(this,{modalIsOpen:c.g,loginIsOpen:c.g,registerIsOpen:c.g,saveQueryIsOpen:c.g,shareQueryIsOpen:c.g,confirmationIsOpen:c.g,changePasswordIsOpen:c.g,forgotPasswordIsOpen:c.g,toggleModal:c.b,toggleLogin:c.b,toggleRegister:c.b,toggleSaveQuery:c.b,toggleShareQuery:c.b,toggleConfirmation:c.b,toggleForgotPassword:c.b,toggleChangePassword:c.b})};if(!r.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!c.f)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function d(e){e()}var h=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},p=[];function v(e){return Object(c.e)(e)}var m,g=1e4,y=new Set;function b(){void 0===m&&(m=setTimeout(_,1e4))}function _(){m=void 0;var e=Date.now();y.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,y.delete(t))})),y.size>0&&b()}var w=!1;function x(){return w}function O(e){return"observer"+e}function k(e,t){if(void 0===t&&(t="observed"),x())return e();var n,o=function(){var e=h(Object(r.useState)(0),2)[1];return Object(r.useCallback)((function(){e((function(e){return e+1}))}),p)}(),a=i.a.useRef(null);if(!a.current){var s=function(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+g}}(new c.a(O(t),(function(){s.mounted?o():s.changedBeforeMount=!0})));a.current=s,n=a,y.add(n),b()}var u,l,f=a.current.reaction;if(i.a.useDebugValue(f,v),i.a.useEffect((function(){var e;return e=a,y.delete(e),a.current?(a.current.mounted=!0,a.current.changedBeforeMount&&(a.current.changedBeforeMount=!1,o())):(a.current={reaction:new c.a(O(t),(function(){o()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},o()),function(){a.current.reaction.dispose(),a.current=null}}),[]),f.track((function(){try{u=e()}catch(t){l=t}})),l)throw l;return u}var E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function S(e,t){if(x())return e;var n,i,o,a=E({forwardRef:!1},t),s=e.displayName||e.name,u=function(t,n){return k((function(){return e(t,n)}),s)};return u.displayName=s,n=a.forwardRef?Object(r.memo)(Object(r.forwardRef)(u)):Object(r.memo)(u),i=e,o=n,Object.keys(i).forEach((function(e){T[e]||Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})),n.displayName=s,n}var T={$$typeof:!0,render:!0,compare:!0,type:!0};var C;(C=o.unstable_batchedUpdates)||(C=d),Object(c.d)({reactionScheduler:C});var D=n(8),A=n.n(D);function j(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){j(o,r,i,a,s,"next",e)}function s(e){j(o,r,i,a,s,"throw",e)}a(void 0)}))}}var M=n(11),I=n(23),P=n.n(I);P.a.defaults.withCredentials=!0,P.a.defaults.credentials="include";var L=function(e,t){return P.a.post("/api/signup",{email:e,password:t})},F=function(e,t){return P.a.post("/api/login",{email:e,password:t})},R=function(e){return P.a.get("/api/getquery/".concat(e))},B=function(e){return P.a.post("/api/deletequery",{id:e})},z=n(26),U=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},H=function(e){return parseInt(window.getComputedStyle(e).height.replace(/px$/,""))},V=function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0,i=n.length;r<i;++r){var o=n[r];if(!(o in e))return;e=e[o]}return e};var W=function(e){var t=e.active,n=Object(r.useState)(""),o=Object(M.a)(n,2),a=o[0],s=o[1],u=Object(r.useState)(""),l=Object(M.a)(u,2),c=l[0],d=l[1],h=Object(z.useToasts)().addToast,p=f.toggleLogin,v=f.toggleModal,m=f.toggleRegister,g=function(){var e=N(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!c||!U(a)){e.next=15;break}return e.prev=2,e.next=5,L(a,c);case 5:n=e.sent,r=n.data,h(r,{appearance:"success"}),m(),v(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),h(e.t0.response.data,{appearance:"error"});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("form",{className:"modal__form "+(!t&&"modal__form_hide")},i.a.createElement("p",{className:"p-modal"},"Email"),i.a.createElement("input",{type:"text",className:"query__save",value:a,onChange:function(e){return s(e.target.value)}}),i.a.createElement("p",{className:"p-modal"},"Password"),i.a.createElement("input",{type:"password",className:"query__save",value:c,onChange:function(e){return d(e.target.value)}}),i.a.createElement("button",{className:"button button_filled",onClick:g},"Sign Up"),i.a.createElement("i",{className:"handler handler__back fas fa-chevron-left",onClick:function(){m(),p()}}),i.a.createElement("i",{className:"handler handler__close fas fa-times",onClick:function(){v(),m()}}))},q=n(19);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=n(33),K=function(){function e(){var t=this;Object(l.a)(this,e),this.currentVariables="",this.showGallery=!0,this.queryJustSaved=!1,this.currentQuery={query:"",variables:"{}",config:{},endpoint_url:"https://graphql.bitquery.io",id:null},this.query=[{query:"",variables:"{}",config:{},endpoint_url:"https://graphql.bitquery.io",id:null}],this.setQuery=function(e,n){t.query.push({id:n||null}),t.query[t.query.length-1].id&&!("saved"in e)&&(t.query[t.query.length-1].saved=!0),t.query[t.query.length-1]=Y(Y({},t.query[t.query.length-1]),e),t.query[t.query.length-1].config&&"string"===typeof t.query[t.query.length-1].config&&(t.query[t.query.length-1].config=JSON.parse(t.query[t.query.length-1].config)),X.addNewTab(e.name)},this.updateQuery=function(e,n,r){e.query&&(t.query[n].query=e.query),e.variables&&(t.query[n].variables=e.variables),e.config&&(t.query[n].config=e.config),e.widget_id&&(t.query[n].widget_id=e.widget_id),e.displayed_data&&(t.query[n].displayed_data=e.displayed_data),e.account_id&&(t.query[n].account_id=e.account_id),e.endpoint_url&&(t.query[n].endpoint_url=e.endpoint_url),(e.url||null===e.url)&&(t.query[n].url=e.url),e.name&&(t.query[n].name=e.name||t.query[n].name,X.renameCurrentTab(e.name)),e.description&&(t.query[n].description=e.description||t.query[n].description),t.query[n].id=r||null===r?r:t.query[n].id,t.query[n].saved=!1,t.setCurrentQuery(n)},this.removeQuery=function(e){1!==t.query.length?t.query.splice(e,1):t.query.splice(e,1,{query:"",id:null}),X.removeTab(e)},this.toggleGallery=function(){t.showGallery=!t.showGallery},this.setCurrentQuery=function(e){t.currentQuery=Y({},t.query[e]),document.title=t.currentQuery.name||"New Query"},this.setCurrentVariables=function(e){t.currentVariables=e},this.saveToggle=function(){t.queryJustSaved=!t.queryJustSaved},this.saveQuery=function(){var e=N(A.a.mark((function e(n){var r,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.post("/api/addquery",{params:n});case 3:return r=e.sent,i=r.data,o=X.tabs.map((function(e){return e.id})).indexOf(X.currentTab),t.updateQuery(n,o,i.id),console.log(i),t.queryJustSaved=!t.queryJustSaved,t.query[o].saved=!0,t.setCurrentQuery(o),e.abrupt("return",i);case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0.response),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),this.logQuery=function(){var e=N(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.post("/api/addquerylog",{params:t});case 3:n=e.sent,r=n.data,console.log(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Object(c.f)(this,{currentVariables:c.g,queryJustSaved:c.g,currentQuery:c.g,showGallery:c.g,query:c.g,queryParams:c.c,queryNumber:c.c,setCurrentVariables:c.b,setCurrentQuery:c.b,toggleGallery:c.b,updateQuery:c.b,removeQuery:c.b,saveToggle:c.b,saveQuery:c.b,setQuery:c.b})}return Object(Q.a)(e,[{key:"queryNumber",get:function(){return this.query.map((function(e){return e.id})).indexOf(this.currentQuery.id)}},{key:"queryParams",get:function(){return{id:this.currentQuery.id,account_id:J.user&&J.user.id||null,query:this.currentQuery.query,arguments:this.currentQuery.variables,config:this.currentQuery.config,widget_id:this.currentQuery.widget_id,displayed_data:this.currentQuery.displayed_data,name:this.currentQuery.name&&this.currentQuery.name,description:this.currentQuery.description&&this.currentQuery.description,url:this.currentQuery.url&&this.currentQuery.url,endpoint_url:this.currentQuery.endpoint_url&&this.currentQuery.endpoint_url}}}]),e}(),X=new(function(){function e(){var t=this;Object(l.a)(this,e),this.id=0,this.tabs=[{name:"New Query",id:this.id}],this.currentTab=0,this.incID=function(){t.id=t.id+1},this.switchTab=function(e){t.currentTab=e;var n=t.tabs.map((function(e){return e.id})).indexOf(t.currentTab);$.setCurrentQuery(n)},this.renameCurrentTab=function(e){var n=t.tabs.map((function(e){return e.id})).indexOf(t.currentTab);t.tabs[n].name=e},this.addNewTab=function(e){t.incID(),t.tabs.push({name:e,id:t.id}),t.switchTab(t.id)},this.removeTab=function(e){1!==t.tabs.length?t.tabs.splice(e,1):console.log("xvatit"),0===t.tabs.length?t.addNewTab("New Query"):t.tabs.length===e?t.switchTab(t.tabs[e-1].id):t.switchTab(t.tabs[e].id)},Object(c.f)(this,{tabs:c.g,id:c.g,currentTab:c.g,index:c.c,switchTab:c.b,incID:c.b,removeTab:c.b,addNewTab:c.b,renameCurrentTab:c.b})}return Object(Q.a)(e,[{key:"index",get:function(){return this.tabs.map((function(e){return e.id})).indexOf(this.currentTab)}}]),e}()),J=new function e(){var t=this;Object(l.a)(this,e),this.user=null,this.setUser=function(e){t.user=e},this.getUser=N(A.a.mark((function e(){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/api/user");case 3:n=e.sent,r=n.data,t.setUser(r.user[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),Object(c.f)(this,{user:c.g,getUser:c.b,setUser:c.b})},$=new K;var Z=function(e){var t=e.active,n=Object(r.useState)(""),o=Object(M.a)(n,2),a=o[0],s=o[1],u=Object(r.useState)(""),l=Object(M.a)(u,2),c=l[0],d=l[1],h=Object(r.useState)(!1),p=Object(M.a)(h,2),v=p[0],m=p[1],g=J.getUser,y=f.toggleRegister,b=f.toggleLogin,_=f.toggleModal,w=f.toggleForgotPassword,x=Object(z.useToasts)().addToast,O=function(){var e=N(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!U(a)||!c){e.next=18;break}return e.prev=2,e.next=5,F(a,c);case 5:n=e.sent,r=n.data,console.log(r),x(r,{appearance:"success"}),g(),b(),_(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),x(e.t0.response.data,{appearance:"error"}),"A"===e.t0.response.data[0]&&m(!0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=N(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.post("/api/resendactivation",{email:a});case 3:n=e.sent,r=n.data,x(r,{appearance:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x(e.t0.response.data,{appearance:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("form",{onSubmit:function(e){return O(e)},className:"modal__form "+(!t&&"modal__form_hide")},i.a.createElement("p",{className:"p-modal"},"Email"),i.a.createElement("input",{type:"text",className:"query__save",value:a,onChange:function(e){return s(e.target.value)}}),i.a.createElement("p",{className:"p-modal"},"Password"),i.a.createElement("input",{type:"password",className:"query__save",value:c,onChange:function(e){return d(e.target.value)}}),i.a.createElement("button",{className:"button button_filled",onClick:O},"Login"),i.a.createElement("i",{className:"handler handler__close fas fa-times",onClick:function(){_(),b()}}),v&&i.a.createElement("a",{href:"# ",onClick:k},"Check Your email or resend activation link"),i.a.createElement("div",{className:"flex modal__form__options"},i.a.createElement("a",{href:"# ",onClick:function(){b(),w()}},"Forgot password?"),i.a.createElement("a",{href:"# ",onClick:function(){b(),y()}},"Do not have account? Sign Up")))};var ee=function(e){var t=e.active,n=Object(z.useToasts)().addToast,o=Object(r.useState)(""),a=Object(M.a)(o,2),s=a[0],u=a[1],l=Object(r.useState)(""),c=Object(M.a)(l,2),d=c[0],h=c[1],p=$.saveQuery,v=$.queryParams,m=f.toggleSaveQuery,g=f.toggleModal,y=X.renameCurrentTab,b=function(){var e=N(A.a.mark((function e(t){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=v,i=null,!s){e.next=14;break}return r.name=s,d&&(r.description=d),e.next=8,p(r);case 8:400!==(i=e.sent).status?(y(s),n(i.msg,{appearance:"success"})):n(i.data.msg,{appearance:"error"}),g(),m(),e.next=15;break;case 14:n("Name is required",{appearance:"error"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("form",{onSubmit:b,className:"modal__form "+(!t&&"modal__form_hide")},i.a.createElement("p",{className:"p-modal"},"Query name (required)"),i.a.createElement("input",{type:"text",className:"query__save",value:s,onChange:function(e){return u(e.target.value)}}),i.a.createElement("p",{className:"p-modal"},"Description (optional)"),i.a.createElement("textarea",{className:"query__save",rows:"4",value:d,onChange:function(e){return h(e.target.value)}}),i.a.createElement("button",{type:"submit",className:"button button_filled"},"Save"),i.a.createElement("i",{className:"handler handler__close fas fa-times",onClick:function(){g(),m()}}))};var te=function(e){var t=e.active,n=Object(r.useState)(""),o=Object(M.a)(n,2),a=o[0],s=o[1],u=f.toggleLogin,l=f.toggleModal,c=f.toggleForgotPassword,d=Object(z.useToasts)().addToast,h=function(){var e=N(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!U(a)){e.next=13;break}return e.prev=2,e.next=5,P.a.post("/api/forgot",{email:a});case 5:n=e.sent,r=n.data,d(r,{appearance:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),d(e.t0.response.data,{appearance:"error"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("form",{onSubmit:h,className:"modal__form "+(!t&&"modal__form_hide")},i.a.createElement("h2",null,"Forgot password"),i.a.createElement("p",null,"Enter your email below and reset password instruction will be sent "),i.a.createElement("p",{className:"p-modal"},"Email"),i.a.createElement("input",{type:"text",className:"query__save",value:a,onChange:function(e){return s(e.target.value)}}),i.a.createElement("i",{className:"handler handler__back fas fa-chevron-left",onClick:function(){c(),u()}}),i.a.createElement("i",{className:"handler handler__close fas fa-times",onClick:function(){c(),l()}}),i.a.createElement("button",{className:"button button_filled",type:"submit"},"GO"))};var ne=function(e){var t=e.active,n=f.toggleChangePassword,o=f.toggleModal,a=Object(z.useToasts)().addToast,s=Object(r.useState)(""),u=Object(M.a)(s,2),l=u[0],c=u[1],d=Object(r.useState)(""),h=Object(M.a)(d,2),p=h[0],v=h[1],m=Object(r.useState)(""),g=Object(M.a)(m,2),y=g[0],b=g[1],_=function(){var e=N(A.a.mark((function e(t){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p!==y||!l||!p){e.next=17;break}return e.prev=2,e.next=5,P.a.post("/api/changepassword",{oldPwd:l,newPwd:p});case 5:r=e.sent,i=r.data,o(),n(),a(i,{appearance:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a(e.t0.response.data,{appearance:"error"});case 15:e.next=18;break;case 17:a(p!==y?"Passwords do not match!":"Fill all fields",{appearance:"error"});case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"reset__password"},i.a.createElement("form",{onSubmit:_,className:"modal__form "+(!t&&"modal__form_hide")},i.a.createElement("h2",null,"Here you can change password"),i.a.createElement("p",{className:"p-modal"},"Old Password"),i.a.createElement("input",{type:"password",className:"query__save",value:l,onChange:function(e){return c(e.target.value)}}),i.a.createElement("p",{className:"p-modal"},"New Password"),i.a.createElement("input",{type:"password",className:"query__save",value:p,onChange:function(e){return v(e.target.value)}}),i.a.createElement("p",{className:"p-modal"},"Confirm Password"),i.a.createElement("input",{type:"password",className:"query__save",value:y,onChange:function(e){return b(e.target.value)}}),i.a.createElement("i",{className:"handler handler__close fas fa-times",onClick:function(){n(),o()}}),i.a.createElement("button",{className:"button button_filled",type:"submit"},"Apply")))},re=n(24),ie=n(13),oe=n.n(ie),ae=n(25);function se(e){return"/"===e.charAt(0)}function ue(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var le=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&se(e),a=t&&se(t),s=o||a;if(e&&se(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var l=0,c=i.length;c>=0;c--){var f=i[c];"."===f?ue(i,c):".."===f?(ue(i,c),l++):l&&(ue(i,c),l--)}if(!s)for(;l--;l)i.unshift("..");!s||""===i[0]||i[0]&&se(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};var ce=function(e,t){if(!e)throw new Error("Invariant failed")};function fe(e){return"/"===e.charAt(0)?e:"/"+e}function de(e){return"/"===e.charAt(0)?e.substr(1):e}function he(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function pe(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function ve(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function me(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=Object(ae.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=le(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function ge(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var ye=!("undefined"===typeof window||!window.document||!window.document.createElement);function be(e,t){t(window.confirm(e))}function _e(){try{return window.history.state||{}}catch(e){return{}}}function we(e){void 0===e&&(e={}),ye||ce(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?be:s,l=i.keyLength,c=void 0===l?6:l,f=e.basename?pe(fe(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return f&&(o=he(o,f)),me(o,r,n)}function h(){return Math.random().toString(36).substr(2,c)}var p=ge();function v(e){Object(ae.a)(T,e),T.length=t.length,p.notifyListeners(T.location,T.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(d(e.state))}function g(){b(d(_e()))}var y=!1;function b(e){if(y)y=!1,v();else{p.confirmTransitionTo(e,"POP",u,(function(t){t?v({action:"POP",location:e}):function(e){var t=T.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,O(i))}(e)}))}}var _=d(_e()),w=[_.key];function x(e){return f+ve(e)}function O(e){t.go(e)}var k=0;function E(e){1===(k+=e)&&1===e?(window.addEventListener("popstate",m),r&&window.addEventListener("hashchange",g)):0===k&&(window.removeEventListener("popstate",m),r&&window.removeEventListener("hashchange",g))}var S=!1;var T={length:t.length,action:"POP",location:_,createHref:x,push:function(e,r){var i=me(e,r,h(),T.location);p.confirmTransitionTo(i,"PUSH",u,(function(e){if(e){var r=x(i),o=i.key,s=i.state;if(n)if(t.pushState({key:o,state:s},null,r),a)window.location.href=r;else{var u=w.indexOf(T.location.key),l=w.slice(0,u+1);l.push(i.key),w=l,v({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=me(e,r,h(),T.location);p.confirmTransitionTo(i,"REPLACE",u,(function(e){if(e){var r=x(i),o=i.key,s=i.state;if(n)if(t.replaceState({key:o,state:s},null,r),a)window.location.replace(r);else{var u=w.indexOf(T.location.key);-1!==u&&(w[u]=i.key),v({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:O,goBack:function(){O(-1)},goForward:function(){O(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(e){var t=p.appendListener(e);return E(1),function(){E(-1),t()}}};return T}var xe={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+de(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:de,decodePath:fe},slash:{encodePath:fe,decodePath:fe}};function Oe(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function ke(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Ee(e){window.location.replace(Oe(window.location.href)+"#"+e)}function Se(e){void 0===e&&(e={}),ye||ce(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?be:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?pe(fe(e.basename)):"",u=xe[a],l=u.encodePath,c=u.decodePath;function f(){var e=c(ke());return s&&(e=he(e,s)),me(e)}var d=ge();function h(e){Object(ae.a)(E,e),E.length=t.length,d.notifyListeners(E.location,E.action)}var p=!1,v=null;function m(){var e,t,n=ke(),r=l(n);if(n!==r)Ee(r);else{var o=f(),a=E.location;if(!p&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===ve(o))return;v=null,function(e){if(p)p=!1,h();else{d.confirmTransitionTo(e,"POP",i,(function(t){t?h({action:"POP",location:e}):function(e){var t=E.location,n=_.lastIndexOf(ve(t));-1===n&&(n=0);var r=_.lastIndexOf(ve(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,w(i))}(e)}))}}(o)}}var g=ke(),y=l(g);g!==y&&Ee(y);var b=f(),_=[ve(b)];function w(e){t.go(e)}var x=0;function O(e){1===(x+=e)&&1===e?window.addEventListener("hashchange",m):0===x&&window.removeEventListener("hashchange",m)}var k=!1;var E={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=Oe(window.location.href)),n+"#"+l(s+ve(e))},push:function(e,t){var n=me(e,void 0,void 0,E.location);d.confirmTransitionTo(n,"PUSH",i,(function(e){if(e){var t=ve(n),r=l(s+t);if(ke()!==r){v=t,function(e){window.location.hash=e}(r);var i=_.lastIndexOf(ve(E.location)),o=_.slice(0,i+1);o.push(t),_=o,h({action:"PUSH",location:n})}else h()}}))},replace:function(e,t){var n=me(e,void 0,void 0,E.location);d.confirmTransitionTo(n,"REPLACE",i,(function(e){if(e){var t=ve(n),r=l(s+t);ke()!==r&&(v=t,Ee(r));var i=_.indexOf(ve(E.location));-1!==i&&(_[i]=t),h({action:"REPLACE",location:n})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return k||(O(1),k=!0),function(){return k&&(k=!1,O(-1)),t()}},listen:function(e){var t=d.appendListener(e);return O(1),function(){O(-1),t()}}};return E}function Te(e,t,n){return Math.min(Math.max(e,t),n)}function Ce(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,l=ge();function c(e){Object(ae.a)(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,u)}var d=Te(a,0,i.length-1),h=i.map((function(e){return me(e,void 0,"string"===typeof e?f():e.key||f())})),p=ve;function v(e){var t=Te(m.index+e,0,m.entries.length-1),r=m.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?c({action:"POP",location:r,index:t}):c()}))}var m={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:p,push:function(e,t){var r=me(e,t,f(),m.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),c({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=me(e,t,f(),m.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(m.entries[m.index]=r,c({action:"REPLACE",location:r}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m}var De=n(84),Ae=n(85),je=n.n(Ae),Ne=(n(110),n(37)),Me=(n(138),function(e){var t=Object(De.a)();return t.displayName=e,t}("Router-History")),Ie=function(e){var t=Object(De.a)();return t.displayName=e,t}("Router"),Pe=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(re.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.a.createElement(Ie.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(Me.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);i.a.Component;i.a.Component;var Le={},Fe=0;function Re(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Le[n]||(Le[n]={});if(r[e])return r[e];var i=[],o={regexp:je()(e,i,t),keys:i};return Fe<1e4&&(r[e]=o,Fe++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],f=u.slice(1),d=e===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Be=function(e){function t(){return e.apply(this,arguments)||this}return Object(re.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(Ie.Consumer,null,(function(t){t||ce(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?Re(n.pathname,e.props):t.match,o=Object(ae.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,l=a.render;return Array.isArray(s)&&0===s.length&&(s=null),i.a.createElement(Ie.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:u?i.a.createElement(u,o):l?l(o):null:"function"===typeof s?s(o):null)}))},t}(i.a.Component);function ze(e){return"/"===e.charAt(0)?e:"/"+e}function Ue(e,t){if(!e)return t;var n=ze(e);return 0!==t.pathname.indexOf(n)?t:Object(ae.a)({},t,{pathname:t.pathname.substr(n.length)})}function He(e){return"string"===typeof e?e:ve(e)}function Ve(e){return function(){ce(!1)}}function We(){}i.a.Component;var qe=function(e){function t(){return e.apply(this,arguments)||this}return Object(re.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(Ie.Consumer,null,(function(t){t||ce(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,(function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?Re(o.pathname,Object(ae.a)({},e.props,{path:a})):t.match}})),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.a.Component);var Ge=i.a.useContext;function Ye(){return Ge(Me)}function Qe(e){var t=Ge(Ie).location,n=Ge(Ie).match;return e?Re(t.pathname,e):n}var Ke=n(73),Xe=n.n(Ke),Je="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),$e=new Uint8Array(16);function Ze(){if(!Je)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Je($e)}for(var et=[],tt=0;tt<256;++tt)et[tt]=(tt+256).toString(16).substr(1);var nt=function(e,t){var n=t||0,r=et;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var rt=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Ze)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||nt(i)};function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var ht={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},pt=function(e,t){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)};var vt=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),mt(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},mt=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},gt={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:at({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var yt=function(e,t,n){var r=t.respectEffect,i=void 0!==r&&r,o=t.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,l=n.target.getAttribute("data-for")||null,c=n.target;if(!this.isCustomEvent(c)||a){var f=null==s&&null==l||l===s;if(null!=u&&(!i||"float"===this.getEffect(c))&&f){var d=function(e){var t={};for(var n in e)"function"===typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);d.currentTarget=c,e(d)}}},bt=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},_t=function(){return document.getElementsByTagName("body")[0]};function wt(e,t,n,r,i,o,a){for(var s=xt(n),u=s.width,l=s.height,c=xt(t),f=c.width,d=c.height,h=Ot(e,t,o),p=h.mouseX,v=h.mouseY,m=kt(o,f,d,u,l),g=Et(a),y=g.extraOffsetX,b=g.extraOffsetY,_=window.innerWidth,w=window.innerHeight,x=St(n),O=x.parentTop,k=x.parentLeft,E=function(e){var t=m[e].l;return p+t+y},S=function(e){var t=m[e].t;return v+t+b},T=function(e){return function(e){var t=m[e].r;return p+t+y}(e)>_},C=function(e){return function(e){var t=m[e].b;return v+t+b}(e)>w},D=function(e){return function(e){return E(e)<0}(e)||T(e)||function(e){return S(e)<0}(e)||C(e)},A=function(e){return!D(e)},j=["top","bottom","left","right"],N=[],M=0;M<4;M++){var I=j[M];A(I)&&N.push(I)}var P,L=!1,F=i!==r;return A(i)&&F?(L=!0,P=i):N.length>0&&D(i)&&D(r)&&(L=!0,P=N[0]),L?{isNewState:!0,newState:{place:P}}:{isNewState:!1,position:{left:parseInt(E(r)-k,10),top:parseInt(S(r)-O,10)}}}var xt=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},Ot=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=xt(t),s=a.width,u=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},kt=function(e,t,n,r,i){var o,a,s,u;return"float"===e?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},a={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},Et=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},St=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function Tt(e,t,n,r){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return r&&"false"!==r&&o.test(e)?e.split(o).map((function(e,t){return i.a.createElement("span",{key:t,className:"multi-line"},e)})):e}function Ct(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function Dt(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}');var At,jt,Nt,Mt={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function It(e,t,n,r){return function(e,t){var n=t.text,r=t.background,i=t.border,o=t.arrow;return"\n  \t.".concat(e," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(o,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(o,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(o,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(o,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,o=e.border,a=e.arrow?e.arrow:e.background,s=function(e){return Mt[e]?lt({},Mt[e]):void 0}(t);r&&(s.text=r);i&&(s.background=i);n&&(s.border=o||("light"===t?"black":"white"));a&&(s.arrow=a);return s}(t,n,r))}var Pt,Lt=function(e){e.hide=function(e){pt(ht.HIDE,{target:e})},e.rebuild=function(){pt(ht.REBUILD)},e.show=function(e){pt(ht.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(At=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(ht.HIDE,this.globalHide),window.addEventListener(ht.HIDE,this.globalHide,!1),window.removeEventListener(ht.REBUILD,this.globalRebuild),window.addEventListener(ht.REBUILD,this.globalRebuild,!1),window.removeEventListener(ht.SHOW,this.globalShow),window.addEventListener(ht.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(ht.HIDE,this.globalHide),window.removeEventListener(ht.REBUILD,this.globalRebuild),window.removeEventListener(ht.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(At=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=e.getAttribute("data-event")||r,a=e.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){e.removeEventListener(n,gt.get(e,n));var r=vt.bind(t,a);gt.set(e,n,r),e.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),o=r||e.getAttribute("data-event-off");e.removeEventListener(i,gt.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(At=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(At=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(At=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=_t(),u=bt(e,"data-event"),l=bt(e,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(l[i]=!0),o.split(" ").forEach((function(e){return u[e]=!0})),a.split(" ").forEach((function(e){return l[e]=!0})),this.unbindBodyListener(s);var c=this.bodyModeListeners={};for(var f in null==r&&(c.mouseover=yt.bind(this,this.showTooltip,{}),c.mousemove=yt.bind(this,this.updateTooltip,{respectEffect:!0}),c.mouseout=yt.bind(this,this.hideTooltip,{})),u)c[f]=yt.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;vt.call(t,n,e)}),{customEvent:!0});for(var d in l)c[d]=yt.bind(this,this.hideTooltip,{customEvent:!0});for(var h in c)s.addEventListener(h,c[h])},e.prototype.unbindBodyListener=function(e){e=e||_t();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((Nt=jt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=dt(this,ct(t).call(this,e))).state={uuid:e.uuid||"t"+rt(),place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Ct(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),ot(t,null,[{key:"propTypes",get:function(){return{uuid:oe.a.string,children:oe.a.any,place:oe.a.string,type:oe.a.string,effect:oe.a.string,offset:oe.a.object,multiline:oe.a.bool,border:oe.a.bool,textColor:oe.a.string,backgroundColor:oe.a.string,borderColor:oe.a.string,arrowColor:oe.a.string,insecure:oe.a.bool,class:oe.a.string,className:oe.a.string,id:oe.a.string,html:oe.a.bool,delayHide:oe.a.number,delayUpdate:oe.a.number,delayShow:oe.a.number,event:oe.a.string,eventOff:oe.a.string,isCapture:oe.a.bool,globalEventOff:oe.a.string,getContent:oe.a.any,afterShow:oe.a.func,afterHide:oe.a.func,overridePosition:oe.a.func,disable:oe.a.bool,scrollHide:oe.a.bool,resizeHide:oe.a.bool,wrapper:oe.a.string,bodyMode:oe.a.bool,possibleCustomEvents:oe.a.string,possibleCustomEventsOff:oe.a.string,clickable:oe.a.bool}}}]),ot(t,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t)}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return Dt(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(Dt(e.shadowRoot.querySelectorAll(t)))})),n.concat(Dt(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),Tt(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide);var l=e.currentTarget.getAttribute("data-place")||this.props.place||"top",c=s?"solid":this.getEffect(e.currentTarget),f=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},d=wt(e,e.currentTarget,this.tooltipRef,l,l,c,f);d.position&&this.props.overridePosition&&(d.position=this.props.overridePosition(d.position,e,e.currentTarget,this.tooltipRef,l,l,c,f));var h=d.isNewState?d.newState.place:l;this.clearTimer();var p=e.currentTarget,v=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,m=this,g=function(){m.setState({originTooltip:o,isMultiline:a,desiredPlace:l,place:h,type:p.getAttribute("data-type")||m.props.type||"dark",customColors:{text:p.getAttribute("data-text-color")||m.props.textColor||null,background:p.getAttribute("data-background-color")||m.props.backgroundColor||null,border:p.getAttribute("data-border-color")||m.props.borderColor||null,arrow:p.getAttribute("data-arrow-color")||m.props.arrowColor||null},effect:c,offset:f,html:(p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):m.props.html)||!1,delayShow:p.getAttribute("data-delay-show")||m.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||m.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||m.props.delayUpdate||0,border:(p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):m.props.border)||!1,extraClass:p.getAttribute("data-class")||m.props.class||m.props.className||"",disable:(p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):m.props.disable)||!1,currentTarget:p},(function(){u&&m.addScrollListener(m.state.currentTarget),m.updateTooltip(e),i&&Array.isArray(i)&&(m.intervalUpdateContent=setInterval((function(){if(m.mount){var e=m.props.getContent,t=Tt(o,"",e[0](),a),n=m.isEmptyTip(t);m.setState({isEmptyTip:n}),m.updatePosition()}}),i[1]))}))};v?this.delayReshow=setTimeout(g,v):g()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(r,10),u=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!i){var l=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:u,show:!0},(function(){t.updatePosition(),n&&o&&o(e)}))}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(l,s):l()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll,a=o?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!i){if(t){var l=this.getTargetArray(this.props.id),c=l.some((function(t){return t===e.currentTarget}));if(!c||!this.state.show)return}var f=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&s&&s(e)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(f,parseInt(a,10)):f()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,i=t.place,o=t.desiredPlace,a=t.effect,s=t.offset,u=this.tooltipRef,l=wt(n,r,u,i,o,a,s);if(l.position&&this.props.overridePosition&&(l.position=this.props.overridePosition(l.position,n,r,u,i,o,a,s)),l.isNewState)return this.setState(l.newState,(function(){e.updatePosition()}));u.style.left=l.position.left+"px",u.style.top=l.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,o=n.html,a=n.ariaProps,s=n.disable,u=this.getTooltipContent(),l=this.isEmptyTip(u),c=It(this.state.uuid,this.state.customColors,this.state.type,this.state.border),f="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),d=this.props.wrapper;t.supportedWrappers.indexOf(d)<0&&(d=t.defaultProps.wrapper);var h=[f,r].filter(Boolean).join(" ");if(o){var p="".concat(u,"\n<style>").concat(c,"</style>");return i.a.createElement(d,st({className:"".concat(h),id:this.props.id,ref:function(t){return e.tooltipRef=t}},a,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:p}}))}return i.a.createElement(d,st({className:"".concat(h),id:this.props.id},a,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),i.a.createElement("style",{dangerouslySetInnerHTML:{__html:c}}),u)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=Ct(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?lt({},t,{ariaProps:r}):null}}]),t}(i.a.Component),at(jt,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),at(jt,"supportedWrappers",["div","span"]),at(jt,"displayName","ReactTooltip"),(Pt=At=Nt).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},At=void(Pt.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||At))||At)||At)||At)||At)||At)||At,Ft={overlay:{position:"fixed",zIndex:10,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"auto",display:"flex",flexDirection:"column",maxHeight:"500px",minWidth:"250px",width:"30%",backgroundColor:"#f0f0f0",backgroundClip:"padding-box",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:"0.3rem",outline:0}};u.a.setAppElement("#graphql_ide");var Rt=S((function(e){var t=e.message,n=e.action,r=f.confirmationIsOpen,o=f.toggleConfirmation;return i.a.createElement(u.a,{isOpen:r,onRequestClose:o,style:Ft,contentLabel:"Confirmation Modal"},i.a.createElement("p",null,t),i.a.createElement("div",{className:"buttons flex",style:{justifyContent:"space-around",width:"100%"}},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:o},"Cancel"),i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){n(),o()}},"Confirm")))}));var Bt=function(e){var t=e.active,n=Object(z.useToasts)().addToast,o=Qe().url,a=$.saveQuery,s=$.queryParams,u=$.currentQuery,l=$.saveToggle,c=$.query,d=$.removeQuery,h=Object(r.useState)(u.name||""),p=Object(M.a)(h,2),v=p[0],m=p[1],g=Object(r.useState)(u.description),y=Object(M.a)(g,2),b=y[0],_=y[1],w=Object(r.useState)(!!u.url),x=Object(M.a)(w,2),O=x[0],k=x[1],E=Object(r.useState)(u.url),S=Object(M.a)(E,2),T=S[0],C=S[1],D=f.toggleEditDialog,j=f.toggleModal,I=f.toggleConfirmation,P=X.renameCurrentTab,L=Object(r.useRef)(""),F=function(){j(),D()};Object(r.useEffect)((function(){O&&!u.url&&C(function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r=0;r<10;r++)e+=t.charAt(Math.floor(Math.random()*n));return e}())}),[O]);var R=function(){var e=N(A.a.mark((function e(t){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=s,i=null,!v){e.next=13;break}return r.name=v,O?r.url||(r.url=T):(r.url=null,C("")),b&&(r.description=b),e.next=9,a(r);case 9:400!==(i=e.sent).status?(P(v),i.msg&&n(i.msg,{appearance:"success"}),F()):n(i.data.msg,{appearance:"error"}),e.next=14;break;case 13:n("Name is required",{appearance:"error"});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=N(A.a.mark((function e(){var t,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(u.id);case 2:t=e.sent,l(),F(),r=c.map((function(e){return e.id})).indexOf(u.id),d(r),n(t.data,{appearance:"success"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"modal__form "+(!t&&"modal__form_hide")},i.a.createElement(Rt,{message:"Are you sure you want to delete this query?",action:U}),i.a.createElement("p",null,"Query attributes and access control"),i.a.createElement("div",{className:"access-control__wrapper"},i.a.createElement("p",{style:{marginBottom:".5rem"}},"Query name (required)"),i.a.createElement("input",{type:"text",className:"query__save",style:{marginBottom:"1rem"},ref:L,value:"New Query"===v?"":v,onChange:function(e){return m(e.target.value)}}),i.a.createElement("p",{style:{marginBottom:".5rem"}},"Description (optional)"),i.a.createElement("textarea",{className:"query__save",rows:"4",style:{marginBottom:"1rem"},value:b,onChange:function(e){return _(e.target.value)}}),i.a.createElement("i",{className:"handler handler__close fas fa-times",onClick:F}),i.a.createElement("div",{className:"access-control flex",style:{justifyContent:"space-evenly",width:"100%"}},i.a.createElement("div",{className:"access-control__title"},"Access control:"),i.a.createElement("div",{className:"access-control__controls",style:{marginBottom:"1rem"}},i.a.createElement("div",{className:"form-check"},i.a.createElement("input",{className:"form-check-input",type:"radio",id:"exampleRadios1",checked:!O,onChange:function(){return k((function(e){return!e}))}}),i.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios1"},"Private")),i.a.createElement("div",{className:"form-check"},i.a.createElement("input",{className:"form-check-input",type:"radio",id:"exampleRadios2",checked:O,onChange:function(){return k((function(e){return!e}))}}),i.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios2"},"Shared to everyone")))),O&&i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("input",{type:"text",className:"form-control query-link",value:T&&"".concat(window.location.protocol,"://").concat(window.location.host).concat(o,"/").concat(T)||"",readOnly:!0,placeholder:"Query link","aria-label":"Query link","aria-describedby":"basic-addon2"}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-secondary","data-tip":"Get query link","data-for":"getlinkbutton",type:"button",onClick:function(){Xe()("".concat(window.location.protocol,"//").concat(window.location.host).concat(o,"/").concat(T)),n("Link Copied to clipboard",{appearance:"success"})}},i.a.createElement("i",{className:"fas fa-link"})),i.a.createElement(Lt,{id:"getlinkbutton",place:"top"}))),i.a.createElement("div",{className:"buttons flex",style:{justifyContent:"space-between",width:"100%"}},i.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:F},"Cancel"),i.a.createElement("span",{"data-tip":v?"":"Name is required","data-for":"savequerybutton"},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:R,disabled:!L.current.value&&!v||"New Query"===v},"Save")),i.a.createElement(Lt,{id:"savequerybutton",place:"top"}),i.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:I,disabled:!u.id},"Delete"))))},zt={overlay:{position:"fixed",zIndex:10,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"auto",display:"flex",flexDirection:"column",maxHeight:"500px",minWidth:"450px",width:"40%",backgroundColor:"#f0f0f0",backgroundClip:"padding-box",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:"0.3rem",outline:0}};u.a.setAppElement("#graphql_ide");var Ut=S((function(){var e=f.registerIsOpen,t=f.loginIsOpen,n=f.modalIsOpen,r=f.saveQueryIsOpen,o=f.editDialogIsOpen,a=f.forgotPasswordIsOpen,s=f.changePasswordIsOpen,l=f.toggleModal,c=f.toggleLogin,d=f.toggleRegister,h=f.toggleSaveQuery,p=f.toggleEditDialog,v=f.toggleForgotPassword,m=f.toggleChangePassword;return i.a.createElement(u.a,{isOpen:n,onRequestClose:function(){l(),t&&c(),e&&d(),r&&h(),o&&p(),a&&v(),s&&m()},style:zt,contentLabel:"Example Modal"},i.a.createElement(Z,{active:t}),i.a.createElement(Bt,{active:o}),i.a.createElement(W,{active:e}),i.a.createElement(ee,{active:r}),i.a.createElement(ne,{active:s}),i.a.createElement(te,{active:a}))}));function Ht(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vt(e){return(Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e){var t=function(e,t){if("object"!==Vt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vt(t)?t:String(t)}var qt=S((function(){var e=Ye(),t=Qe().url,n=X.tabs,o=X.currentTab,a=X.switchTab,s=X.index,u=Qe("".concat(t,"/:queryurl")),l=$.setQuery,c=$.removeQuery,f=$.query,d=$.updateQuery,h=$.currentQuery,p=Object(r.useState)(!1),v=Object(M.a)(p,2),m=v[0],g=v[1],y=Object(r.useState)({}),b=Object(M.a)(y,2),_=b[0],w=b[1];Object(r.useEffect)((function(){function e(){return(e=N(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=6;break}return e.next=3,R(u.params.queryurl);case 3:t=e.sent,"object"===typeof(n=t.data)&&-1===f.map((function(e){return e.id})).indexOf(n.id)&&(l(Y(Y({},n),{},{variables:n.arguments}),n.id),w(Object(q.a)({},o,n.name)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=Object(r.useRef)();Object(r.useEffect)((function(){i.current=t}),[t]),Object(r.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return i.current(e)};return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}),[e,n])}("keyup",Object(r.useCallback)((function(e){var t=e.key;"Enter"===t?(g((function(e){return e?!e:e})),O()):"Escape"===t&&(g((function(e){return e?!e:e})),w(Object(q.a)({},o,n[s].name)))}),[g,o,_])),Object(r.useEffect)((function(){g(!1),w(function(e){var t=X.tabs,n=X.currentTab;if(1===t.length&&0===t[0].id)return!1;if(!(n in e)){var r=t.map((function(e){return e.id})).indexOf(n);return Y(Y({},e),{},Object(q.a)({},n,t[r].name))}for(var i in e)if(-1===t.map((function(e){return e.id})).indexOf(+i)){e[i];return Ht(e,[i].map(Wt))}}(Y({},_))||Object(q.a)({},o,"New Query"))}),[n.length]);var x=function(e){return w(Y(Y({},_),{},Object(q.a)({},o,e.target.value)))},O=function(){m&&_[o]&&_[o].length&&_[o]!==f[s].name&&d({name:_[o]},s)},k=function(){g((function(e){return!e})),O()};return i.a.createElement("div",{className:"tabs"},i.a.createElement("ul",{className:"nav nav-tabs"},n.map((function(r,s){return i.a.createElement("li",{className:"nav-item",key:s,onClick:function(){return o!==r.id&&function(r){a(r);var i=n.map((function(e){return e.id})).indexOf(r);f[i].url?e.push("".concat(t,"/").concat(f[i].url)):e.push("".concat(t)),g(!1)}(r.id)}},i.a.createElement("a",{href:"# ",className:"nav-link "+(o===r.id&&"active"),key:s},m&&o===r.id?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"text",value:_?_[o]:"New Query",className:"tabs__edit",onChange:x}),i.a.createElement("i",{className:"fas fa-check",onClick:k})):i.a.createElement("span",{className:o===r.id?"cursor-edit":void 0,onClick:function(){return o===r.id&&k()}},"saved"in f[s]&&f[s].saved||!("saved"in f[s])?r.name:"*".concat(r.name)),i.a.createElement("i",{className:"tab__close fas fa-times",onClick:function(e){return function(e,t){t.stopPropagation(),n.length>1&&c(e)}(s,e)}})))})),i.a.createElement("li",{className:"nav-item",onClick:function(){l({query:"",variables:"{}",name:"New Query",endpoint_url:h.endpoint_url,config:"{}"})}},i.a.createElement("a",{href:"# ",className:"nav-link"},i.a.createElement("i",{className:"tab__add fas fa-plus"})))))})),Gt=S((function(){var e=J.getUser,t=J.user,n=J.setUser,o=f.toggleModal,a=f.toggleLogin,s=f.toggleChangePassword,u=function(){var e=N(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/api/logout").catch((function(e){return console.log(e)}));case 2:n(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){e()}),[]),t?i.a.createElement("div",{className:"dropdown flex profile__menu"},i.a.createElement("p",{className:"profile__email"}," ",t.email," "),i.a.createElement("i",{className:"profile__image far fa-user-circle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},i.a.createElement("a",{className:"dropdown-item",href:"# ",onClick:function(){o(),s()}},"Change password"),i.a.createElement("a",{className:"dropdown-item",href:"# ",onClick:u},"Logout"))):i.a.createElement("div",{className:"flex profile__menu",onClick:function(){o(),a()}},i.a.createElement("a",{className:"profile__email",href:"# "},"Login"),i.a.createElement("i",{className:"profile__image far fa-user-circle"}))}));var Yt=function(){return i.a.createElement("div",{className:"controlpanel"},i.a.createElement(qt,null),i.a.createElement(Gt,null))};var Qt=function(){var e=Object(r.useState)(""),t=Object(M.a)(e,2),n=t[0],o=t[1],a=Object(r.useState)(""),s=Object(M.a)(a,2),u=s[0],l=s[1],c=function(){var e=Ge(Ie).match;return e?e.params:{}}().token,f=Object(z.useToasts)().addToast,d=function(){var e=N(A.a.mark((function e(t){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n!==u){e.next=16;break}return e.prev=2,e.next=5,P.a.post("/api/reset",{password:n,token:c});case 5:r=e.sent,i=r.data,f(i,{appearance:"success"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data),f(e.t0.response.data,{appearance:"error"});case 14:e.next=17;break;case 16:f("Passwords do not match!",{appearance:"error"});case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("form",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onSubmit:d,className:"reset__form"},i.a.createElement("h1",null,"Confirm new password"),i.a.createElement("p",{className:"p-modal"},"New password"),i.a.createElement("input",{type:"password",className:"query__save",value:n,onChange:function(e){return o(e.target.value)}}),i.a.createElement("p",{className:"p-modal"},"Confirm password"),i.a.createElement("input",{type:"password",className:"query__save",value:u,onChange:function(e){return l(e.target.value)}}),i.a.createElement("button",{className:"button button_filled",type:"submit"},"Change password"))};var Kt=function(){var e=Qe();return i.a.createElement("div",{className:"reset"},i.a.createElement(qe,null,i.a.createElement(Be,{path:"".concat(e.path,"/:token")},i.a.createElement(Qt,null))))},Xt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=we(t.props),t}return Object(re.a)(t,e),t.prototype.render=function(){return i.a.createElement(Pe,{history:this.history,children:this.props.children})},t}(i.a.Component);i.a.Component;var Jt=function(e,t){return"function"===typeof e?e(t):e},$t=function(e,t){return"string"===typeof e?me(e,null,null,t):e},Zt=function(e){return e},en=i.a.forwardRef;"undefined"===typeof en&&(en=Zt);var tn=en((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,a=Object(Ne.a)(e,["innerRef","navigate","onClick"]),s=a.target,u=Object(ae.a)({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=Zt!==en&&t||n,i.a.createElement("a",u)}));var nn=en((function(e,t){var n=e.component,r=void 0===n?tn:n,o=e.replace,a=e.to,s=e.innerRef,u=Object(Ne.a)(e,["component","replace","to","innerRef"]);return i.a.createElement(Ie.Consumer,null,(function(e){e||ce(!1);var n=e.history,l=$t(Jt(a,e.location),e.location),c=l?n.createHref(l):"",f=Object(ae.a)({},u,{href:c,navigate:function(){var t=Jt(a,e.location);(o?n.replace:n.push)(t)}});return Zt!==en?f.ref=t||s:f.innerRef=s,i.a.createElement(r,f)}))})),rn=function(e){return e},on=i.a.forwardRef;"undefined"===typeof on&&(on=rn);on((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,u=e.className,l=e.exact,c=e.isActive,f=e.location,d=e.sensitive,h=e.strict,p=e.style,v=e.to,m=e.innerRef,g=Object(Ne.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.a.createElement(Ie.Consumer,null,(function(e){e||ce(!1);var n=f||e.location,o=$t(Jt(v,n),n),y=o.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=b?Re(n.pathname,{path:b,exact:l,sensitive:d,strict:h}):null,w=!!(c?c(_,n):_),x=w?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,O=w?Object(ae.a)({},p,{},s):p,k=Object(ae.a)({"aria-current":w&&r||null,className:x,style:O,to:o},g);return rn!==on?k.ref=t||m:k.innerRef=m,i.a.createElement(nn,k)}))}));var an=S((function(e){var t=e.query,n=e.isSaved,r=Object(z.useToasts)().addToast,o=Qe().url,a=$.saveQuery,s=$.queryParams,u=$.setQuery,l=f.toggleModal,c=f.toggleEditDialog,d=J.user;return i.a.createElement("div",{className:"gallery__query__controls"},i.a.createElement(Lt,{place:"top",border:!1,borderColor:"#fff",backgroundColor:"#5f5f5f",arrowColor:"transparent"}),i.a.createElement("span",{"data-tip":t.url?"Get query link":"Query is private"},i.a.createElement("button",{type:"button",className:"gallery__query__control btn btn-sm btn-outline-primary",onClick:function(){return e=t.url,Xe()("".concat(window.location.protocol,"//").concat(window.location.host).concat(o,"/").concat(e)),void r("Link copied to clipboard",{appearance:"success"});var e},disabled:!t.url&&!0},i.a.createElement("i",{className:"fas fa-link"}))),i.a.createElement("span",{"data-tip":d?n?"Query is not modified yet":"Save query":"You must login or register to save query"},i.a.createElement("button",{type:"button",className:"gallery__query__control btn btn-sm btn-outline-primary",onClick:function(){return function(e){d?null===e.id?(c(),l()):e.saved||a(s):r("Login required to save or share queries",{appearance:"error"})}(t)},disabled:!!n},i.a.createElement("i",{className:"far fa-save"}))),i.a.createElement("span",{"data-tip":d?"Fork query":"You must login or register to fork query"},i.a.createElement("button",{type:"button",className:"gallery__query__control btn btn-sm btn-outline-primary",onClick:function(e){return function(e,t){u(Y(Y({},e),{},{variables:e.arguments,name:"Copy of ".concat(e.name),saved:!1,url:null})),t.stopPropagation()}(t,e)},disabled:!d},i.a.createElement("i",{className:"fas fa-code-branch"}))),i.a.createElement("span",{"data-tip":d&&t.account_id!==d.id?"Query does not belongs to you":d?"Edit query attributes and sharing":"You must login or register to interact with query"},i.a.createElement("button",{type:"button",className:"gallery__query__control btn btn-sm btn-outline-primary",onClick:function(){l(),c()},disabled:d&&t.account_id!==d.id||!d&&!0},i.a.createElement("i",{className:"fas fa-pencil-alt"}))))})),sn=S((function(e){var t=e.queries,n=Qe().url,o=Ye(),a=Object(r.useState)(!1),s=Object(M.a)(a,2),u=s[0],l=s[1],c=X.switchTab,f=X.tabs,d=$.setQuery,h=$.query,p=$.currentQuery,v=function(e){if(-1===h.map((function(e){return e.id})).indexOf(e.id))d(Y(Y({},e),{},{variables:e.arguments}),e.id);else{var t=h.map((function(e){return e.id})).indexOf(e.id);c(f[t].id)}},m=function(e){return e?"".concat(n,"/").concat(e):"".concat(n)},g=function(e){for(var t=0;t<h.length;t++)if(!("saved"in h[t]&&h[t].saved||!("saved"in h[t]))&&e.id===h[t].id)return!1;return!0};return"queries"in t&&t.queries.map((function(e,t){return i.a.createElement("li",{className:"list-group-item",key:t,onMouseEnter:function(){return l(t)},onMouseLeave:function(){return l(-1)},onClick:function(){o.push(m(e.url)),v(e)}},i.a.createElement("div",{className:"gallery__query__wrapper flex"},i.a.createElement(nn,{to:m(e.url),onClick:function(){return v(e)}},g(e)?e.name:"*".concat(e.name))),(u===t||e.id===p.id)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"gallery__query__description"},e.description),i.a.createElement(an,{query:e,isSaved:g(e)})))}))})),un=S((function(){var e=Object(r.useState)([]),t=Object(M.a)(e,2),n=t[0],o=t[1],a=Object(r.useState)([]),s=Object(M.a)(a,2),u=s[0],l=s[1],c=Object(r.useState)(!0),f=Object(M.a)(c,2),d=f[0],h=f[1],p=$.showGallery,v=$.toggleGallery,m=$.queryJustSaved,g=J.user,y=Object(z.useToasts)().addToast;return Object(r.useEffect)((function(){(function(){var e=N(A.a.mark((function e(){var t,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/api/getqueries");case 3:t=e.sent,(r=t.data).queries.length!==n.length&&o({queries:r.queries}),r.msg&&y("Account activated!",{appearance:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[m]),Object(r.useEffect)((function(){g&&function(){var e=N(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/api/getmyqueries");case 3:t=e.sent,(n=t.data).length!==u.length&&l({queries:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[g,m]),i.a.createElement("div",{className:"gallery flex flex-col "+(p&&"active")},!p&&i.a.createElement("i",{className:"open fas fa-angle-double-right",onClick:v}),i.a.createElement("div",{className:"gallery__header flex flex-col"},!g&&i.a.createElement("p",{className:"gallery__header__title"},"Queries"),i.a.createElement("i",{className:"gallery__close fas fa-angle-double-left",onClick:v}),g&&i.a.createElement("ul",{className:"nav nav-tabs"},i.a.createElement("li",{className:"nav-item",onClick:function(){return h(!d)}},i.a.createElement("a",{className:"nav-link "+(!d&&"active"),href:"# "},"Private")),i.a.createElement("li",{className:"nav-item",onClick:function(){return h(!d)}},i.a.createElement("a",{className:"nav-link "+(d&&"active"),href:"# "},"Shared")))),i.a.createElement("ul",{className:"list-group"},g?d?i.a.createElement(sn,{queries:n}):i.a.createElement(sn,{queries:u}):i.a.createElement(sn,{queries:n})))})),ln=n(51),cn=n(139),fn=n(140),dn=(n(122),n(229),n(141)),hn=n.n(dn);function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function bn(e,t){return!t||"object"!==Vt(t)&&"function"!==typeof t?pn(e):t}function _n(e){return function(){var t,n=gn(e);if(yn()){var r=gn(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return bn(this,t)}}n(123),n(124);var wn=/^[a-zA-Z0-9_@(]$/,xn=function(e){mn(r,e);var t=_n(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).editor=null,n._node=null,n.cachedValue="",n.ignoreChangeEvent=!1,n.wrapperHeight=null,n.number=0,n.onDrag=function(e){if(n.editor&&n.state.mouseDown){var t=document.getElementsByClassName("editor__wrapper")[n.number];null===n.wrapperHeight&&(n.wrapperHeight=H(t)),n.state.start_h+e.y-n.state.start_y<=n.wrapperHeight-67&&n.editor.setSize(null,n.state.start_h+e.y-n.state.start_y+"px")}},n.onMouseDown=function(e){n.setState({start_x:e.clientX,start_y:e.clientY,start_h:H(n._node),mouseDown:!0})},n.onKeyUp=function(e,t){wn.test(t.key)&&n.editor&&n.editor.execCommand("autocomplete")},n._onEdit=function(){if(!n.ignoreChangeEvent&&n.editor&&(n.cachedValue=n.editor.getValue(),n.props.onEdit))return n.props.onEdit({query:n.cachedValue})},n.getEditor=function(){return n.editor},n.state={start_x:0,start_y:0,start_h:0,mouseDown:!1},n.onRelease=n.onRelease.bind(pn(n)),n.cachedValue=e.value||"",n.number=e.number,n}return Object(Q.a)(r,[{key:"onRelease",value:function(e){this.setState({mouseDown:!1})}},{key:"componentDidMount",value:function(){var e=n(21);n(125),n(230),n(82),n(126),n(127),n(128),n(232),n(70),n(129),n(71),n(130),n(131),n(233),n(237),n(238),n(240),n(242);var t=this.editor=e(this._node,{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,readOnly:!1,foldGutter:{minFoldSize:4},lint:{schema:this.props.schema},hintOptions:{schema:this.props.schema,closeOnUnfocus:!1,completeSingle:!1,container:this._node},info:{schema:this.props.schema},jump:{schema:this.props.schema},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]});t&&(window.addEventListener("mousemove",this.onDrag),document.body.addEventListener("mouseup",this.onRelease),t.on("change",this._onEdit),t.on("keyup",this.onKeyUp))}},{key:"componentDidUpdate",value:function(e){var t=this,r=n(21);this.ignoreChangeEvent=!0,this.props.schema!==e.schema&&this.editor&&(this.editor.options.lint.schema=this.props.schema,this.editor.options.hintOptions.schema=this.props.schema,this.editor.options.info.schema=this.props.schema,this.editor.options.jump.schema=this.props.schema,r.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&this.editor&&(this.cachedValue=this.props.value,this.editor.operation((function(){var e=t.editor.getCursor();t.editor.setValue(t.props.value),t.editor.setCursor(e)}))),this.ignoreChangeEvent=!1}},{key:"componentWillUnmount",value:function(){this.editor&&(this.editor.off("keyup",this.onKeyUp),this.editor.off("change",this._onEdit),window.removeEventListener("mousemove",this.onDrag),document.body.removeEventListener("mouseup",this.onRelease),this.editor=null)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"query-editor","aria-label":"Query Editor",ref:function(t){e._node=t}}),i.a.createElement("div",{className:"handle",onMouseDown:this.onMouseDown},"Query Variables"))}}]),r}(r.Component),On=/^[a-zA-Z0-9_@(]$/,kn=function(e){mn(r,e);var t=_n(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).editor=null,n._node=null,n.cachedValue="",n.ignoreChangeEvent=!1,n.onKeyUp=function(e,t){On.test(t.key)&&n.editor&&n.editor.execCommand("autocomplete")},n._onEdit=function(){if(!n.ignoreChangeEvent&&n.editor&&(n.cachedValue=n.editor.getValue(),n.props.onEdit))return n.props.onEdit({variables:n.cachedValue})},n.getEditor=function(){return n.editor},n.state={mouseDown:!1},n.cachedValue=e.value||"",n}return Object(Q.a)(r,[{key:"componentDidMount",value:function(){var e=n(21);n(125),n(82),n(126),n(128),n(127),n(130),n(70),n(129),n(71),n(131),n(243),n(245),n(247);var t=this.editor=e(this._node,{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql-variables",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,readOnly:!1,foldGutter:{minFoldSize:4},lint:{variableToType:this.props.variableToType},hintOptions:{variableToType:this.props.variableToType,closeOnUnfocus:!1,completeSingle:!1,container:this._node},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]});t&&(t.on("change",this._onEdit),t.on("keyup",this.onKeyUp),t.setSize(null,H(this._node)))}},{key:"componentDidUpdate",value:function(e){var t=this;this.CodeMirror=n(21),this.editor&&(this.ignoreChangeEvent=!0,this.props.variableToType!==e.variableToType&&(this.editor.options.lint.variableToType=this.props.variableToType,this.editor.options.hintOptions.variableToType=this.props.variableToType,this.CodeMirror.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.operation((function(){var e=t.editor.getCursor();t.editor.setCursor(e),t.editor.setValue(t.props.value)}))),this.ignoreChangeEvent=!1)}},{key:"componentWillUnmount",value:function(){this.editor&&(this.editor.off("change",this._onEdit),this.editor.off("keyup",this.onKeyUp),this.editor=null)}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"variable-editor",ref:function(t){e._node=t}})}}]),r}(r.Component),En=S((function(e){var t=e.schema,n=e.query,o=e.variables,a=e.variableToType,s=e.onEditQuery,u=e.onEditVariables,l=e.number,c=Object(r.useRef)(null),f=Object(r.useRef)(null),d=X.currentTab;return Object(r.useEffect)((function(){c.current.getEditor().refresh(),f.current.getEditor().refresh()}),[d]),i.a.createElement("div",{className:"editor__wrapper"},i.a.createElement(xn,{number:l,ref:c,onEdit:s,schema:t,value:n}),i.a.createElement(kn,{ref:f,onEdit:u,variableToType:a,value:o}))})),Sn=n(65),Tn=n(171),Cn=n(259),Dn=n(32),An=n(54);function jn(e){var t=e.el,n=e.dataSource,o=Object(r.useState)(""),a=Object(M.a)(o,2),s=a[0],u=a[1];return Object(r.useEffect)((function(){Object.keys(n).length&&(n.data?u(JSON.stringify(n.data,null,2)):u(JSON.stringify(n.error,null,2)),n.data&&n.error&&u("".concat(JSON.stringify(n.data,null,2),',\n"errors": ').concat(JSON.stringify(n.error,null,2))))}),[JSON.stringify(n)]),n?i.a.createElement("div",{className:"widget-display",id:t},i.a.createElement("pre",{style:{alignSelf:"flex-start",width:"100%",whiteSpace:"pre-wrap"}},s)):i.a.createElement("div",null)}var Nn=new(function(){function e(){Object(l.a)(this,e),this.id="json.widget",this.name="JSON",this.editor=function(){return i.a.createElement("div",{className:"widget"})},this.renderer=jn}return Object(Q.a)(e,[{key:"supportsModel",value:function(e){for(var t in e)return!t.includes(".")}}]),e}()),Mn=n(172),In=n.n(Mn),Pn=S((function(){var e=$.currentQuery,t=$.queryParams,n=$.saveQuery,r=$.updateQuery,o=$.queryNumber,a=J.user,s=f.toggleModal,u=f.toggleEditDialog,l=Object(z.useToasts)().addToast;return i.a.createElement("div",{className:"topBarWrap"},i.a.createElement("div",{className:"topBar"},i.a.createElement("div",{className:"topBar__logo"},i.a.createElement("img",{className:"topBar__logo__img",src:In.a})),i.a.createElement("button",{className:"topBar__button",onClick:function(){a?null===e.id?(u(),s()):e.saved||n(t):l("Login required to save or share queries",{appearance:"error"})},disabled:e.saved},"Save"),i.a.createElement("input",{className:"endpointURL",type:"text",value:e.endpoint_url,onChange:function(e){r({endpoint_url:e.target.value},o)}})))})),Ln=(n(248),S((function(e){var t=e.dataWidgets,n=e.dataIndexInModel,r=e.plugins,o=e.name,a=$.updateQuery,s=$.currentQuery,u=X.index;return i.a.createElement("li",{className:"nav-item dropdown"},i.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.widget_id?o:"Widgets"),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},t&&t.length&&(n||0===n)?t[n].map((function(e,t){return e?i.a.createElement("a",{className:"dropdown-item",onClick:function(){return a({widget_id:r[t]&&r[t].id},u)},href:"# ",key:t},r[t].name):null})):null))}))),Fn=S((function(e){var t=e.model,n=e.dataWidgets,o=e.setDataIndexInModel,a=e.dataSource,s=e.setDataSource,u=$.updateQuery,l=$.currentQuery,c=X.index,f=function(e,t){u({displayed_data:e},c),a.data&&s((function(t){return Y(Y({},t),{},{values:V(t.data,e)})}))};return Object(r.useEffect)((function(){var e=Object.keys(t).indexOf(l.displayed_data);-1!==e&&o(e)}),[l.displayed_data,JSON.stringify(t)]),i.a.createElement("li",{className:"nav-item dropdown"},i.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.displayed_data?l.displayed_data:"Displayed Data"),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},n&&n.length?n.map((function(e,n){return e.some((function(e){return e}))?i.a.createElement("a",{className:"dropdown-item",href:"# ",key:n,onClick:function(){return f(Object.keys(t)[n])}},Object.keys(t)[n]):null})):l.displayed_data?i.a.createElement("a",{className:"dropdown-item",href:"# ",onClick:function(){return f(l.displayed_data)}},l.displayed_data.split(".").slice(-1)):null))})),Rn=S((function(e){var t=e.model,n=e.name,o=e.plugins,a=e.setDataSource,s=e.dataSource,u=Object(r.useState)(),l=Object(M.a)(u,2),c=l[0],f=l[1],d=Object(r.useState)(0),h=Object(M.a)(d,2),p=h[0],v=h[1];return Object(r.useEffect)((function(){var e=[],n=null;Object.keys(t).forEach((function(r,i){o.forEach((function(o){n=!!o.supportsModel(Object(q.a)({},r,t[r])),e.length>i?e[i].push(n):e.push([n])}))})),f(e),console.log(e)}),[JSON.stringify(t)]),i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},i.a.createElement("a",{className:"navbar-brand",href:"# "},"Display"),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement(Fn,{model:t,dataWidgets:c,setDataIndexInModel:v,plugins:o,dataSource:s,setDataSource:a}))),i.a.createElement("a",{className:"navbar-brand",href:"# "},"Using"),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement(Ln,{name:n,dataWidgets:c,dataIndexInModel:p,plugins:o}))))})),Bn=S((function(e){var t=e.number,n=X.tabs,o=X.currentTab,a=X.index,s=(X.id,J.user),u=$.query,l=$.updateQuery,f=$.showGallery,d=$.currentQuery,h=Object(r.useState)(null),p=Object(M.a)(h,2),v=p[0],m=p[1],g=Object(r.useState)(""),y=Object(M.a)(g,2),b=y[0],_=y[1],w=Object(r.useState)(null),x=Object(M.a)(w,2),O=x[0],k=x[1],E=Object(r.useState)(""),S=Object(M.a)(E,2),T=S[0],C=S[1],D=Object(r.useState)({}),j=Object(M.a)(D,2),I=j[0],P=j[1],L=Object(r.useState)(""),F=Object(M.a)(L,2),R=F[0],B=F[1],z=function(e,t){var n=Object(r.useState)(e),i=Object(M.a)(n,2),o=i[0],a=i[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){return a(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),o}(u[a].endpoint_url,500),U=Object(r.useRef)(null),H=Object(r.useRef)(null),W=Object(r.useRef)(null);Object(r.useEffect)((function(){if(R&&B(""),T&&d.displayed_data){var e=function(e){e.includes(d.displayed_data)&&B((function(t){return Y(Y({},t),{},Object(q.a)({},e,T[e]))}))};for(var t in T)e(t)}}),[T,d.displayed_data]);var G=function(e){var t=new Sn.a(v),n={},r=[],i=0,o={enter:function(e){if(t.enter(e),"Field"===e.kind){if(e.alias?r.push(e.alias.value):r.push(t.getFieldDef().name),i){var n=r.filter((function(e){return e.split(".").length===i})),o=r.indexOf(n[n.length-1]),a=1!==i?o:0;r[r.length-1]=r[a]+"."+r[r.length-1]}return"["===t.getType().toString()[0]&&1===e.selectionSet.selections.length&&(r[r.length-1]="".concat(r[r.length-1],"[0]")),i++,Y(Y({},e),{},{typeInfo:t.getType()})}},leave:function(e){if("Field"===e.kind){var o=r.filter((function(e){return e.split(".").length===i})),a=r.indexOf(o[o.length-1]);i--,n[r[a]]=e}t.leave(e)}};try{Object(Dn.c)(Object(An.a)(e),Object(Sn.b)(t,o))}catch(a){}return n},Q=function(){var e=N(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z({query:u[a].query,variables:u[a].variables});case 2:e.sent.json().then((function(e){P({execute:Q,data:"data"in e?e.data:null,values:"data"in e?d.displayed_data?V(e.data,d.displayed_data):e.data:null,error:"errors"in e?e.errors:null,query:Object(c.i)(u[a].query),variables:Object(c.i)(u[a].variables)}),"data"in e||l({widget_id:"json.widget"},a)})),t=G(u[a].query),JSON.stringify(t)!==JSON.stringify(T)&&C(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=Object(r.useCallback)((function(e){if("query"in e){var t=hn()(v,e.query);if(t){var n=t.variableToType;JSON.stringify(n)!==JSON.stringify(O)&&null!==O&&k(n)}var r=G(e.query);JSON.stringify(r)!==JSON.stringify(T)&&C(r)}s&&u[a].account_id===s.id?l(e,a):l(Y(Y({},e),{},{url:null}),a,null)}),[s,v,T]);Object(r.useEffect)((function(){if(t===a&&v){var e=G(u[a].query);C(e)}}),[v]);var Z=function(e){return fetch(u[a].endpoint_url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})};Object(r.useEffect)((function(){if(t===a){!function(){var e=Object(Tn.a)();Z({query:e,operationName:"IntrospectionQuery"}).then((function(e){return e.json()})).then((function(e){if("string"!==typeof e&&"data"in e){var t=Object(Cn.a)(e.data);m(t)}})).catch((function(e){}))}()}}),[z]);var ee=Object(r.useMemo)((function(){return[Nn].concat(Object(ln.a)(cn.vegaPlugins),Object(ln.a)(fn.graphPlugins))}),[]),te=ee.map((function(e){return e.id})).indexOf(d.widget_id),ne=te>=0?ee[te]:ee[0];return i.a.createElement("div",{className:"graphiql__wrapper "+(o===n[t].id?"graphiql__wrapper_active":"")+(f?"":" graphiql__wrapper_wide"),key:t},i.a.createElement(Pn,null),i.a.createElement("div",{className:"over-wrapper",onMouseDown:function(e){if(0===e.target.className.indexOf("sizeChanger")){e.preventDefault();var t=function e(){H.current.removeEventListener("mousemove",n),H.current.removeEventListener("mouseup",e)},n=function(e){if(0===e.buttons)return t();var n=e.clientX-function(e){for(var t=0,n=e;n.offsetParent;)t+=n.offsetLeft,n=n.offsetParent;return t}(H.current),r=n/(H.current.clientWidth-n);U.current.setAttribute("style","flex: ".concat(r," 1 0%;"));var i=U.current.offsetWidth/H.current.offsetWidth;W.current.setAttribute("style","left: calc(".concat(100*i,"% - 25px);"))};H.current.addEventListener("mousemove",n),H.current.addEventListener("mouseup",t)}},ref:H},i.a.createElement("button",{className:"execute-button",ref:W,onClick:Q}),i.a.createElement("div",{className:"workspace__wrapper",ref:U},i.a.createElement(En,{schema:v,query:u[t].query,number:t,variables:u[t].variables,variableToType:O,onEditQuery:K,onEditVariables:K}),i.a.createElement(Rn,{model:T,dataSource:I,setDataSource:P,name:ne.name,setValue:_,plugins:ee}),d.displayed_data?i.a.createElement(ne.editor,{model:R,displayedData:Object(c.i)(u[a].displayed_data),config:Object(c.i)(u[a].config),setConfig:function(e){t===a&&JSON.stringify(d.config)!==JSON.stringify(e)&&l({config:e,widget_id:b},a)}}):i.a.createElement("div",{className:"widget"})),i.a.createElement("div",{className:"widget-display"},i.a.createElement("div",{className:"sizeChanger"}),i.a.createElement(ne.renderer,{dataSource:I,displayedData:Object(c.i)(d.displayed_data),config:Object(c.i)(u[a].config),el:o===n[t].id?"asd".concat(o):""}))))})),zn=S((function(){return X.tabs.map((function(e,t){return i.a.createElement(Bn,{number:t,key:e.id})}))}));var Un=function(){var e=Qe().path,t=$.query;return Object(r.useEffect)((function(){var e=function(e){for(var n=0;n<t.length;n++)"saved"in t[n]&&!t[n].saved&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[]),i.a.createElement("div",{className:"App"},i.a.createElement(qe,null,i.a.createElement(Be,{path:"".concat(e,"/reset")},i.a.createElement(Kt,null)),i.a.createElement(Be,{path:["/:queryurl","/"]},i.a.createElement(Ut,null),i.a.createElement(Yt,null),i.a.createElement("div",{className:"content flex"},i.a.createElement(un,null),i.a.createElement(zn,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(249);P.a.defaults.baseURL="https://graphql.bitquery.io",a.a.render(i.a.createElement(z.ToastProvider,{autoDismiss:!0},i.a.createElement(Xt,null,i.a.createElement(Be,{path:"".concat("/test")},i.a.createElement(Un,null)))),document.getElementById("graphql_ide")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(15),i=n(4),o=n(9),a=n(44),s=n(27),u=n(54),l=n(45),c=n(18),f=n(14),d=n(12),h=n(1),p=n(57);function v(e,t){Object(s.a)(e)&&Object(s.a)(e.__schema)||Object(o.a)(0,'Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: '.concat(Object(i.a)(e),"."));for(var n=e.__schema,v=Object(a.a)(n.types,(function(e){return e.name}),(function(e){return function(e){if(null!=e&&null!=e.name&&null!=e.kind)switch(e.kind){case d.TypeKind.SCALAR:return r=e,new h.g({name:r.name,description:r.description,specifiedByUrl:r.specifiedByUrl});case d.TypeKind.OBJECT:return n=e,new h.f({name:n.name,description:n.description,interfaces:function(){return T(n)},fields:function(){return C(n)}});case d.TypeKind.INTERFACE:return t=e,new h.c({name:t.name,description:t.description,interfaces:function(){return T(t)},fields:function(){return C(t)}});case d.TypeKind.UNION:return function(e){if(!e.possibleTypes){var t=Object(i.a)(e);throw new Error("Introspection result missing possibleTypes: ".concat(t,"."))}return new h.h({name:e.name,description:e.description,types:function(){return e.possibleTypes.map(E)}})}(e);case d.TypeKind.ENUM:return function(e){if(!e.enumValues){var t=Object(i.a)(e);throw new Error("Introspection result missing enumValues: ".concat(t,"."))}return new h.a({name:e.name,description:e.description,values:Object(a.a)(e.enumValues,(function(e){return e.name}),(function(e){return{description:e.description,deprecationReason:e.deprecationReason}}))})}(e);case d.TypeKind.INPUT_OBJECT:return function(e){if(!e.inputFields){var t=Object(i.a)(e);throw new Error("Introspection result missing inputFields: ".concat(t,"."))}return new h.b({name:e.name,description:e.description,fields:function(){return A(e.inputFields)}})}(e)}var t;var n;var r;var o=Object(i.a)(e);throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ".concat(o,"."))}(e)})),m=0,g=[].concat(f.g,d.introspectionTypes);m<g.length;m++){var y=g[m];v[y.name]&&(v[y.name]=y)}var b=n.queryType?E(n.queryType):null,_=n.mutationType?E(n.mutationType):null,w=n.subscriptionType?E(n.subscriptionType):null,x=n.directives?n.directives.map((function(e){if(!e.args){var t=Object(i.a)(e);throw new Error("Introspection result missing directive args: ".concat(t,"."))}if(!e.locations){var n=Object(i.a)(e);throw new Error("Introspection result missing directive locations: ".concat(n,"."))}return new c.c({name:e.name,description:e.description,isRepeatable:e.isRepeatable,locations:e.locations.slice(),args:A(e.args)})})):[];return new l.a({description:n.description,query:b,mutation:_,subscription:w,types:Object(r.a)(v),directives:x,assumeValid:null===t||void 0===t?void 0:t.assumeValid});function O(e){if(e.kind===d.TypeKind.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return Object(h.d)(O(t))}if(e.kind===d.TypeKind.NON_NULL){var n=e.ofType;if(!n)throw new Error("Decorated type deeper than introspection query.");var r=O(n);return Object(h.e)(Object(h.t)(r))}return k(e)}function k(e){var t=e.name;if(!t)throw new Error("Unknown type reference: ".concat(Object(i.a)(e),"."));var n=v[t];if(!n)throw new Error("Invalid or incomplete schema, unknown type: ".concat(t,". Ensure that a full introspection query is used in order to build a client schema."));return n}function E(e){return Object(h.u)(k(e))}function S(e){return Object(h.o)(k(e))}function T(e){if(null===e.interfaces&&e.kind===d.TypeKind.INTERFACE)return[];if(!e.interfaces){var t=Object(i.a)(e);throw new Error("Introspection result missing interfaces: ".concat(t,"."))}return e.interfaces.map(S)}function C(e){if(!e.fields)throw new Error("Introspection result missing fields: ".concat(Object(i.a)(e),"."));return Object(a.a)(e.fields,(function(e){return e.name}),D)}function D(e){var t=O(e.type);if(!Object(h.O)(t)){var n=Object(i.a)(t);throw new Error("Introspection must provide output type for fields, but received: ".concat(n,"."))}if(!e.args){var r=Object(i.a)(e);throw new Error("Introspection result missing field args: ".concat(r,"."))}return{description:e.description,deprecationReason:e.deprecationReason,type:t,args:A(e.args)}}function A(e){return Object(a.a)(e,(function(e){return e.name}),j)}function j(e){var t=O(e.type);if(!Object(h.G)(t)){var n=Object(i.a)(t);throw new Error("Introspection must provide input type for arguments, but received: ".concat(n,"."))}var r=null!=e.defaultValue?Object(p.a)(Object(u.c)(e.defaultValue),t):void 0;return{description:e.description,type:t,defaultValue:r}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(55),i=n(170);function o(e,t){return Object(r.c)(e,t,[i.a])}}]);
//# sourceMappingURL=main.js.map